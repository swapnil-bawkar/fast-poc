{"version":3,"sources":["webpack:///C:/Users/sopu1/workspace/my-workspace/node_modules/ag-grid-angular/__ivy_ngcc__/fesm2015/ag-grid-angular.js","webpack:///C:/Users/sopu1/workspace/my-workspace/node_modules/ag-grid-community/dist/ag-grid-community.cjs.js","webpack:///C:/Users/sopu1/workspace/my-workspace/node_modules/tslib/tslib.es6.js","webpack:///src/app/ag-grid/ag-grid.module.ts","webpack:///src/app/ag-grid/components/index.ts","webpack:///src/app/ag-grid/containers/grid-demo/grid-demo.component.ts","webpack:///src/app/ag-grid/containers/index.ts"],"names":["AgGridColumn_1","AgGridColumn","childColumns","length","first","colDef","createColDefFromGridColumn","hasChildColumns","getChildColDefs","filter","column","map","toColDef","from","Object","assign","ɵfac","AgGridColumn_Factory","t","ɵcmp","type","selectors","contentQueries","AgGridColumn_ContentQueries","rf","ctx","dirIndex","_t","inputs","children","sortingOrder","allowedAggFuncs","menuTabs","cellClassRules","icons","headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRendererParams","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","groupId","colId","sort","field","tooltipField","headerTooltip","cellClass","showRowGroup","aggFunc","cellRenderer","cellEditor","pinned","chartDataType","sortedAt","flex","width","minWidth","maxWidth","rowGroupIndex","pivotIndex","dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","cellRendererFramework","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltip","tooltipValueGetter","cellRendererSelector","cellEditorSelector","suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","rowGroup","pivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressSorting","suppressMovable","suppressFilter","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressResize","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","sortable","resizable","singleClickEdit","floatingFilter","decls","vars","template","AgGridColumn_Template","encapsulation","AngularFrameworkOverrides","_ngZone","action","timeout","runOutsideAngular","window","setTimeout","element","listener","useCapture","AngularFrameworkOverrides_Factory","ɵprov","token","factory","AngularFrameworkComponentWrapper","viewContainerRef","componentFactoryResolver","OriginalConstructor","that","DynamicAgNg2Component","params","_componentRef","changeDetectorRef","detectChanges","createComponent","name","wrapper","getFrameworkComponentInstance","args","componentRef","apply","callback","BaseGuiComponent","componentType","resolveComponentFactory","AngularFrameworkComponentWrapper_Factory","ɵAngularFrameworkComponentWrapper_BaseFactory","_params","_agAwareComponent","instance","_frameworkComponentInstance","_eGui","location","nativeElement","agInit","destroy","AgGridAngular","elementDef","angularFrameworkOverrides","frameworkComponentWrapper","_componentFactoryResolver","_initialised","_destroyed","_fullyReady","resolve","slaveGrids","undefined","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","components","frameworkComponents","rowStyle","context","autoGroupColumnDef","groupColumnDef","localeText","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","columnTypes","rowClassRules","detailGridOptions","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","reduxStore","statusBar","sideBar","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDeliminator","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","paginationStartPage","infiniteBlockSize","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","localeTextFunc","groupRowInnerRenderer","groupRowInnerRendererFramework","dateComponent","dateComponentFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getRowClassRules","traverseNode","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getNodeChildDetails","groupRowAggNodes","getRowNodeId","isFullWidthCell","fullWidthCellRenderer","fullWidthCellRendererFramework","doesDataFlower","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextCell","tabToNextCell","getDetailRowData","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","defaultGroupSortComparator","isRowMaster","isRowSelectable","postSort","processHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","processChartOptions","getChartToolbarItems","fillOperation","toolPanelSuppressRowGroups","toolPanelSuppressValues","toolPanelSuppressPivots","toolPanelSuppressPivotMode","toolPanelSuppressSideButtons","toolPanelSuppressColumnFilter","toolPanelSuppressColumnSelectAll","toolPanelSuppressColumnExpandAll","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableColResize","enableCellExpressions","enableSorting","enableServerSideSorting","enableFilter","enableServerSideFilter","angularCompileRows","angularCompileFilters","angularCompileHeaders","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressRow","groupSuppressBlankHeader","forPrint","suppressMenuHide","rowDeselection","suppressMultiSort","suppressLoadingOverlay","suppressNoRowsOverlay","skipHeaderOnAutoSize","suppressParentsInRowNodes","showToolPanel","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","suppressMenuFilterPanel","suppressMenuMainPanel","suppressMenuColumnPanel","rememberGroupStateWhenNewData","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressUseColIdForGroups","suppressCopyRowsToClipboard","copyHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","enableMultiRowDragging","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressTabbing","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","pivotTotals","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","contractColumnSelection","suppressEnterpriseResetOnNewColumns","enableOldSetFilterModel","suppressRowHoverHighlight","gridAutoHeight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","reactNext","suppressSetColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","rowGroupOpened","rowDataChanged","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","modelUpdated","pasteStart","pasteEnd","fillStart","fillEnd","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","rowValueChanged","cellFocused","rowSelected","selectionChanged","cellKeyDown","cellKeyPress","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","checkboxChanged","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","animationQueueEmpty","heightScaleChanged","paginationChanged","componentStateChanged","bodyHeightChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","columnHoverChanged","flashCells","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","popupToFront","columnRowGroupChangeRequest","columnPivotChangeRequest","columnValueChangeRequest","columnAggFuncChangeRequest","keyboardFocus","mouseFocus","_nativeElement","setViewContainerRef","setComponentFactoryResolver","checkForDeprecatedEvents","gridOptions","copyAttributesToGridOptions","gridParams","globalEventListener","bind","frameworkOverrides","providedBeanInstances","modules","columns","api","columnApi","resolveNow","changes","processOnChange","iterateObject","key","eventName","observers","checkEventDeprecation","eventType","event","emitter","then","result","emit","console","log","AgGridAngular_Factory","AgGridAngular_ContentQueries","outputs","features","AgGridAngular_Template","AgGridModule_1","AgGridModule","ngModule","providers","provide","useValue","multi","ɵmod","ɵinj","AgGridModule_Factory","imports","ngJitMode","declarations","exports","defineProperty","value","Color","r","g","b","a","Math","min","max","fromString","str","indexOf","fromHexString","hex","nameToHex","fromRgbaString","Error","values","match","hexRe","parseInt","shortHexRe","rgbRe","rgbaRe","fromArray","arr","fromHSB","h","s","alpha","rgb","HSBtoRGB","padHex","prototype","toHexString","round","toString","toRgbaString","fractionDigits","k","pow","push","join","toHSB","RGBtoHSB","S","H","NaN","delta","rc","gc","bc","B","isNaN","floor","f","p","q","derive","hueShift","saturationFactor","brightnessFactor","opacityFactor","hsb","rgba","brighter","darker","freeze","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","stringToArray","strData","delimiter","data","isNewline","char","insideQuotedField","_loop_1","row","position","previousChar","currentChar","nextChar","ensureDataExists","out_row_1","out_column_1","out_position_1","CsvUtils","__proto__","isSafari","isIE","isEdge","isChrome","isFirefox","isIOS","isBrowserIE","document","documentMode","isBrowserEdge","StyleMedia","isBrowserSafari","anyWindow","hasNotification","call","HTMLElement","safari","pushNotification","isBrowserChrome","win","chrome","webstore","runtime","test","navigator","userAgent","vendor","isBrowserFirefox","InstallTrigger","isIOSUserAgent","platform","maxTouchPoints","MSStream","getMaxDivHeight","body","res","testUpTo","toLowerCase","div","createElement","appendChild","test_1","style","height","clientHeight","removeChild","getScrollbarWidth","opacity","overflow","msOverflowStyle","offsetWidth","clientWidth","parentNode","hasOverflowScrolling","prefixes","getElementsByTagName","found","setAttribute","prefix","concat","computedStyle","getComputedStyle","overflowScrolling","_i","prefixes_1","getBodyWidth","innerHeight","innerWidth","documentElement","getBodyHeight","BrowserUtils","makeNull","exists","allowEmptyString","missing","missingOrEmpty","toStringOrNull","referenceCompare","left","right","jsonEquals","val1","val2","val1Json","JSON","stringify","val2Json","defaultComparator","valueA","valueB","accentedCompare","valueAMissing","valueBMissing","toNumber","doQuickCompare","localeCompare","e","find","collection","predicate","Array","isArray","objToArray","collectionAsArray","firstMatchingItem","i","item","object","Set","Map","values_1","forEach","keys","GenericUtils","reUnescapedHtml","HTML_ESCAPES","utf8_encode","stringFromCharCode","String","fromCharCode","ucs2decode","string","output","counter","extra","charCodeAt","checkScalarValue","codePoint","toUpperCase","createByte","shift","encodeCodePoint","symbol","codePoints","index","byteString","camelCaseToHyphen","replace","hyphenToCamelCase","capitalise","substr","escape","toEscape","chr","camelCaseToHumanText","camelCase","rex","words","split","word","substring","StringUtils","addCssClass","className","classList","add","cssClasses","removeCssClass","remove","newClassName","c","addOrRemoveCssClass","addOrRemove","radioCssClass","elementClass","otherElementClass","parent","parentElement","sibling","firstChild","nextSibling","containsClass","contains","onlyClass","startsWithClass","endsWithClass","lastIndexOf","setDisplayed","displayed","setVisible","visible","isElementChildOfClass","cls","maxNest","getElementSize","el","_a","paddingTop","paddingRight","paddingBottom","paddingLeft","marginTop","marginRight","marginBottom","marginLeft","boxSizing","parseFloat","getInnerHeight","size","getInnerWidth","getAbsoluteHeight","ceil","offsetHeight","getAbsoluteWidth","marginWidth","getScrollLeft","rtl","scrollLeft","abs","scrollWidth","setScrollLeft","clearElement","removeElement","cssSelector","removeFromParent","querySelector","node","isVisible","offsetParent","loadTemplate","tempDiv","innerHTML","trim","appendHtml","eContainer","htmlTemplate","lastChild","insertAdjacentHTML","getElementAttribute","attributeName","attributes","attribute","eChild","eChildBefore","insertBefore","insertAdjacentElement","setDomChildOrder","orderedChildren","correctCellAtIndex","actualCellAtIndex","insertTemplateWithDomOrder","prependDC","documentFragment","addStylesToElement","eElement","styles","keyCamelCase","isHorizontalScrollShowing","isVerticalScrollShowing","scrollHeight","setElementWidth","setFixedWidth","formatSize","setElementHeight","minHeight","maxHeight","setFixedHeight","isNode","o","Node","nodeType","nodeName","isElement","isNodeOrElement","copyNodeList","nodeList","childCount","iterateNamedNodeMap","attr","setCheckboxState","eCheckbox","state","checked","indeterminate","DomUtils","cloneObject","copy","deepCloneObject","parse","getProperty","setProperty","copyPropertiesIfPresent","source","target","properties","arguments","copyPropertyIfPresent","property","transform","getAllKeysInObjects","objects","allValues","obj","mergeDeep","dest","copyUndefined","newValue","oldValue","sources","missingOrEmptyObject","get","expression","defaultValue","objectToRead","set","objectToUpdate","deepFreeze","v","getValueUsingField","fieldContainsDots","fields","currentObject","ObjectUtils","getNameOfClass","theClass","funcNameRegex","funcAsString","results","exec","findLineByLeastSquares","len","maxDecimals","sum_x","sum_y","sum_xy","sum_xx","y","x","m","toFixed","cssStyleObjectToMarkup","stylesToUse","resParts","styleKey","styleValue","styleKeyDashed","message","msg","eMessage","eBox","bindCellRendererToHtmlElement","cellRendererPromise","eTarget","gui","getGui","GeneralUtils","firstExistingValue","anyExists","existsAndNotEmpty","last","areEqual","every","compareArrays","array1","array2","shallowCompare","arr1","arr2","sortNumerically","array","removeRepeatsFromArray","thisOneMatches","nextOneMatches","splice","removeFromArray","removeAllFromArray","toRemove","insertIntoArray","toIndex","insertArrayIntoArray","src","moveInArray","objectsToMove","slice","reverse","includes","flatten","arrayOfArrays","pushAll","toStrings","findIndex","list","some","process","mapped","filtered","reduce","step","initial","forEachSnapshotFirst","arrayCopy","ArrayUtils","padStart","totalStringSize","asString","createArrayOfNumbers","isNumeric","isFinite","getMaxSafeInteger","Number","MAX_SAFE_INTEGER","cleanNumber","decToHex","number","bytes","formatNumberTwoDecimalPlacesAndCommas","formatNumberCommas","sum","total","NumberUtils","serialiseDate","date","separator","getFullYear","getMonth","getDate","part","serialiseTime","getHours","getMinutes","getSeconds","parseDateTimeFromString","dateStr","timeStr","year","month","day","Date","_b","hours","minutes","seconds","setHours","setMinutes","setSeconds","DateUtils","AG_GRID_STOP_PROPAGATION","PASSIVE_EVENTS","OUTSIDE_ANGULAR_EVENTS","supports","stopPropagationForAgGrid","isStopPropagationForAgGrid","isEventSupported","tags","select","change","submit","reset","error","load","abort","isSupported","getCellCompForEvent","gridOptionsWrapper","sourceElement","getTarget","renderedCell","getDomData","addChangeListener","addEventListener","eventNoType","srcElement","isElementInEventPath","getEventPath","createEventPath","pointer","addAgGridEventPath","__agGridEventPath","deepPath","path","composedPath","addSafePassiveEventListener","isPassive","isOutsideAngular","options","passive","addEventListenerOutsideAngular","EventUtils","FUNCTION_STRIP_COMMENTS","FUNCTION_ARGUMENT_NAMES","doOnceFlags","doOnce","func","getFunctionParameters","fnStr","isFunction","val","constructor","executeInAWhile","funcs","executeAfter","executeNextVMTurn","milliseconds","debounce","wait","immediate","callNow","clearTimeout","compose","fns","arg","composed","callIfPresent","FunctionUtils","fuzzyCheckStrings","inputValues","validValues","allSuggestions","fuzzyMatches","invalidInputs","inputValue","validValue","invalidInput","fuzzySuggestions","hideIrrelevant","weighted","search","string_weighted_distances","string_distances","thisSuggestions","text","relevance","toLocaleLowerCase","suggestion","get_bigrams","j","ref","str1","str2","pairs1","pairs2","union","hit_count","len1","weight","lastIndex","idx","FuzzyMatchUtils","iconNameClassMap","columnGroupClosed","columnSelectClosed","columnSelectOpen","columnSelectIndeterminate","columnMovePin","columnMoveHide","columnMoveMove","columnMoveLeft","columnMoveRight","columnMoveGroup","columnMoveValue","columnMovePivot","dropNotAllowed","groupContracted","groupExpanded","chart","close","cancel","check","previous","next","linked","unlinked","colorPicker","groupLoading","menu","maximize","minimize","menuPin","menuValue","menuAddRowGroup","menuRemoveRowGroup","clipboardCopy","clipboardPaste","pivotPanel","rowGroupPanel","valuePanel","columnDrag","save","smallDown","smallLeft","smallRight","smallUp","sortAscending","sortDescending","sortUnSort","createIcon","iconName","iconContents","createIconNoSpan","eResult","forceCreate","userProvidedIcon","getColDef","optionsIcons","getIcons","rendererResult","warn","span","cssClass","IconUtils","Constants","STEP_EVERYTHING","STEP_FILTER","STEP_SORT","STEP_MAP","STEP_AGGREGATE","STEP_PIVOT","ROW_BUFFER_SIZE","LAYOUT_INTERVAL","BATCH_WAIT_MILLIS","EXPORT_TYPE_DRAG_COPY","EXPORT_TYPE_CLIPBOARD","EXPORT_TYPE_EXCEL","EXPORT_TYPE_CSV","KEY_BACKSPACE","KEY_TAB","KEY_NEW_LINE","KEY_ENTER","KEY_SHIFT","KEY_ESCAPE","KEY_SPACE","KEY_LEFT","KEY_UP","KEY_RIGHT","KEY_DOWN","KEY_DELETE","KEY_A","KEY_C","KEY_V","KEY_D","KEY_Z","KEY_Y","KEY_F2","KEY_PAGE_UP","KEY_PAGE_DOWN","KEY_PAGE_HOME","KEY_PAGE_END","ROW_MODEL_TYPE_INFINITE","ROW_MODEL_TYPE_VIEWPORT","ROW_MODEL_TYPE_CLIENT_SIDE","ROW_MODEL_TYPE_SERVER_SIDE","DEPRECATED_ROW_MODEL_TYPE_NORMAL","ALWAYS","ONLY_WHEN_GROUPING","PINNED_TOP","PINNED_BOTTOM","DOM_LAYOUT_NORMAL","DOM_LAYOUT_PRINT","DOM_LAYOUT_AUTO_HEIGHT","GROUP_AUTO_COLUMN_ID","SOURCE_PASTE","PINNED_RIGHT","PINNED_LEFT","SORT_ASC","SORT_DESC","PRINTABLE_CHARACTERS","NUMPAD_DEL_NUMLOCK_ON_KEY","NUMPAD_DEL_NUMLOCK_ON_CHARCODE","isKeyPressed","keyToCheck","which","keyCode","isCharacterKey","ctrlKey","metaKey","altKey","isEventFromPrintableCharacter","pressedChar","charCode","printableCharacter","numpadDelWithNumlockOnForEdgeOrIe","isNumpadDelWithNumlockOnForEdgeOrIe","isUserSuppressingKeyboardEvent","keyboardEvent","rowNode","editing","gridOptionsFunc","getSuppressKeyboardEventFunc","colDefFunc","getApi","getContext","getColumnApi","colDefFuncResult","KeyboardUtils","_","MapUtils","normalizeWheel","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","sX","sY","pX","pY","detail","wheelDelta","wheelDeltaY","wheelDeltaX","axis","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","isLeftClick","mouseEvent","buttons","button","areEventsNear","e1","e2","pixelCount","diffX","clientX","diffY","clientY","MouseUtils","sortRowNodesByOrder","rowNodes","rowNodeOrder","nodeA","nodeB","positionA","id","positionB","aHasIndex","bHasIndex","bothNodesAreUserNodes","bothNodesAreFillerNodes","__objectId","rowNodeA","rowNodeB","atLeastOneOutOfOrder","traverseNodesWithKey","nodes","keyParts","recursiveSearchNodes","currentNodes","group","hasChildren","childrenAfterGroup","pop","RowNodeUtils","convertToSet","SetUtils","__assign","n","hasOwnProperty","utils","NumberSequence","initValue","nextValue","valToReturn","peek","skip","count","PromiseStatus","Promise","_this","status","IN_PROGRESS","resolution","waiters","onDone","onReject","all","promises","remainingToResolve","combinedValues","promise","adapter","ifNotResolvedValue","ifResolved","RESOLVED","waiter","Timer","timestamp","getTime","print","duration","info","ColumnKeyCreator","existingKeys","addExistingKeys","getUniqueKey","colField","idToTry","Context","logger","beanWrappers","componentsMappedByName","destroyed","beanClasses","contextParams","setupComponents","createBeans","beanInstances","getBeanInstances","wireBeans","beanEntry","beanInstance","componentMeta","addComponent","classEscaped","componentName","classUpperCase","componentClass","createComponentFromElement","afterPreCreateCallback","paramsMap","componentParams","getAttribute","newComponent","wireBean","bean","autoWireBeans","methodWireBeans","callLifeCycleMethods","createBeanWrapper","constructorParamsMeta","__agBeanMetaData","autowireMethods","agConstructor","constructorParams","getBeansForParameters","newInstance","applyToConstructor","createdBeanNames","Bean","metaData","beanName","forEachMetaDataInHierarchy","agClassAttributes","otherBean","lookupBeanInstance","optional","methodName","wireParams","initParams","getPrototypeOf","getBeanName","constructorString","parameters","beansList","paramIndex","otherBeanName","wiringBean","lifeCycleMethod","methods","getBean","argArray","factoryFunction","PreConstruct","descriptor","props","getOrCreateProps","preConstructMethods","PostConstruct","postConstructMethods","PreDestroy","preDestroyMethods","classConstructor","Autowired","propertyKey","autowiredFunc","Optional","classPrototype","methodOrAttributeName","Qualifier","__decorate","decorators","desc","getOwnPropertyDescriptor","d","Reflect","decorate","__param","decorator","EventService","allSyncListeners","allAsyncListeners","globalSyncListeners","globalAsyncListeners","asyncFunctionsQueue","scheduled","firedEvents","EventService_1","setBeans","loggerFactory","create","async","useAsyncEvents","addGlobalListener","getListeners","listenerMap","listeners","removeEventListener","addModalPriorityEventListener","PRIORITY","removeGlobalListener","dispatchEvent","dispatchToListeners","dispatchEventOnce","processEventListeners","dispatchAsync","globalListeners","flushAsyncQueue","queueCopy","ModuleNames","ModuleRegistry","register","module","moduleBased","modulesMap","moduleName","registerModules","assertRegistered","reason","isRegistered","warningKey","warningMessage","getRegisteredModules","isPackageBased","__decorate$1","Column","userProvidedColDef","primary","moving","menuVisible","filterActive","eventService","rowGroupActive","pivotActive","aggregationActive","setColDef","getUserProvidedColDef","setParent","getParent","setOriginalParent","originalParent","getOriginalParent","initialise","setPinned","getMinColWidth","getMaxColWidth","actualWidth","columnUtils","calculateColInitialWidth","suppressDotNotation","isSuppressFieldDotNotation","tooltipFieldContainsDots","validate","isEmptyGroup","isRowGroupDisplayed","showingAllGroups","showingThisGroup","getUniqueId","getId","isPrimary","isFilterAllowed","filterDefined","isFieldContainsDots","isTooltipFieldContainsDots","colDefAny","warnOnce","RowGroupingModule","rowGroupingItems","RichSelectModule","DateTimeCellEditorModule","isTreeData","itemsNotAllowedWithTreeData","floatingCellRenderer","floatingRendererFramework","floatingRendererParams","floatingValueFormatter","cellFormatter","headerCellTemplate","headerCellRenderer","suppressToolPanel","createIsColumnFuncParams","isSuppressNavigable","userFunc","isCellEditable","isEnableGroupEdit","isColumnFunc","isRowDrag","isDndSource","isCellCheckboxSelection","isSuppressPaste","isResizable","editableFunc","setMoving","createColumnEvent","EVENT_MOVING_CHANGED","gridApi","isMoving","getSort","setSort","EVENT_SORT_CHANGED","setMenuVisible","EVENT_MENU_VISIBLE_CHANGED","isMenuVisible","isSortAscending","isSortDescending","isSortNone","isSorting","getSortedAt","setSortedAt","setAggFunc","getAggFunc","getLeft","getOldLeft","oldLeft","getRight","setLeft","EVENT_LEFT_CHANGED","isFilterActive","setFilterActive","active","additionalEventAttributes","EVENT_FILTER_ACTIVE_CHANGED","filterChangedEvent","EVENT_FILTER_CHANGED","setFirstRightPinned","firstRightPinned","EVENT_FIRST_RIGHT_PINNED_CHANGED","setLastLeftPinned","lastLeftPinned","EVENT_LAST_LEFT_PINNED_CHANGED","isFirstRightPinned","isLastLeftPinned","isPinned","isPinnedLeft","isPinnedRight","getPinned","EVENT_VISIBLE_CHANGED","getColumnGroupShow","getColId","getDefinition","getActualWidth","createBaseColDefParams","getColSpan","getRowSpan","setActualWidth","EVENT_WIDTH_CHANGED","isGreaterThanMax","getMinWidth","getMaxWidth","getFlex","setFlex","setMinimum","setRowGroupActive","EVENT_ROW_GROUP_CHANGED","isRowGroupActive","setPivotActive","EVENT_PIVOT_CHANGED","isPivotActive","isAnyFunctionActive","isValueActive","isAnyFunctionAllowed","isAllowPivot","isAllowRowGroup","isAllowValue","setValueActive","EVENT_VALUE_CHANGED","getMenuTabs","defaultValues","isLockPosition","isLockVisible","isLockPinned","__decorate$2","ColumnGroup","originalColumnGroup","instanceId","displayedChildren","localEventService","createUniqueId","allLeafColumns","getOriginalColumnGroup","getLeafColumns","col","checkLeft","child","isEnableRtl","lastChildLeft","firstChildLeft","createAgEvent","getGroupId","getInstanceId","isChildInThisGroupDeepSearch","wantedChild","foundChild","groupActualWidth","groupChild","addChild","getDisplayedChildren","addLeafColumns","getDisplayedLeafColumns","addDisplayedLeafColumns","getColGroupDef","isPadding","isExpandable","isExpanded","setExpanded","expanded","leafColumns","getChildren","calculateDisplayedColumns","topLevelGroup","abstractColumn","headerGroupShow","HEADER_GROUP_SHOW_OPEN","HEADER_GROUP_SHOW_CLOSED","EVENT_DISPLAYED_CHILDREN_CHANGED","HEADER_GROUP_PADDING","OriginalColumnGroup","colGroupDef","padding","level","expandable","getLevel","EVENT_EXPANDED_CHANGED","setChildren","setupExpandable","setExpandable","onColumnVisibilityChanged","atLeastOneShowingWhenOpen","atLeastOneShowingWhenClosed","atLeastOneChangeable","findChildren","event_1","EVENT_EXPANDABLE_CHANGED","DefaultColumnTypes","numericColumn","rightAligned","__decorate$3","__param$1","ColumnFactory","createColumnTree","defs","primaryColumns","existingColumns","columnKeyCreator","existingColsCopy","unbalancedTree","recursivelyCreateColumns","treeDept","findMaxDept","columnTree","balanceColumnTree","deptFirstCallback","depthFirstOriginalTreeSearch","createForAutoGroups","autoGroupCols","gridBalancedTree","autoColBalancedTree","fakeTreeItem","createAutoGroupTreeItem","balancedColumnTree","dept","findDepth","nextChild","autoGroup","currentDept","columnDept","originalGroup","newChildren","firstPaddedGroup","currentPaddedGroup","newColId","colGroupDefMerged","createMergedColGroupDef","paddedGroup","hasGroups","treeChildren","maxDeptThisLevel","newDept","def","newGroupOrColumn","isColumnGroup","createColumnGroup","createColumn","getDefaultColGroupDef","checkForDeprecatedItems","colDefMerged","mergeColDefs","findExistingColumn","oldColDef","oldColHadId","getDefaultColDef","assignColumnTypes","typeKeys","invalidArray","allColumnTypes","getColumnTypes","typeColDef","colDefNoType","headerGroup","suppressRowGroup","suppressAggregation","displayName","abstractColDef","Events","EVENT_COLUMN_EVERYTHING_CHANGED","EVENT_NEW_COLUMNS_LOADED","EVENT_COLUMN_PIVOT_MODE_CHANGED","EVENT_COLUMN_ROW_GROUP_CHANGED","EVENT_EXPAND_COLLAPSE_ALL","EVENT_COLUMN_PIVOT_CHANGED","EVENT_GRID_COLUMNS_CHANGED","EVENT_COLUMN_VALUE_CHANGED","EVENT_COLUMN_MOVED","EVENT_COLUMN_VISIBLE","EVENT_COLUMN_PINNED","EVENT_COLUMN_GROUP_OPENED","EVENT_COLUMN_RESIZED","EVENT_DISPLAYED_COLUMNS_CHANGED","EVENT_VIRTUAL_COLUMNS_CHANGED","EVENT_ROW_GROUP_OPENED","EVENT_ROW_DATA_CHANGED","EVENT_ROW_DATA_UPDATED","EVENT_PINNED_ROW_DATA_CHANGED","EVENT_RANGE_SELECTION_CHANGED","EVENT_CHART_CREATED","EVENT_CHART_RANGE_SELECTION_CHANGED","EVENT_CHART_OPTIONS_CHANGED","EVENT_CHART_DESTROYED","EVENT_TOOL_PANEL_VISIBLE_CHANGED","EVENT_MODEL_UPDATED","EVENT_PASTE_START","EVENT_PASTE_END","EVENT_FILL_START","EVENT_FILL_END","EVENT_CELL_CLICKED","EVENT_CELL_DOUBLE_CLICKED","EVENT_CELL_MOUSE_DOWN","EVENT_CELL_CONTEXT_MENU","EVENT_CELL_VALUE_CHANGED","EVENT_ROW_VALUE_CHANGED","EVENT_CELL_FOCUSED","EVENT_ROW_SELECTED","EVENT_SELECTION_CHANGED","EVENT_CELL_KEY_DOWN","EVENT_CELL_KEY_PRESS","EVENT_CELL_MOUSE_OVER","EVENT_CELL_MOUSE_OUT","EVENT_FILTER_MODIFIED","EVENT_FILTER_OPENED","EVENT_VIRTUAL_ROW_REMOVED","EVENT_ROW_CLICKED","EVENT_ROW_DOUBLE_CLICKED","EVENT_GRID_READY","EVENT_GRID_SIZE_CHANGED","EVENT_VIEWPORT_CHANGED","EVENT_FIRST_DATA_RENDERED","EVENT_DRAG_STARTED","EVENT_DRAG_STOPPED","EVENT_CHECKBOX_CHANGED","EVENT_ROW_EDITING_STARTED","EVENT_ROW_EDITING_STOPPED","EVENT_CELL_EDITING_STARTED","EVENT_CELL_EDITING_STOPPED","EVENT_BODY_SCROLL","EVENT_ANIMATION_QUEUE_EMPTY","EVENT_HEIGHT_SCALE_CHANGED","EVENT_PAGINATION_CHANGED","EVENT_COMPONENT_STATE_CHANGED","EVENT_BODY_HEIGHT_CHANGED","EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED","EVENT_SCROLL_VISIBILITY_CHANGED","EVENT_COLUMN_HOVER_CHANGED","EVENT_FLASH_CELLS","EVENT_ROW_DRAG_ENTER","EVENT_ROW_DRAG_MOVE","EVENT_ROW_DRAG_LEAVE","EVENT_ROW_DRAG_END","EVENT_POPUP_TO_FRONT","EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST","EVENT_COLUMN_PIVOT_CHANGE_REQUEST","EVENT_COLUMN_VALUE_CHANGE_REQUEST","EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST","EVENT_KEYBOARD_FOCUS","EVENT_MOUSE_FOCUS","GroupInstanceIdCreator","existingIds","getInstanceIdForKey","lastResult","__decorate$4","__param$2","ColumnController","primaryHeaderRowCount","secondaryHeaderRowCount","secondaryColumnsPresent","gridHeaderRowCount","displayedLeftColumns","displayedRightColumns","displayedCenterColumns","allDisplayedColumns","allDisplayedVirtualColumns","allDisplayedCenterVirtualColumns","rowGroupColumns","valueColumns","pivotColumns","ready","autoGroupsNeedBuilding","bodyWidth","leftWidth","rightWidth","bodyWidthDirty","flexActive","init","isSuppressColumnVirtualisation","isPivotMode","isPivotSettingAllowed","usingTreeData","setColumnDefs","colsPreviouslyExisted","expire","oldPrimaryColumns","balancedTreeResult","columnFactory","primaryColumnTree","getColumnsFromTree","extractRowGroupColumns","extractPivotColumns","createValueColumns","updateGridColumns","updateDisplayedColumns","checkDisplayedVirtualColumns","isImmutableColumns","resetColumnState","eventEverythingChanged","newColumnsLoadedEvent","getDisplayedCenterColumns","isAutoRowHeightActive","autoRowHeightColumns","getAllAutoRowHeightCols","setVirtualViewportLeftAndRight","viewportLeft","scrollPosition","viewportRight","getDisplayedColumnsStartingAt","currentColumn","getDisplayedColAfter","hashBefore","updateVirtualSets","hashAfter","setVirtualViewportPosition","setPivotMode","getSecondaryPivotColumn","pivotKeys","valueColKey","secondaryColumns","valueColumnToFind","getPrimaryColumn","foundColumn","thisPivotKeys","pivotValueColumn","pivotKeyMatches","pivotValueMatches","setFirstRightAndLastLeftPinned","lastLeft","firstRight","gridColumns","autoSizeColumns","skipHeader","animationFrameService","flushAllFrames","columnsAutosized","changesThisTimeAround","isSkipHeaderOnAutoSize","actionOnGridColumns","preferredWidth","autoWidthCalculator","getPreferredWidthForColumn","newWidth","normaliseColumnWidth","event_2","finished","autoSizeColumn","autoSizeAllColumns","getAllDisplayedColumns","rootColumns","recursiveFindColumns","getAllDisplayedColumnGroups","displayedLeftColumnTree","displayedRightColumnTree","displayedCentreColumnTree","getPrimaryColumnTree","getHeaderRowCount","getLeftDisplayedColumnGroups","getRightDisplayedColumnGroups","getCenterDisplayedColumnGroups","getDisplayedColumnGroups","isColumnDisplayed","getAllDisplayedVirtualColumns","getDisplayedLeftColumnsForRow","colSpanActive","getDisplayedColumnsForRow","getDisplayedRightColumnsForRow","displayedColumns","filterCallback","emptySpaceBeforeColumn","lastConsideredCol","maxAllowedColSpan","columnsToCheckFilter","colsToRemove","filterPasses","colForFilter","gapBeforeColumn","out_i_1","getAllDisplayedCenterVirtualColumnsForRow","isColumnInViewport","columnLeft","columnRight","leftBounds","rightBounds","columnToMuchLeft","columnToMuchRight","getPinnedLeftContainerWidth","getWidthOfColsInList","getPinnedRightContainerWidth","updatePrimaryColumnList","masterList","actionIsAdd","columnCallback","atLeastOne","columnToAdd","setRowGroupColumns","colKeys","setPrimaryColumnList","isSuppressMakeColumnVisibleAfterUnGroup","addRowGroupColumn","addRowGroupColumns","removeRowGroupColumns","removeRowGroupColumn","addPivotColumns","setPivotColumns","added","addPivotColumn","removePivotColumns","removePivotColumn","setValueColumns","defaultAggFunc","aggFuncService","getDefaultAggFunc","addValueColumns","addValueColumn","colKey","removeValueColumn","removeValueColumns","getPrimaryOrGridColumn","getGridColumn","setColumnWidths","columnWidths","shiftKey","sets","columnWidth","ratios","defaultIsShift","getColResizeDefault","otherCol","widthDiff","otherColWidth","resizeColumnSets","refreshFlexedColumns","checkMinAndMaxWidthsForSet","columnResizeSet","minWidthAccumulated","maxWidthAccumulated","maxWidthActive","minWidthPasses","maxWidthPasses","resizeSets","passMinMaxCheck","event_3","changedCols","allCols","newWidths","finishedCols","finishedColsGrew","loopCount","_loop_2","subsetCols","subsetRatioTotal","pixelsToDistribute","thisColFinished","ratioThisCol","ratioScale","lastCol","colNewWidth","state_1","atLeastOneColChanged","setLeftValues","updateBodyWidths","event_4","setColumnAggFunc","moveRowGroupColumn","fromIndex","moveColumns","columnsToMoveKeys","columnAnimationService","start","columnsToMove","getGridColumns","failedRules","doesMovePassRules","finish","proposedColumnOrder","doesMovePassMarryChildren","doesMovePassLockedPositions","foundNonLocked","rulePassed","allColumnsCopy","columnGroup","newIndexes","newColIndex","maxIndex","minIndex","spread","maxSpread","moveColumn","moveColumnByIndex","getBodyContainerWidth","getContainerWidth","newBodyWidth","newLeftWidth","newRightWidth","atLeastOneChanged","event_5","getValueColumns","getPivotColumns","getRowGroupColumns","getDisplayedLeftColumns","getDisplayedRightColumns","getDisplayedColumns","getAllPrimaryColumns","getSecondaryColumns","getAllColumnsForQuickFilter","columnsForQuickFilter","getAllGridColumns","isEmpty","isRowGroupEmpty","setColumnVisible","setColumnsVisible","setColumnPinned","setColumnsPinned","getDomLayout","actualPinned","createEvent","updatedColumns","resultOfAction","event_6","getDisplayedColBefore","oldIndex","getDisplayedGroupAfter","requiredLevel","groupPointer","isPinningLeft","isPinningRight","getPrimaryAndSecondaryAndAutoColumns","groupAutoColumns","createStateItemFromColumn","getColumnState","primaryColumnState","groupAutoColumnState","columnStateList","orderColumnStateList","gridColumnIds","itemA","itemB","posA","posB","suppressEverythingEvent","columnStates","letRowGroupIndex","letPivotIndex","stateItem","setColumnState","columnStateBefore","columnsWithNoState","success","rowGroupIndexes","pivotIndexes","autoGroupColumnStates","getAutoColumn","syncColumnWithStateItem","syncColumnWithNoState","sortColumnListUsingIndexes","autoCol","orderOfColIds_1","colA","colB","indexA","indexB","putFixedColumnsFirst","event_7","raiseColumnEvents","isSuppressSetColumnStateEvents","columnStateAfter","raiseEventWithAllColumns","idMapper","unchanged","getChangedColumns","changedPredicate","changedColumns","columnStateBeforeMap","colStateBefore","valueColumnIdMapper","cs","pivotColumnIdMapper","rowGroupColumnIdMapper","pinnedChangePredicate","raiseColumnPinnedEvent","visibilityChangePredicate","cols","raiseColumnVisibleEvent","resizeChangePredicate","raiseColumnResizeEvent","raiseColumnMovedEvent","movedColumns","_loop_3","before","after","movedColumn","this_1","indexes","getColumns","columnLookupCallback","foundColumns","getColumnWithValidation","getColumn","columnList","columnsMatch","groupCol","columnMatches","colDefMatches","idMatches","getDisplayNameForColumn","includeAggFunc","getHeaderName","wrapHeaderNameWithAggFunc","getDisplayNameForOriginalColumnGroup","getDisplayNameForColumnGroup","expressionService","evaluate","isSuppressAggFuncInHeader","pivotActiveOnThisColumn","aggFuncFound","measureActive","aggregationPresent","aggFuncString","getLocaleTextFunc","aggFuncStringTranslated","getColumnGroup","allColumnGroups","checkInstanceId","depthFirstAllColumnTreeSearch","matched","isReady","extractColumns","flag","previousCols","setFlagFunc","getIndexFunc","getValueFunc","colPresentInPrimaryFunc","colMissingFromPrimaryFunc","colNewFunc","removedCols","existingCols","newPrimaryCols","newCols","booleanValue","resetColumnGroupState","stateItems","groupState","open","setColumnGroupState","getColumnGroupState","columnGroupState","impactedGroups","groupKey","updateGroupsAndDisplayedColumns","setColumnGroupOpened","keyAsString","calculateColumnsForDisplay","columnsForDisplay","isAutoGroupCol","isValueCol","checkColSpanActiveInCols","calculateColumnsForGroupDisplay","groupDisplayColumns","checkFunc","getGroupDisplayColumns","buildDisplayedTrees","isSecondaryColumnsPresent","setSecondaryColumns","colDefs","newColsPresent","processSecondaryColumnDefinitions","secondaryBalancedTree","getProcessSecondaryColDefFunc","groupCallback","getProcessSecondaryColGroupDefFunc","searchForColDefs","colDefs2","isGroup","gridColsArePrimary","lastPrimaryOrder","orderGridColsLikeLastPrimary","addAutoGroupToGridColumns","setupQuickFilterColumns","clearDisplayedColumns","noColsFound","oldColsOrdered","newColsOrdered","newGridColumns","newCol","siblings","leafCols","leafCol","presentInNewGriColumns","noYetInSiblings","isPrimaryColumnGroupsPresent","locked","unlocked","createGroupAutoColumnsIfNeeded","displayedLeftHeaderRows","displayedRightHeaderRows","displayedCentreHeaderRows","updateOpenClosedVisibilityInColumnGroups","updateDisplayedColumnsFromTrees","addToDisplayedColumns","setupAllDisplayedColumns","setLeftValuesOfColumns","setLeftValuesOfGroups","allColumns","doingRtl","left_1","left_2","displayedColumnTree","depthFirstDisplayedColumnTreeSearch","updateDisplayedCenterVirtualColumns","filterOutColumnsWithinViewport","getVirtualHeaderGroupRow","updateDisplayedVirtualGroups","virtualColIds","testGroup","returnValue","addThisItem","updatedFlexViewportWidth","silent","flexViewportWidth","knownWidthColumns","flexingColumns","flexingColumnSizes","spaceForFlexingColumns","outer","totalFlex","widthByFlexRule","constrainedWidth","remainingSpace","fireResizedEventForColumns","sizeColumnsToFit","gridWidth","colsToSpread","colsToNotSpread","colsToFireEventFor","finishedResizing","moveToNotSpread","availablePixels","scale","pixelsForLastCol","onLastCol","visibleColumns","leftVisibleColumns","rightVisibleColumns","centerVisibleColumns","groupInstanceIdCreator","displayedGroupCreator","createDisplayedGroups","getGroupAutoColumns","groupFullWidthRow","isGroupUseEntireRow","suppressAutoColumn","isPivotSuppressAutoColumn","isGroupSuppressAutoColumn","isGroupSuppressRow","groupingActive","needAutoColumns","newAutoGroupCols","autoGroupColService","createAutoGroupColumns","autoColsDifferent","autoColsEqual","colsA","colsB","getGridBalancedTree","hasFloatingFilters","__decorate$5","ColumnUtils","optionsWrapper","getColWidth","getOriginalPathForColumn","originalBalancedTree","recursePath","nextNode","tree","__decorate$6","DisplayedGroupCreator","sortedVisibleColumns","oldDisplayedGroups","previousRealPath","previousOriginalPath","oldColumnsMapped","mapOldGroupsById","currentOriginalPath","currentRealPath","firstColumn","newGroup","noColumnGroups","leafGroup","setupParentsIntoColumns","uniqueId","displayedGroups","recursive","columnsOrGroups","columnOrGroup","columnsOrGroup","__spreadArrays","il","jl","PropertyKeys","STRING_PROPERTIES","OBJECT_PROPERTIES","ARRAY_PROPERTIES","NUMBER_PROPERTIES","BOOLEAN_PROPERTIES","FUNCTION_PROPERTIES","ALL_PROPERTIES","FRAMEWORK_PROPERTIES","__spreadArrays$1","ColDefUtil","SideBarDefParser","toParse","toolPanels","DEFAULT_COLUMN_COMP","DEFAULT_FILTER_COMP","defaultToolPanel","comps_1","lookupResult","DEFAULT_BY_KEY","parseComponents","hiddenByDefault","it","toAdd","labelDefault","labelKey","iconKey","toolPanel","filters","__decorate$7","__param$3","__spreadArrays$2","DEFAULT_ROW_HEIGHT","DEFAULT_DETAIL_ROW_HEIGHT","DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE","DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE","DEFAULT_KEEP_DETAIL_ROW_COUNT","isTrue","zeroOrGreater","oneOrGreater","GridOptionsWrapper","propertyEventService","domDataKey","random","layoutElements","GridOptionsWrapper_1","agWire","checkForDeprecated","checkForViolations","PROP_DOM_LAYOUT","updateLayoutClassesListener","checkGridOptionsProperties","checkColumnDefProperties","globalEventHandler","isGroupSelectsChildren","isSuppressParentsInRowNodes","isRowSelectionMulti","isRowModelServerSide","isGroupRemoveSingleChildren","isGroupHideOpenParents","prop","isEnableRangeSelection","RangeSelectionModule","isEnableRangeHandle","isEnableFillHandle","warnOfDeprecaredIcon","updateLayoutClasses","userProperties","getOwnPropertyNames","validProperties","checkProperties","ComponentUtil","getCallbackForEvent","validPropertiesAndExceptions","containerName","docsUrl","invalidProperties","domData","setDomData","isRowSelection","isRowDeselection","isRowMultiSelectWithClick","isPivotTotals","getPivotColumnGroupTotals","getPivotRowTotals","isRowModelInfinite","isRowModelViewport","isRowModelDefault","isFullRowEdit","isSuppressFocusAfterRefresh","isSuppressBrowserResizeObserver","isSuppressMaintainUnsortedOrder","isSuppressClearOnFillReduction","isShowToolPanel","getSideBar","isSuppressTouch","isSuppressRowTransform","isAllowDragFromColumnsToolPanel","isEnableCellChangeFlash","isSuppressRowHoverHighlight","isGroupSelectsFiltered","isGroupMultiAutoColumn","isGroupRemoveLowestSingleChildren","isGroupIncludeFooter","isGroupIncludeTotalFooter","isGroupSuppressBlankHeader","isSuppressRowClickSelection","isSuppressCellSelection","isSuppressMultiSort","isMultiSortKeyCtrl","isSuppressDragLeaveHidesColumns","isSuppressScrollOnNewData","isRowDragManaged","isSuppressRowDrag","isSuppressMoveWhenRowDragging","isEnableMultiRowDragging","validLayouts","isSuppressHorizontalScroll","isSuppressMaxRenderedRowRestriction","isExcludeChildrenWhenTreeDataFiltering","isAlwaysShowVerticalScroll","isSuppressLoadingOverlay","isSuppressNoRowsOverlay","getPinnedTopRowData","getPinnedBottomRowData","isFunctionsPassive","isSuppressTabbing","isSuppressChangeDetection","isSuppressAnimationFrame","isCacheQuickFilter","isUnSortIcon","isSuppressMenuHide","isEnterMovesDownAfterEdit","isEnterMovesDown","isUndoRedoCellEditing","getUndoRedoCellEditingLimit","getRowStyleFunc","getRowClassFunc","getCreateChartContainerFunc","getPopupParent","getBlockLoadDebounceMillis","getPostProcessPopupFunc","getDoesDataFlowerFunc","getPaginationNumberFormatterFunc","getChildCountFunc","getDefaultGroupSortComparator","getIsFullWidthCellFunc","getFullWidthCellRendererParams","isEmbedFullWidthRows","getBusinessKeyForNodeFunc","isImmutableData","isEnsureDomOrder","isEnableCharts","GridChartsModule","isSingleClickEdit","isSuppressClickEdit","isStopEditingWhenGridLosesFocus","getGroupDefaultExpanded","getMaxConcurrentDatasourceRequests","getMaxBlocksInCache","getCacheOverflowSize","getPaginationPageSize","isPaginateChildRows","shouldPaginate","getCacheBlockSize","getInfiniteInitialRowCount","isPurgeClosedRowNodes","isSuppressPaginationPanel","getRowData","getAutoGroupColumnDef","getRowGroupPanelShow","getPivotPanelShow","isAngularCompileRows","isAngularCompileFilters","isAngularCompileHeaders","isDebug","getColumnDefs","getDatasource","getViewportDatasource","getServerSideDatasource","isAccentedSort","isEnableBrowserTooltips","isEnableCellExpressions","isSuppressMiddleClickScrolls","isPreventDefaultOnContextMenu","isSuppressPreventDefaultOnMouseWheel","isSuppressContextMenu","isAllowContextMenuWithControlKey","isSuppressCopyRowsToClipboard","isCopyHeadersToClipboard","isSuppressClipboardPaste","isSuppressLastEmptyLineOnPaste","isPagination","isSuppressEnterpriseResetOnNewColumns","getProcessDataFromClipboardFunc","getAsyncTransactionWaitMillis","isSuppressMovableColumns","isAnimateRows","isSuppressColumnMoveAnimation","isSuppressAggAtRootLevel","getFillOperation","isSuppressMultiRangeSelection","isPaginationAutoPageSize","isRememberGroupStateWhenNewData","getAggFuncs","getSortingOrder","getAlignedGrids","isMasterDetail","MasterDetailModule","isKeepDetailRows","getKeepDetailRowsCount","getIsRowMasterFunc","getIsRowSelectableFunc","getGroupRowRendererParams","getOverlayLoadingTemplate","getOverlayNoRowsTemplate","isSuppressAutoSize","isEnableCellTextSelection","isFunctionsReadOnly","isFloatingFilter","isEnableCellTextSelect","isEnableOldSetFilterModel","getDefaultExportParams","isSuppressCsvExport","isAllowShowChangeAfterFilter","allowShowChangeAfterFilter","isSuppressExcelExport","getNodeChildDetailsFunc","getDataPathFunc","getIsServerSideGroupFunc","getServerSideGroupKeyFunc","getGroupRowAggNodesFunc","getContextMenuItemsFunc","getMainMenuItemsFunc","getChartToolbarItemsFunc","getRowNodeIdFunc","getNavigateToNextCellFunc","getTabToNextCellFunc","isValueCache","isValueCacheNeverExpires","isDeltaSort","isAggregateOnlyChangedColumns","getSendToClipboardFunc","getProcessRowPostCreateFunc","getProcessCellForClipboardFunc","getProcessHeaderForClipboardFunc","getProcessCellFromClipboardFunc","getViewportRowModelPageSize","getViewportRowModelBufferSize","isServerSideSortingAlwaysResets","getPostSortFunc","getProcessChartOptionsFunc","getClipboardDeliminator","gridOptionsNoType","previousValue","currentValue","addLayoutElement","domLayoutAutoHeight","domLayoutPrint","domLayoutNormal","getAutoSizePadding","getHeaderHeight","getFromTheme","getFloatingFiltersHeight","getGroupHeaderHeight","getPivotHeaderHeight","getPivotGroupHeaderHeight","getTooltipShowDelay","isTooltipMouseTrack","MIN_COL_WIDTH","measuredMin","getRowBuffer","getRowBufferInPixels","rowsToBuffer","defaultRowHeight","getRowHeightAsNumber","useGridOptions","suppressUnSort","suppressDescSort","groupAggFields","groupHidePivotColumns","groupKeys","onRowDeselected","rowDeselected","rowsAlreadyGrouped","groupAggFunction","paginationInitialRowCount","infinitePageSize","maxPagesInCache","paginationOverflowSize","floatingTopRowData","floatingBottomRowData","getHeaderCellTemplate","layoutInterval","oldToolPanelProperties","toolPanelColumnsCompProps","translation","sideBarDef","columnsDef","enableStatusBar","component","alwaysShowStatusBar","checkRenamedProperty","oldProp","newProp","version","treeDataViolations","callbackMethodName","getDefaultRowHeight","getRowHeightForNode","allowEstimate","estimated","minRowHeight","columnController","autoHeightCalculator","getPreferredHeightForRow","isDynamicRowHeight","getListItemHeight","chartMenuPanelWidth","environment","sassVariableName","theme","getTheme","getSassVariable","PROP_HEADER_HEIGHT","PROP_GROUP_REMOVE_SINGLE_CHILDREN","PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN","PROP_PIVOT_HEADER_HEIGHT","PROP_SUPPRESS_CLIPBOARD_PASTE","PROP_GROUP_HEADER_HEIGHT","PROP_PIVOT_GROUP_HEADER_HEIGHT","PROP_FLOATING_FILTERS_HEIGHT","PROP_SUPPRESS_ROW_CLICK_SELECTION","PROP_SUPPRESS_ROW_DRAG","PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG","PROP_POPUP_PARENT","__spreadArrays$3","getEventCallbacks","EVENT_CALLBACKS","EVENTS","skipEventDeprecationCheck","pGridOptions","keyExists","toBoolean","setEnableCellTextSelection","setQuickFilter","setRowData","setPinnedTopRowData","setPinnedBottomRowData","setDatasource","setHeaderHeight","paginationSetPageSize","setGroupRemoveSingleChildren","setSuppressRowDrag","setSuppressMoveWhenRowDragging","setSuppressRowClickSelection","setGridAutoHeight","setSuppressClipboardPaste","setSideBar","__decorate$8","BeanStub","destroyFunctions","isAlive","getFrameworkOverrides","EVENT_DESTROYED","dispatchEventAsync","addDestroyableEventListener","destroyFunc","fn","addDestroyFunc","wireDependentBean","__extends","extendStatics","setPrototypeOf","__","__decorate$9","compIdSequence","Component","_super","childComponents","annotatedEventListeners","compId","setTemplate","getCompId","createChildComponentsFromTags","childNodeList","childNodes","childNode","childComp","copyAttributesFromNode","addItems","items","swapComponentForNode","eComponent","replaceChild","createComment","swapInComponentForQuerySelectors","thisNoType","iterateOverQuerySelectors","thisPrototype","__agComponentMetaData","currentProtoName","querySelectors","eGui","setTemplateFromElement","__agComponent","addAnnotatedEventListeners","wireQuerySelectors","createChildComponentsPreConstruct","resultOfQuery","removeAnnotatedEventListeners","listenerMethods","getAgComponentMetaData","eventListener","thisProto","getFocusableElement","setParentComponent","parentComponent","getParentComponent","setGui","queryForHtmlElement","queryForHtmlInputElement","newChild","container","childComponent","addFeature","feature","isDisplayed","EVENT_DISPLAYED_CHANGED","addGuiEventListener","getRefElement","refName","__extends$1","PopupComponent","isPopup","parentComp","hasParent","QuerySelector","selector","querySelectorFunc","RefSelector","addToObjectProps","Listener","listenerFunc","getOrCreateProps$1","instanceName","__extends$2","__decorate$a","TextCellEditor","TEMPLATE","eInput","startValue","cellStartedEdit","focusAfterAttached","keyPressBackspaceOrDelete","keyPress","charPress","getStartValue","highlightAllOnFocus","setValue","pageUp","pageDown","preventDefault","afterGuiAttached","focus","inputEl","getInputElement","getValue","setSelectionRange","focusIn","focusEl","focusOut","parseValue","formatValue","useFormatter","DateCompWrapper","userComponentFactory","dateComponentParams","eParent","alive","newDateComponent","dateComp","tempValue","setDate","setInputPlaceholder","placeholder","OptionsFactory","customFilterOptions","defaultOptions","filterOptions","mapCustomOptions","selectDefaultItem","getFilterOptions","filterOption","displayKey","defaultOption","firstFilterOption","getDefaultOption","getCustomOption","__extends$3","__decorate$b","ProvidedFilter","applyActive","hidePopup","appliedModel","onFilterChanged","providedFilterParams","filterChangedCallback","postConstruct","templateString","getCssIdentifier","createBodyTemplate","setParams","resetUiToDefaults","updateUiVisibility","setupOnBtApplyDebounce","newRowsAction","NEW_ROWS_ACTION_KEEP","newRowsActionKeep","NEW_ROWS_ACTION_CLEAR","rowModel","getType","modelsForKeep","isUseApplyButton","createButtonPanel","clearActive","clearButton","resetActive","resetButton","anyButtonVisible","translate","eButtonsPanel_1","addButton","clickListener","onBtClear","onBtReset","onBtApply","eFilterBodyWrapper","getDefaultDebounceMs","debounceMs","getDebounceMs","onBtApplyDebounce","getModel","setModel","model","setModelIntoUi","applyModel","onUiChanged","oldAppliedModel","getModelFromUi","areModelsEqual","afterFloatingFilter","afterDataChange","closeOnApply","applyButton","onNewRowsLoaded","isNewRowsActionKeep","filterModifiedCallback","debounceDefault","__extends$4","__decorate$c","ConditionPosition","DEFAULT_TRANSLATIONS","loadingOoo","empty","notEqual","lessThan","greaterThan","inRange","lessThanOrEqual","greaterThanOrEqual","filterOoo","inRangeStart","inRangeEnd","notContains","startsWith","endsWith","searchOoo","selectAll","applyFilter","clearFilter","andCondition","orCondition","SimpleFilter","showValueFrom","doesFilterHaveHiddenInput","EMPTY","showValueTo","IN_RANGE","onFloatingFilterChanged","setTypeFromFloatingFilter","setValueFromFloatingFilter","eType1","eType2","optionsFactory","eJoinOperatorAnd","isConditionUiComplete","One","isAllowTwoConditions","Two","filterType","getFilterType","operator","getJoinOperator","condition1","createCondition","condition2","getCondition1Type","getCondition2Type","eJoinOperatorOr","aIsSimple","bIsSimple","oneSimpleOneCombined","aSimple","bSimple","areSimpleModelsEqual","aCombined","bCombined","isCombined","combinedModel","orChecked","setConditionIntoUi","simpleModel","doesFilterPass","firstResult","individualConditionPasses","secondResult","getDefaultFilterOptions","allowTwoConditions","suppressAndOrCondition","putOptionsIntoDropdown","addChangedListeners","option","createOption","localName","addOption","readOnly","setDisabled","createValueTemplate","firstConditionComplete","showSecondFilter","eCondition2Body","eJoinOperatorPanel","uniqueGroupId","setName","setLabel","toTranslate","defaultTranslation","onValueChange","customFilterOption","hideFilterInput","EQUALS","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","CONTAINS","NOT_CONTAINS","STARTS_WITH","ENDS_WITH","__extends$5","ScalarFilter","scalarFilterParams","checkDeprecatedParams","nullComparator","includeBlanksInEquals","includeBlanksInLessThan","includeBlanksInGreaterThan","selectedOption","filterValue","gridValue","filterModel","cellValue","range","mapRangeFromModel","filterValueTo","to","compareResult","compareToResult","inRangeInclusive","__extends$6","__decorate$d","DateFilter","dateFrom","dateTo","dateCondition1FromComp","dateCondition1ToComp","dateCondition2FromComp","dateCondition2ToComp","getFromToComponents","compFrom","compTo","dateFilterParams","filterDate","cellAsDate","createDateComponents","onDateChanged","eCondition1PanelFrom","eCondition1PanelTo","eCondition2PanelFrom","eCondition2PanelTo","DEFAULT_FILTER_OPTIONS","pos","positionOne","FILTER_TYPE","resetPlaceholder","condition1Type","condition2Type","TouchListener","preventMouseClick","destroyFuncs","touching","startListener","onTouchStart","moveListener","onTouchMove","endListener","onTouchEnd","getActiveTouch","touchList","matches","identifier","touchStart","touchEvent","touches","moved","touchStartCopy","touchesMatch","EVENT_LONG_TAP","touch","eventIsFarAway","EVENT_TAP","checkForDoubleTap","now","lastTapTime","interval","DOUBLE_TAP_MILLIS","EVENT_DOUBLE_TAP","__extends$7","__decorate$e","HeaderComp","lastMovingChanged","setupTap","setupIcons","setupMenu","setupSort","setupFilterIcon","setupText","displayNameSanitised","eText","addInIcon","eSortAsc","eSortDesc","eSortNone","eMenu","eFilter","eIcon","touchListener","tapMenuButton","menuTouchListener","enableMenu","showMenuFn","showColumnMenuAfterMouseClick","tapListener","sortController","progressSort","hideShowMenu","showMenu","transition","setMouseOverParent","overParent","eventSource","menuFactory","showMenuAfterButtonClick","removeSortIcons","eSortOrder","sortUsingCtrl","eLabel","nowTime","movedRecently","columnMoving","multiSort","onSortChanged","setMultiSortOrder","alwaysHideNoSort","allColumnsWithSorting","getColumnsWithSortingOrdered","indexThisCol","moreThanOneColSorting","showIndex","filterPresent","__extends$8","__decorate$f","HeaderGroupComp","setupLabel","addGroupExpandIcon","setupExpandIcons","expandAction","newExpandedValue","addTouchAndClickListeners","eCloseIcon","eOpenIcon","stopPropagationAction","updateIconVisibility","__decorate$g","RowNode","childrenMapped","selectable","OBJECT_ID_SEQUENCE","alreadyRendered","highlighted","selected","setData","oldData","onDataChanged","updateDataOnDetailNode","checkRowSelectable","createDataChangedEvent","dispatchLocalEvent","detailNode","newData","update","EVENT_DATA_CHANGED","createLocalRowEvent","updateData","getRowIndexString","rowPinned","rowIndex","createDaemonNode","oldNode","daemon","setDataAndId","setId","selectionController","syncInRowNode","isRowSelectableFunc","shouldInvokeIsRowSelectable","setRowSelectable","newVal","EVENT_SELECTABLE_CHANGED","isPixelInRange","pixel","rowTop","clearRowTop","oldRowTop","setRowTop","setFirstChild","EVENT_FIRST_CHILD_CHANGED","setLastChild","EVENT_LAST_CHILD_CHANGED","setChildIndex","childIndex","EVENT_CHILD_INDEX_CHANGED","EVENT_TOP_CHANGED","setDragging","dragging","EVENT_DRAGGING_CHANGED","setHighlighted","EVENT_HIGHLIGHT_CHANGED","setAllChildrenCount","allChildrenCount","EVENT_ALL_CHILDREN_COUNT_CHANGED","setRowHeight","rowHeightEstimated","EVENT_HEIGHT_CHANGED","setRowIndex","EVENT_ROW_INDEX_CHANGED","setUiLevel","uiLevel","EVENT_UI_LEVEL_CHANGED","createGlobalRowEvent","mainEventService","redrawRows","setDataValue","valueService","dispatchCellChangedEvent","setGroupValue","groupData","columnId","setAggData","newAggData","colIds","aggData","oldAggData","isEmptyRowGroupNode","cellChangedEvent","EVENT_CELL_CHANGED","resetQuickFilterAggregateText","quickFilterAggregateText","master","isSelected","footer","depthFirstSearch","calculateSelectedFromChildren","atLeastOneSelected","atLeastOneDeSelected","atLeastOneMixed","newSelectedValue","childState","selectThisNode","setSelectedInitialValue","setSelected","clearSelection","suppressFinishActions","setSelectedParams","rangeSelect","isRowPinned","newRowClicked","getLastSelectedNode","allowMultiSelect","doRowRangeSelection","updatedCount","skipThisNode","thisNodeWasSelected","selectChildNodes","clearOtherNodes","updateGroupsFromChildrenSelections","setLastSelectedNode","groupsSelectChildren","lastSelectedNode","nodesToSelect","getNodesInRangeForSelection","nodeWasSelected","isParentOfNode","potentialParent","childrenAfterFilter","onMouseEnter","EVENT_MOUSE_ENTER","onMouseLeave","EVENT_MOUSE_LEAVE","getFirstChildOfFirstChild","rowGroupColumn","currentRowNode","isCandidate","foundFirstChildPath","nodeToSwapIn","parentRowNode","isFullWidthCellFunc","__extends$9","__decorate$h","AgAbstractLabel","labelSeparator","labelAlignment","config","label","labelWidth","setLabelSeparator","setLabelWidth","setLabelAlignment","refreshLabel","innerText","alignment","__extends$a","AgAbstractField","disabled","callbackFn","EVENT_CHANGED","getWidth","setWidth","isDisabled","__extends$b","__decorate$i","AgAbstractInputField","setInputType","eWrapper","inputId","htmlFor","addInputListeners","inputType","setInputWidth","setInputName","setMaxLength","maxLength","removeAttribute","__extends$c","__decorate$j","AgCheckbox","displayTag","onCheckboxClick","getNextValue","setPassive","isReadOnly","setReadOnly","toggle","dispatchChange","refreshSelectedClass","input","checkboxChangedEvent","__extends$d","__decorate$k","CheckboxSelectionComponent","onSelectionChanged","onSelectableChanged","showOrHideSelect","onCheckedClicked","onUncheckedClicked","checkboxVisibleIsDynamic","checkboxCallbackExists","DateComponent","propertyName","isCellRenderer","HeaderComponent","HeaderGroupComponent","GroupRowInnerRendererComponent","CellRendererComponent","PinnedRowCellRendererComponent","CellEditorComponent","InnerRendererComponent","LoadingOverlayComponent","NoRowsOverlayComponent","TooltipComponent","FilterComponent","FloatingFilterComponent","ToolPanelComponent","StatusPanelComponent","__decorate$l","ComponentSource","UserComponentFactory","createAndInitUserComponent","newHeaderComponent","newHeaderGroupComponent","newFullWidthGroupRowInnerCellRenderer","newFullWidthCellRenderer","cellRendererType","cellRendererName","newCellRenderer","newCellEditor","newInnerCellRenderer","newLoadingOverlayComponent","newNoRowsOverlayComponent","newTooltipComponent","newFilterComponent","defaultFilter","modifyParamsCallback","newSetFilterCellRenderer","newFloatingFilterComponent","defaultFloatingFilter","newToolPanelComponent","toolPanelDef","newStatusPanelComponent","definitionObject","paramsFromGrid","defaultComponentName","componentAndParams","createComponentInstance","componentInstance","createFinalParams","paramsFromSelector","addReactHacks","paramsAfterCallback","deferredInit","initComponent","asPromise","agGridReact","createUserComponentFromConcreteClass","clazz","agGridParams","internalComponent","lookupComponentClassDef","hardcodedNameComponent","HardcodedJsComponent","hardcodedJsFunction","HardcodedFwComponent","componentSelectorFunc","componentPropertyValue","usingDefaultComponent","agComponentUtils","doesImplementIComponent","componentFromFramework","HARDCODED","adaptFunction","selectorResult","componentNameToUse","registeredCompClassDef","lookupFromRegisteredComponents","componentNameOpt","registeredComponent","userComponentRegistry","retrieve","REGISTERED_BY_NAME","RegisteredComponentSource","REGISTERED","DEFAULT","userParams","holder","paramsForSelector","componentToUse","overrideName","nameToReport","FrameworkComponentRaw","thisComponentConfig","componentMetadataProvider","wrap","mandatoryMethodList","optionalMethodList","__extends$e","__decorate$m","GroupCellRenderer","assignBlankValueToGroupFooterCell","embeddedRowMismatch","isEmbeddedRowMismatch","nullValue","skipCell","rowGroupColumnId","cellIsBlank","setupDragOpenParents","addExpandAndContract","addCheckboxIfNeeded","addValueElement","setupIndent","fullWidth","pinnedLeftCell","pinnedRightCell","bodyCell","setIndent","paddingCount","userProvidedPaddingPixelsTheDeprecatedWay","setPaddingDeprecatedWay","indentClass","paddingPx","paddingSide","suppressPadding","displayedGroup","createFooterCell","createGroupCell","addChildCount","createLeafCell","footerValueGetter","footerValue","paramsClone","eValue","columnToUse","groupName","valueFormatted","valueFormatterService","scope","rendererPromise","useFullWidth","useInnerRenderer","innerCellRenderer","groupCellRendererParams","groupedColumnDef","groupInnerRendererClass","groupColumnRendererClass","rendererToUse","suppressCount","updateChildCount","eChildCount","isUserWantsSelected","paramsCheckbox","checkbox","checkboxNeeded","cbSelectionComponent_1","eGroupCell","eGridCell","eExpandedIcon","eContractedIcon","eExpanded","eContracted","onExpandClicked","onKeyDown","showExpandAndContractIcons","onAllChildrenCountChanged","suppressDoubleClickExpand","onCellDblClicked","enterKeyPressed","suppressEnterExpand","cellEditable","onExpandOrContract","draggedFromHideOpenParents","targetIsExpandIcon","reducedLeafNode","pivotModeAndLeafGroup","notExpandable","addLeafIndentClass","refresh","__extends$f","__decorate$n","ARROW_UP","ARROW_DOWN","AnimateShowChangeCellRenderer","refreshCount","eDelta","showDelta","absDelta","valueToUse","deltaUp","setTimerToRemoveDelta","refreshCountCopy","hideDeltaValue","lastValue","filterManager","isSuppressFlashingCellsBecauseFiltering","__extends$g","__decorate$o","AnimateSlideCellRenderer","eCurrent","addSlideAnimation","ePrevious","__extends$h","__decorate$p","LoadingCellRenderer","eLoadingIcon","eLoadingText","__extends$i","__decorate$q","SelectCellEditor","valueFormattedExits","eSelect","stopEditing","__extends$j","PopupTextCellEditor","__extends$k","PopupSelectCellEditor","__extends$l","__decorate$r","LargeTextCellEditor","eTextArea","setCols","setRows","rows","stopPropagation","__extends$m","__decorate$s","NumberFilter","filterTo","eValueFrom1","eValueFrom2","eValueTo1","eValueTo2","eValueFrom","eValueTo","addValueChangedListeners","isRange1","isRange2","stringToFloat","valueTo","filterText","newFilter","showFrom1","showTo1","showFrom2","showTo2","__extends$n","__decorate$t","LoadingOverlayComponent$1","DEFAULT_LOADING_OVERLAY_TEMPLATE","localisedTemplate","__extends$o","__decorate$u","NoRowsOverlayComponent$1","DEFAULT_NO_ROWS_TEMPLATE","__extends$p","TooltipComponent$1","__extends$q","__decorate$v","DefaultDateComponent","shouldUseBrowserDatePicker","eDateInput","activeElement","browserDatePicker","__extends$r","SimpleFloatingFilter","getTextFromModel","con1Str","conditionToString","con2Str","condition","isEventFromFloatingFilter","getLastType","lastType","setLastTypeFromModel","canWeEditAfterModelFromParentFilter","isTypeEditable","setEditable","__extends$s","__decorate$w","DateFloatingFilter","createDateComponent","eReadOnlyText","eDateWrapper","onParentModelChanged","allowEditing","dateModel","filterValueDate","filterValueText","parentFilterInstance","filterInstance","simpleFilter","__extends$t","__decorate$x","TextFilter","inputField","eValue1","eValue2","textFilterParams","textCustomComparator","DEFAULT_COMPARATOR","formatter","textFormatter","caseSensitive","DEFAULT_FORMATTER","DEFAULT_LOWERCASE_FORMATTER","showValue1","showValue2","cellValueFormatted","filterTextFormatted","__extends$u","__decorate$y","TextInputFloatingFilter","modelString","eFloatingFilterInput","toDebounce","syncUpWithParentFilter","filterGui","columnDef","__extends$v","NumberFloatingFilter","isRange","__extends$w","TextFloatingFilter","__decorate$z","UserComponentRegistry","agGridDefaults","agDateInput","agColumnHeader","agColumnGroupHeader","agTextColumnFloatingFilter","agNumberColumnFloatingFilter","agDateColumnFloatingFilter","agAnimateShowChangeCellRenderer","agAnimateSlideCellRenderer","agGroupCellRenderer","agGroupRowRenderer","agLoadingCellRenderer","agCellEditor","agTextCellEditor","agSelectCellEditor","agPopupTextCellEditor","agPopupSelectCellEditor","agLargeTextCellEditor","agTextColumnFilter","agNumberColumnFilter","agDateColumnFilter","agLoadingOverlay","agNoRowsOverlay","agTooltipComponent","agDeprecatedNames","newComponentName","propertyHolder","animateShowChange","animateSlide","largeText","popupSelect","popupText","richSelect","jsComponents","registerComponent","registerFwComponent","registerDefaultComponent","rawName","translateIfDeprecated","raw","deprecatedInfo","ChangedPath","keepingColumns","rootNode","nodeIdsToColumns","mapToItems","pathRoot","setInactive","isActive","depthFirstSearchChangedPath","pathItem","depthFirstSearchEverything","traverseEverything","forEachChangedNodeDepthFirst","traverseLeafNodes","executeFromRootNode","createPathItems","newEntryCount","newEntry","populateColumnsMap","linkPathItems","thisItem","parentItem","addParentNode","canSkip","getValueColumnsForNode","colsForThisNode","getNotValueColumnsForNode","__decorate$A","__param$4","SelectionController","events","onRowSelected","getSelectedNodes","selectedNodes","getSelectedRows","selectedRows","removeGroupsFromSelection","changedPath","clientSideRowModel","getRootNode","getNodeForIdIfSelected","rowNodeToKeepSelected","groupsToRefresh","otherRowNode","syncInOldRowNode","syncInNewRowNode","oldNodeHasDifferentId","oldNodeSelected","getBestCostNodeSelection","topLevelNodes","getTopLevelNodes","traverse","l","setRowModel","nodeId","deselectAllRowNodes","justFiltered","rowModelClientSide","forEachNodeAfterFilter","selectAllRowNodes","forEachNode","selectNode","tryMulti","deselectIndex","getRow","deselectNode","selectIndex","__decorate$B","ColumnApi","columnState","isPinning","getAllColumns","setColumnWidth","getPrimaryColumns","hideColumns","hideColumn","setState","getState","resetState","getAggregationColumns","removeAggregationColumn","removeAggregationColumns","addAggregationColumn","addAggregationColumns","setColumnAggFunction","getDisplayNameForCol","CellRangeType","__decorate$C","DragSourceType","VerticalDirection","HorizontalDirection","DragAndDropService","dragSourceAndParamsList","dropTargets","DragAndDropService_1","ePinnedIcon","eHideIcon","eMoveIcon","eLeftIcon","eRightIcon","eGroupIcon","eAggregateIcon","ePivotIcon","eDropNotAllowedIcon","addDragSource","dragSource","allowTouch","dragStartPixels","onDragStart","onDragStop","onDragging","dragService","removeDragSource","sourceAndParams","nudge","eventLastTime","dragItem","getDragItem","lastDropTarget","dragSourceDropTarget","onDragStarted","createGhost","onDragStopped","draggingEvent","createDropTargetEvent","removeGhost","fromNudge","hDirection","getHorizontalDirection","vDirection","getVerticalDirection","positionGhost","dropTarget","isMouseOnDropTarget","leaveLastTargetIfExists","enterDragTargetIfExists","onDragEnter","dragEnterEvent","setGhostIcon","getIconName","onDragLeave","dragLeaveEvent","getAllContainersFromDropTarget","containers","getContainer","secondaryContainers","getSecondaryContainers","mouseOverTarget","rect","getBoundingClientRect","horizontalFit","verticalFit","top","bottom","isInterestedIn","addDropTarget","removeDropTarget","hasExternalDropZones","zones","external","findExternalZone","externalTargets","zone","eClientX","Left","Right","eClientY","Up","Down","dropZoneTarget","ghost","eGhost","ghostRect","ghostHeight","browserWidth","browserHeight","pageY","pageX","usrDocument","windowScrollY","pageYOffset","scrollTop","windowScrollX","pageXOffset","eGhostParent","GHOST_TEMPLATE","eGhostIcon","dragItemName","shake","defaultIconName","ICON_NOT_ALLOWED","ICON_PINNED","ICON_MOVE","ICON_LEFT","ICON_RIGHT","ICON_GROUP","ICON_AGGREGATE","ICON_PIVOT","ICON_HIDE","__extends$x","__decorate$D","RowDragComp","beans","checkCompatibility","strategy","ManagedVisibilityStrategy","NonManagedVisibilityStrategy","getSelectedCount","multiRowEnabled","selection","managed","defaultTextValue","RowDrag","dragItemCount","dragAndDropService","VisibilityStrategy","setDisplayedOrVisible","neverDisplayed","shown","isShownSometimes","onSuppressRowDrag","workOutVisibility","rowDragFeature","gridPanel","getRowDragFeature","shouldPreventRowMove","__extends$y","__decorate$E","PopupEditorWrapper","getGuiCalledOnChild","DOM_KEY_POPUP_EDITOR_WRAPPER","isCancelBeforeStart","isCancelAfterEnd","__extends$z","__decorate$F","DndSourceComp","eCell","checkVisibility","dragEvent","providedOnRowDrag","dataTransfer","setDragImage","defaultOnRowDrag","jsonData","__extends$A","__decorate$G","TooltipStates","TooltipFeature","DEFAULT_HIDE_TOOLTIP_TIMEOUT","SHOW_QUICK_TOOLTIP_DIFF","FADE_OUT_TOOLTIP_TIMEOUT","NOTHING","tooltipInstanceCount","onMouseMove","onMouseDown","setToDoNothing","delay","isLastTooltipHiddenRecently","showTooltipTimeoutId","showTooltip","lastMouseEvent","WAITING_TO_SHOW","SHOWING","hideTooltip","clearTimeouts","tooltipComp","positionTooltipUnderLastMouseEvent","destroyTooltipComp","lastTooltipHideTime","tooltipPopupDestroyFunc","tooltipText","getTooltipText","getComponentHolder","getCellPosition","newTooltipComponentCallback","tooltipInstanceCopy","compNoLongerNeeded","popupService","addPopup","hideTooltipTimeoutId","positionPopupUnderMouseEvent","ePopup","nudgeY","__extends$B","__assign$1","CellComp","rowComp","autoHeightCell","printLayout","hasChartRange","editingCell","suppressRefreshCell","cellEditorVersion","cellRendererVersion","createGridCellVo","rangeSelectionEnabled","rangeController","focusController","isCellFocused","cellPosition","rangeCount","getCellRangeCount","getHasChartRange","getValueAndFormat","setUsingWrapper","chooseCellRenderer","setupColSpan","getCreateTemplate","unselectable","templateParts","getCellWidth","modifyLeftForPrintLayout","getCellLeft","valueToRender","getInitialValueToRender","valueSanitised","getToolTip","tooltipSanitised","colIdSanitised","wrapperStartTemplate","wrapperEndTemplate","stylesFromColDef","preProcessStylesFromColDef","getInitialCssClasses","stylesForRowSpanning","getStylesForRowSpanning","colIdxSanitised","getAriaColumnIndex","usingWrapper","singleRowHeight","totalRowHeight","afterAttached","eParentRow","addDomData","populateTemplate","createCellRendererInstance","angular1Compile","refreshHandle","onColumnHover","isHovered","columnHoverService","onCellChanged","eventImpactsThisCell","refreshCell","mostLeftCol","colsSpanning","onFlashCells","cellId","cellPositionUtils","createId","shouldFlash","cells","animateCell","onDisplayColumnsChanged","onWidthChanged","getColSpanningList","onLeftChanged","refreshAriaIndex","colIdx","eCellValue","doingFocusCss","preProcessClassesFromColDef","preProcessCellClassRules","getInitialRangeClasses","usingCellRenderer","cellRendererGui","templateUrl","templateService","getTemplate","getValueToUse","getRenderedRow","getCellRenderer","getCellEditor","suppressFlash","forceRefresh","valuesDifferent","valuesAreEqual","dataNeedsUpdating","cellRendererRefreshed","attemptCellRendererRefresh","replaceContentsAfterRefresh","processingFilterChange","flashCell","postProcessStylesFromColDef","postProcessClassesFromColDef","updateAngular1ScopeAndCompile","refreshToolTip","postProcessCellClassRules","cssName","fullName","animationFullName","eParentOfValue","putDataIntoCellAfterRefresh","childElementCount","compiledElement_1","$compile","processStylesFromColDef","cssToUse","cellStyleParams","$scope","cellStyleFunc","processClassesFromColDef","onApplicableClass","stylingService","processStaticCellClasses","createCellRendererParams","finalParams","newTooltip","hasNewTooltip","hadTooltip","equalsMethod","processCellClassRules","onNotApplicableClass","processClassRules","includeSelectionComponent","includeRowDraggingComponent","includeDndSourceComponent","cbSelectionIsFunc","rowDraggableIsFunc","dndSourceIsFunc","enableTextSelection","CELL_RENDERER_TYPE_PINNED","CELL_RENDERER_TYPE_NORMAL","useTaskService","afterCellRendererCreated","cellRendererTypeNormal","createCellRendererFunc","componentPromise","taskQueue","createTask","addRowCompListener","addRenderedRowListener","lockedClosedGroup","isOpenGroup","groupFootersEnabled","groupAlwaysShowAggData","ignoreAggData","onMouseEvent","onMouseOut","onMouseOver","dispatchCellContextMenuEvent","cellContextMenuEvent","domEvent","cellMouseOutEvent","clearMouseOver","cellMouseOverEvent","setMouseOver","cellDoubleClickedEvent","editOnDoubleClick","startRowOrCellEdit","startRowEditing","startEditingIfEnabled","afterCellEditorCreated","createCellEditorParams","createCellEditor","cellEditorAsync","focusCell","cellEditorPromise","popupEditorWrapper","versionMismatch","render","cellEditorInPopup","setInlineEditingClass","addPopupCellEditor","addInCellEditor","ePopupGui","useModelPopup","hideEditorPopup","onPopupEditorClosed","keepWithinBounds","getPopupPosition","positionPopupOverComponent","positionPopupUnderComponent","stopRowOrCellEdit","editingInline","popupEditorShowing","stopEditingAndFocus","suppressNavigateAfterEdit","navigateAfterEdit","forceBrowserFocus","setFocusedCell","setFocusInOnEditor","isEditing","onEnterKeyDown","onF2KeyDown","onEscapeKeyDown","onTabKeyDown","onBackspaceOrDeleteKeyPressed","onNavigationKeyPressed","setFocusOutOnEditor","onShiftRangeSelect","rowRenderer","endCell","extendLatestRangeInDirection","ensureCellVisible","fullRowEdit","onKeyPress","eventTarget","eventOnChildComponent","onSpaceKeyPressed","newSelection","isRightClickInExistingRange","getCellRanges","containsWidget","thisCell","extendLatestRangeToCell","ctrlKeyPressed","setRangeToCell","cellInRange","isCellInAnyRange","isDoubleClickOnIPad","nowMillis","lastIPadMouseClickEvent","cellClickedEvent","editOnSingleClick","getParentRow","setParentRow","detach","cancelTask","selectionHandle","leftPosition","leftWidth_1","getRangeBorders","isRtl","thisCol","leftCol","rightCol","ranges","isCellInSpecificRange","startRow","getRangeStartRow","endRow","getRangeEndRow","rowPositionUtils","sameRow","classes","isSingleCell","borders","onRowIndexChanged","onCellFocused","onRangeSelectionChanged","newRangeCount","updateRangeBorders","cellRanges","DIMENSION","VALUE","shouldHaveSelectionHandle","rangesLen","cellRange","fillHandleIsAvailable","hasCategoryRange","isCategoryCell","isContiguousRange","isBottomRightCell","addSelectionHandle","cellRangeType","updateRangeBordersIfRangeCount","rangeBorders","isTop","isRight","isBottom","isLeft","onFirstRightPinnedChanged","onLastLeftPinnedChanged","eCellWrapper","addRowDragging","addDndSource","addSelectionCheckbox","clientSideRowModelActive","rowDraggingComp","dndSourceComp","cbSelectionComponent","visibleFunc","DOM_DATA_KEY_CELL_COMP","isMoreThanOneCell","stopRowEditing","newValueExists","userWantsToCancel","__extends$C","__assign$2","RowComp","parentScope","bodyContainerComp","pinnedLeftContainerComp","pinnedRightContainerComp","fullWidthContainerComp","animateIn","useAnimationFrameForCreate","embedFullWidth","eAllRowContainers","rowContainerReadyCount","refreshNeeded","columnRefreshPending","cellComps","createSecondPassFuncs","removeFirstPassFuncs","removeSecondPassFuncs","initialised","elementOrderChanged","lastMouseDownOnDragger","rowIsEven","paginationPage","paginationProxy","getCurrentPage","setAnimateFlags","rowFocused","isRowFocused","createChildScopeOrNull","setupRowContainers","addListeners","slideRowIn","onTopChanged","fadeRowIn","eRow","createTemplate","contents","extraCssClass","rowClasses","getInitialRowClasses","rowIdSanitised","userRowStyles","preProcessStylesFromGridOptions","businessKey","getRowBusinessKey","businessKeySanitised","rowTopStyle","getInitialRowTopStyle","rowIdx","headerRowCount","headerRootComp","getCellForCol","cellComp","afterFlush","executeProcessRowPostCreateFunc","eBodyRow","ePinnedLeftRow","ePinnedRightRow","pixels","roundRowTopToBounds","afterPaginationPixels","applyPaginationOffset","afterScalingPixels","maxDivHeightScaler","getRealPixelPosition","businessKeyForNodeFunc","areAllContainersReady","lazyCreateCells","cellTemplatesAndComps","createCells","callAfterRowAttachedOnCells","refreshCells","createRowContainer","rowContainerComp","useAnimationsFrameForCreate","rowTemplate","appendRowTemplate","getRowElement","afterRowAttached","newChildScope","$new","$destroy","isDetailCell","doingMasterDetail","isGroupRow","isFullWidthGroup","stub","createFullWidthRows","LOADING_CELL_RENDERER","LOADING_CELL_RENDERER_COMP_NAME","DETAIL_CELL_RENDERER","DETAIL_CELL_RENDERER_COMP_NAME","FULL_WIDTH_CELL_RENDERER","GROUP_ROW_RENDERER","GROUP_ROW_RENDERER_COMP_NAME","setupNormalRowContainers","centerCols","leftCols","rightCols","fullWidthRow","createFullWidthRowContainer","eFullWidthRowBody","fullWidthRowComponentBody","eFullWidthRowLeft","fullWidthRowComponentLeft","eFullWidthRowRight","fullWidthRowComponentRight","eFullWidthRow","fullWidthRowComponent","oldRowTopExists","editingRow","isFullWidth","refreshFullWidth","tryRefresh","eCellComp","createFullWidthParams","refreshSucceeded","normalSuccess","bodySuccess","leftSuccess","rightSuccess","allFullWidthRowsRefreshed","onRowHeightChanged","onExpandedChanged","onRowNodeDataChanged","onRowNodeCellChanged","onRowNodeHighlightChanged","onRowNodeDraggingChanged","onDisplayedColumnsChanged","onVirtualColumnsChanged","onColumnResized","onCellFocusChanged","onPaginationChanged","onGridColumnsChanged","onModelUpdated","onColumnMoved","addListenersForCellComps","forEachCellComp","removeRenderedCells","postProcessCss","postProcessStylesFromGridOptions","postProcessClassesFromGridOptions","postProcessRowClassRules","postProcessRowDragging","destroyFullWidthComponents","detailRowCompCache","addOrDestroy","getContainerForCell","pinnedType","skipAnimationFrame","refreshCellsInAnimationFrame","insertCellsIntoContainer","colIdsToRemove","eligibleToBeRemoved","isCellEligibleToBeRemoved","indexStr","REMOVE_CELL","KEEP_CELL","isCellInWrongRow","focused","mightWantToKeepCell","cellStillDisplayed","ensureCellInCorrectContainer","eOldContainer","inWrongRow","rowWeWant","oldRow","cellTemplates","newCellComps","existingCell","createNewCell","correctChildOrder","eRowContainer","gow","DOM_DATA_KEY_RENDERED_ROW","newCellComp","cellTemplate","onRowDblClick","onRowClick","onRowMouseDown","createRowEvent","createRowEventWithSource","agEvent","stop","multiSelectKeyPressed","shiftKeyPressed","multiSelectOnClick","rowDeselectionWithCtrl","eRowCallback","cellRendererCallback","cachedRowComp","masterDetailModuleLoaded","addExpandedClass","processClassesFromGridOptions","preProcessRowClassRules","firstRowOnPage","isFirstRowOnPage","lastRowOnPage","isLastRowOnPage","getPageFirstRow","getPageLastRow","newFirst","newLast","processRowClassRules","setEditingRow","sourceRenderedCell","classStr","rowCls","rowClassFunc","rowClassFuncResult","rowStyles","processStylesFromGridOptions","rowStyleFunc","rowStyleFuncResult","templateAndComps","removeRowElement","addHoverFunctionality","getVScrollPosition","minPixel","maxPixel","heightPx_1","animate","destroyContainingCells","delayedDestroyFunctions","getAndClearDelayedDestroyFunctions","currentPage","topPx","pixelOffset","getPixelOffset","multiplier","topPx_1","getAndClearNextVMTurnFunctions","getRowNode","getRenderedCellForColumn","spanList","cmp","updateRowIndexes","rowIndexStr","rowIsEvenChanged","sides","getBodyRowElement","ct","getPinnedLeftRowElement","getPinnedRightRowElement","getFullWidthRowElement","side","__extends$D","__decorate$H","__param$5","RowRenderer","destroyFuncsForColumnListeners","rowCompsByIndex","floatingTopRowComps","floatingBottomRowComps","refreshInProgress","registerGridCore","gridCore","getGridCore","registerGridComp","rowContainers","getRowContainers","onPageLoaded","onPinnedRowDataChanged","redrawAfterScroll","onDomLayoutChanged","registerCellEventListeners","redrawAfterModelUpdate","refreshListenersToColumnsForCellComps","removeGridColumnListeners","forEachCellWithThisCol","leftChangedListener","widthChangedListener","firstRightPinnedChangedListener","lastLeftPinnedChangedListener","destroyRows","datasourceChanged","firstRenderedRow","lastRenderedRow","rowIndexesToRemove","removeRowComps","refreshEvent","keepRenderedRows","newPage","getAllCellsForColumn","eCells","refreshFloatingRowComps","refreshFloatingRows","pinnedRowModel","floatingTopPinnedLeft","floatingTopPinnedRight","floatingTop","floatingTopFullWidth","floatingBottomPinnedLeft","floatingBottomPinnedRight","floatingBottom","floatingBottomFullWidth","rowComps","flushContainers","recycleRows","onlyBody","getRenderedIndexesForRowNodes","renderedRow","indexesToRemove","getCellToRestoreFocusToAfterRefresh","focusedCell","suppressKeepFocus","getFocusCellToUseAfterRefresh","elementIsNotACellDev","getLockOnRefresh","sizeContainerToPageHeight","scrollToTopIfNewData","rowsToRecycle","binRowComps","redraw","restoreFocusedCell","releaseLockOnRefresh","scrollToTop","suppressScrollToTop","pinnedLeft","pinnedRight","setHeight","containerHeight","getCurrentPageHeight","setModelHeight","realHeight","getUiContainerHeight","forEachRowComp","forEachCellCompFiltered","refreshCellParams","force","getCellRendererInstances","getCellEditorInstances","getEditingCells","rowIdsMap","normal","colIdsMap","processRow","floating","excludeColFromRefresh","rowsToRemove","indexToRemove","removeRowCompsNotToDraw","indexesToDraw","indexesToDrawMap","existingIndexes","indexesNotToDraw","calculateIndexesToDraw","checkRowToDraw","doNotUnVirtualiseRow","afterScroll","updateOffset","workOutFirstAndLastRowsToRender","nextVmTurnFunctions","createOrUpdateRowComp","useAnimationFrame","addDestroyTask","destroyRowComps","checkAngularCompile","updateRowCount","flushRowTemplates","pinningLeft","pinningRight","redrawFullWidthEmbeddedRows","refreshFullWidthRows","fullWidthRowsRefreshed","creatingNewRowComp","createRowComp","rowCompsMap","delayedFuncs","$apply","isRowsToRender","paginationOffset","getOffset","bodyVRange","bodyTopPixel","bodyBottomPixel","bufferPixels","firstPixel","lastPixel","ensureAllRowsInRangeHaveHeightsCalculated","firstRowIndex","getRowIndexAtPixel","lastRowIndex","pageFirstRow","pageLastRow","rowLayoutNormal","suppressRowCountRestriction","rowBufferMaxSize","firstDiffers","lastDiffers","firstRow","lastRow","topPixel","bottomPixel","rowHeightsChanged","ensureRowHeightsValid","getFirstVirtualRenderedRow","getLastVirtualRenderedRow","REMOVE_ROW","KEEP_ROW","rowHasFocus","isRowNodeFocused","rowIsEditing","rowIsDetail","mightWantToKeepRow","rowNodePresent","isRowPresent","getRenderedNodes","renderedRows","currentCell","allowUserOverride","nextCell","getLastCellOfColSpan","cellNavigationService","getNextCellToFocus","hitEdgeOfGrid","usingFullWidthRows","previousCellPosition","nextCellPosition","userCell","getComponentForCell","cell","colSpanningList","gridCell","ensureIndexVisible","ensureColumnVisible","horizontallyScrollHeaderCenterAndFloatingCenter","startEditingCell","rowComponent","cellComponent","gridRow","previousRenderedCell","backwards","moveToCellAfter","getFocusedCell","moveToNextEditingRow","moveToNextEditingCell","moveToNextCellNotEditing","nextRenderedCell","findNextCellToFocusOn","foundCell","moveEditToNextCellOrRow","pGridCell","nGridCell","rowsMatch","pRow","nRow","startEditing","getNextTabbedCell","lookupRowNodeForCell","cellIsEditable","cellIsNotFloating","nextCellComp","getPinnedTopRow","getPinnedBottomRow","CssClassApplier","addHeaderClassesFromColDef","eHeaderCell","addColumnClassesFromCollDef","addToolPanelClassesFromColDef","classesOrFunc","classToUse","headerClassFunc","cssClassItem","__extends$E","__decorate$I","HoverFeature","addMouseHoverListeners","__extends$F","SetLeftFeature","ariaEl","setColsSpanning","getColumnOrGroup","setLeftFirstTime","suppressMoveAnimation","oldLeftExists","animateColumnMove","animateInLeft","actualLeft","colOrGroup","colIndex","__extends$G","__decorate$J","SelectAllFeature","cbSelectAll","cbSelectAllVisible","processingEventFromCheckbox","filteredOnly","showOrHideSelectAll","onModelChanged","onCbSelectAll","isCheckboxSelection","checkRightRowModelType","updateStateOfCheckbox","getNextCheckboxState","selectionCount","notSelected","getSelectionCount","allSelected","selectedCount","notSelectedCount","rowModelMatches","__extends$H","__decorate$K","HeaderWrapperComp","isMenuEnabled","appendHeaderComp","setupWidth","setupMovingCss","setupTooltip","setupResize","setupMenuClass","setupSortableClass","addColumnHoverListener","addMouseListeners","setLeftFeature","addAttributes","onMouseOverOut","headerComp","showColumnMenu","showColumnMenuAfterButtonClick","setSortForColumn","afterHeaderCompCreated","setupMove","onColumnMovingChanged","eHeaderCellLabel","suppressMove","dragSource_1","HeaderCell","createDragItem","visibleState","eResize","finishedWithResizeFunc","horizontalResizeService","addResizeBar","eResizeBar","onResizeStart","onResizing","onResizeEnd","weWantAutoSize","resizeAmount","resizeAmountNormalised","normaliseResizeAmount","resizeStartWidth","resizeWithShiftKey","onColumnWidthChanged","onMenuVisible","dragChange","__extends$I","__decorate$L","HeaderGroupWrapperComp","childColumnsDestroyFuncs","appendHeaderGroupComp","addClasses","headerGroupComp","eHeaderGroup","isSuppressMoving","getDragItemForGroup","allColumnsOriginalOrder","allColumnsCurrentOrder","childSuppressesMoving","addListenersToChildrenColumns","onDisplayedChildrenChanged","destroyListenersOnChildrenColumns","eHeaderCellResize","skipHeaderOnAutoSize_1","resizeCols","resizeRatios","takeFromGroup","takeFromLeafCols","resizeTakeFromCols","resizeTakeFromStartWidth","resizeTakeFromRatios","normaliseDragChange","__extends$J","__decorate$M","ReadOnlyFloatingFilter","eFloatingFilterText","parentModel","getModelAsString","modelAsString","__extends$K","__decorate$N","FloatingFilterWrapper","setupFloatingFilter","setupLeftPositioning","setupColumnHover","eButtonShowMainFilter","showParentFilter","floatingFilterCompPromise","getFloatingFilterInstance","compInstance","setupWithFloatingFilter","setupSyncWithFilter","setupEmpty","syncWithFilter","getFilterComponent","floatingFilterComp","disposeFunc","floatingFilterCompUi","eFloatingFilterBody","suppressFilterButton","eButtonWrapper","defaultFloatingFilterType","filterToFloatingFilterNames","setFilterModuleLoaded","SetFilterModule","createFilterParams","finalFilterParams","currentParentModel","filterComponent","getFilterComponentPrototype","getModelAsStringExists","createDynamicParams","resolvedComponent","comp","agSetColumnFilter","__extends$L","__decorate$O","HeaderRowType","HeaderRowComp","headerComps","niceClassName","forEachHeaderElement","idsOfAllChildren","removeAndDestroyChildComponents","idsToDestroy","childHeaderComp","sizes","numberOfFloating","groupHeight","numberOfNonGroups","numberOfGroups","getWidthForRow","centerRow","removeAndDestroyAllChildComponents","getItemsAtDepth","centerContainer","result_1","FLOATING_FILTER","currentChildIds","correctChildIds","itemsAtDepth","idOfChild","eParentContainer","colAlreadyInDom","eHeaderCompGui","createHeaderComp","columnGroupChild","COLUMN","COLUMN_GROUP","__decorate$P","MoveColumnController","needToMoveLeft","needToMoveRight","dragCameFromToolPanel","ToolPanel","visibleState_1","hideColumnOnExit","ensureIntervalCleared","allowedCols","normaliseX","getCenterViewportScrollLeft","checkCenterForScrolling","xAdjustedForScroll","firstVisiblePixel","lastVisiblePixel","getCenterWidth","ensureIntervalStarted","fromEnter","lastDraggingEvent","mouseXNormalised","hDirectionNormalised","normaliseDirection","dragSourceType","attemptMoveColumns","calculateOldIndex","movingCols","gridCols","firstIndex","gapsExist","allMovingColumns","mouseX","draggingLeft","draggingRight","validMoves","calculateValidMoves","firstValidMove","constrainDirection","move","isMoveBlocked","allDisplayedCols","allGridCols","movingDisplayedCols","otherDisplayedCols","otherGridCols","displayIndex","availableWidth","widthOfMovingDisplayedCols_1","leftColumn","displacedCol","isColumnHidden","firstDisplayIndex","movingIntervalId","intervalCount","failedMoveAttempts","setInterval","moveInterval","clearInterval","pixelsToMove","pixelsMoved","scrollHorizontally","columnsThatCanPin","pinType","__decorate$Q","BodyDropPivotTarget","columnsToAggregate","columnsToGroup","columnsToPivot","clearColumnsList","dragColumns","totalColumns","__decorate$R","DropType","BodyDropTarget","dropListeners","moveColumnController","eSecondaryContainers","getDropTargetLeftContainers","getDropTargetRightContainers","getDropTargetBodyContainers","bodyDropPivotTarget","ColumnMove","Pivot","currentDropListener","getDropType","dropType","__decorate$S","HeaderContainer","eViewport","headerRowComps","setupDragAndDrop","headerRowComp","onColumnValueChanged","onColumnRowGroupChanged","onScrollVisibilityChanged","setWidthOfPinnedContainer","controller","addPaddingForScrollbar","scrollVisibleService","removeHeaderRowComps","getRowComps","removeAndCreateAllRowComps","createHeaderRowComps","gridComp","dropContainer","bodyDropTarget","rowCount","groupRow","__extends$M","__decorate$T","HeaderRootComp","childContainers","registerHeaderRootComp","eHeaderContainer","eHeaderViewport","pinnedLeftContainer","ePinnedLeftHeader","pinnedRightContainer","ePinnedRightHeader","refreshHeader","onPivotModeChanged","addPreventHeaderScroll","setHorizontalScroll","offset","childContainer","px","setHeaderContainerWidth","setLeftVisible","setRightVisible","__decorate$U","FilterManager","allFilters","quickFilter","quickFilterParts","eventListenerDestroyers","FilterManager_1","onNewColumnsLoaded","parseQuickFilter","setQuickFilterParts","checkExternalFilter","setFilterModel","allPromises","modelKeys_1","filterWrapper","newModel","setModelOnFilterWrapper","filterPromise","getOrCreateFilterWrapper","getFilterModel","isAdvancedFilterPresent","advancedFilterPresent","setAdvancedFilterPresent","atLeastOneActive","updateFilterFlagInColumns","isAnyFilterPresent","isQuickFilterPresent","externalFilterPresent","filterToSkip","parsedFilter","onAnyFilterChanged","doesRowPassOtherFilters","doesRowPassFilter","doesRowPassQuickFilterNoCache","filterPart","getQuickFilterTextForColumn","doesRowPassQuickFilterCache","aggregateRowForQuickFilter","doesRowPassQuickFilter","usingCache","stringParts","QUICK_FILTER_SEPARATOR","createValueGetter","cachedFilter","createFilterWrapper","putIntoGui","createFilterInstance","sanitisedColDef","doesRowPassOtherFilter","compiledElement","guiPromise","eFilterGui","guiFromFilter","atLeastOneFilterGone","oldColumn","disposeFilterWrapper","destroyFilter","__decorate$V","ValueService","cellExpressions","forFilter","groupDataExists","aggDataExists","executeFilterValueGetter","executeValueGetter","cellValueGetter","valueWasDifferent","setValueUsingField","valuesAreSame","fieldPieces","fieldPiece","getValueCallback","valueFromCache","otherColumn","getKeyForNode","__decorate$W","RowContainerComponent","rowTemplatesToAdd","afterGuiAttachedCallbacks","lastMadeVisibleTime","hideWhenNoChildren","setVerticalScrollPosition","verticalScrollPosition","checkDomOrder","domOrder","htmlToAdd","lastPlacedElement","isMadeVisibleRecently","millisSinceVisible","__assign$3","__decorate$X","__spreadArrays$4","RowDragFeature","isMultiRowDrag","isGridSorted","isGridFiltered","onRowGroupChanged","sortModel","getSortModel","rowGroups","managedDrag","getRowNodes","isFromThisGrid","currentNode","onEnterOrDragging","isDropZoneWithinThisGrid","gridGui","mouseEventService","getNormalisedPosition","doManagedDrag","getRowIndexNumber","highlightRowAtPixel","moveRows","moveRowAndClearHighlight","lastHighlightedRowNode","getLastHighlightedRowNode","isBelow","increment","getRowNodeId_1","addIndex","getHighlightPosition","updateRowData","clearRowHighlight","rowWasMoved","ensureRowsAtPixel","clearFocusedCell","removeAllCellRanges","pixelRange","needToMoveUp","needToMoveDown","scrollVertically","addRowDropZone","processedParams","fromGrid","draggingToRowDragEvent","getRowDropZone","yNormalised","mouseIsPastLastRow","overIndex","overNode","vDirectionString","stopDragging","__extends$N","__decorate$Y","GRID_PANEL_NORMAL_TEMPLATE","GridPanel","resetLastHorizontalScrollElementDebounced","resetLastHorizontalScrollElement","eBodyViewport","getHScrollPosition","eCenterViewport","onRowDataChanged","showOrHideOverlay","method","hideOverlay","suppressScrollOnFloatingRow","setupRowAnimationCssClass","buildRowContainerComponents","addEventListeners","addDragListeners","addScrollListener","showLoadingOverlay","setCellTextSelection","setPinnedContainerSize","setHeaderAndFloatingHeights","disableBrowserDragging","addKeyboardEvents","addBodyViewportListener","addStopEditingWhenGridLosesFocus","mockContextMenuForIPad","addRowDragListener","addAngularApplyCheck","onDisplayedColumnsWidthChanged","alignedGridsService","navigationService","heightScaler","paginationAutoPageSizeService","viewport","unsubscribeFromResize","resizeObserverService","observeResize","onCenterViewportResized","eTop","eBottom","relatedTarget","newPrintLayout","setWidthsOfContainers","checkViewportAndScrolls","bodyHeight","setColumnMovingCss","focusOutListener","elementWithFocus","clickInsideGrid","isBody","applyTriggered","HTMLImageElement","eLeftContainer","eRightContainer","eCenterContainer","eventNames","processMouseEvent","eAllCellContainers","processKeyboardEvent","onContextMenu","getBodyClientRect","getRowForEvent","gridProcessingAllowed","wasScrollKey","handlePageScrollingKey","doGridOperations","cellKeyDownEvent","cellKeyPressEvent","isEventFromThisGrid","onCtrlAndA","onCtrlAndC","onCtrlAndV","onCtrlAndD","undoRedoService","redo","undo","getRenderedCellForEvent","handleContextMenuMouseEvent","longTapListener","contextMenuFactory","eventOrTouch","isEmptyPinnedTop","isEmptyPinnedBottom","floatingStart","floatingEnd","rowEnd","getRowCount","setCellRange","rowStartIndex","rowStartPinned","rowEndIndex","rowEndPinned","columnStart","columnEnd","clipboardService","copyToClipboard","ClipboardModule","pasteFromClipboard","copyRangeDown","goToPageWithIndex","rowGotShiftedDuringOperation","startingRowTop","startingRowHeight","rowTopPixel","rowBottomPixel","heightOffset","vScrollTop","vScrollBottom","viewportHeight","pxTop","getScrollPositionForPixel","pxBottom","pxMiddle","rowBelowViewport","rowAboveViewport","newScrollPosition","updateScrollVisibleService","checkBodyHeight","onHorizontalViewportChanged","onBodyHorizontalScroll","updateScrollVisibleServiceImpl","horizontalScrollShowing","verticalScrollShowing","setScrollsVisible","setHorizontalScrollVisible","setVerticalScrollPaddingVisible","scrollSize","scrollContainerSize","addIEPadding","eHorizontalScrollBody","eBodyHorizontalScrollViewport","eBodyHorizontalScrollContainer","show","scroller","overflowY","setFakeHScrollSpacerWidths","headerCount","updateColumnCount","colLeftPixel","colRightPixel","viewportWidth","viewportLeftPixel","viewportRightPixel","viewportScrolledPastCol","viewportScrolledBeforeCol","colToSmallForViewport","alignColToLeft","alignColToRight","setCenterViewportScrollLeft","overlayWrapper","showNoRowsOverlay","nextTimeout","getCenterContainer","eTopViewport","eBottomViewport","eLeftBottom","eLeftTop","eRightBottom","eRightTop","eFullWidthContainer","rowContainerComponents","eCenterColsClipper","eTopContainer","eTopFullWidthContainer","eBottomContainer","eBottomFullWidthContainer","isScaling","resetTopScroll","resetBottomScroll","getFloatingTopBottom","setCenterWidth","pinnedContainerWidths","widthPx","setPinnedLeftWidth","oldPinning","widthOfCols","newPinning","setPinnedRightWidth","rightSpacing","scrollOnRight","eHorizontalRightSpacer","leftSpacing","scrollOnLeft","eHorizontalLeftSpacer","totalHeaderHeight","floatingTopHeight","getPinnedTopTotalHeight","floatingBottomHeight","getPinnedBottomTotalHeight","floatingTopHeightString","floatingBottomHeightString","display","setHorizontalScrollPosition","hScrollPosition","doHorizontalScroll","vScrollPosition","oldScrollPosition","onCenterViewportScroll","onFakeHorizontalScroll","onVerticalScroll","setScrollTop","redrawRowsAfterScroll","isControllingScroll","eDiv","lastHorizontalScrollElement","eSource","scrollWentPastBounds","direction","partner","addScrollEventListener","removeScrollEventListener","__decorate$Z","GridApi","detailGridInfoMap","infiniteRowModel","serverSideRowModel","__getAlignedGridService","addDetailGridInfo","gridInfo","removeDetailGridInfo","getDetailGridInfo","forEachDetailGridInfo","getDataAsCsv","CsvExportModule","csvCreator","exportDataAsCsv","getDataAsExcel","ExcelExportModule","excelCreator","getDataAsExcelXml","exportDataAsExcel","setEnterpriseDatasource","setServerSideDatasource","setViewportDatasource","immutableService","createTransactionForRowData","transaction","orderIdMap","setFloatingTopRowData","setFloatingBottomRowData","getFloatingTopRowCount","getPinnedTopRowCount","getFloatingBottomRowCount","getPinnedBottomRowCount","getFloatingTopRow","getFloatingBottomRow","expireValueCache","getVerticalPixelRange","getHorizontalPixelRange","setAlwaysShowVerticalScroll","refreshToolPanel","refreshSideBar","timeFullRedraw","iterationCount","totalProcessing","totalReflow","doOneIteration","endProcessing","endReflow","durationProcessing","durationReflow","refreshView","refreshRows","softRefreshView","refreshGroupRows","setFunctionsReadOnly","isColumnFilterPresent","setRowNodeExpanded","onGroupExpandedOrCollapsed","deprecated_refreshFromIndex","refreshModel","refreshInMemoryRowModel","refreshClientSideRowModel","paramsStep","stepsMapped","aggregate","modelParams","keepEditingRows","isAnimationFrameQueueEmpty","isQueueEmpty","getSizesForCurrentTheme","expandAll","collapseAll","getToolPanelInstance","addVirtualRowListener","suppressEvents","deselectAll","selectAllFiltered","deselectAllFiltered","recomputeAggregates","isNodeSelected","getSelectedNodesById","ensureColIndexVisible","ensureNodeVisible","forEachLeafNode","forEachNodeAfterFilterAndSort","getFilterApiForColDef","getFilterInstance","filterComp","getFilterApi","getStatusPanel","statusBarService","getColumnDef","setSortModel","removeRowDropZone","activeDropTarget","getRowDropZoneParams","doLayout","setDomLayout","setGroupHeaderHeight","setFloatingFiltersHeight","setPivotGroupHeaderHeight","setPivotHeaderHeight","isSideBarVisible","setSideBarVisible","setSideBarPosition","openToolPanel","closeToolPanel","getOpenedToolPanel","isToolPanelShowing","resetRowHeights","setGroupRemoveLowestSingleChildren","resetQuickFilter","getRangeSelections","camelCaseToHumanReadable","addRangeSelection","deprecatedNoLongerUsed","addCellRange","clearRangeSelection","undoCellEditing","redoCellEditing","getChartModels","chartService","createRangeChart","createPivotChart","copySelectedRowsToClipboard","includeHeader","columnKeys","copySelectedRangeToClipboard","copySelectedRangeDown","buttonElement","showMenuAfterMouseEvent","hidePopupMenu","hideActiveMenu","setPopupParent","ePopupParent","tabToPreviousCell","notPinned","addAggFunc","addAggFuncs","clearAggFuncs","clear","applyTransaction","rowDataTransaction","message_1","message_2","applyTransactionAsync","batchUpdateRowData","insertItemsAtIndex","skipRefresh","removeItems","dataToRemove","refreshVirtualPageCache","refreshInfiniteCache","refreshInfinitePageCache","refreshCache","purgeVirtualPageCache","purgeInfinitePageCache","purgeInfiniteCache","purgeCache","purgeEnterpriseCache","route","purgeServerSideCache","getVirtualRowCount","getInfiniteRowCount","isMaxRowFound","setVirtualRowCount","maxRowFound","setInfiniteRowCount","getVirtualPageState","getCacheBlockState","getInfinitePageState","getBlockState","checkGridSize","getFirstRenderedRow","getFirstDisplayedRow","getLastRenderedRow","getLastDisplayedRow","getDisplayedRowAtIndex","getDisplayedRowCount","paginationIsLastPageFound","isLastPageFound","paginationGetPageSize","getPageSize","paginationGetCurrentPage","paginationGetTotalPages","getTotalPages","paginationGetRowCount","getMasterRowCount","paginationGoToNextPage","goToNextPage","paginationGoToPreviousPage","goToPreviousPage","paginationGoToFirstPage","goToFirstPage","paginationGoToLastPage","goToLastPage","paginationGoToPage","page","goToPage","__decorate$_","__param$6","ExpressionService","expressionToFunctionCache","expressionOrFunc","evaluateExpression","javaScriptFunction","createExpressionFunction","functionBody","createFunctionBody","theFunction","Function","__decorate$$","TemplateService","templateCache","waitingCallbacks","url","templateFromCache","callbackList","client","XMLHttpRequest","onload","handleHttpResult","send","httpResult","response","responseText","callbacks","that_1","__decorate$10","PopupService","popupList","popup","getRootGui","positionPopupForMenu","sourceRect","parentRect","getParentRect","keepYWithinBounds","widthOfParent","maxX","xLeftPosition","xRightPosition","calculatePointerAlign","nudgeX","positionPopup","callPostProcessPopup","alignSide","keepXWithinBounds","eDocument","bounds","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","docElement","documentRect","diff","heightOfParent","maxY","addAsModalPopup","closeOnEsc","closedCallback","click","modal","alwaysOnTop","processedAt","hideFunc","setAlwaysOnTop","bringPopupToFront","popupHidden","hidePopupOnKeyboardEvent","hidePopupOnMouseEvent","hidePopupOnTouchEvent","isEventFromCurrentPopup","isEventSameChainAsOriginalEvent","indexOfThisChild","originalClick","mouseEventOrTouch","screenX_1","screenX","screenY_1","screenY","xMatch","yMatch","getWrapper","querySelectorAll","popupLen","alwaysOnTopList","onTopLength","isPopupAlwaysOnTop","__decorate$11","__param$7","LoggerFactory","logging","Logger","isLogging","isLoggingFunc","__decorate$12","AutoWidthCalculator","getHeaderCellForColumn","eDummyContainer","eBodyContainer","putRowCellsIntoDummyContainer","cloneItemIntoDummy","dummyContainerWidth","headerElement","headerWrapperComp","eCellClone","cloneNode","eCloneParent","__decorate$13","HorizontalResizeService","draggingStarted","dragStartX","setResizeIcons","MouseEvent","oldBodyCursor","eGridDiv","cursor","oldMsUserSelect","msUserSelect","oldWebkitUserSelect","webkitUserSelect","resetIcons","__extends$O","__decorate$14","GridCore","service","quickFilterUnregisterFn","$watch","quickFilterOnScope","addRtlSupport","eRootWrapperBody","onGridSizeChanged","sideBarModuleLoaded","SideBarModule","statusBarModuleLoaded","StatusBarModule","rowGroupingLoaded","enterpriseCoreLoaded","EnterpriseCoreModule","dropZones","watermark","sideBarComp","openedItem","doingVirtualPaging","comparatorIsAFunction","indexToSelect","__decorate$15","StandardMenuFactory","showPopup","positionCallback","bodyScrollListener","__decorate$16","DragService","dragEndFunctions","dragSources","removeListener","dragSourceAndListener","mouseDownListener","touchEnabled","touchStartListener","setNoSelectToBody","noSelect","eBody","includeTouch","mouseListener","currentDragParams","touchLastTime","cancelable","touchMoveEvent","touchEndEvent","onTouchUp","addTemporaryEvents","onCommonMove","skipMouseEvent","_alreadyProcessedByDragService","mouseStartEvent","mouseMoveEvent","mouseUpEvent","onMouseUp","contextEvent","currentEvent","isEventNearStartEvent","startEvent","requiredPixelDiff","getFirstActiveTouch","changedTouches","onUpCommon","__decorate$17","SortController","SortController_1","nextDirection","getNextSortDirection","valueOf","doingMultiSort","clearSortBarThisColumn","dispatchSortChangedEvents","columnToSkip","columnToClear","DEFAULT_SORTING_ORDER","currentIndex","notInArray","lastItemInArray","sortModelProvided","allColumnsIncludingAuto","sortForCol","sortModelEntry","compareColIds","columnsWithSorting","getSortForRowController","isAscending","inverter","__decorate$18","FocusController","keyboardFocusActive","clearFocusedCellListener","activateKeyboardModeListener","activateKeyboardMode","activateMouseModeListener","activateMouseMode","isKeyboardFocus","focusedCellPosition","browserFocusedCell","getGridCellForDomElement","eBrowserCell","ePointer","isAnyCellFocused","floatingOrNull","findFocusableElements","exclude","focusableString","excludeString","excludeNodes","__decorate$19","MouseEventService","gridInstanceId","MouseEventService_1","gridInstanceSequence","stampDomElementWithGridInstance","GRID_DOM_KEY","eventFromThisGrid","getCellPositionForEvent","gridPanelHasScrolls","vRange","hRange","__decorate$1a","CellNavigationService","lastCellToFocus","getCellAbove","getCellBelow","getCellToLeft","getCellToRight","isCellGoodToFocusOn","lastCell","colToLeft","colToRight","getRowBelow","rowPosition","isLastRowInContainer","rowBelow","lastTopIndex","lastBottomIndex","lastBodyIndex","getRowAbove","getLastFloatingTopRow","getLastBodyCell","rowAbove","lastBodyRow","lastFloatingRow","getNextTabbedCellBackwards","getNextTabbedCellForwards","newRowIndex","newFloating","newColumn","__decorate$1b","CellRendererFactory","cellRendererMap","CellRendererFactory_1","ANIMATE_SLIDE","ANIMATE_SHOW_CHANGE","GROUP","addCellRenderer","__decorate$1c","ValueFormatterService","suppliedFormatter","useFormatterFromColumn","__extends$P","AgRadioButton","onChange","VanillaFrameworkOverrides","__decorate$1d","ScrollVisibleService","atLeastOneDifferent","__decorate$1e","StylingService","processAllCellClasses","classRules","classNames","rule","resultOfRule","classOrClasses","cellClassFunc","__extends$Q","__decorate$1f","ColumnHoverService","selectedColumns","__decorate$1g","ColumnAnimationService","executeNextFuncs","executeLaterFuncs","animationThreadCount","ensureAnimationCssClassPresent","flush","executeLaterVMTurn","animationThreadCountCopy","nowFuncs","waitFuncs","__decorate$1h","AutoGroupColService","AutoGroupColService_1","doingTreeData","doingMultiAutoColumn","rowGroupCol","createOneAutoGroupColumn","defaultAutoColDef","generateDefaultColDef","GROUP_AUTO_COLUMN_BUNDLE_ID","userAutoColDef","noFieldOrValueGetter","userHasProvidedGroupCellRenderer","rowGroupColDef","innerRenderer","innerRendererParams","__extends$R","__decorate$1i","PaginationProxy","topDisplayedRowIndex","bottomDisplayedRowIndex","masterRowCount","startPixel","endPixel","startLimitIndex","endLimitIndex","calculatePages","modelUpdatedEvent","paginationChangedEvent","topRowBounds","bottomRowBounds","nodeIsInPage","firstInRange","lastInRange","getRowBounds","pageNumber","pageSize","isLastRowFound","lastPage","totalPages","setPageSize","calculatePagesAllRows","calculatePagesMasterRowsOnly","calculatedPagesNotActive","setZeroRows","getTopLevelRowCount","masterLastRowIndex","masterPageStartIndex","masterPageEndIndex","getTopLevelRowDisplayedIndex","firstIndexNotToShow","maxRowIndex","__extends$S","__decorate$1j","PaginationAutoPageSizeService","onBodyHeightChanged","checkPageSize","notActive","newPageSize","__decorate$1k","ValueCache","cacheVersion","neverExpires","__cacheVersion","__cacheData","__extends$T","__decorate$1l","ChangeDetectionService","doChangeDetection","onlyChangedColumns","doAggregate","__decorate$1m","__param$8","AlignedGridsService","consuming","fireColumnEvent","fireScrollEvent","fireEvent","otherGrids","otherGridOptions","alignedGridService","onEvent","onColumnEvent","onScrollEvent","getMasterColumns","getColumnIds","colEvent","processColumnEvent","groupOpenedEvent","processGroupOpenedEvent","masterColumnGroup","otherColumnGroup","masterColumn","columnIds","masterColumns","movedEvent","visibleEvent","pinnedEvent","resizedEvent_1","grid","__decorate$1n","AgComponentUtils","metadata","functionAdapter","adaptCellRendererFunction","Adapter","callbackResult","candidate","__decorate$1o","ComponentMetadataProvider","componentMetaData","floatingFilterWrapperComponent","statusPanel","__decorate$1p","Beans","__decorate$1q","MAT_GRID_SIZE","BASE_GRID_SIZE","BALHAM_GRID_SIZE","ALPINE_GRID_SIZE","HARD_CODED_SIZES","headerCellMinWidth","listItemHeight","SASS_PROPERTY_BUILDER","CALCULATED_SIZES","Environment","useTheme","calculatedValue","currentClass","sizeName","isThemeDark","themeFamily","reg","themeMatch","usingOldTheme","newTheme_1","__decorate$1r","AnimationFrameService","createTasksP1","sorted","createTasksP2","destroyTasks","ticking","scrollGoingDown","lastScrollTop","taskCount","cancelledTasks","verifyAnimationFrameOn","task","taskItem","createOrder","addTaskToList","schedule","taskList","sortTaskList","sortDirection","executeFrame","millis","p1TaskList","p1Tasks","p2TaskList","p2Tasks","frameStart","noMaxMillis","has","requestFrame","stopTicking","requestAnimationFrame","webkitRequestAnimationFrame","__decorate$1s","NavigationService","timeLastPageEventProcessed","alt","ctrl","processed","onHomeOrEndKey","onCtrlLeftOrRight","onCtrlUpOrDown","onPageDown","onPageUp","isTimeSinceLastPageEventToRecent","setTimeLastPageEventProcessed","pixelsInOnePage","pagingPixelOffset","currentPageBottomPixel","currentPageBottomRow","scrollIndex","currentCellPixel","nextCellPixel","focusIndex","navigateTo","currentPageTopPixel","currentPageTopRow","scrollType","scrollColumn","focusColumn","upKey","rowIndexToScrollTo","leftKey","columnToSelect","homeKey","__extends$U","__decorate$1t","MaxDivHeightScaler","scrollY","uiBodyHeight","scrollBarWidth","maxDivHeight","scaling","newScrollY","newBodyHeight","getUiBodyHeight","calculateOffset","uiContainerHeight","pixelsToShave","modelHeight","maxScrollY","scrollPercent","setOffset","clearOffset","newOffset","newOffsetFloor","modelPixel","modelMaxScroll","scrollPixel","__decorate$1u","SelectableService","updateSelectableAfterGrouping","nextChildrenFunc","recurseDown","updateSelectableAfterFiltering","rowSelectable","firstSelectable","__decorate$1v","AutoHeightCalculator","autoRowHeightCols","visibleAutoRowHeightCols","maxCellHeight","__extends$V","__decorate$1w","PaginationComp","previousAndFirstButtonsDisabled","nextButtonDisabled","lastButtonDisabled","btFirst","btPrevious","btNext","btLast","isPaging","paginationPanelEnabled","onBtFirst","onBtLast","onBtNext","onBtPrevious","enableOrDisableButtons","updateRowLabels","setCurrentPageLabel","setTotalLabels","pagesExist","toDisplay","lbCurrent","formatNumber","strPage","strTo","strOf","strFirst","strPrevious","strNext","strLast","zeroPagesToDisplay","isZeroPagesToDisplay","onLastPage","lbFirstRowOnPage","isLoading","lbLastRowOnPage","lastPageFound","lbTotal","lbRecordCount","moreText","__decorate$1x","ResizeObserverService","debounceDelay","frameworkFactory","debouncedCallback","useBrowserResizeObserver","resizeObserver","ResizeObserver","observe","disconnect","usePolyfill","widthLastTime","heightLastTime","running","periodicallyCheckWidthAndHeight","newHeight","changed","resizeObserverExists","__extends$W","__decorate$1y","LoadingType","OverlayWrapperComponent","inProgress","destroyRequested","eOverlayWrapper","setWrapperTypeClass","loadingType","Loading","NoRows","workItem","showOverlay","destroyActiveOverlay","activeOverlay","__extends$X","__decorate$1z","AgGroupComponent","suppressEnabledCheckbox","suppressOpenCloseIcons","title","enabled","cssIdentifier","alignItems","initialItems","cbGroupEnabled","setTitle","setEnabled","setAlignItems","hideEnabledCheckbox","hideOpenCloseIcons","setupExpandContract","refreshChildDisplay","eGroupClosedIcon","eGroupOpenedIcon","eTitleBar","toggleGroupExpand","showIcon","eToolbar","newCls","addItem","hideItem","itemToHide","eTitle","addCssClassToTitleBar","skipToggle","refreshDisabledStyles","isEnabled","onEnableChange","__extends$Y","__decorate$1A","AgPanel","closable","positioned","dragStartPosition","hideTitleBar","centered","setBodyComponent","setClosable","eTitleBarButtons","eContentWrapper","renderComponent","refreshSize","center","offsetElement","updateDragStartPosition","calculateMouseMovement","anywhereWithin","topBuffer","movementX","movementY","getHeight","skipX","skipY","isPercent","closeButtonComp","CLOSE_BTN_TEMPLATE","addTitleBarButton","onBtClose","bodyComponent","__extends$Z","__decorate$1B","AgDialog","RESIZE_TEMPLATE","MAXIMIZE_BTN_TEMPLATE","movable","isMaximizable","isMaximized","maximizeListeners","resizeListenerDestroy","isResizing","lastPosition","maximizable","moveElement","setMovable","setMaximizable","addResizers","setResizable","parser","DOMParser","resizers","parseFromString","createMap","resizerMap","topLeft","topRight","bottomRight","bottomLeft","getResizerElement","onResize","isHorizontal","isVertical","offsetLeft","offsetTop","oldWidth","skipWidth","oldHeight","skipHeight","onMoveStart","onMove","onMoveEnd","toggleMaximize","refreshMaximizeIcon","maximizeIcon","minimizeIcon","clearMaximizebleListeners","destroyListener","maximizeButtonComp","pointerEvents","moveElementDragListener","__extends$_","AgInputTextField","ret","__extends$$","AgInputTextArea","__extends$10","__decorate$1C","AgSlider","eSlider","eventChanged","textValue","sliderValue","setSliderWidth","setTextFieldWidth","setMinValue","minValue","setMin","setMaxValue","maxValue","setMax","setStep","__extends$11","__decorate$1D","AgColorPanel","A","isSpectrumDragging","isSpectrumHueDragging","isSpectrumAlphaDragging","colorChanged","picker","initRecentColors","spectrumVal","onSpectrumDraggerDown","onSpectrumDraggerMove","spectrumHue","onSpectrumHueDown","onSpectrumHueMove","spectrumAlpha","onSpectrumAlphaDown","onSpectrumAlphaMove","recentColors","onRecentColorClick","refreshSpectrumRect","spectrumValRect","refreshHueRect","spectrumHueRect","refreshAlphaRect","spectrumAlphaRect","moveDragger","moveHueSlider","moveAlphaSlider","valRect","setSpectrumValue","hueRect","slider","spectrumHueSlider","sliderRect","alphaRect","spectrumAlphaSlider","color","spectrumColor","rgbaColor","existingColor","backgroundColor","spectrumDragger","saturation","brightness","dragger","draggerRect","innerHtml","addRecentColor","maxRecentColors","__extends$12","__decorate$1E","AgPickerField","isDestroyingPicker","skipClick","clickHandler","pickerComponent","showPicker","pickerIcon","__extends$13","AgColorPicker","eGuiRect","colorDialog","colorPanel","wasDestroying","eDisplayField","__extends$14","AgInputNumberField","floatedValue","normalizeValue","precision","adjustPrecision","floatString","setPrecision","normalizedValue","__extends$15","AgInputRange","__extends$16","__decorate$1F","AgList","itemEls","handleKeyDown","highlightedEl","setValueByIndex","isDown","itemToHighlight","currentIdx","nextPos","highlightItem","addOptions","listOptions","listOption","sanitisedText","renderOption","itemEl","itemContentEl","tabIndex","clearHighlighted","fireItemSelected","displayValue","fireChangeEvent","getDisplayValue","refreshHighlighted","EVENT_ITEM_SELECTED","__extends$17","__decorate$1G","AgSelect","listComponent","hideList","listGui","mouseWheelFunc","focusOutFunc","fromPicker","__extends$18","__decorate$1H","AgAngleSelect","radius","offsetX","offsetY","dragListener","eParentCircle","parentCircleRect","calculateAngleDrag","eAngleValue","degrees","floatValue","updateNumberInput","normalizeNegativeValue","positionChildCircle","radians","eChildCircle","centerX","centerY","cos","sin","calculatePolar","atan2","toDegrees","sqrt","calculateCartesian","toRadians","getRadius","setOffsetX","setOffsetY","dx","dy","PI","normalizeAngle180","setRadius","radiansValue","__extends$19","AgToggleButton","__decorate$1I","DetailRowCompCache","cacheItems","maxCacheSize","doNotUseCache","destroyFullWidthRow","getCacheItem","lastAccessedTime","autoCreate","stampCacheItem","startIndex","__decorate$1J","RowPositionUtils","rowA","rowB","__decorate$1K","CellPositionUtils","createIdFromValues","cellA","cellB","colsMatch","floatingMatch","indexMatch","__decorate$1L","PinnedRowModel","pinnedTopRows","pinnedBottomRows","getRowAtPixel","createNodesFromData","allData","nextRowTop_1","dataItem","getTotalHeight","forEachPinnedTopRow","forEachPinnedBottomRow","lastNode","__extends$1a","UndoRedoAction","cellValueChanges","FillUndoRedoAction","initialRange","finalRange","UndoRedoStack","maxStackSize","actionStack","DEFAULT_STACK_SIZE","shouldAddActions","__decorate$1M","UndoRedoService","isCellEditing","isRowEditing","isPasting","isFilling","shouldCaptureAction","cellValueChange","clearStacks","undoStack","redoStack","undoRedoLimit","addRowEditingListeners","addCellEditingListeners","addPasteListeners","addFillListeners","undoAction","processAction","processRangeAndCellFocus","redoAction","valueExtractor","currentRow","lastFocusedCell_1","startColumn","setLastFocusedCell","cellRangeParams","lastFocusedCell","pushActionsToUndoStack","shouldPushAction","Grid","registeredModules","createBeansList","agStackComponents","createAgStackComponentsList","createProvidedBeans","contextLogger","registerModuleUserComponents","gridCoreClass","rootComponent","setColumnsAndData","dispatchGridReadyEvent","isEnterprise","passedViaConstructor","registered","allModules","mapNames","addModule","addIndividualModule","dependantModules","moduleUserComps","extractModuleEntity","userComponents","compMeta","seed","moduleAgStackComps","rowModelClass","getRowModelClass","moduleBeans","beansNoDuplicates","moduleEntities","extractor","readyEvent","rowModelClasses","rowModels","InfiniteRowModelModule","ViewportRowModelModule","ServerSideRowModelModule","ClientSideRowModelModule","initialiseAgGridWithAngular1","angular","angularModule","directive","restrict","AngularDirectiveController","$element","$attrs","keyOfGridInScope","agGrid","$eval","$on","initialiseAgGridWithWebComponents","registerElement","AgileGridProto","__agGridSetProperty","__agGridGetProperty","enumerable","configurable","agGridProtoNoType","__attributes","changeObject","_gridOptions","setGridOptions","_agGrid","createdCallback","setPropertyFromAttribute","toCamelCase","nodeValue","attachedCallback","detachedCallback","attributeChangedCallback","eventLowerCase","browserEvent","Event","browserEventNoType","agGridDetails","callbackMethod","myString","__extends$1b","__decorate$1N","ManagedTabComponent","attachListenersToGui","tabListener","__extends$1c","__decorate$1O","TabbedLayout","eHeader","currentPosition","activeItem","nextPosition","nextItem","showItemWrapper","eHeaderButton","focusableItems","focusedPosition","setAfterAttachedParams","afterAttachedParams","getMinDimensions","eDummyBody","itemWrapper","eClone","tabbedItem","bodyPromise","showFirstItem","showItem","onItemClicked","onActiveItemClicked","afterAttachedCallback","simpleHttpRequest","httpRequest","onreadystatechange","readyState","httpResponse","__extends$1d","RowNodeBlock","blockNumber","rowNodeCacheParams","STATE_DIRTY","blockSize","isAnyNodeOpen","forEachNodeCallback","getRowUsingLocalIndex","sequence","deep","childrenCache","forEachNodeDeep","forEachNodeShallow","getVersion","getLastAccessed","lastAccessed","dontTouchLastAccessed","lastAccessedSequence","localIndex","createRowNodes","getStartRow","getEndRow","getBlockNumber","setDirty","setDirtyAndPurge","setRowNode","setBlankRowNode","newRowNode","createBlankRowNode","setNewData","STATE_LOADING","loadFromDatasource","pageLoadFailed","STATE_FAILED","EVENT_LOAD_COMPLETE","populateWithRowData","rowNodesToRefresh","pageLoaded","STATE_LOADED","__decorate$1P","__param$9","RowNodeBlockLoader","maxConcurrentRequests","activeBlockLoadsCount","blocks","checkBlockToLoadDebounce","performCheckBlocksToLoad","addBlock","block","removeBlock","loadComplete","checkBlockToLoad","printCacheStatus","blockToLoad","nodeIdPrefix","getNodeIdPrefix","pageStatus","__extends$1e","__decorate$1Q","RowNodeCache","cacheParams","blockCount","virtualRowCount","initialRowCount","forEachBlockInOrder","destroyBlock","hack_setVirtualRowCount","rowNodeBlockLoader","checkVirtualRowCount","purgeBlocksIfNeeded","blockToExclude","blocksForPurging","maxBlocksProvided","blocksToKeep","emptyBlocksToKeep","MAX_EMPTY_BLOCKS_TO_KEEP","purgeBecauseBlockEmpty","purgeBecauseCacheFull","isBlockCurrentlyDisplayed","removeBlockFromCache","firstViewportRow","lastViewportRow","getDisplayIndexStart","getDisplayIndexEnd","parentClosed","blockBeforeViewport","blockAfterViewport","blockInsideViewport","postCreateBlock","newBlock","setBlock","blockToRemove","onCacheUpdated","lastRowIndexPlusOverflow","overflowSize","dynamicRowHeight","ids","getBlockIdsSorted","forEachBlockId","forEachBlockInReverseOrder","numberComparator","blockIds","idStr","getBlock","blockId","destroyAllBlocksPastVirtualRowCount","EVENT_CACHE_UPDATED","blocksToDestroy","getRowNodesInRange","lastBlockId","inActiveRange","numberSequence","foundGapInSelection","hitFirstOrLast","invalidRange","__extends$1f","__decorate$1R","VirtualList","rowsInBodyContainer","eListContainer","getItemHeight","viewportTopPixel","viewportBottomPixel","viewportScrolledPastRow","viewportScrolledBeforeRow","setComponentCreator","componentCreator","getScrollTop","clearVirtualRows","drawVirtualRows","removeVirtualRows","ensureRowsRendered","insertRow","defaultGroupComparator","nodeAIsGroup","nodeBIsGroup","bothAreGroups","bothAreNormal","BaseComponentWrapper","createWrapper","createMethod","mandatory","addMethod","createMethodProxy","hasMethod","callMethod","ChartType","LegendPosition","globalObj","global","HTMLButtonElement","HTMLSelectElement","HTMLInputElement","ClientSideNodeManager","nextId","allNodesMap","ROOT_NODE_ID","allLeafChildren","childrenAfterSort","isRowMasterFunc","doingLegacyTreeData","getCopyOfNodesMap","recursiveFunction","TOP_LEVEL","setLeafChildren","rowDataTran","isLegacyTreeData","rowNodeTransaction","executeAdd","executeRemove","executeUpdate","useIndex","addRowNode","rowIdsRemoved","anyNodesSelected","lookupRowNode","newNode","createNode","rowNodeIdFunc","nodeChildDetails","canFlower","numRowGroupColumns","masterRowLevel","expandByDefault","childAfterGroup","leafChild","__decorate$1S","RecursionType","ClientSideRowModel","refreshEverythingFunc","refreshEverythingAfterColsChangedFunc","afterColumnsChanged","onValueChanged","onRowGroupOpened","refreshMapFunc","nodeManager","atLeastOneChange","rowAtStartPixel","rowAtEndPixel","setRowTops","nextRowTop","rowsToDisplay","resetRowTops","skipChildren","indexAtPixelNow","rowNodeAtPixelNow","lastHighlightedRow","highlight","showingRootNode","topLevelIndex","createChangePath","rowNodeTransactions","noTransactions","doRowGrouping","doFilter","doPivot","doSort","doRowsToDisplay","rowsMissing","firstRowHit","lastRowHit","lookingForLastRow","skipThisGroupNode","childOfLastRow","pixelToMatch","bottomPointer","topPointer","midPointer","isRowInPixel","pixelInRow","recursivelyWalkNodesAndCallback","Normal","AfterFilter","AfterFilterAndSort","forEachPivotNode","PivotNodes","recursionType","nodeChildren","aggregationStage","execute","expand","recursiveExpandOrCollapse","shouldExpandOrCollapse","sortStage","groupStage","merged_1","tran","restoreGroupState","filterStage","pivotStage","getGroupState","rowDataChangedEvent","rowDataTransactionBatch","waitMillis","executeBatchUpdateRowData","callbackFuncsBound","rowNodeTrans","tranItem","rowNodeTran","commonUpdateRowData","flattenStage","__decorate$1T","FilterStage","filterService","selectableService","__decorate$1U","SortStage","sortOptions","sortActive","dirtyLeafNodes","calculateDirtyNodes","noAggregations","sortService","dirtyNodes","addNodesFunc","__decorate$1V","FlattenStage","skipLeafNodes","showRootNode","topList","recursivelyAddToRowsToDisplay","atLeastOneRowPresent","includeGroupTotalFooter","ensureFooterNodeExists","addRowNodeToRowsToDisplay","rowsToFlatten","hideOpenParents","isParent","isGroupSuppressedNode","isSkippedLeafNode","isRemovedSingleChildrenGroup","isRemovedLowestSingleChildrenGroup","neverAllowToExpand","isHiddenOpenParent","thisRowShouldBeRendered","excludedParent","uiLevelForChildren","createDetailNode","groupNode","footerNode","masterNode","flower","childFlower","__decorate$1W","SortService","postSortFunc","pullDownGroupDataForHideOpenParents","sortedRowNodes","doDeltaSort","doFullSort","updateChildIndexes","updateGroupDataForHiddenOpenParents","mapNodeToSortedNode","compareRowNodes","currentPos","cleanNodes","passesDirtyNodesCheck","passesChangedPathCheck","cleanNodesMapped","sortedRowNode","changedNodes","mergeSortedArrays","sortedNodeA","sortedNodeB","sortOption","isInverted","comparatorResult","listToSort","clearOperation","childRowNode","groupDisplayCols","groupDisplayCol","displayingGroupKey","thisRowNodeMatches","parentToStealFrom","__decorate$1X","FilterService","filterNodes","includeChildNodes","passBecauseChildren","passBecauseDataPasses","doingTreeDataFiltering","treeDataDepthFirstFilter_1","alreadyFoundInParent","foundInParent","treeDataFilterCallback","defaultFilterCallback","setAllChildrenCountTreeData","setAllChildrenCountGridGrouping","__decorate$1Y","ImmutableService","existingNodesMap","suppressSortOrder","orderMap","existingNode","dataHasChanged","clientSide","__extends$1g","__decorate$1Z","InfiniteBlock","setIndexAndTopOnRowNode","successCallback","failCallback","getRows","__extends$1h","__decorate$1_","__param$a","InfiniteCache","moveItemsDown","moveFromIndex","moveCount","indexOfLastRowToMove","currentRowIndex","indexOfNodeWeWant","nodeForThisIndex","insertItems","indexToInsert","pageStartRow","pageEndRow","newRowNodes","currentRowInThisPage","newNodes","newNodesThisPage","dontCreatePage","createBlock","__extends$1i","__decorate$1$","InfiniteRowModel","destroyCache","destroyDatasource","infiniteCache","onColumnEverything","resetRequired","isSortModelDifferent","ds","userGeneratingIds","resetCache","createModelUpdatedEvent","rowIndexForPixel","__decorate$20","BaseGridSerializingSession","processCellCallback","processHeaderCallback","processGroupHeaderCallback","processRowGroupCallback","prepare","columnsToExport","firstGroupColumn","extractHeaderValue","extractRowCellValue","renderGroupSummaryCell","valueForCell","createValueForGroupNode","processCell","GridSerializer","serialize","gridSerializingSession","rowSkipper","shouldRowBeSkipped","skipSingleChildrenGroup","skipLowestSingleChildrenGroup","rowModelNormal","onlySelectedNonStandardModel","onlySelected","customHeader","addCustomContent","columnGroups","recursivelyAddHeaderGroups","gridRowIterator_1","onNewHeaderRow","onColumn","onlySelectedAllPages","customFooter","shouldSkipLowestGroup","shouldSkipCurrentGroup","skipGroups","skipFooters","skipPinnedTop","skipPinnedBottom","nodeIsRootNode","rowAccumulator","onNewBodyRow","getCustomContentBelowRow","content","directChildrenHeaderGroups","doAddHeaderHeader","gridRowIterator","onNewHeaderGroupingRow","columnIndex","RowType","__extends$1j","__decorate$21","LINE_SEPARATOR","CsvSerializingSession","isFirstLine","suppressQuotes","columnSeparator","beginNewLine","putInQuotes","mergeAcross","appendEmptyCells","onNewHeaderGroupingRowColumn","header","onNewHeaderRowColumn","onNewBodyRowColumn","stringValue","valueEscaped","BaseCreator","isExportSuppressed","getMergedParamsAndData","mergedParams","fileNamePresent","fileName","getDefaultFileName","getDefaultFileExtension","downloader","download","packageFile","getData","mergeDefaultParams","gridSerializer","createSerializingSession","baseParams","Blob","msSaveOrOpenBlob","getMimeType","CsvCreator","__decorate$22","Downloader","url_1","URL","createObjectURL","bubbles","view","revokeObjectURL","__decorate$23","LINE_SEPARATOR$1","XmlFactory","createHeader","headerStart","headerEnd","encoding","standalone","att","createXml","xmlElement","booleanTransformer","prefixedAttributes","prefixedSet","returnAttributeIfPopulated","rawMap","textNode","xmlValue","__decorate$24","crcTable","ZipContainer","folders","files","addFolder","created","addFolders","paths","addFile","clearStream","getContent","mimeType","textOutput","buildFileStream","uInt8Output","buildUint8Array","fData","totalFiles","foData","lL","cL","totalFiles_1","currentFile","getHeader","fileHeader","folderHeader","foEnd","buildFolderEnd","utfPath","isUTF8","time","convertTime","dt","convertDate","extraFields","uExtraFieldPath","getFromCrc32Table","tLen","cLen","lLen","uint8","Uint8Array","crc","__rest","getOwnPropertySymbols","propertyIsEnumerable","__metadata","metadataKey","metadataValue","__awaiter","thisArg","_arguments","P","generator","adopt","reject","fulfilled","rejected","done","__generator","sent","trys","ops","verb","Symbol","iterator","op","TypeError","__exportStar","__values","__read","ar","__spread","__await","__asyncGenerator","asyncIterator","resume","settle","fulfill","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","__importStar","mod","__esModule","__importDefault","__classPrivateFieldGet","receiver","privateMap","__classPrivateFieldSet","AgGridDemoModule","forChild","withComponents","COMPONENTS","GridDemoComponent","http","gridColumnApi","subscribe","onGridReady","CONTAINERS"],"mappings":"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","file":"ag-grid-ag-grid-module-es5.js","sourcesContent":["import { __decorate, __metadata } from 'tslib';\nimport { ContentChildren, QueryList, Input, Component, NgZone, Injectable, EventEmitter, ElementRef, ViewContainerRef, ComponentFactoryResolver, Output, ViewEncapsulation, ANALYZE_FOR_ENTRY_COMPONENTS, NgModule } from '@angular/core';\nimport { VanillaFrameworkOverrides, BaseComponentWrapper, Promise, ComponentUtil, Grid, _, Events, GridOptionsWrapper } from 'ag-grid-community';\n\nimport * as ɵngcc0 from '@angular/core';\nvar AgGridColumn_1;\nlet AgGridColumn = AgGridColumn_1 = class AgGridColumn {\n    hasChildColumns() {\n        if (this.childColumns && this.childColumns.length > 0) {\n            // necessary because of https://github.com/angular/angular/issues/10098\n            return !(this.childColumns.length === 1 && this.childColumns.first === this);\n        }\n        return false;\n    }\n    toColDef() {\n        let colDef = this.createColDefFromGridColumn(this);\n        if (this.hasChildColumns()) {\n            colDef[\"children\"] = this.getChildColDefs(this.childColumns);\n        }\n        return colDef;\n    }\n    getChildColDefs(childColumns) {\n        return childColumns\n            // necessary because of https://github.com/angular/angular/issues/10098\n            .filter(column => !column.hasChildColumns())\n            .map((column) => {\n            return column.toColDef();\n        });\n    }\n    ;\n    createColDefFromGridColumn(from) {\n        let colDef = {};\n        Object.assign(colDef, from);\n        delete colDef.childColumns;\n        return colDef;\n    }\n    ;\n};\nAgGridColumn.ɵfac = function AgGridColumn_Factory(t) { return new (t || AgGridColumn)(); };\nAgGridColumn.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: AgGridColumn, selectors: [[\"ag-grid-column\"]], contentQueries: function AgGridColumn_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, AgGridColumn_1, false);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.childColumns = _t);\n    } }, inputs: { children: \"children\", sortingOrder: \"sortingOrder\", allowedAggFuncs: \"allowedAggFuncs\", menuTabs: \"menuTabs\", cellClassRules: \"cellClassRules\", icons: \"icons\", headerGroupComponent: \"headerGroupComponent\", headerGroupComponentFramework: \"headerGroupComponentFramework\", headerGroupComponentParams: \"headerGroupComponentParams\", cellStyle: \"cellStyle\", cellRendererParams: \"cellRendererParams\", cellEditorFramework: \"cellEditorFramework\", cellEditorParams: \"cellEditorParams\", pinnedRowCellRendererFramework: \"pinnedRowCellRendererFramework\", pinnedRowCellRendererParams: \"pinnedRowCellRendererParams\", filterFramework: \"filterFramework\", filterParams: \"filterParams\", headerComponent: \"headerComponent\", headerComponentFramework: \"headerComponentFramework\", headerComponentParams: \"headerComponentParams\", floatingFilterComponent: \"floatingFilterComponent\", floatingFilterComponentParams: \"floatingFilterComponentParams\", floatingFilterComponentFramework: \"floatingFilterComponentFramework\", tooltipComponent: \"tooltipComponent\", tooltipComponentParams: \"tooltipComponentParams\", tooltipComponentFramework: \"tooltipComponentFramework\", refData: \"refData\", headerName: \"headerName\", columnGroupShow: \"columnGroupShow\", headerClass: \"headerClass\", toolPanelClass: \"toolPanelClass\", headerValueGetter: \"headerValueGetter\", groupId: \"groupId\", colId: \"colId\", sort: \"sort\", field: \"field\", type: \"type\", tooltipField: \"tooltipField\", headerTooltip: \"headerTooltip\", cellClass: \"cellClass\", showRowGroup: \"showRowGroup\", filter: \"filter\", aggFunc: \"aggFunc\", cellRenderer: \"cellRenderer\", cellEditor: \"cellEditor\", pinned: \"pinned\", chartDataType: \"chartDataType\", sortedAt: \"sortedAt\", flex: \"flex\", width: \"width\", minWidth: \"minWidth\", maxWidth: \"maxWidth\", rowGroupIndex: \"rowGroupIndex\", pivotIndex: \"pivotIndex\", dndSourceOnRowDrag: \"dndSourceOnRowDrag\", valueGetter: \"valueGetter\", valueSetter: \"valueSetter\", filterValueGetter: \"filterValueGetter\", keyCreator: \"keyCreator\", cellRendererFramework: \"cellRendererFramework\", pinnedRowCellRenderer: \"pinnedRowCellRenderer\", valueFormatter: \"valueFormatter\", pinnedRowValueFormatter: \"pinnedRowValueFormatter\", valueParser: \"valueParser\", comparator: \"comparator\", equals: \"equals\", pivotComparator: \"pivotComparator\", suppressKeyboardEvent: \"suppressKeyboardEvent\", colSpan: \"colSpan\", rowSpan: \"rowSpan\", getQuickFilterText: \"getQuickFilterText\", newValueHandler: \"newValueHandler\", onCellValueChanged: \"onCellValueChanged\", onCellClicked: \"onCellClicked\", onCellDoubleClicked: \"onCellDoubleClicked\", onCellContextMenu: \"onCellContextMenu\", rowDragText: \"rowDragText\", tooltip: \"tooltip\", tooltipValueGetter: \"tooltipValueGetter\", cellRendererSelector: \"cellRendererSelector\", cellEditorSelector: \"cellEditorSelector\", suppressCellFlash: \"suppressCellFlash\", suppressColumnsToolPanel: \"suppressColumnsToolPanel\", suppressFiltersToolPanel: \"suppressFiltersToolPanel\", openByDefault: \"openByDefault\", marryChildren: \"marryChildren\", hide: \"hide\", rowGroup: \"rowGroup\", pivot: \"pivot\", checkboxSelection: \"checkboxSelection\", headerCheckboxSelection: \"headerCheckboxSelection\", headerCheckboxSelectionFilteredOnly: \"headerCheckboxSelectionFilteredOnly\", suppressMenu: \"suppressMenu\", suppressSorting: \"suppressSorting\", suppressMovable: \"suppressMovable\", suppressFilter: \"suppressFilter\", lockPosition: \"lockPosition\", lockVisible: \"lockVisible\", lockPinned: \"lockPinned\", unSortIcon: \"unSortIcon\", suppressSizeToFit: \"suppressSizeToFit\", suppressResize: \"suppressResize\", suppressAutoSize: \"suppressAutoSize\", enableRowGroup: \"enableRowGroup\", enablePivot: \"enablePivot\", enableValue: \"enableValue\", editable: \"editable\", suppressPaste: \"suppressPaste\", suppressNavigable: \"suppressNavigable\", enableCellChangeFlash: \"enableCellChangeFlash\", rowDrag: \"rowDrag\", dndSource: \"dndSource\", autoHeight: \"autoHeight\", sortable: \"sortable\", resizable: \"resizable\", singleClickEdit: \"singleClickEdit\", floatingFilter: \"floatingFilter\" }, decls: 0, vars: 0, template: function AgGridColumn_Template(rf, ctx) { }, encapsulation: 2 });\n__decorate([\n    ContentChildren(AgGridColumn_1),\n    __metadata(\"design:type\", QueryList)\n], AgGridColumn.prototype, \"childColumns\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"children\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"sortingOrder\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"allowedAggFuncs\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"menuTabs\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"cellClassRules\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"icons\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"headerGroupComponent\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"headerGroupComponentFramework\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"headerGroupComponentParams\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"cellStyle\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"cellRendererParams\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"cellEditorFramework\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"cellEditorParams\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"pinnedRowCellRendererFramework\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"pinnedRowCellRendererParams\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"filterFramework\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"filterParams\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"headerComponent\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"headerComponentFramework\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"headerComponentParams\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"floatingFilterComponent\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"floatingFilterComponentParams\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"floatingFilterComponentFramework\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"tooltipComponent\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"tooltipComponentParams\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"tooltipComponentFramework\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"refData\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"headerName\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"columnGroupShow\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"headerClass\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"toolPanelClass\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"headerValueGetter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"groupId\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"colId\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"sort\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"field\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"type\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"tooltipField\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"headerTooltip\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"cellClass\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"showRowGroup\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"filter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"aggFunc\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"cellRenderer\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"cellEditor\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"pinned\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"chartDataType\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"sortedAt\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"flex\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"width\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"minWidth\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"maxWidth\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"rowGroupIndex\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"pivotIndex\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"dndSourceOnRowDrag\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"valueGetter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"valueSetter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"filterValueGetter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"keyCreator\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"cellRendererFramework\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"pinnedRowCellRenderer\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"valueFormatter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"pinnedRowValueFormatter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"valueParser\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"comparator\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"equals\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"pivotComparator\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"suppressKeyboardEvent\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"colSpan\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"rowSpan\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"getQuickFilterText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"newValueHandler\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"onCellValueChanged\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"onCellClicked\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"onCellDoubleClicked\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"onCellContextMenu\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"rowDragText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"tooltip\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"tooltipValueGetter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"cellRendererSelector\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"cellEditorSelector\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"suppressCellFlash\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"suppressColumnsToolPanel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"suppressFiltersToolPanel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"openByDefault\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"marryChildren\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"hide\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"rowGroup\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"pivot\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"checkboxSelection\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"headerCheckboxSelection\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"headerCheckboxSelectionFilteredOnly\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"suppressMenu\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"suppressSorting\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"suppressMovable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"suppressFilter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"lockPosition\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"lockVisible\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"lockPinned\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"unSortIcon\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"suppressSizeToFit\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"suppressResize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"suppressAutoSize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"enableRowGroup\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"enablePivot\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"enableValue\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"editable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"suppressPaste\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"suppressNavigable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"enableCellChangeFlash\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"rowDrag\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"dndSource\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"autoHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"sortable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"resizable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"singleClickEdit\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridColumn.prototype, \"floatingFilter\", void 0);\n\nlet AngularFrameworkOverrides = class AngularFrameworkOverrides extends VanillaFrameworkOverrides {\n    constructor(_ngZone) {\n        super();\n        this._ngZone = _ngZone;\n    }\n    setTimeout(action, timeout) {\n        this._ngZone.runOutsideAngular(() => {\n            window.setTimeout(() => {\n                action();\n            }, timeout);\n        });\n    }\n    addEventListenerOutsideAngular(element, type, listener, useCapture) {\n        this._ngZone.runOutsideAngular(() => {\n            super.addEventListenerOutsideAngular(element, type, listener, useCapture);\n        });\n    }\n};\nAngularFrameworkOverrides.ɵfac = function AngularFrameworkOverrides_Factory(t) { return new (t || AngularFrameworkOverrides)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone)); };\nAngularFrameworkOverrides.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: AngularFrameworkOverrides, factory: AngularFrameworkOverrides.ɵfac });\nAngularFrameworkOverrides.ctorParameters = () => [\n    { type: NgZone }\n];\nAngularFrameworkOverrides = __decorate([ __metadata(\"design:paramtypes\", [NgZone])\n], AngularFrameworkOverrides);\n\nlet AngularFrameworkComponentWrapper = class AngularFrameworkComponentWrapper extends BaseComponentWrapper {\n    setViewContainerRef(viewContainerRef) {\n        this.viewContainerRef = viewContainerRef;\n    }\n    setComponentFactoryResolver(componentFactoryResolver) {\n        this.componentFactoryResolver = componentFactoryResolver;\n    }\n    createWrapper(OriginalConstructor) {\n        let that = this;\n        class DynamicAgNg2Component extends BaseGuiComponent {\n            init(params) {\n                super.init(params);\n                this._componentRef.changeDetectorRef.detectChanges();\n            }\n            createComponent() {\n                return that.createComponent(OriginalConstructor);\n            }\n            hasMethod(name) {\n                return wrapper.getFrameworkComponentInstance()[name] != null;\n            }\n            callMethod(name, args) {\n                const componentRef = this.getFrameworkComponentInstance();\n                return wrapper.getFrameworkComponentInstance()[name].apply(componentRef, args);\n            }\n            addMethod(name, callback) {\n                wrapper[name] = callback;\n            }\n        }\n        let wrapper = new DynamicAgNg2Component();\n        return wrapper;\n    }\n    createComponent(componentType) {\n        // used to cache the factory, but this a) caused issues when used with either webpack/angularcli with --prod\n        // but more significantly, the underlying implementation of resolveComponentFactory uses a map too, so us\n        // caching the factory here yields no performance benefits\n        let factory = this.componentFactoryResolver.resolveComponentFactory(componentType);\n        return this.viewContainerRef.createComponent(factory);\n    }\n};\nAngularFrameworkComponentWrapper.ɵfac = function AngularFrameworkComponentWrapper_Factory(t) { return ɵAngularFrameworkComponentWrapper_BaseFactory(t || AngularFrameworkComponentWrapper); };\nAngularFrameworkComponentWrapper.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: AngularFrameworkComponentWrapper, factory: AngularFrameworkComponentWrapper.ɵfac });\nclass BaseGuiComponent {\n    init(params) {\n        this._params = params;\n        this._componentRef = this.createComponent();\n        this._agAwareComponent = this._componentRef.instance;\n        this._frameworkComponentInstance = this._componentRef.instance;\n        this._eGui = this._componentRef.location.nativeElement;\n        this._agAwareComponent.agInit(this._params);\n    }\n    getGui() {\n        return this._eGui;\n    }\n    destroy() {\n        if (this._componentRef) {\n            this._componentRef.destroy();\n        }\n    }\n    getFrameworkComponentInstance() {\n        return this._frameworkComponentInstance;\n    }\n}\n\nlet AgGridAngular = class AgGridAngular {\n    constructor(elementDef, viewContainerRef, angularFrameworkOverrides, frameworkComponentWrapper, _componentFactoryResolver) {\n        this.viewContainerRef = viewContainerRef;\n        this.angularFrameworkOverrides = angularFrameworkOverrides;\n        this.frameworkComponentWrapper = frameworkComponentWrapper;\n        this._componentFactoryResolver = _componentFactoryResolver;\n        this._initialised = false;\n        this._destroyed = false;\n        // in order to ensure firing of gridReady is deterministic\n        this._fullyReady = new Promise(resolve => {\n            resolve(true);\n        });\n        // @START@\n        this.slaveGrids = undefined;\n        this.alignedGrids = undefined;\n        this.rowData = undefined;\n        this.columnDefs = undefined;\n        this.excelStyles = undefined;\n        this.pinnedTopRowData = undefined;\n        this.pinnedBottomRowData = undefined;\n        this.components = undefined;\n        this.frameworkComponents = undefined;\n        this.rowStyle = undefined;\n        this.context = undefined;\n        this.autoGroupColumnDef = undefined;\n        this.groupColumnDef = undefined;\n        this.localeText = undefined;\n        this.icons = undefined;\n        this.datasource = undefined;\n        this.serverSideDatasource = undefined;\n        this.viewportDatasource = undefined;\n        this.groupRowRendererParams = undefined;\n        this.aggFuncs = undefined;\n        this.fullWidthCellRendererParams = undefined;\n        this.defaultColGroupDef = undefined;\n        this.defaultColDef = undefined;\n        this.defaultExportParams = undefined;\n        this.columnTypes = undefined;\n        this.rowClassRules = undefined;\n        this.detailGridOptions = undefined;\n        this.detailCellRendererParams = undefined;\n        this.loadingCellRendererParams = undefined;\n        this.loadingOverlayComponentParams = undefined;\n        this.noRowsOverlayComponentParams = undefined;\n        this.popupParent = undefined;\n        this.colResizeDefault = undefined;\n        this.reduxStore = undefined;\n        this.statusBar = undefined;\n        this.sideBar = undefined;\n        this.sortingOrder = undefined;\n        this.rowClass = undefined;\n        this.rowSelection = undefined;\n        this.overlayLoadingTemplate = undefined;\n        this.overlayNoRowsTemplate = undefined;\n        this.quickFilterText = undefined;\n        this.rowModelType = undefined;\n        this.editType = undefined;\n        this.domLayout = undefined;\n        this.clipboardDeliminator = undefined;\n        this.rowGroupPanelShow = undefined;\n        this.multiSortKey = undefined;\n        this.pivotColumnGroupTotals = undefined;\n        this.pivotRowTotals = undefined;\n        this.pivotPanelShow = undefined;\n        this.rowHeight = undefined;\n        this.detailRowHeight = undefined;\n        this.rowBuffer = undefined;\n        this.colWidth = undefined;\n        this.headerHeight = undefined;\n        this.groupHeaderHeight = undefined;\n        this.floatingFiltersHeight = undefined;\n        this.pivotHeaderHeight = undefined;\n        this.pivotGroupHeaderHeight = undefined;\n        this.groupDefaultExpanded = undefined;\n        this.minColWidth = undefined;\n        this.maxColWidth = undefined;\n        this.viewportRowModelPageSize = undefined;\n        this.viewportRowModelBufferSize = undefined;\n        this.autoSizePadding = undefined;\n        this.maxBlocksInCache = undefined;\n        this.maxConcurrentDatasourceRequests = undefined;\n        this.tooltipShowDelay = undefined;\n        this.cacheOverflowSize = undefined;\n        this.paginationPageSize = undefined;\n        this.cacheBlockSize = undefined;\n        this.infiniteInitialRowCount = undefined;\n        this.scrollbarWidth = undefined;\n        this.paginationStartPage = undefined;\n        this.infiniteBlockSize = undefined;\n        this.batchUpdateWaitMillis = undefined;\n        this.asyncTransactionWaitMillis = undefined;\n        this.blockLoadDebounceMillis = undefined;\n        this.keepDetailRowsCount = undefined;\n        this.undoRedoCellEditingLimit = undefined;\n        this.localeTextFunc = undefined;\n        this.groupRowInnerRenderer = undefined;\n        this.groupRowInnerRendererFramework = undefined;\n        this.dateComponent = undefined;\n        this.dateComponentFramework = undefined;\n        this.groupRowRenderer = undefined;\n        this.groupRowRendererFramework = undefined;\n        this.isExternalFilterPresent = undefined;\n        this.getRowHeight = undefined;\n        this.doesExternalFilterPass = undefined;\n        this.getRowClass = undefined;\n        this.getRowStyle = undefined;\n        this.getRowClassRules = undefined;\n        this.traverseNode = undefined;\n        this.getContextMenuItems = undefined;\n        this.getMainMenuItems = undefined;\n        this.processRowPostCreate = undefined;\n        this.processCellForClipboard = undefined;\n        this.getNodeChildDetails = undefined;\n        this.groupRowAggNodes = undefined;\n        this.getRowNodeId = undefined;\n        this.isFullWidthCell = undefined;\n        this.fullWidthCellRenderer = undefined;\n        this.fullWidthCellRendererFramework = undefined;\n        this.doesDataFlower = undefined;\n        this.processSecondaryColDef = undefined;\n        this.processSecondaryColGroupDef = undefined;\n        this.getBusinessKeyForNode = undefined;\n        this.sendToClipboard = undefined;\n        this.navigateToNextCell = undefined;\n        this.tabToNextCell = undefined;\n        this.getDetailRowData = undefined;\n        this.processCellFromClipboard = undefined;\n        this.getDocument = undefined;\n        this.postProcessPopup = undefined;\n        this.getChildCount = undefined;\n        this.getDataPath = undefined;\n        this.loadingCellRenderer = undefined;\n        this.loadingCellRendererFramework = undefined;\n        this.loadingOverlayComponent = undefined;\n        this.loadingOverlayComponentFramework = undefined;\n        this.noRowsOverlayComponent = undefined;\n        this.noRowsOverlayComponentFramework = undefined;\n        this.detailCellRenderer = undefined;\n        this.detailCellRendererFramework = undefined;\n        this.defaultGroupSortComparator = undefined;\n        this.isRowMaster = undefined;\n        this.isRowSelectable = undefined;\n        this.postSort = undefined;\n        this.processHeaderForClipboard = undefined;\n        this.paginationNumberFormatter = undefined;\n        this.processDataFromClipboard = undefined;\n        this.getServerSideGroupKey = undefined;\n        this.isServerSideGroup = undefined;\n        this.suppressKeyboardEvent = undefined;\n        this.createChartContainer = undefined;\n        this.processChartOptions = undefined;\n        this.getChartToolbarItems = undefined;\n        this.fillOperation = undefined;\n        this.toolPanelSuppressRowGroups = undefined;\n        this.toolPanelSuppressValues = undefined;\n        this.toolPanelSuppressPivots = undefined;\n        this.toolPanelSuppressPivotMode = undefined;\n        this.toolPanelSuppressSideButtons = undefined;\n        this.toolPanelSuppressColumnFilter = undefined;\n        this.toolPanelSuppressColumnSelectAll = undefined;\n        this.toolPanelSuppressColumnExpandAll = undefined;\n        this.suppressMakeColumnVisibleAfterUnGroup = undefined;\n        this.suppressRowClickSelection = undefined;\n        this.suppressCellSelection = undefined;\n        this.suppressHorizontalScroll = undefined;\n        this.alwaysShowVerticalScroll = undefined;\n        this.debug = undefined;\n        this.enableBrowserTooltips = undefined;\n        this.enableColResize = undefined;\n        this.enableCellExpressions = undefined;\n        this.enableSorting = undefined;\n        this.enableServerSideSorting = undefined;\n        this.enableFilter = undefined;\n        this.enableServerSideFilter = undefined;\n        this.angularCompileRows = undefined;\n        this.angularCompileFilters = undefined;\n        this.angularCompileHeaders = undefined;\n        this.groupSuppressAutoColumn = undefined;\n        this.groupSelectsChildren = undefined;\n        this.groupIncludeFooter = undefined;\n        this.groupIncludeTotalFooter = undefined;\n        this.groupUseEntireRow = undefined;\n        this.groupSuppressRow = undefined;\n        this.groupSuppressBlankHeader = undefined;\n        this.forPrint = undefined;\n        this.suppressMenuHide = undefined;\n        this.rowDeselection = undefined;\n        this.unSortIcon = undefined;\n        this.suppressMultiSort = undefined;\n        this.singleClickEdit = undefined;\n        this.suppressLoadingOverlay = undefined;\n        this.suppressNoRowsOverlay = undefined;\n        this.suppressAutoSize = undefined;\n        this.skipHeaderOnAutoSize = undefined;\n        this.suppressParentsInRowNodes = undefined;\n        this.showToolPanel = undefined;\n        this.suppressColumnMoveAnimation = undefined;\n        this.suppressMovableColumns = undefined;\n        this.suppressFieldDotNotation = undefined;\n        this.enableRangeSelection = undefined;\n        this.enableRangeHandle = undefined;\n        this.enableFillHandle = undefined;\n        this.suppressClearOnFillReduction = undefined;\n        this.deltaSort = undefined;\n        this.suppressTouch = undefined;\n        this.suppressAsyncEvents = undefined;\n        this.allowContextMenuWithControlKey = undefined;\n        this.suppressContextMenu = undefined;\n        this.suppressMenuFilterPanel = undefined;\n        this.suppressMenuMainPanel = undefined;\n        this.suppressMenuColumnPanel = undefined;\n        this.rememberGroupStateWhenNewData = undefined;\n        this.enableCellChangeFlash = undefined;\n        this.suppressDragLeaveHidesColumns = undefined;\n        this.suppressMiddleClickScrolls = undefined;\n        this.suppressPreventDefaultOnMouseWheel = undefined;\n        this.suppressUseColIdForGroups = undefined;\n        this.suppressCopyRowsToClipboard = undefined;\n        this.copyHeadersToClipboard = undefined;\n        this.pivotMode = undefined;\n        this.suppressAggFuncInHeader = undefined;\n        this.suppressColumnVirtualisation = undefined;\n        this.suppressAggAtRootLevel = undefined;\n        this.suppressFocusAfterRefresh = undefined;\n        this.functionsPassive = undefined;\n        this.functionsReadOnly = undefined;\n        this.animateRows = undefined;\n        this.groupSelectsFiltered = undefined;\n        this.groupRemoveSingleChildren = undefined;\n        this.groupRemoveLowestSingleChildren = undefined;\n        this.enableRtl = undefined;\n        this.suppressClickEdit = undefined;\n        this.rowDragManaged = undefined;\n        this.suppressRowDrag = undefined;\n        this.suppressMoveWhenRowDragging = undefined;\n        this.enableMultiRowDragging = undefined;\n        this.enableGroupEdit = undefined;\n        this.embedFullWidthRows = undefined;\n        this.deprecatedEmbedFullWidthRows = undefined;\n        this.suppressTabbing = undefined;\n        this.suppressPaginationPanel = undefined;\n        this.floatingFilter = undefined;\n        this.groupHideOpenParents = undefined;\n        this.groupMultiAutoColumn = undefined;\n        this.pagination = undefined;\n        this.stopEditingWhenGridLosesFocus = undefined;\n        this.paginationAutoPageSize = undefined;\n        this.suppressScrollOnNewData = undefined;\n        this.purgeClosedRowNodes = undefined;\n        this.cacheQuickFilter = undefined;\n        this.deltaRowDataMode = undefined;\n        this.ensureDomOrder = undefined;\n        this.accentedSort = undefined;\n        this.pivotTotals = undefined;\n        this.suppressChangeDetection = undefined;\n        this.valueCache = undefined;\n        this.valueCacheNeverExpires = undefined;\n        this.aggregateOnlyChangedColumns = undefined;\n        this.suppressAnimationFrame = undefined;\n        this.suppressExcelExport = undefined;\n        this.suppressCsvExport = undefined;\n        this.treeData = undefined;\n        this.masterDetail = undefined;\n        this.suppressMultiRangeSelection = undefined;\n        this.enterMovesDownAfterEdit = undefined;\n        this.enterMovesDown = undefined;\n        this.suppressPropertyNamesCheck = undefined;\n        this.rowMultiSelectWithClick = undefined;\n        this.contractColumnSelection = undefined;\n        this.suppressEnterpriseResetOnNewColumns = undefined;\n        this.enableOldSetFilterModel = undefined;\n        this.suppressRowHoverHighlight = undefined;\n        this.gridAutoHeight = undefined;\n        this.suppressRowTransform = undefined;\n        this.suppressClipboardPaste = undefined;\n        this.suppressLastEmptyLineOnPaste = undefined;\n        this.serverSideSortingAlwaysResets = undefined;\n        this.reactNext = undefined;\n        this.suppressSetColumnStateEvents = undefined;\n        this.enableCharts = undefined;\n        this.deltaColumnMode = undefined;\n        this.suppressMaintainUnsortedOrder = undefined;\n        this.enableCellTextSelection = undefined;\n        this.suppressBrowserResizeObserver = undefined;\n        this.suppressMaxRenderedRowRestriction = undefined;\n        this.excludeChildrenWhenTreeDataFiltering = undefined;\n        this.tooltipMouseTrack = undefined;\n        this.keepDetailRows = undefined;\n        this.paginateChildRows = undefined;\n        this.preventDefaultOnContextMenu = undefined;\n        this.undoRedoCellEditing = undefined;\n        this.allowDragFromColumnsToolPanel = undefined;\n        this.immutableData = undefined;\n        this.immutableColumns = undefined;\n        this.pivotSuppressAutoColumn = undefined;\n        this.columnEverythingChanged = new EventEmitter();\n        this.newColumnsLoaded = new EventEmitter();\n        this.columnPivotModeChanged = new EventEmitter();\n        this.columnRowGroupChanged = new EventEmitter();\n        this.expandOrCollapseAll = new EventEmitter();\n        this.columnPivotChanged = new EventEmitter();\n        this.gridColumnsChanged = new EventEmitter();\n        this.columnValueChanged = new EventEmitter();\n        this.columnMoved = new EventEmitter();\n        this.columnVisible = new EventEmitter();\n        this.columnPinned = new EventEmitter();\n        this.columnGroupOpened = new EventEmitter();\n        this.columnResized = new EventEmitter();\n        this.displayedColumnsChanged = new EventEmitter();\n        this.virtualColumnsChanged = new EventEmitter();\n        this.rowGroupOpened = new EventEmitter();\n        this.rowDataChanged = new EventEmitter();\n        this.rowDataUpdated = new EventEmitter();\n        this.pinnedRowDataChanged = new EventEmitter();\n        this.rangeSelectionChanged = new EventEmitter();\n        this.chartCreated = new EventEmitter();\n        this.chartRangeSelectionChanged = new EventEmitter();\n        this.chartOptionsChanged = new EventEmitter();\n        this.chartDestroyed = new EventEmitter();\n        this.toolPanelVisibleChanged = new EventEmitter();\n        this.modelUpdated = new EventEmitter();\n        this.pasteStart = new EventEmitter();\n        this.pasteEnd = new EventEmitter();\n        this.fillStart = new EventEmitter();\n        this.fillEnd = new EventEmitter();\n        this.cellClicked = new EventEmitter();\n        this.cellDoubleClicked = new EventEmitter();\n        this.cellMouseDown = new EventEmitter();\n        this.cellContextMenu = new EventEmitter();\n        this.cellValueChanged = new EventEmitter();\n        this.rowValueChanged = new EventEmitter();\n        this.cellFocused = new EventEmitter();\n        this.rowSelected = new EventEmitter();\n        this.selectionChanged = new EventEmitter();\n        this.cellKeyDown = new EventEmitter();\n        this.cellKeyPress = new EventEmitter();\n        this.cellMouseOver = new EventEmitter();\n        this.cellMouseOut = new EventEmitter();\n        this.filterChanged = new EventEmitter();\n        this.filterModified = new EventEmitter();\n        this.filterOpened = new EventEmitter();\n        this.sortChanged = new EventEmitter();\n        this.virtualRowRemoved = new EventEmitter();\n        this.rowClicked = new EventEmitter();\n        this.rowDoubleClicked = new EventEmitter();\n        this.gridReady = new EventEmitter();\n        this.gridSizeChanged = new EventEmitter();\n        this.viewportChanged = new EventEmitter();\n        this.firstDataRendered = new EventEmitter();\n        this.dragStarted = new EventEmitter();\n        this.dragStopped = new EventEmitter();\n        this.checkboxChanged = new EventEmitter();\n        this.rowEditingStarted = new EventEmitter();\n        this.rowEditingStopped = new EventEmitter();\n        this.cellEditingStarted = new EventEmitter();\n        this.cellEditingStopped = new EventEmitter();\n        this.bodyScroll = new EventEmitter();\n        this.animationQueueEmpty = new EventEmitter();\n        this.heightScaleChanged = new EventEmitter();\n        this.paginationChanged = new EventEmitter();\n        this.componentStateChanged = new EventEmitter();\n        this.bodyHeightChanged = new EventEmitter();\n        this.displayedColumnsWidthChanged = new EventEmitter();\n        this.scrollVisibilityChanged = new EventEmitter();\n        this.columnHoverChanged = new EventEmitter();\n        this.flashCells = new EventEmitter();\n        this.rowDragEnter = new EventEmitter();\n        this.rowDragMove = new EventEmitter();\n        this.rowDragLeave = new EventEmitter();\n        this.rowDragEnd = new EventEmitter();\n        this.popupToFront = new EventEmitter();\n        this.columnRowGroupChangeRequest = new EventEmitter();\n        this.columnPivotChangeRequest = new EventEmitter();\n        this.columnValueChangeRequest = new EventEmitter();\n        this.columnAggFuncChangeRequest = new EventEmitter();\n        this.keyboardFocus = new EventEmitter();\n        this.mouseFocus = new EventEmitter();\n        this._nativeElement = elementDef.nativeElement;\n        this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef);\n        this.frameworkComponentWrapper.setComponentFactoryResolver(this._componentFactoryResolver);\n    }\n    ngAfterViewInit() {\n        this.checkForDeprecatedEvents();\n        this.gridOptions = ComponentUtil.copyAttributesToGridOptions(this.gridOptions, this, true);\n        this.gridParams = {\n            globalEventListener: this.globalEventListener.bind(this),\n            frameworkOverrides: this.angularFrameworkOverrides,\n            providedBeanInstances: {\n                frameworkComponentWrapper: this.frameworkComponentWrapper\n            },\n            modules: (this.modules || [])\n        };\n        if (this.columns && this.columns.length > 0) {\n            this.gridOptions.columnDefs = this.columns\n                .map((column) => {\n                return column.toColDef();\n            });\n        }\n        new Grid(this._nativeElement, this.gridOptions, this.gridParams);\n        if (this.gridOptions.api) {\n            this.api = this.gridOptions.api;\n        }\n        if (this.gridOptions.columnApi) {\n            this.columnApi = this.gridOptions.columnApi;\n        }\n        this._initialised = true;\n        // sometimes, especially in large client apps gridReady can fire before ngAfterViewInit\n        // this ties these together so that gridReady will always fire after agGridAngular's ngAfterViewInit\n        // the actual containing component's ngAfterViewInit will fire just after agGridAngular's\n        this._fullyReady.resolveNow(null, resolve => resolve);\n    }\n    ngOnChanges(changes) {\n        if (this._initialised) {\n            ComponentUtil.processOnChange(changes, this.gridOptions, this.api, this.columnApi);\n        }\n    }\n    ngOnDestroy() {\n        if (this._initialised) {\n            // need to do this before the destroy, so we know not to emit any events\n            // while tearing down the grid.\n            this._destroyed = true;\n            if (this.api) {\n                this.api.destroy();\n            }\n        }\n    }\n    checkForDeprecatedEvents() {\n        _.iterateObject(Events, (key, eventName) => {\n            if (this[eventName] && this[eventName].observers.length > 0) {\n                GridOptionsWrapper.checkEventDeprecation(eventName);\n            }\n        });\n    }\n    globalEventListener(eventType, event) {\n        // if we are tearing down, don't emit angular events, as this causes\n        // problems with the angular router\n        if (this._destroyed) {\n            return;\n        }\n        // generically look up the eventType\n        let emitter = this[eventType];\n        if (emitter) {\n            if (eventType === 'gridReady') {\n                // if the user is listening for gridReady, wait for ngAfterViewInit to fire first, then emit the\n                // gridReady event\n                this._fullyReady.then((result => {\n                    emitter.emit(event);\n                }));\n            }\n            else {\n                emitter.emit(event);\n            }\n        }\n        else {\n            console.log('ag-Grid-angular: could not find EventEmitter: ' + eventType);\n        }\n    }\n};\nAgGridAngular.ɵfac = function AgGridAngular_Factory(t) { return new (t || AgGridAngular)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ViewContainerRef), ɵngcc0.ɵɵdirectiveInject(AngularFrameworkOverrides), ɵngcc0.ɵɵdirectiveInject(AngularFrameworkComponentWrapper), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ComponentFactoryResolver)); };\nAgGridAngular.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: AgGridAngular, selectors: [[\"ag-grid-angular\"]], contentQueries: function AgGridAngular_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, AgGridColumn, false);\n    } if (rf & 2) {\n        var _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.columns = _t);\n    } }, inputs: { slaveGrids: \"slaveGrids\", alignedGrids: \"alignedGrids\", rowData: \"rowData\", columnDefs: \"columnDefs\", excelStyles: \"excelStyles\", pinnedTopRowData: \"pinnedTopRowData\", pinnedBottomRowData: \"pinnedBottomRowData\", components: \"components\", frameworkComponents: \"frameworkComponents\", rowStyle: \"rowStyle\", context: \"context\", autoGroupColumnDef: \"autoGroupColumnDef\", groupColumnDef: \"groupColumnDef\", localeText: \"localeText\", icons: \"icons\", datasource: \"datasource\", serverSideDatasource: \"serverSideDatasource\", viewportDatasource: \"viewportDatasource\", groupRowRendererParams: \"groupRowRendererParams\", aggFuncs: \"aggFuncs\", fullWidthCellRendererParams: \"fullWidthCellRendererParams\", defaultColGroupDef: \"defaultColGroupDef\", defaultColDef: \"defaultColDef\", defaultExportParams: \"defaultExportParams\", columnTypes: \"columnTypes\", rowClassRules: \"rowClassRules\", detailGridOptions: \"detailGridOptions\", detailCellRendererParams: \"detailCellRendererParams\", loadingCellRendererParams: \"loadingCellRendererParams\", loadingOverlayComponentParams: \"loadingOverlayComponentParams\", noRowsOverlayComponentParams: \"noRowsOverlayComponentParams\", popupParent: \"popupParent\", colResizeDefault: \"colResizeDefault\", reduxStore: \"reduxStore\", statusBar: \"statusBar\", sideBar: \"sideBar\", sortingOrder: \"sortingOrder\", rowClass: \"rowClass\", rowSelection: \"rowSelection\", overlayLoadingTemplate: \"overlayLoadingTemplate\", overlayNoRowsTemplate: \"overlayNoRowsTemplate\", quickFilterText: \"quickFilterText\", rowModelType: \"rowModelType\", editType: \"editType\", domLayout: \"domLayout\", clipboardDeliminator: \"clipboardDeliminator\", rowGroupPanelShow: \"rowGroupPanelShow\", multiSortKey: \"multiSortKey\", pivotColumnGroupTotals: \"pivotColumnGroupTotals\", pivotRowTotals: \"pivotRowTotals\", pivotPanelShow: \"pivotPanelShow\", rowHeight: \"rowHeight\", detailRowHeight: \"detailRowHeight\", rowBuffer: \"rowBuffer\", colWidth: \"colWidth\", headerHeight: \"headerHeight\", groupHeaderHeight: \"groupHeaderHeight\", floatingFiltersHeight: \"floatingFiltersHeight\", pivotHeaderHeight: \"pivotHeaderHeight\", pivotGroupHeaderHeight: \"pivotGroupHeaderHeight\", groupDefaultExpanded: \"groupDefaultExpanded\", minColWidth: \"minColWidth\", maxColWidth: \"maxColWidth\", viewportRowModelPageSize: \"viewportRowModelPageSize\", viewportRowModelBufferSize: \"viewportRowModelBufferSize\", autoSizePadding: \"autoSizePadding\", maxBlocksInCache: \"maxBlocksInCache\", maxConcurrentDatasourceRequests: \"maxConcurrentDatasourceRequests\", tooltipShowDelay: \"tooltipShowDelay\", cacheOverflowSize: \"cacheOverflowSize\", paginationPageSize: \"paginationPageSize\", cacheBlockSize: \"cacheBlockSize\", infiniteInitialRowCount: \"infiniteInitialRowCount\", scrollbarWidth: \"scrollbarWidth\", paginationStartPage: \"paginationStartPage\", infiniteBlockSize: \"infiniteBlockSize\", batchUpdateWaitMillis: \"batchUpdateWaitMillis\", asyncTransactionWaitMillis: \"asyncTransactionWaitMillis\", blockLoadDebounceMillis: \"blockLoadDebounceMillis\", keepDetailRowsCount: \"keepDetailRowsCount\", undoRedoCellEditingLimit: \"undoRedoCellEditingLimit\", localeTextFunc: \"localeTextFunc\", groupRowInnerRenderer: \"groupRowInnerRenderer\", groupRowInnerRendererFramework: \"groupRowInnerRendererFramework\", dateComponent: \"dateComponent\", dateComponentFramework: \"dateComponentFramework\", groupRowRenderer: \"groupRowRenderer\", groupRowRendererFramework: \"groupRowRendererFramework\", isExternalFilterPresent: \"isExternalFilterPresent\", getRowHeight: \"getRowHeight\", doesExternalFilterPass: \"doesExternalFilterPass\", getRowClass: \"getRowClass\", getRowStyle: \"getRowStyle\", getRowClassRules: \"getRowClassRules\", traverseNode: \"traverseNode\", getContextMenuItems: \"getContextMenuItems\", getMainMenuItems: \"getMainMenuItems\", processRowPostCreate: \"processRowPostCreate\", processCellForClipboard: \"processCellForClipboard\", getNodeChildDetails: \"getNodeChildDetails\", groupRowAggNodes: \"groupRowAggNodes\", getRowNodeId: \"getRowNodeId\", isFullWidthCell: \"isFullWidthCell\", fullWidthCellRenderer: \"fullWidthCellRenderer\", fullWidthCellRendererFramework: \"fullWidthCellRendererFramework\", doesDataFlower: \"doesDataFlower\", processSecondaryColDef: \"processSecondaryColDef\", processSecondaryColGroupDef: \"processSecondaryColGroupDef\", getBusinessKeyForNode: \"getBusinessKeyForNode\", sendToClipboard: \"sendToClipboard\", navigateToNextCell: \"navigateToNextCell\", tabToNextCell: \"tabToNextCell\", getDetailRowData: \"getDetailRowData\", processCellFromClipboard: \"processCellFromClipboard\", getDocument: \"getDocument\", postProcessPopup: \"postProcessPopup\", getChildCount: \"getChildCount\", getDataPath: \"getDataPath\", loadingCellRenderer: \"loadingCellRenderer\", loadingCellRendererFramework: \"loadingCellRendererFramework\", loadingOverlayComponent: \"loadingOverlayComponent\", loadingOverlayComponentFramework: \"loadingOverlayComponentFramework\", noRowsOverlayComponent: \"noRowsOverlayComponent\", noRowsOverlayComponentFramework: \"noRowsOverlayComponentFramework\", detailCellRenderer: \"detailCellRenderer\", detailCellRendererFramework: \"detailCellRendererFramework\", defaultGroupSortComparator: \"defaultGroupSortComparator\", isRowMaster: \"isRowMaster\", isRowSelectable: \"isRowSelectable\", postSort: \"postSort\", processHeaderForClipboard: \"processHeaderForClipboard\", paginationNumberFormatter: \"paginationNumberFormatter\", processDataFromClipboard: \"processDataFromClipboard\", getServerSideGroupKey: \"getServerSideGroupKey\", isServerSideGroup: \"isServerSideGroup\", suppressKeyboardEvent: \"suppressKeyboardEvent\", createChartContainer: \"createChartContainer\", processChartOptions: \"processChartOptions\", getChartToolbarItems: \"getChartToolbarItems\", fillOperation: \"fillOperation\", toolPanelSuppressRowGroups: \"toolPanelSuppressRowGroups\", toolPanelSuppressValues: \"toolPanelSuppressValues\", toolPanelSuppressPivots: \"toolPanelSuppressPivots\", toolPanelSuppressPivotMode: \"toolPanelSuppressPivotMode\", toolPanelSuppressSideButtons: \"toolPanelSuppressSideButtons\", toolPanelSuppressColumnFilter: \"toolPanelSuppressColumnFilter\", toolPanelSuppressColumnSelectAll: \"toolPanelSuppressColumnSelectAll\", toolPanelSuppressColumnExpandAll: \"toolPanelSuppressColumnExpandAll\", suppressMakeColumnVisibleAfterUnGroup: \"suppressMakeColumnVisibleAfterUnGroup\", suppressRowClickSelection: \"suppressRowClickSelection\", suppressCellSelection: \"suppressCellSelection\", suppressHorizontalScroll: \"suppressHorizontalScroll\", alwaysShowVerticalScroll: \"alwaysShowVerticalScroll\", debug: \"debug\", enableBrowserTooltips: \"enableBrowserTooltips\", enableColResize: \"enableColResize\", enableCellExpressions: \"enableCellExpressions\", enableSorting: \"enableSorting\", enableServerSideSorting: \"enableServerSideSorting\", enableFilter: \"enableFilter\", enableServerSideFilter: \"enableServerSideFilter\", angularCompileRows: \"angularCompileRows\", angularCompileFilters: \"angularCompileFilters\", angularCompileHeaders: \"angularCompileHeaders\", groupSuppressAutoColumn: \"groupSuppressAutoColumn\", groupSelectsChildren: \"groupSelectsChildren\", groupIncludeFooter: \"groupIncludeFooter\", groupIncludeTotalFooter: \"groupIncludeTotalFooter\", groupUseEntireRow: \"groupUseEntireRow\", groupSuppressRow: \"groupSuppressRow\", groupSuppressBlankHeader: \"groupSuppressBlankHeader\", forPrint: \"forPrint\", suppressMenuHide: \"suppressMenuHide\", rowDeselection: \"rowDeselection\", unSortIcon: \"unSortIcon\", suppressMultiSort: \"suppressMultiSort\", singleClickEdit: \"singleClickEdit\", suppressLoadingOverlay: \"suppressLoadingOverlay\", suppressNoRowsOverlay: \"suppressNoRowsOverlay\", suppressAutoSize: \"suppressAutoSize\", skipHeaderOnAutoSize: \"skipHeaderOnAutoSize\", suppressParentsInRowNodes: \"suppressParentsInRowNodes\", showToolPanel: \"showToolPanel\", suppressColumnMoveAnimation: \"suppressColumnMoveAnimation\", suppressMovableColumns: \"suppressMovableColumns\", suppressFieldDotNotation: \"suppressFieldDotNotation\", enableRangeSelection: \"enableRangeSelection\", enableRangeHandle: \"enableRangeHandle\", enableFillHandle: \"enableFillHandle\", suppressClearOnFillReduction: \"suppressClearOnFillReduction\", deltaSort: \"deltaSort\", suppressTouch: \"suppressTouch\", suppressAsyncEvents: \"suppressAsyncEvents\", allowContextMenuWithControlKey: \"allowContextMenuWithControlKey\", suppressContextMenu: \"suppressContextMenu\", suppressMenuFilterPanel: \"suppressMenuFilterPanel\", suppressMenuMainPanel: \"suppressMenuMainPanel\", suppressMenuColumnPanel: \"suppressMenuColumnPanel\", rememberGroupStateWhenNewData: \"rememberGroupStateWhenNewData\", enableCellChangeFlash: \"enableCellChangeFlash\", suppressDragLeaveHidesColumns: \"suppressDragLeaveHidesColumns\", suppressMiddleClickScrolls: \"suppressMiddleClickScrolls\", suppressPreventDefaultOnMouseWheel: \"suppressPreventDefaultOnMouseWheel\", suppressUseColIdForGroups: \"suppressUseColIdForGroups\", suppressCopyRowsToClipboard: \"suppressCopyRowsToClipboard\", copyHeadersToClipboard: \"copyHeadersToClipboard\", pivotMode: \"pivotMode\", suppressAggFuncInHeader: \"suppressAggFuncInHeader\", suppressColumnVirtualisation: \"suppressColumnVirtualisation\", suppressAggAtRootLevel: \"suppressAggAtRootLevel\", suppressFocusAfterRefresh: \"suppressFocusAfterRefresh\", functionsPassive: \"functionsPassive\", functionsReadOnly: \"functionsReadOnly\", animateRows: \"animateRows\", groupSelectsFiltered: \"groupSelectsFiltered\", groupRemoveSingleChildren: \"groupRemoveSingleChildren\", groupRemoveLowestSingleChildren: \"groupRemoveLowestSingleChildren\", enableRtl: \"enableRtl\", suppressClickEdit: \"suppressClickEdit\", rowDragManaged: \"rowDragManaged\", suppressRowDrag: \"suppressRowDrag\", suppressMoveWhenRowDragging: \"suppressMoveWhenRowDragging\", enableMultiRowDragging: \"enableMultiRowDragging\", enableGroupEdit: \"enableGroupEdit\", embedFullWidthRows: \"embedFullWidthRows\", deprecatedEmbedFullWidthRows: \"deprecatedEmbedFullWidthRows\", suppressTabbing: \"suppressTabbing\", suppressPaginationPanel: \"suppressPaginationPanel\", floatingFilter: \"floatingFilter\", groupHideOpenParents: \"groupHideOpenParents\", groupMultiAutoColumn: \"groupMultiAutoColumn\", pagination: \"pagination\", stopEditingWhenGridLosesFocus: \"stopEditingWhenGridLosesFocus\", paginationAutoPageSize: \"paginationAutoPageSize\", suppressScrollOnNewData: \"suppressScrollOnNewData\", purgeClosedRowNodes: \"purgeClosedRowNodes\", cacheQuickFilter: \"cacheQuickFilter\", deltaRowDataMode: \"deltaRowDataMode\", ensureDomOrder: \"ensureDomOrder\", accentedSort: \"accentedSort\", pivotTotals: \"pivotTotals\", suppressChangeDetection: \"suppressChangeDetection\", valueCache: \"valueCache\", valueCacheNeverExpires: \"valueCacheNeverExpires\", aggregateOnlyChangedColumns: \"aggregateOnlyChangedColumns\", suppressAnimationFrame: \"suppressAnimationFrame\", suppressExcelExport: \"suppressExcelExport\", suppressCsvExport: \"suppressCsvExport\", treeData: \"treeData\", masterDetail: \"masterDetail\", suppressMultiRangeSelection: \"suppressMultiRangeSelection\", enterMovesDownAfterEdit: \"enterMovesDownAfterEdit\", enterMovesDown: \"enterMovesDown\", suppressPropertyNamesCheck: \"suppressPropertyNamesCheck\", rowMultiSelectWithClick: \"rowMultiSelectWithClick\", contractColumnSelection: \"contractColumnSelection\", suppressEnterpriseResetOnNewColumns: \"suppressEnterpriseResetOnNewColumns\", enableOldSetFilterModel: \"enableOldSetFilterModel\", suppressRowHoverHighlight: \"suppressRowHoverHighlight\", gridAutoHeight: \"gridAutoHeight\", suppressRowTransform: \"suppressRowTransform\", suppressClipboardPaste: \"suppressClipboardPaste\", suppressLastEmptyLineOnPaste: \"suppressLastEmptyLineOnPaste\", serverSideSortingAlwaysResets: \"serverSideSortingAlwaysResets\", reactNext: \"reactNext\", suppressSetColumnStateEvents: \"suppressSetColumnStateEvents\", enableCharts: \"enableCharts\", deltaColumnMode: \"deltaColumnMode\", suppressMaintainUnsortedOrder: \"suppressMaintainUnsortedOrder\", enableCellTextSelection: \"enableCellTextSelection\", suppressBrowserResizeObserver: \"suppressBrowserResizeObserver\", suppressMaxRenderedRowRestriction: \"suppressMaxRenderedRowRestriction\", excludeChildrenWhenTreeDataFiltering: \"excludeChildrenWhenTreeDataFiltering\", tooltipMouseTrack: \"tooltipMouseTrack\", keepDetailRows: \"keepDetailRows\", paginateChildRows: \"paginateChildRows\", preventDefaultOnContextMenu: \"preventDefaultOnContextMenu\", undoRedoCellEditing: \"undoRedoCellEditing\", allowDragFromColumnsToolPanel: \"allowDragFromColumnsToolPanel\", immutableData: \"immutableData\", immutableColumns: \"immutableColumns\", pivotSuppressAutoColumn: \"pivotSuppressAutoColumn\", gridOptions: \"gridOptions\", modules: \"modules\" }, outputs: { columnEverythingChanged: \"columnEverythingChanged\", newColumnsLoaded: \"newColumnsLoaded\", columnPivotModeChanged: \"columnPivotModeChanged\", columnRowGroupChanged: \"columnRowGroupChanged\", expandOrCollapseAll: \"expandOrCollapseAll\", columnPivotChanged: \"columnPivotChanged\", gridColumnsChanged: \"gridColumnsChanged\", columnValueChanged: \"columnValueChanged\", columnMoved: \"columnMoved\", columnVisible: \"columnVisible\", columnPinned: \"columnPinned\", columnGroupOpened: \"columnGroupOpened\", columnResized: \"columnResized\", displayedColumnsChanged: \"displayedColumnsChanged\", virtualColumnsChanged: \"virtualColumnsChanged\", rowGroupOpened: \"rowGroupOpened\", rowDataChanged: \"rowDataChanged\", rowDataUpdated: \"rowDataUpdated\", pinnedRowDataChanged: \"pinnedRowDataChanged\", rangeSelectionChanged: \"rangeSelectionChanged\", chartCreated: \"chartCreated\", chartRangeSelectionChanged: \"chartRangeSelectionChanged\", chartOptionsChanged: \"chartOptionsChanged\", chartDestroyed: \"chartDestroyed\", toolPanelVisibleChanged: \"toolPanelVisibleChanged\", modelUpdated: \"modelUpdated\", pasteStart: \"pasteStart\", pasteEnd: \"pasteEnd\", fillStart: \"fillStart\", fillEnd: \"fillEnd\", cellClicked: \"cellClicked\", cellDoubleClicked: \"cellDoubleClicked\", cellMouseDown: \"cellMouseDown\", cellContextMenu: \"cellContextMenu\", cellValueChanged: \"cellValueChanged\", rowValueChanged: \"rowValueChanged\", cellFocused: \"cellFocused\", rowSelected: \"rowSelected\", selectionChanged: \"selectionChanged\", cellKeyDown: \"cellKeyDown\", cellKeyPress: \"cellKeyPress\", cellMouseOver: \"cellMouseOver\", cellMouseOut: \"cellMouseOut\", filterChanged: \"filterChanged\", filterModified: \"filterModified\", filterOpened: \"filterOpened\", sortChanged: \"sortChanged\", virtualRowRemoved: \"virtualRowRemoved\", rowClicked: \"rowClicked\", rowDoubleClicked: \"rowDoubleClicked\", gridReady: \"gridReady\", gridSizeChanged: \"gridSizeChanged\", viewportChanged: \"viewportChanged\", firstDataRendered: \"firstDataRendered\", dragStarted: \"dragStarted\", dragStopped: \"dragStopped\", checkboxChanged: \"checkboxChanged\", rowEditingStarted: \"rowEditingStarted\", rowEditingStopped: \"rowEditingStopped\", cellEditingStarted: \"cellEditingStarted\", cellEditingStopped: \"cellEditingStopped\", bodyScroll: \"bodyScroll\", animationQueueEmpty: \"animationQueueEmpty\", heightScaleChanged: \"heightScaleChanged\", paginationChanged: \"paginationChanged\", componentStateChanged: \"componentStateChanged\", bodyHeightChanged: \"bodyHeightChanged\", displayedColumnsWidthChanged: \"displayedColumnsWidthChanged\", scrollVisibilityChanged: \"scrollVisibilityChanged\", columnHoverChanged: \"columnHoverChanged\", flashCells: \"flashCells\", rowDragEnter: \"rowDragEnter\", rowDragMove: \"rowDragMove\", rowDragLeave: \"rowDragLeave\", rowDragEnd: \"rowDragEnd\", popupToFront: \"popupToFront\", columnRowGroupChangeRequest: \"columnRowGroupChangeRequest\", columnPivotChangeRequest: \"columnPivotChangeRequest\", columnValueChangeRequest: \"columnValueChangeRequest\", columnAggFuncChangeRequest: \"columnAggFuncChangeRequest\", keyboardFocus: \"keyboardFocus\", mouseFocus: \"mouseFocus\" }, features: [ɵngcc0.ɵɵProvidersFeature([\n            AngularFrameworkOverrides,\n            AngularFrameworkComponentWrapper\n        ]), ɵngcc0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function AgGridAngular_Template(rf, ctx) { }, encapsulation: 2 });\nAgGridAngular.ctorParameters = () => [\n    { type: ElementRef },\n    { type: ViewContainerRef },\n    { type: AngularFrameworkOverrides },\n    { type: AngularFrameworkComponentWrapper },\n    { type: ComponentFactoryResolver }\n];\n__decorate([\n    ContentChildren(AgGridColumn),\n    __metadata(\"design:type\", QueryList)\n], AgGridAngular.prototype, \"columns\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"gridOptions\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], AgGridAngular.prototype, \"modules\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"slaveGrids\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"alignedGrids\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"rowData\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"columnDefs\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"excelStyles\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"pinnedTopRowData\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"pinnedBottomRowData\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"components\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"frameworkComponents\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"rowStyle\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"context\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"autoGroupColumnDef\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupColumnDef\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"localeText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"icons\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"datasource\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"serverSideDatasource\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"viewportDatasource\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupRowRendererParams\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"aggFuncs\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"fullWidthCellRendererParams\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"defaultColGroupDef\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"defaultColDef\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"defaultExportParams\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"columnTypes\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"rowClassRules\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"detailGridOptions\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"detailCellRendererParams\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"loadingCellRendererParams\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"loadingOverlayComponentParams\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"noRowsOverlayComponentParams\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"popupParent\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"colResizeDefault\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"reduxStore\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"statusBar\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"sideBar\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"sortingOrder\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"rowClass\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"rowSelection\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"overlayLoadingTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"overlayNoRowsTemplate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"quickFilterText\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"rowModelType\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"editType\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"domLayout\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"clipboardDeliminator\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"rowGroupPanelShow\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"multiSortKey\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"pivotColumnGroupTotals\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"pivotRowTotals\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"pivotPanelShow\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"rowHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"detailRowHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"rowBuffer\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"colWidth\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"headerHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupHeaderHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"floatingFiltersHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"pivotHeaderHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"pivotGroupHeaderHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupDefaultExpanded\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"minColWidth\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"maxColWidth\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"viewportRowModelPageSize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"viewportRowModelBufferSize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"autoSizePadding\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"maxBlocksInCache\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"maxConcurrentDatasourceRequests\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"tooltipShowDelay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"cacheOverflowSize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"paginationPageSize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"cacheBlockSize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"infiniteInitialRowCount\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"scrollbarWidth\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"paginationStartPage\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"infiniteBlockSize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"batchUpdateWaitMillis\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"asyncTransactionWaitMillis\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"blockLoadDebounceMillis\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"keepDetailRowsCount\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"undoRedoCellEditingLimit\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"localeTextFunc\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupRowInnerRenderer\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupRowInnerRendererFramework\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"dateComponent\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"dateComponentFramework\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupRowRenderer\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupRowRendererFramework\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"isExternalFilterPresent\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"getRowHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"doesExternalFilterPass\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"getRowClass\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"getRowStyle\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"getRowClassRules\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"traverseNode\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"getContextMenuItems\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"getMainMenuItems\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"processRowPostCreate\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"processCellForClipboard\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"getNodeChildDetails\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupRowAggNodes\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"getRowNodeId\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"isFullWidthCell\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"fullWidthCellRenderer\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"fullWidthCellRendererFramework\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"doesDataFlower\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"processSecondaryColDef\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"processSecondaryColGroupDef\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"getBusinessKeyForNode\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"sendToClipboard\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"navigateToNextCell\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"tabToNextCell\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"getDetailRowData\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"processCellFromClipboard\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"getDocument\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"postProcessPopup\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"getChildCount\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"getDataPath\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"loadingCellRenderer\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"loadingCellRendererFramework\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"loadingOverlayComponent\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"loadingOverlayComponentFramework\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"noRowsOverlayComponent\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"noRowsOverlayComponentFramework\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"detailCellRenderer\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"detailCellRendererFramework\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"defaultGroupSortComparator\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"isRowMaster\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"isRowSelectable\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"postSort\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"processHeaderForClipboard\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"paginationNumberFormatter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"processDataFromClipboard\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"getServerSideGroupKey\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"isServerSideGroup\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressKeyboardEvent\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"createChartContainer\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"processChartOptions\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"getChartToolbarItems\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"fillOperation\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"toolPanelSuppressRowGroups\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"toolPanelSuppressValues\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"toolPanelSuppressPivots\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"toolPanelSuppressPivotMode\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"toolPanelSuppressSideButtons\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"toolPanelSuppressColumnFilter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"toolPanelSuppressColumnSelectAll\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"toolPanelSuppressColumnExpandAll\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressMakeColumnVisibleAfterUnGroup\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressRowClickSelection\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressCellSelection\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressHorizontalScroll\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"alwaysShowVerticalScroll\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"debug\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableBrowserTooltips\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableColResize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableCellExpressions\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableSorting\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableServerSideSorting\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableFilter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableServerSideFilter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"angularCompileRows\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"angularCompileFilters\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"angularCompileHeaders\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupSuppressAutoColumn\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupSelectsChildren\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupIncludeFooter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupIncludeTotalFooter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupUseEntireRow\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupSuppressRow\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupSuppressBlankHeader\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"forPrint\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressMenuHide\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"rowDeselection\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"unSortIcon\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressMultiSort\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"singleClickEdit\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressLoadingOverlay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressNoRowsOverlay\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressAutoSize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"skipHeaderOnAutoSize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressParentsInRowNodes\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"showToolPanel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressColumnMoveAnimation\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressMovableColumns\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressFieldDotNotation\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableRangeSelection\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableRangeHandle\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableFillHandle\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressClearOnFillReduction\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"deltaSort\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressTouch\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressAsyncEvents\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"allowContextMenuWithControlKey\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressContextMenu\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressMenuFilterPanel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressMenuMainPanel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressMenuColumnPanel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"rememberGroupStateWhenNewData\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableCellChangeFlash\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressDragLeaveHidesColumns\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressMiddleClickScrolls\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressPreventDefaultOnMouseWheel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressUseColIdForGroups\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressCopyRowsToClipboard\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"copyHeadersToClipboard\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"pivotMode\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressAggFuncInHeader\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressColumnVirtualisation\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressAggAtRootLevel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressFocusAfterRefresh\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"functionsPassive\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"functionsReadOnly\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"animateRows\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupSelectsFiltered\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupRemoveSingleChildren\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupRemoveLowestSingleChildren\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableRtl\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressClickEdit\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"rowDragManaged\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressRowDrag\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressMoveWhenRowDragging\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableMultiRowDragging\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableGroupEdit\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"embedFullWidthRows\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"deprecatedEmbedFullWidthRows\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressTabbing\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressPaginationPanel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"floatingFilter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupHideOpenParents\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"groupMultiAutoColumn\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"pagination\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"stopEditingWhenGridLosesFocus\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"paginationAutoPageSize\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressScrollOnNewData\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"purgeClosedRowNodes\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"cacheQuickFilter\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"deltaRowDataMode\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"ensureDomOrder\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"accentedSort\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"pivotTotals\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressChangeDetection\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"valueCache\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"valueCacheNeverExpires\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"aggregateOnlyChangedColumns\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressAnimationFrame\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressExcelExport\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressCsvExport\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"treeData\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"masterDetail\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressMultiRangeSelection\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enterMovesDownAfterEdit\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enterMovesDown\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressPropertyNamesCheck\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"rowMultiSelectWithClick\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"contractColumnSelection\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressEnterpriseResetOnNewColumns\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableOldSetFilterModel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressRowHoverHighlight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"gridAutoHeight\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressRowTransform\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressClipboardPaste\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressLastEmptyLineOnPaste\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"serverSideSortingAlwaysResets\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"reactNext\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressSetColumnStateEvents\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableCharts\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"deltaColumnMode\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressMaintainUnsortedOrder\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"enableCellTextSelection\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressBrowserResizeObserver\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"suppressMaxRenderedRowRestriction\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"excludeChildrenWhenTreeDataFiltering\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"tooltipMouseTrack\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"keepDetailRows\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"paginateChildRows\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"preventDefaultOnContextMenu\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"undoRedoCellEditing\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"allowDragFromColumnsToolPanel\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"immutableData\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"immutableColumns\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], AgGridAngular.prototype, \"pivotSuppressAutoColumn\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"columnEverythingChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"newColumnsLoaded\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"columnPivotModeChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"columnRowGroupChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"expandOrCollapseAll\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"columnPivotChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"gridColumnsChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"columnValueChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"columnMoved\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"columnVisible\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"columnPinned\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"columnGroupOpened\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"columnResized\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"displayedColumnsChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"virtualColumnsChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"rowGroupOpened\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"rowDataChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"rowDataUpdated\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"pinnedRowDataChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"rangeSelectionChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"chartCreated\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"chartRangeSelectionChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"chartOptionsChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"chartDestroyed\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"toolPanelVisibleChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"modelUpdated\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"pasteStart\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"pasteEnd\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"fillStart\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"fillEnd\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"cellClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"cellDoubleClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"cellMouseDown\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"cellContextMenu\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"cellValueChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"rowValueChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"cellFocused\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"rowSelected\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"selectionChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"cellKeyDown\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"cellKeyPress\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"cellMouseOver\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"cellMouseOut\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"filterChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"filterModified\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"filterOpened\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"sortChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"virtualRowRemoved\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"rowClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"rowDoubleClicked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"gridReady\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"gridSizeChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"viewportChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"firstDataRendered\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"dragStarted\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"dragStopped\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"checkboxChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"rowEditingStarted\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"rowEditingStopped\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"cellEditingStarted\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"cellEditingStopped\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"bodyScroll\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"animationQueueEmpty\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"heightScaleChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"paginationChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"componentStateChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"bodyHeightChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"displayedColumnsWidthChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"scrollVisibilityChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"columnHoverChanged\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"flashCells\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"rowDragEnter\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"rowDragMove\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"rowDragLeave\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"rowDragEnd\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"popupToFront\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"columnRowGroupChangeRequest\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"columnPivotChangeRequest\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"columnValueChangeRequest\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"columnAggFuncChangeRequest\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"keyboardFocus\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", EventEmitter)\n], AgGridAngular.prototype, \"mouseFocus\", void 0);\nAgGridAngular = __decorate([ __metadata(\"design:paramtypes\", [ElementRef,\n        ViewContainerRef,\n        AngularFrameworkOverrides,\n        AngularFrameworkComponentWrapper,\n        ComponentFactoryResolver])\n], AgGridAngular);\n\nvar AgGridModule_1;\nlet AgGridModule = AgGridModule_1 = class AgGridModule {\n    static withComponents(components) {\n        return {\n            ngModule: AgGridModule_1,\n            providers: [\n                { provide: ANALYZE_FOR_ENTRY_COMPONENTS, useValue: components, multi: true }\n            ],\n        };\n    }\n    static forRoot(components) {\n        return {\n            ngModule: AgGridModule_1,\n            providers: [\n                { provide: ANALYZE_FOR_ENTRY_COMPONENTS, useValue: components, multi: true }\n            ],\n        };\n    }\n};\nAgGridModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: AgGridModule });\nAgGridModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function AgGridModule_Factory(t) { return new (t || AgGridModule)(); }, imports: [[]] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AgGridColumn, [{\n        type: Component,\n        args: [{\n                selector: 'ag-grid-column',\n                template: ''\n            }]\n    }], null, { childColumns: [{\n            type: ContentChildren,\n            args: [AgGridColumn_1]\n        }], children: [{\n            type: Input\n        }], sortingOrder: [{\n            type: Input\n        }], allowedAggFuncs: [{\n            type: Input\n        }], menuTabs: [{\n            type: Input\n        }], cellClassRules: [{\n            type: Input\n        }], icons: [{\n            type: Input\n        }], headerGroupComponent: [{\n            type: Input\n        }], headerGroupComponentFramework: [{\n            type: Input\n        }], headerGroupComponentParams: [{\n            type: Input\n        }], cellStyle: [{\n            type: Input\n        }], cellRendererParams: [{\n            type: Input\n        }], cellEditorFramework: [{\n            type: Input\n        }], cellEditorParams: [{\n            type: Input\n        }], pinnedRowCellRendererFramework: [{\n            type: Input\n        }], pinnedRowCellRendererParams: [{\n            type: Input\n        }], filterFramework: [{\n            type: Input\n        }], filterParams: [{\n            type: Input\n        }], headerComponent: [{\n            type: Input\n        }], headerComponentFramework: [{\n            type: Input\n        }], headerComponentParams: [{\n            type: Input\n        }], floatingFilterComponent: [{\n            type: Input\n        }], floatingFilterComponentParams: [{\n            type: Input\n        }], floatingFilterComponentFramework: [{\n            type: Input\n        }], tooltipComponent: [{\n            type: Input\n        }], tooltipComponentParams: [{\n            type: Input\n        }], tooltipComponentFramework: [{\n            type: Input\n        }], refData: [{\n            type: Input\n        }], headerName: [{\n            type: Input\n        }], columnGroupShow: [{\n            type: Input\n        }], headerClass: [{\n            type: Input\n        }], toolPanelClass: [{\n            type: Input\n        }], headerValueGetter: [{\n            type: Input\n        }], groupId: [{\n            type: Input\n        }], colId: [{\n            type: Input\n        }], sort: [{\n            type: Input\n        }], field: [{\n            type: Input\n        }], type: [{\n            type: Input\n        }], tooltipField: [{\n            type: Input\n        }], headerTooltip: [{\n            type: Input\n        }], cellClass: [{\n            type: Input\n        }], showRowGroup: [{\n            type: Input\n        }], filter: [{\n            type: Input\n        }], aggFunc: [{\n            type: Input\n        }], cellRenderer: [{\n            type: Input\n        }], cellEditor: [{\n            type: Input\n        }], pinned: [{\n            type: Input\n        }], chartDataType: [{\n            type: Input\n        }], sortedAt: [{\n            type: Input\n        }], flex: [{\n            type: Input\n        }], width: [{\n            type: Input\n        }], minWidth: [{\n            type: Input\n        }], maxWidth: [{\n            type: Input\n        }], rowGroupIndex: [{\n            type: Input\n        }], pivotIndex: [{\n            type: Input\n        }], dndSourceOnRowDrag: [{\n            type: Input\n        }], valueGetter: [{\n            type: Input\n        }], valueSetter: [{\n            type: Input\n        }], filterValueGetter: [{\n            type: Input\n        }], keyCreator: [{\n            type: Input\n        }], cellRendererFramework: [{\n            type: Input\n        }], pinnedRowCellRenderer: [{\n            type: Input\n        }], valueFormatter: [{\n            type: Input\n        }], pinnedRowValueFormatter: [{\n            type: Input\n        }], valueParser: [{\n            type: Input\n        }], comparator: [{\n            type: Input\n        }], equals: [{\n            type: Input\n        }], pivotComparator: [{\n            type: Input\n        }], suppressKeyboardEvent: [{\n            type: Input\n        }], colSpan: [{\n            type: Input\n        }], rowSpan: [{\n            type: Input\n        }], getQuickFilterText: [{\n            type: Input\n        }], newValueHandler: [{\n            type: Input\n        }], onCellValueChanged: [{\n            type: Input\n        }], onCellClicked: [{\n            type: Input\n        }], onCellDoubleClicked: [{\n            type: Input\n        }], onCellContextMenu: [{\n            type: Input\n        }], rowDragText: [{\n            type: Input\n        }], tooltip: [{\n            type: Input\n        }], tooltipValueGetter: [{\n            type: Input\n        }], cellRendererSelector: [{\n            type: Input\n        }], cellEditorSelector: [{\n            type: Input\n        }], suppressCellFlash: [{\n            type: Input\n        }], suppressColumnsToolPanel: [{\n            type: Input\n        }], suppressFiltersToolPanel: [{\n            type: Input\n        }], openByDefault: [{\n            type: Input\n        }], marryChildren: [{\n            type: Input\n        }], hide: [{\n            type: Input\n        }], rowGroup: [{\n            type: Input\n        }], pivot: [{\n            type: Input\n        }], checkboxSelection: [{\n            type: Input\n        }], headerCheckboxSelection: [{\n            type: Input\n        }], headerCheckboxSelectionFilteredOnly: [{\n            type: Input\n        }], suppressMenu: [{\n            type: Input\n        }], suppressSorting: [{\n            type: Input\n        }], suppressMovable: [{\n            type: Input\n        }], suppressFilter: [{\n            type: Input\n        }], lockPosition: [{\n            type: Input\n        }], lockVisible: [{\n            type: Input\n        }], lockPinned: [{\n            type: Input\n        }], unSortIcon: [{\n            type: Input\n        }], suppressSizeToFit: [{\n            type: Input\n        }], suppressResize: [{\n            type: Input\n        }], suppressAutoSize: [{\n            type: Input\n        }], enableRowGroup: [{\n            type: Input\n        }], enablePivot: [{\n            type: Input\n        }], enableValue: [{\n            type: Input\n        }], editable: [{\n            type: Input\n        }], suppressPaste: [{\n            type: Input\n        }], suppressNavigable: [{\n            type: Input\n        }], enableCellChangeFlash: [{\n            type: Input\n        }], rowDrag: [{\n            type: Input\n        }], dndSource: [{\n            type: Input\n        }], autoHeight: [{\n            type: Input\n        }], sortable: [{\n            type: Input\n        }], resizable: [{\n            type: Input\n        }], singleClickEdit: [{\n            type: Input\n        }], floatingFilter: [{\n            type: Input\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AngularFrameworkOverrides, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.NgZone }]; }, null); })();\nconst ɵAngularFrameworkComponentWrapper_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(AngularFrameworkComponentWrapper);\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AngularFrameworkComponentWrapper, [{\n        type: Injectable\n    }], null, null); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AgGridAngular, [{\n        type: Component,\n        args: [{\n                selector: 'ag-grid-angular',\n                template: '',\n                providers: [\n                    AngularFrameworkOverrides,\n                    AngularFrameworkComponentWrapper\n                ],\n                // tell angular we don't want view encapsulation, we don't want a shadow root\n                encapsulation: ViewEncapsulation.None\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ViewContainerRef }, { type: AngularFrameworkOverrides }, { type: AngularFrameworkComponentWrapper }, { type: ɵngcc0.ComponentFactoryResolver }]; }, { slaveGrids: [{\n            type: Input\n        }], alignedGrids: [{\n            type: Input\n        }], rowData: [{\n            type: Input\n        }], columnDefs: [{\n            type: Input\n        }], excelStyles: [{\n            type: Input\n        }], pinnedTopRowData: [{\n            type: Input\n        }], pinnedBottomRowData: [{\n            type: Input\n        }], components: [{\n            type: Input\n        }], frameworkComponents: [{\n            type: Input\n        }], rowStyle: [{\n            type: Input\n        }], context: [{\n            type: Input\n        }], autoGroupColumnDef: [{\n            type: Input\n        }], groupColumnDef: [{\n            type: Input\n        }], localeText: [{\n            type: Input\n        }], icons: [{\n            type: Input\n        }], datasource: [{\n            type: Input\n        }], serverSideDatasource: [{\n            type: Input\n        }], viewportDatasource: [{\n            type: Input\n        }], groupRowRendererParams: [{\n            type: Input\n        }], aggFuncs: [{\n            type: Input\n        }], fullWidthCellRendererParams: [{\n            type: Input\n        }], defaultColGroupDef: [{\n            type: Input\n        }], defaultColDef: [{\n            type: Input\n        }], defaultExportParams: [{\n            type: Input\n        }], columnTypes: [{\n            type: Input\n        }], rowClassRules: [{\n            type: Input\n        }], detailGridOptions: [{\n            type: Input\n        }], detailCellRendererParams: [{\n            type: Input\n        }], loadingCellRendererParams: [{\n            type: Input\n        }], loadingOverlayComponentParams: [{\n            type: Input\n        }], noRowsOverlayComponentParams: [{\n            type: Input\n        }], popupParent: [{\n            type: Input\n        }], colResizeDefault: [{\n            type: Input\n        }], reduxStore: [{\n            type: Input\n        }], statusBar: [{\n            type: Input\n        }], sideBar: [{\n            type: Input\n        }], sortingOrder: [{\n            type: Input\n        }], rowClass: [{\n            type: Input\n        }], rowSelection: [{\n            type: Input\n        }], overlayLoadingTemplate: [{\n            type: Input\n        }], overlayNoRowsTemplate: [{\n            type: Input\n        }], quickFilterText: [{\n            type: Input\n        }], rowModelType: [{\n            type: Input\n        }], editType: [{\n            type: Input\n        }], domLayout: [{\n            type: Input\n        }], clipboardDeliminator: [{\n            type: Input\n        }], rowGroupPanelShow: [{\n            type: Input\n        }], multiSortKey: [{\n            type: Input\n        }], pivotColumnGroupTotals: [{\n            type: Input\n        }], pivotRowTotals: [{\n            type: Input\n        }], pivotPanelShow: [{\n            type: Input\n        }], rowHeight: [{\n            type: Input\n        }], detailRowHeight: [{\n            type: Input\n        }], rowBuffer: [{\n            type: Input\n        }], colWidth: [{\n            type: Input\n        }], headerHeight: [{\n            type: Input\n        }], groupHeaderHeight: [{\n            type: Input\n        }], floatingFiltersHeight: [{\n            type: Input\n        }], pivotHeaderHeight: [{\n            type: Input\n        }], pivotGroupHeaderHeight: [{\n            type: Input\n        }], groupDefaultExpanded: [{\n            type: Input\n        }], minColWidth: [{\n            type: Input\n        }], maxColWidth: [{\n            type: Input\n        }], viewportRowModelPageSize: [{\n            type: Input\n        }], viewportRowModelBufferSize: [{\n            type: Input\n        }], autoSizePadding: [{\n            type: Input\n        }], maxBlocksInCache: [{\n            type: Input\n        }], maxConcurrentDatasourceRequests: [{\n            type: Input\n        }], tooltipShowDelay: [{\n            type: Input\n        }], cacheOverflowSize: [{\n            type: Input\n        }], paginationPageSize: [{\n            type: Input\n        }], cacheBlockSize: [{\n            type: Input\n        }], infiniteInitialRowCount: [{\n            type: Input\n        }], scrollbarWidth: [{\n            type: Input\n        }], paginationStartPage: [{\n            type: Input\n        }], infiniteBlockSize: [{\n            type: Input\n        }], batchUpdateWaitMillis: [{\n            type: Input\n        }], asyncTransactionWaitMillis: [{\n            type: Input\n        }], blockLoadDebounceMillis: [{\n            type: Input\n        }], keepDetailRowsCount: [{\n            type: Input\n        }], undoRedoCellEditingLimit: [{\n            type: Input\n        }], localeTextFunc: [{\n            type: Input\n        }], groupRowInnerRenderer: [{\n            type: Input\n        }], groupRowInnerRendererFramework: [{\n            type: Input\n        }], dateComponent: [{\n            type: Input\n        }], dateComponentFramework: [{\n            type: Input\n        }], groupRowRenderer: [{\n            type: Input\n        }], groupRowRendererFramework: [{\n            type: Input\n        }], isExternalFilterPresent: [{\n            type: Input\n        }], getRowHeight: [{\n            type: Input\n        }], doesExternalFilterPass: [{\n            type: Input\n        }], getRowClass: [{\n            type: Input\n        }], getRowStyle: [{\n            type: Input\n        }], getRowClassRules: [{\n            type: Input\n        }], traverseNode: [{\n            type: Input\n        }], getContextMenuItems: [{\n            type: Input\n        }], getMainMenuItems: [{\n            type: Input\n        }], processRowPostCreate: [{\n            type: Input\n        }], processCellForClipboard: [{\n            type: Input\n        }], getNodeChildDetails: [{\n            type: Input\n        }], groupRowAggNodes: [{\n            type: Input\n        }], getRowNodeId: [{\n            type: Input\n        }], isFullWidthCell: [{\n            type: Input\n        }], fullWidthCellRenderer: [{\n            type: Input\n        }], fullWidthCellRendererFramework: [{\n            type: Input\n        }], doesDataFlower: [{\n            type: Input\n        }], processSecondaryColDef: [{\n            type: Input\n        }], processSecondaryColGroupDef: [{\n            type: Input\n        }], getBusinessKeyForNode: [{\n            type: Input\n        }], sendToClipboard: [{\n            type: Input\n        }], navigateToNextCell: [{\n            type: Input\n        }], tabToNextCell: [{\n            type: Input\n        }], getDetailRowData: [{\n            type: Input\n        }], processCellFromClipboard: [{\n            type: Input\n        }], getDocument: [{\n            type: Input\n        }], postProcessPopup: [{\n            type: Input\n        }], getChildCount: [{\n            type: Input\n        }], getDataPath: [{\n            type: Input\n        }], loadingCellRenderer: [{\n            type: Input\n        }], loadingCellRendererFramework: [{\n            type: Input\n        }], loadingOverlayComponent: [{\n            type: Input\n        }], loadingOverlayComponentFramework: [{\n            type: Input\n        }], noRowsOverlayComponent: [{\n            type: Input\n        }], noRowsOverlayComponentFramework: [{\n            type: Input\n        }], detailCellRenderer: [{\n            type: Input\n        }], detailCellRendererFramework: [{\n            type: Input\n        }], defaultGroupSortComparator: [{\n            type: Input\n        }], isRowMaster: [{\n            type: Input\n        }], isRowSelectable: [{\n            type: Input\n        }], postSort: [{\n            type: Input\n        }], processHeaderForClipboard: [{\n            type: Input\n        }], paginationNumberFormatter: [{\n            type: Input\n        }], processDataFromClipboard: [{\n            type: Input\n        }], getServerSideGroupKey: [{\n            type: Input\n        }], isServerSideGroup: [{\n            type: Input\n        }], suppressKeyboardEvent: [{\n            type: Input\n        }], createChartContainer: [{\n            type: Input\n        }], processChartOptions: [{\n            type: Input\n        }], getChartToolbarItems: [{\n            type: Input\n        }], fillOperation: [{\n            type: Input\n        }], toolPanelSuppressRowGroups: [{\n            type: Input\n        }], toolPanelSuppressValues: [{\n            type: Input\n        }], toolPanelSuppressPivots: [{\n            type: Input\n        }], toolPanelSuppressPivotMode: [{\n            type: Input\n        }], toolPanelSuppressSideButtons: [{\n            type: Input\n        }], toolPanelSuppressColumnFilter: [{\n            type: Input\n        }], toolPanelSuppressColumnSelectAll: [{\n            type: Input\n        }], toolPanelSuppressColumnExpandAll: [{\n            type: Input\n        }], suppressMakeColumnVisibleAfterUnGroup: [{\n            type: Input\n        }], suppressRowClickSelection: [{\n            type: Input\n        }], suppressCellSelection: [{\n            type: Input\n        }], suppressHorizontalScroll: [{\n            type: Input\n        }], alwaysShowVerticalScroll: [{\n            type: Input\n        }], debug: [{\n            type: Input\n        }], enableBrowserTooltips: [{\n            type: Input\n        }], enableColResize: [{\n            type: Input\n        }], enableCellExpressions: [{\n            type: Input\n        }], enableSorting: [{\n            type: Input\n        }], enableServerSideSorting: [{\n            type: Input\n        }], enableFilter: [{\n            type: Input\n        }], enableServerSideFilter: [{\n            type: Input\n        }], angularCompileRows: [{\n            type: Input\n        }], angularCompileFilters: [{\n            type: Input\n        }], angularCompileHeaders: [{\n            type: Input\n        }], groupSuppressAutoColumn: [{\n            type: Input\n        }], groupSelectsChildren: [{\n            type: Input\n        }], groupIncludeFooter: [{\n            type: Input\n        }], groupIncludeTotalFooter: [{\n            type: Input\n        }], groupUseEntireRow: [{\n            type: Input\n        }], groupSuppressRow: [{\n            type: Input\n        }], groupSuppressBlankHeader: [{\n            type: Input\n        }], forPrint: [{\n            type: Input\n        }], suppressMenuHide: [{\n            type: Input\n        }], rowDeselection: [{\n            type: Input\n        }], unSortIcon: [{\n            type: Input\n        }], suppressMultiSort: [{\n            type: Input\n        }], singleClickEdit: [{\n            type: Input\n        }], suppressLoadingOverlay: [{\n            type: Input\n        }], suppressNoRowsOverlay: [{\n            type: Input\n        }], suppressAutoSize: [{\n            type: Input\n        }], skipHeaderOnAutoSize: [{\n            type: Input\n        }], suppressParentsInRowNodes: [{\n            type: Input\n        }], showToolPanel: [{\n            type: Input\n        }], suppressColumnMoveAnimation: [{\n            type: Input\n        }], suppressMovableColumns: [{\n            type: Input\n        }], suppressFieldDotNotation: [{\n            type: Input\n        }], enableRangeSelection: [{\n            type: Input\n        }], enableRangeHandle: [{\n            type: Input\n        }], enableFillHandle: [{\n            type: Input\n        }], suppressClearOnFillReduction: [{\n            type: Input\n        }], deltaSort: [{\n            type: Input\n        }], suppressTouch: [{\n            type: Input\n        }], suppressAsyncEvents: [{\n            type: Input\n        }], allowContextMenuWithControlKey: [{\n            type: Input\n        }], suppressContextMenu: [{\n            type: Input\n        }], suppressMenuFilterPanel: [{\n            type: Input\n        }], suppressMenuMainPanel: [{\n            type: Input\n        }], suppressMenuColumnPanel: [{\n            type: Input\n        }], rememberGroupStateWhenNewData: [{\n            type: Input\n        }], enableCellChangeFlash: [{\n            type: Input\n        }], suppressDragLeaveHidesColumns: [{\n            type: Input\n        }], suppressMiddleClickScrolls: [{\n            type: Input\n        }], suppressPreventDefaultOnMouseWheel: [{\n            type: Input\n        }], suppressUseColIdForGroups: [{\n            type: Input\n        }], suppressCopyRowsToClipboard: [{\n            type: Input\n        }], copyHeadersToClipboard: [{\n            type: Input\n        }], pivotMode: [{\n            type: Input\n        }], suppressAggFuncInHeader: [{\n            type: Input\n        }], suppressColumnVirtualisation: [{\n            type: Input\n        }], suppressAggAtRootLevel: [{\n            type: Input\n        }], suppressFocusAfterRefresh: [{\n            type: Input\n        }], functionsPassive: [{\n            type: Input\n        }], functionsReadOnly: [{\n            type: Input\n        }], animateRows: [{\n            type: Input\n        }], groupSelectsFiltered: [{\n            type: Input\n        }], groupRemoveSingleChildren: [{\n            type: Input\n        }], groupRemoveLowestSingleChildren: [{\n            type: Input\n        }], enableRtl: [{\n            type: Input\n        }], suppressClickEdit: [{\n            type: Input\n        }], rowDragManaged: [{\n            type: Input\n        }], suppressRowDrag: [{\n            type: Input\n        }], suppressMoveWhenRowDragging: [{\n            type: Input\n        }], enableMultiRowDragging: [{\n            type: Input\n        }], enableGroupEdit: [{\n            type: Input\n        }], embedFullWidthRows: [{\n            type: Input\n        }], deprecatedEmbedFullWidthRows: [{\n            type: Input\n        }], suppressTabbing: [{\n            type: Input\n        }], suppressPaginationPanel: [{\n            type: Input\n        }], floatingFilter: [{\n            type: Input\n        }], groupHideOpenParents: [{\n            type: Input\n        }], groupMultiAutoColumn: [{\n            type: Input\n        }], pagination: [{\n            type: Input\n        }], stopEditingWhenGridLosesFocus: [{\n            type: Input\n        }], paginationAutoPageSize: [{\n            type: Input\n        }], suppressScrollOnNewData: [{\n            type: Input\n        }], purgeClosedRowNodes: [{\n            type: Input\n        }], cacheQuickFilter: [{\n            type: Input\n        }], deltaRowDataMode: [{\n            type: Input\n        }], ensureDomOrder: [{\n            type: Input\n        }], accentedSort: [{\n            type: Input\n        }], pivotTotals: [{\n            type: Input\n        }], suppressChangeDetection: [{\n            type: Input\n        }], valueCache: [{\n            type: Input\n        }], valueCacheNeverExpires: [{\n            type: Input\n        }], aggregateOnlyChangedColumns: [{\n            type: Input\n        }], suppressAnimationFrame: [{\n            type: Input\n        }], suppressExcelExport: [{\n            type: Input\n        }], suppressCsvExport: [{\n            type: Input\n        }], treeData: [{\n            type: Input\n        }], masterDetail: [{\n            type: Input\n        }], suppressMultiRangeSelection: [{\n            type: Input\n        }], enterMovesDownAfterEdit: [{\n            type: Input\n        }], enterMovesDown: [{\n            type: Input\n        }], suppressPropertyNamesCheck: [{\n            type: Input\n        }], rowMultiSelectWithClick: [{\n            type: Input\n        }], contractColumnSelection: [{\n            type: Input\n        }], suppressEnterpriseResetOnNewColumns: [{\n            type: Input\n        }], enableOldSetFilterModel: [{\n            type: Input\n        }], suppressRowHoverHighlight: [{\n            type: Input\n        }], gridAutoHeight: [{\n            type: Input\n        }], suppressRowTransform: [{\n            type: Input\n        }], suppressClipboardPaste: [{\n            type: Input\n        }], suppressLastEmptyLineOnPaste: [{\n            type: Input\n        }], serverSideSortingAlwaysResets: [{\n            type: Input\n        }], reactNext: [{\n            type: Input\n        }], suppressSetColumnStateEvents: [{\n            type: Input\n        }], enableCharts: [{\n            type: Input\n        }], deltaColumnMode: [{\n            type: Input\n        }], suppressMaintainUnsortedOrder: [{\n            type: Input\n        }], enableCellTextSelection: [{\n            type: Input\n        }], suppressBrowserResizeObserver: [{\n            type: Input\n        }], suppressMaxRenderedRowRestriction: [{\n            type: Input\n        }], excludeChildrenWhenTreeDataFiltering: [{\n            type: Input\n        }], tooltipMouseTrack: [{\n            type: Input\n        }], keepDetailRows: [{\n            type: Input\n        }], paginateChildRows: [{\n            type: Input\n        }], preventDefaultOnContextMenu: [{\n            type: Input\n        }], undoRedoCellEditing: [{\n            type: Input\n        }], allowDragFromColumnsToolPanel: [{\n            type: Input\n        }], immutableData: [{\n            type: Input\n        }], immutableColumns: [{\n            type: Input\n        }], pivotSuppressAutoColumn: [{\n            type: Input\n        }], columnEverythingChanged: [{\n            type: Output\n        }], newColumnsLoaded: [{\n            type: Output\n        }], columnPivotModeChanged: [{\n            type: Output\n        }], columnRowGroupChanged: [{\n            type: Output\n        }], expandOrCollapseAll: [{\n            type: Output\n        }], columnPivotChanged: [{\n            type: Output\n        }], gridColumnsChanged: [{\n            type: Output\n        }], columnValueChanged: [{\n            type: Output\n        }], columnMoved: [{\n            type: Output\n        }], columnVisible: [{\n            type: Output\n        }], columnPinned: [{\n            type: Output\n        }], columnGroupOpened: [{\n            type: Output\n        }], columnResized: [{\n            type: Output\n        }], displayedColumnsChanged: [{\n            type: Output\n        }], virtualColumnsChanged: [{\n            type: Output\n        }], rowGroupOpened: [{\n            type: Output\n        }], rowDataChanged: [{\n            type: Output\n        }], rowDataUpdated: [{\n            type: Output\n        }], pinnedRowDataChanged: [{\n            type: Output\n        }], rangeSelectionChanged: [{\n            type: Output\n        }], chartCreated: [{\n            type: Output\n        }], chartRangeSelectionChanged: [{\n            type: Output\n        }], chartOptionsChanged: [{\n            type: Output\n        }], chartDestroyed: [{\n            type: Output\n        }], toolPanelVisibleChanged: [{\n            type: Output\n        }], modelUpdated: [{\n            type: Output\n        }], pasteStart: [{\n            type: Output\n        }], pasteEnd: [{\n            type: Output\n        }], fillStart: [{\n            type: Output\n        }], fillEnd: [{\n            type: Output\n        }], cellClicked: [{\n            type: Output\n        }], cellDoubleClicked: [{\n            type: Output\n        }], cellMouseDown: [{\n            type: Output\n        }], cellContextMenu: [{\n            type: Output\n        }], cellValueChanged: [{\n            type: Output\n        }], rowValueChanged: [{\n            type: Output\n        }], cellFocused: [{\n            type: Output\n        }], rowSelected: [{\n            type: Output\n        }], selectionChanged: [{\n            type: Output\n        }], cellKeyDown: [{\n            type: Output\n        }], cellKeyPress: [{\n            type: Output\n        }], cellMouseOver: [{\n            type: Output\n        }], cellMouseOut: [{\n            type: Output\n        }], filterChanged: [{\n            type: Output\n        }], filterModified: [{\n            type: Output\n        }], filterOpened: [{\n            type: Output\n        }], sortChanged: [{\n            type: Output\n        }], virtualRowRemoved: [{\n            type: Output\n        }], rowClicked: [{\n            type: Output\n        }], rowDoubleClicked: [{\n            type: Output\n        }], gridReady: [{\n            type: Output\n        }], gridSizeChanged: [{\n            type: Output\n        }], viewportChanged: [{\n            type: Output\n        }], firstDataRendered: [{\n            type: Output\n        }], dragStarted: [{\n            type: Output\n        }], dragStopped: [{\n            type: Output\n        }], checkboxChanged: [{\n            type: Output\n        }], rowEditingStarted: [{\n            type: Output\n        }], rowEditingStopped: [{\n            type: Output\n        }], cellEditingStarted: [{\n            type: Output\n        }], cellEditingStopped: [{\n            type: Output\n        }], bodyScroll: [{\n            type: Output\n        }], animationQueueEmpty: [{\n            type: Output\n        }], heightScaleChanged: [{\n            type: Output\n        }], paginationChanged: [{\n            type: Output\n        }], componentStateChanged: [{\n            type: Output\n        }], bodyHeightChanged: [{\n            type: Output\n        }], displayedColumnsWidthChanged: [{\n            type: Output\n        }], scrollVisibilityChanged: [{\n            type: Output\n        }], columnHoverChanged: [{\n            type: Output\n        }], flashCells: [{\n            type: Output\n        }], rowDragEnter: [{\n            type: Output\n        }], rowDragMove: [{\n            type: Output\n        }], rowDragLeave: [{\n            type: Output\n        }], rowDragEnd: [{\n            type: Output\n        }], popupToFront: [{\n            type: Output\n        }], columnRowGroupChangeRequest: [{\n            type: Output\n        }], columnPivotChangeRequest: [{\n            type: Output\n        }], columnValueChangeRequest: [{\n            type: Output\n        }], columnAggFuncChangeRequest: [{\n            type: Output\n        }], keyboardFocus: [{\n            type: Output\n        }], mouseFocus: [{\n            type: Output\n        }], gridOptions: [{\n            type: Input\n        }], columns: [{\n            type: ContentChildren,\n            args: [AgGridColumn]\n        }], modules: [{\n            type: Input\n        }] }); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(AgGridModule, { declarations: [AgGridAngular,\n        AgGridColumn], exports: [AgGridAngular,\n        AgGridColumn] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(AgGridModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [AgGridAngular, AgGridColumn],\n                imports: [],\n                exports: [AgGridAngular, AgGridColumn]\n            }]\n    }], null, null); })();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AgGridAngular, AgGridColumn, AgGridModule, AngularFrameworkOverrides as ɵa, AngularFrameworkComponentWrapper as ɵb };\n\n//# sourceMappingURL=ag-grid-angular.js.map","/**\n * ag-grid-community - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components * @version v23.1.0\n * @link http://www.ag-grid.com/\n' * @license MIT\n */\n\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar Color = /** @class */ (function () {\n    /**\n     * Every color component should be in the [0, 1] range.\n     * Some easing functions (such as elastic easing) can overshoot the target value by some amount.\n     * So, when animating colors, if the source or target color components are already near\n     * or at the edge of the allowed [0, 1] range, it is possible for the intermediate color\n     * component value to end up outside of that range mid-animation. For this reason the constructor\n     * performs range checking/constraining.\n     * @param r Red component.\n     * @param g Green component.\n     * @param b Blue component.\n     * @param a Alpha (opacity) component.\n     */\n    function Color(r, g, b, a) {\n        if (a === void 0) { a = 1; }\n        // NaN is treated as 0.\n        this.r = Math.min(1, Math.max(0, r || 0));\n        this.g = Math.min(1, Math.max(0, g || 0));\n        this.b = Math.min(1, Math.max(0, b || 0));\n        this.a = Math.min(1, Math.max(0, a || 0));\n    }\n    /**\n     * The given string can be in one of the following formats:\n     * - #rgb\n     * - #rrggbb\n     * - rgb(r, g, b)\n     * - rgba(r, g, b, a)\n     * - CSS color name such as 'white', 'orange', 'cyan', etc.\n     * @param str\n     */\n    Color.fromString = function (str) {\n        // hexadecimal notation\n        if (str.indexOf('#') >= 0) { // there can be some leading whitespace\n            return Color.fromHexString(str);\n        }\n        // color name\n        var hex = Color.nameToHex[str];\n        if (hex) {\n            return Color.fromHexString(hex);\n        }\n        // rgb(a) notation\n        if (str.indexOf('rgb') >= 0) {\n            return Color.fromRgbaString(str);\n        }\n        throw new Error(\"Invalid color string: '\" + str + \"'\");\n    };\n    // Using separate RegExp for the short hex notation because strings like `#abcd`\n    // are matched as ['#abcd', 'ab', 'c', 'd', undefined] when the `{1,2}` quantifier is used.\n    Color.fromHexString = function (str) {\n        var values = str.match(Color.hexRe);\n        if (values) {\n            var r = parseInt(values[1], 16);\n            var g = parseInt(values[2], 16);\n            var b = parseInt(values[3], 16);\n            var a = values[4] !== undefined ? parseInt(values[4], 16) : 255;\n            return new Color(r / 255, g / 255, b / 255, a / 255);\n        }\n        values = str.match(Color.shortHexRe);\n        if (values) {\n            var r = parseInt(values[1], 16);\n            var g = parseInt(values[2], 16);\n            var b = parseInt(values[3], 16);\n            var a = values[4] !== undefined ? parseInt(values[4], 16) : 15;\n            r += r * 16;\n            g += g * 16;\n            b += b * 16;\n            a += a * 16;\n            return new Color(r / 255, g / 255, b / 255, a / 255);\n        }\n        throw new Error(\"Malformed hexadecimal color string: '\" + str + \"'\");\n    };\n    Color.fromRgbaString = function (str) {\n        var values = str.match(Color.rgbRe);\n        if (values) {\n            return new Color(+values[1] / 255, +values[2] / 255, +values[3] / 255);\n        }\n        values = str.match(Color.rgbaRe);\n        if (values) {\n            return new Color(+values[1] / 255, +values[2] / 255, +values[3] / 255, +values[4]);\n        }\n        throw new Error(\"Malformed rgb/rgba color string: '\" + str + \"'\");\n    };\n    Color.fromArray = function (arr) {\n        if (arr.length === 4) {\n            return new Color(arr[0], arr[1], arr[2], arr[3]);\n        }\n        if (arr.length === 3) {\n            return new Color(arr[0], arr[1], arr[2]);\n        }\n        throw new Error('The given array should contain 3 or 4 color components (numbers).');\n    };\n    /**\n     * Creates an instance of the Color class from the given HSB(A) components.\n     * @param h Hue in the [0, 360) range.\n     * @param s Saturation in the [0, 1] range.\n     * @param b Brightness in the [0, 1] range.\n     * @param alpha Opacity in the [0, 1] range. Defaults to 1 (completely opaque).\n     */\n    Color.fromHSB = function (h, s, b, alpha) {\n        if (alpha === void 0) { alpha = 1; }\n        var rgb = Color.HSBtoRGB(h, s, b);\n        return new Color(rgb[0], rgb[1], rgb[2], alpha);\n    };\n    Color.padHex = function (str) {\n        // Can't use `padStart(2, '0')` here because of IE.\n        return str.length === 1 ? '0' + str : str;\n    };\n    Color.prototype.toHexString = function () {\n        var hex = '#'\n            + Color.padHex(Math.round(this.r * 255).toString(16))\n            + Color.padHex(Math.round(this.g * 255).toString(16))\n            + Color.padHex(Math.round(this.b * 255).toString(16));\n        if (this.a < 1) {\n            hex += Color.padHex(Math.round(this.a * 255).toString(16));\n        }\n        return hex;\n    };\n    Color.prototype.toRgbaString = function (fractionDigits) {\n        if (fractionDigits === void 0) { fractionDigits = 3; }\n        var components = [\n            Math.round(this.r * 255),\n            Math.round(this.g * 255),\n            Math.round(this.b * 255)\n        ];\n        var k = Math.pow(10, fractionDigits);\n        if (this.a !== 1) {\n            components.push(Math.round(this.a * k) / k);\n            return \"rgba(\" + components.join(', ') + \")\";\n        }\n        return \"rgb(\" + components.join(', ') + \")\";\n    };\n    Color.prototype.toString = function () {\n        if (this.a === 1) {\n            return this.toHexString();\n        }\n        return this.toRgbaString();\n    };\n    Color.prototype.toHSB = function () {\n        return Color.RGBtoHSB(this.r, this.g, this.b);\n    };\n    /**\n     * Converts the given RGB triple to an array of HSB (HSV) components.\n     * The hue component will be `NaN` for achromatic colors.\n     */\n    Color.RGBtoHSB = function (r, g, b) {\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var S = max !== 0 ? (max - min) / max : 0;\n        var H = NaN;\n        // min == max, means all components are the same\n        // and the color is a shade of gray with no hue (H is NaN)\n        if (min !== max) {\n            var delta = max - min;\n            var rc = (max - r) / delta;\n            var gc = (max - g) / delta;\n            var bc = (max - b) / delta;\n            if (r === max) {\n                H = bc - gc;\n            }\n            else if (g === max) {\n                H = 2.0 + rc - bc;\n            }\n            else {\n                H = 4.0 + gc - rc;\n            }\n            H /= 6.0;\n            if (H < 0) {\n                H = H + 1.0;\n            }\n        }\n        return [H * 360, S, max];\n    };\n    /**\n     * Converts the given HSB (HSV) triple to an array of RGB components.\n     */\n    Color.HSBtoRGB = function (H, S, B) {\n        if (isNaN(H)) {\n            H = 0;\n        }\n        H = (((H % 360) + 360) % 360) / 360; // normalize hue to [0, 360] interval, then scale to [0, 1]\n        var r = 0;\n        var g = 0;\n        var b = 0;\n        if (S === 0) {\n            r = g = b = B;\n        }\n        else {\n            var h = (H - Math.floor(H)) * 6;\n            var f = h - Math.floor(h);\n            var p = B * (1 - S);\n            var q = B * (1 - S * f);\n            var t = B * (1 - (S * (1 - f)));\n            switch (h >> 0) { // discard the floating point part of the number\n                case 0:\n                    r = B;\n                    g = t;\n                    b = p;\n                    break;\n                case 1:\n                    r = q;\n                    g = B;\n                    b = p;\n                    break;\n                case 2:\n                    r = p;\n                    g = B;\n                    b = t;\n                    break;\n                case 3:\n                    r = p;\n                    g = q;\n                    b = B;\n                    break;\n                case 4:\n                    r = t;\n                    g = p;\n                    b = B;\n                    break;\n                case 5:\n                    r = B;\n                    g = p;\n                    b = q;\n                    break;\n            }\n        }\n        return [r, g, b];\n    };\n    Color.prototype.derive = function (hueShift, saturationFactor, brightnessFactor, opacityFactor) {\n        var hsb = Color.RGBtoHSB(this.r, this.g, this.b);\n        var b = hsb[2];\n        if (b == 0 && brightnessFactor > 1.0) {\n            b = 0.05;\n        }\n        var h = (((hsb[0] + hueShift) % 360) + 360) % 360;\n        var s = Math.max(Math.min(hsb[1] * saturationFactor, 1.0), 0.0);\n        b = Math.max(Math.min(b * brightnessFactor, 1.0), 0.0);\n        var a = Math.max(Math.min(this.a * opacityFactor, 1.0), 0.0);\n        var rgba = Color.HSBtoRGB(h, s, b);\n        rgba.push(a);\n        return Color.fromArray(rgba);\n    };\n    Color.prototype.brighter = function () {\n        return this.derive(0, 1.0, 1.0 / 0.7, 1.0);\n    };\n    Color.prototype.darker = function () {\n        return this.derive(0, 1.0, 0.7, 1.0);\n    };\n    // See https://drafts.csswg.org/css-color/#hex-notation\n    Color.hexRe = /\\s*#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?\\s*$/;\n    Color.shortHexRe = /\\s*#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])?\\s*$/;\n    Color.rgbRe = /\\s*rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)\\s*/;\n    Color.rgbaRe = /\\s*rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*([.\\d]+)\\)\\s*/;\n    /**\n     * CSS Color Module Level 4:\n     * https://drafts.csswg.org/css-color/#named-colors\n     */\n    Color.nameToHex = Object.freeze({\n        aliceblue: '#F0F8FF',\n        antiquewhite: '#FAEBD7',\n        aqua: '#00FFFF',\n        aquamarine: '#7FFFD4',\n        azure: '#F0FFFF',\n        beige: '#F5F5DC',\n        bisque: '#FFE4C4',\n        black: '#000000',\n        blanchedalmond: '#FFEBCD',\n        blue: '#0000FF',\n        blueviolet: '#8A2BE2',\n        brown: '#A52A2A',\n        burlywood: '#DEB887',\n        cadetblue: '#5F9EA0',\n        chartreuse: '#7FFF00',\n        chocolate: '#D2691E',\n        coral: '#FF7F50',\n        cornflowerblue: '#6495ED',\n        cornsilk: '#FFF8DC',\n        crimson: '#DC143C',\n        cyan: '#00FFFF',\n        darkblue: '#00008B',\n        darkcyan: '#008B8B',\n        darkgoldenrod: '#B8860B',\n        darkgray: '#A9A9A9',\n        darkgreen: '#006400',\n        darkgrey: '#A9A9A9',\n        darkkhaki: '#BDB76B',\n        darkmagenta: '#8B008B',\n        darkolivegreen: '#556B2F',\n        darkorange: '#FF8C00',\n        darkorchid: '#9932CC',\n        darkred: '#8B0000',\n        darksalmon: '#E9967A',\n        darkseagreen: '#8FBC8F',\n        darkslateblue: '#483D8B',\n        darkslategray: '#2F4F4F',\n        darkslategrey: '#2F4F4F',\n        darkturquoise: '#00CED1',\n        darkviolet: '#9400D3',\n        deeppink: '#FF1493',\n        deepskyblue: '#00BFFF',\n        dimgray: '#696969',\n        dimgrey: '#696969',\n        dodgerblue: '#1E90FF',\n        firebrick: '#B22222',\n        floralwhite: '#FFFAF0',\n        forestgreen: '#228B22',\n        fuchsia: '#FF00FF',\n        gainsboro: '#DCDCDC',\n        ghostwhite: '#F8F8FF',\n        gold: '#FFD700',\n        goldenrod: '#DAA520',\n        gray: '#808080',\n        green: '#008000',\n        greenyellow: '#ADFF2F',\n        grey: '#808080',\n        honeydew: '#F0FFF0',\n        hotpink: '#FF69B4',\n        indianred: '#CD5C5C',\n        indigo: '#4B0082',\n        ivory: '#FFFFF0',\n        khaki: '#F0E68C',\n        lavender: '#E6E6FA',\n        lavenderblush: '#FFF0F5',\n        lawngreen: '#7CFC00',\n        lemonchiffon: '#FFFACD',\n        lightblue: '#ADD8E6',\n        lightcoral: '#F08080',\n        lightcyan: '#E0FFFF',\n        lightgoldenrodyellow: '#FAFAD2',\n        lightgray: '#D3D3D3',\n        lightgreen: '#90EE90',\n        lightgrey: '#D3D3D3',\n        lightpink: '#FFB6C1',\n        lightsalmon: '#FFA07A',\n        lightseagreen: '#20B2AA',\n        lightskyblue: '#87CEFA',\n        lightslategray: '#778899',\n        lightslategrey: '#778899',\n        lightsteelblue: '#B0C4DE',\n        lightyellow: '#FFFFE0',\n        lime: '#00FF00',\n        limegreen: '#32CD32',\n        linen: '#FAF0E6',\n        magenta: '#FF00FF',\n        maroon: '#800000',\n        mediumaquamarine: '#66CDAA',\n        mediumblue: '#0000CD',\n        mediumorchid: '#BA55D3',\n        mediumpurple: '#9370DB',\n        mediumseagreen: '#3CB371',\n        mediumslateblue: '#7B68EE',\n        mediumspringgreen: '#00FA9A',\n        mediumturquoise: '#48D1CC',\n        mediumvioletred: '#C71585',\n        midnightblue: '#191970',\n        mintcream: '#F5FFFA',\n        mistyrose: '#FFE4E1',\n        moccasin: '#FFE4B5',\n        navajowhite: '#FFDEAD',\n        navy: '#000080',\n        oldlace: '#FDF5E6',\n        olive: '#808000',\n        olivedrab: '#6B8E23',\n        orange: '#FFA500',\n        orangered: '#FF4500',\n        orchid: '#DA70D6',\n        palegoldenrod: '#EEE8AA',\n        palegreen: '#98FB98',\n        paleturquoise: '#AFEEEE',\n        palevioletred: '#DB7093',\n        papayawhip: '#FFEFD5',\n        peachpuff: '#FFDAB9',\n        peru: '#CD853F',\n        pink: '#FFC0CB',\n        plum: '#DDA0DD',\n        powderblue: '#B0E0E6',\n        purple: '#800080',\n        rebeccapurple: '#663399',\n        red: '#FF0000',\n        rosybrown: '#BC8F8F',\n        royalblue: '#4169E1',\n        saddlebrown: '#8B4513',\n        salmon: '#FA8072',\n        sandybrown: '#F4A460',\n        seagreen: '#2E8B57',\n        seashell: '#FFF5EE',\n        sienna: '#A0522D',\n        silver: '#C0C0C0',\n        skyblue: '#87CEEB',\n        slateblue: '#6A5ACD',\n        slategray: '#708090',\n        slategrey: '#708090',\n        snow: '#FFFAFA',\n        springgreen: '#00FF7F',\n        steelblue: '#4682B4',\n        tan: '#D2B48C',\n        teal: '#008080',\n        thistle: '#D8BFD8',\n        tomato: '#FF6347',\n        turquoise: '#40E0D0',\n        violet: '#EE82EE',\n        wheat: '#F5DEB3',\n        white: '#FFFFFF',\n        whitesmoke: '#F5F5F5',\n        yellow: '#FFFF00',\n        yellowgreen: '#9ACD32'\n    });\n    return Color;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n// Based on https://stackoverflow.com/a/14991797\n// This will parse a delimited string into an array of arrays.\nfunction stringToArray(strData, delimiter) {\n    if (delimiter === void 0) { delimiter = ','; }\n    var data = [];\n    var isNewline = function (char) { return char === '\\r' || char === '\\n'; };\n    var insideQuotedField = false;\n    var _loop_1 = function (row, column, position) {\n        var previousChar = strData[position - 1];\n        var currentChar = strData[position];\n        var nextChar = strData[position + 1];\n        var ensureDataExists = function () {\n            if (!data[row]) {\n                // create row if it doesn't exist\n                data[row] = [];\n            }\n            if (!data[row][column]) {\n                // create column if it doesn't exist\n                data[row][column] = '';\n            }\n        };\n        ensureDataExists();\n        if (currentChar === '\"') {\n            if (insideQuotedField) {\n                if (nextChar === '\"') {\n                    // unescape double quote\n                    data[row][column] += '\"';\n                    position++;\n                }\n                else {\n                    // exit quoted field\n                    insideQuotedField = false;\n                }\n                return out_row_1 = row, out_column_1 = column, out_position_1 = position, \"continue\";\n            }\n            else if (previousChar === undefined || previousChar === delimiter || isNewline(previousChar)) {\n                // enter quoted field\n                insideQuotedField = true;\n                return out_row_1 = row, out_column_1 = column, out_position_1 = position, \"continue\";\n            }\n        }\n        if (!insideQuotedField) {\n            if (currentChar === delimiter) {\n                // move to next column\n                column++;\n                ensureDataExists();\n                return out_row_1 = row, out_column_1 = column, out_position_1 = position, \"continue\";\n            }\n            else if (isNewline(currentChar)) {\n                // move to next row\n                column = 0;\n                row++;\n                ensureDataExists();\n                if (currentChar === '\\r' && nextChar === '\\n') {\n                    // skip over second newline character if it exists\n                    position++;\n                }\n                return out_row_1 = row, out_column_1 = column, out_position_1 = position, \"continue\";\n            }\n        }\n        // add current character to current column\n        data[row][column] += currentChar;\n        out_row_1 = row;\n        out_column_1 = column;\n        out_position_1 = position;\n    };\n    var out_row_1, out_column_1, out_position_1;\n    // iterate over each character, keep track of current row and column (of the returned array)\n    for (var row = 0, column = 0, position = 0; position < strData.length; position++) {\n        _loop_1(row, column, position);\n        row = out_row_1;\n        column = out_column_1;\n        position = out_position_1;\n    }\n    return data;\n}\n\nvar CsvUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    stringToArray: stringToArray\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/**\n * These variables are lazy loaded, as otherwise they try and get initialised when we are loading\n * unit tests and we don't have references to window or document in the unit tests\n * from http://stackoverflow.com/questions/9847580/how-to-detect-safari-chrome-ie-firefox-and-opera-browser\n */\nvar isSafari;\nvar isIE;\nvar isEdge;\nvar isChrome;\nvar isFirefox;\nvar isIOS;\nfunction isBrowserIE() {\n    if (isIE === undefined) {\n        isIE = /*@cc_on!@*/  !!document.documentMode; // At least IE6\n    }\n    return isIE;\n}\nfunction isBrowserEdge() {\n    if (isEdge === undefined) {\n        isEdge = !isBrowserIE() && !!window.StyleMedia;\n    }\n    return isEdge;\n}\nfunction isBrowserSafari() {\n    if (isSafari === undefined) {\n        // taken from https://github.com/ag-grid/ag-grid/issues/550\n        var anyWindow = window;\n        var hasNotification = function (p) { return p && p.toString() === '[object SafariRemoteNotification]'; };\n        isSafari = Object.prototype.toString.call(anyWindow.HTMLElement).indexOf('Constructor') > 0\n            || hasNotification(anyWindow.safari && anyWindow.safari.pushNotification);\n    }\n    return isSafari;\n}\nfunction isBrowserChrome() {\n    if (isChrome === undefined) {\n        var win = window;\n        isChrome = (!!win.chrome && (!!win.chrome.webstore || !!win.chrome.runtime)) ||\n            (/Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor));\n    }\n    return isChrome;\n}\nfunction isBrowserFirefox() {\n    if (isFirefox === undefined) {\n        var win = window;\n        isFirefox = typeof win.InstallTrigger !== 'undefined';\n    }\n    return isFirefox;\n}\nfunction isIOSUserAgent() {\n    if (isIOS === undefined) {\n        // taken from https://stackoverflow.com/a/58064481/1388233\n        isIOS = (/iPad|iPhone|iPod/.test(navigator.platform) ||\n            // eslint-disable-next-line\n            (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1)) &&\n            !window.MSStream;\n    }\n    return isIOS;\n}\nfunction getMaxDivHeight() {\n    if (!document.body) {\n        return -1;\n    }\n    var res = 1000000;\n    // FF reports the height back but still renders blank after ~6M px\n    var testUpTo = navigator.userAgent.toLowerCase().match(/firefox/) ? 6000000 : 1000000000;\n    var div = document.createElement('div');\n    document.body.appendChild(div);\n    while (true) {\n        var test_1 = res * 2;\n        div.style.height = test_1 + 'px';\n        if (test_1 > testUpTo || div.clientHeight !== test_1) {\n            break;\n        }\n        else {\n            res = test_1;\n        }\n    }\n    document.body.removeChild(div);\n    return res;\n}\nfunction getScrollbarWidth() {\n    var body = document.body;\n    var div = document.createElement('div');\n    div.style.width = div.style.height = '100px';\n    div.style.opacity = '0';\n    div.style.overflow = 'scroll';\n    div.style.msOverflowStyle = 'scrollbar'; // needed for WinJS apps\n    div.style.position = 'absolute';\n    body.appendChild(div);\n    var width = div.offsetWidth - div.clientWidth;\n    // remove divs\n    if (div.parentNode) {\n        div.parentNode.removeChild(div);\n    }\n    return width;\n}\n/** @deprecated */\nfunction hasOverflowScrolling() {\n    var prefixes = ['webkit', 'moz', 'o', 'ms'];\n    var div = document.createElement('div');\n    var body = document.getElementsByTagName('body')[0];\n    var found = false;\n    var p;\n    body.appendChild(div);\n    div.setAttribute('style', prefixes.map(function (prefix) { return \"-\" + prefix + \"-overflow-scrolling: touch\"; }).concat('overflow-scrolling: touch').join(';'));\n    var computedStyle = window.getComputedStyle(div);\n    if (computedStyle.overflowScrolling === 'touch') {\n        found = true;\n    }\n    if (!found) {\n        for (var _i = 0, prefixes_1 = prefixes; _i < prefixes_1.length; _i++) {\n            p = prefixes_1[_i];\n            if (computedStyle[p + \"OverflowScrolling\"] === 'touch') {\n                found = true;\n                break;\n            }\n        }\n    }\n    if (div.parentNode) {\n        div.parentNode.removeChild(div);\n    }\n    return found;\n}\n/**\n * Gets the document body width\n * from: http://stackoverflow.com/questions/1038727/how-to-get-browser-width-using-javascript-code\n * @returns {number}\n */\nfunction getBodyWidth() {\n    if (document.body) {\n        return document.body.clientWidth;\n    }\n    if (window.innerHeight) {\n        return window.innerWidth;\n    }\n    if (document.documentElement && document.documentElement.clientWidth) {\n        return document.documentElement.clientWidth;\n    }\n    return -1;\n}\n/**\n * Gets the body height\n * from: http://stackoverflow.com/questions/1038727/how-to-get-browser-width-using-javascript-code\n * @returns {number}\n */\nfunction getBodyHeight() {\n    if (document.body) {\n        return document.body.clientHeight;\n    }\n    if (window.innerHeight) {\n        return window.innerHeight;\n    }\n    if (document.documentElement && document.documentElement.clientHeight) {\n        return document.documentElement.clientHeight;\n    }\n    return -1;\n}\n\nvar BrowserUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    isBrowserIE: isBrowserIE,\n    isBrowserEdge: isBrowserEdge,\n    isBrowserSafari: isBrowserSafari,\n    isBrowserChrome: isBrowserChrome,\n    isBrowserFirefox: isBrowserFirefox,\n    isIOSUserAgent: isIOSUserAgent,\n    getMaxDivHeight: getMaxDivHeight,\n    getScrollbarWidth: getScrollbarWidth,\n    hasOverflowScrolling: hasOverflowScrolling,\n    getBodyWidth: getBodyWidth,\n    getBodyHeight: getBodyHeight\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/**\n * If value is undefined, null or blank, returns null, otherwise returns the value\n * @param {T} value\n * @returns {T | null}\n */\nfunction makeNull(value) {\n    return value == null || value === '' ? null : value;\n}\nfunction exists(value, allowEmptyString) {\n    if (allowEmptyString === void 0) { allowEmptyString = false; }\n    return value != null && (allowEmptyString || value !== '');\n}\nfunction missing(value) {\n    return !exists(value);\n}\nfunction missingOrEmpty(value) {\n    return !value || missing(value) || value.length === 0;\n}\nfunction toStringOrNull(value) {\n    return exists(value) && value.toString ? value.toString() : null;\n}\n/** @deprecated */\nfunction referenceCompare(left, right) {\n    if (left == null && right == null) {\n        return true;\n    }\n    if (left == null && right != null) {\n        return false;\n    }\n    if (left != null && right == null) {\n        return false;\n    }\n    return left === right;\n}\nfunction jsonEquals(val1, val2) {\n    var val1Json = val1 ? JSON.stringify(val1) : null;\n    var val2Json = val2 ? JSON.stringify(val2) : null;\n    return val1Json === val2Json;\n}\nfunction defaultComparator(valueA, valueB, accentedCompare) {\n    if (accentedCompare === void 0) { accentedCompare = false; }\n    var valueAMissing = valueA == null;\n    var valueBMissing = valueB == null;\n    // this is for aggregations sum and avg, where the result can be a number that is wrapped.\n    // if we didn't do this, then the toString() value would be used, which would result in\n    // the strings getting used instead of the numbers.\n    if (valueA && valueA.toNumber) {\n        valueA = valueA.toNumber();\n    }\n    if (valueB && valueB.toNumber) {\n        valueB = valueB.toNumber();\n    }\n    if (valueAMissing && valueBMissing) {\n        return 0;\n    }\n    if (valueAMissing) {\n        return -1;\n    }\n    if (valueBMissing) {\n        return 1;\n    }\n    function doQuickCompare(a, b) {\n        return (a > b ? 1 : (a < b ? -1 : 0));\n    }\n    if (typeof valueA === 'string') {\n        if (!accentedCompare) {\n            return doQuickCompare(valueA, valueB);\n        }\n        try {\n            // using local compare also allows chinese comparisons\n            return valueA.localeCompare(valueB);\n        }\n        catch (e) {\n            // if something wrong with localeCompare, eg not supported\n            // by browser, then just continue with the quick one\n            return doQuickCompare(valueA, valueB);\n        }\n    }\n    return doQuickCompare(valueA, valueB);\n}\nfunction find(collection, predicate, value) {\n    if (collection === null || collection === undefined) {\n        return null;\n    }\n    if (!Array.isArray(collection)) {\n        var objToArray = values(collection);\n        return find(objToArray, predicate, value);\n    }\n    var collectionAsArray = collection;\n    var firstMatchingItem = null;\n    for (var i = 0; i < collectionAsArray.length; i++) {\n        var item = collectionAsArray[i];\n        if (typeof predicate === 'string') {\n            if (item[predicate] === value) {\n                firstMatchingItem = item;\n                break;\n            }\n        }\n        else {\n            var callback = predicate;\n            if (callback(item)) {\n                firstMatchingItem = item;\n                break;\n            }\n        }\n    }\n    return firstMatchingItem;\n}\nfunction values(object) {\n    if (object instanceof Set || object instanceof Map) {\n        var values_1 = [];\n        object.forEach(function (value) { return values_1.push(value); });\n        return values_1;\n    }\n    return Object.keys(object).map(function (key) { return object[key]; });\n}\n\nvar GenericUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    makeNull: makeNull,\n    exists: exists,\n    missing: missing,\n    missingOrEmpty: missingOrEmpty,\n    toStringOrNull: toStringOrNull,\n    referenceCompare: referenceCompare,\n    jsonEquals: jsonEquals,\n    defaultComparator: defaultComparator,\n    find: find,\n    values: values\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar reUnescapedHtml = /[&<>\"']/g;\n/**\n * HTML Escapes.\n */\nvar HTML_ESCAPES = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n};\n/**\n * It encodes any string in UTF-8 format\n * taken from https://github.com/mathiasbynens/utf8.js\n * @param {string} s\n * @returns {string}\n */\nfunction utf8_encode(s) {\n    var stringFromCharCode = String.fromCharCode;\n    function ucs2decode(string) {\n        var output = [];\n        var counter = 0;\n        var length = string.length;\n        var value;\n        var extra;\n        while (counter < length) {\n            value = string.charCodeAt(counter++);\n            if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n                // high surrogate, and there is a next character\n                extra = string.charCodeAt(counter++);\n                if ((extra & 0xFC00) == 0xDC00) { // low surrogate\n                    output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n                }\n                else {\n                    // unmatched surrogate; only append this code unit, in case the next\n                    // code unit is the high surrogate of a surrogate pair\n                    output.push(value);\n                    counter--;\n                }\n            }\n            else {\n                output.push(value);\n            }\n        }\n        return output;\n    }\n    function checkScalarValue(codePoint) {\n        if (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n            throw Error('Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n                ' is not a scalar value');\n        }\n    }\n    function createByte(codePoint, shift) {\n        return stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n    }\n    function encodeCodePoint(codePoint) {\n        if ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n            return stringFromCharCode(codePoint);\n        }\n        var symbol = '';\n        if ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n            symbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n        }\n        else if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n            checkScalarValue(codePoint);\n            symbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n            symbol += createByte(codePoint, 6);\n        }\n        else if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n            symbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n            symbol += createByte(codePoint, 12);\n            symbol += createByte(codePoint, 6);\n        }\n        symbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n        return symbol;\n    }\n    var codePoints = ucs2decode(s);\n    var length = codePoints.length;\n    var index = -1;\n    var codePoint;\n    var byteString = '';\n    while (++index < length) {\n        codePoint = codePoints[index];\n        byteString += encodeCodePoint(codePoint);\n    }\n    return byteString;\n}\n/**\n * Converts a camelCase string into hyphenated string\n * from https://gist.github.com/youssman/745578062609e8acac9f\n * @param {string} str\n * @return {string}\n */\nfunction camelCaseToHyphen(str) {\n    if (str === null || str === undefined) {\n        return null;\n    }\n    return str.replace(/([A-Z])/g, function (g) { return '-' + g[0].toLowerCase(); });\n}\n/**\n * Converts a hyphenated string into camelCase string\n * from https://stackoverflow.com/questions/6660977/convert-hyphens-to-camel-case-camelcase\n * @param {string} str\n * @return {string}\n */\nfunction hyphenToCamelCase(str) {\n    if (str === null || str === undefined) {\n        return null;\n    }\n    return str.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); });\n}\nfunction capitalise(str) {\n    return str[0].toUpperCase() + str.substr(1).toLowerCase();\n}\nfunction escape(toEscape) {\n    return toEscape == null || !toEscape.replace ? toEscape : toEscape.replace(reUnescapedHtml, function (chr) { return HTML_ESCAPES[chr]; });\n}\n/**\n * Converts a camelCase string into regular text\n * from: https://stackoverflow.com/questions/15369566/putting-space-in-camel-case-string-using-regular-expression\n * @param {string} camelCase\n * @return {string}\n */\nfunction camelCaseToHumanText(camelCase) {\n    if (!camelCase || camelCase == null) {\n        return null;\n    }\n    var rex = /([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g;\n    var words = camelCase.replace(rex, '$1$4 $2$3$5').replace('.', ' ').split(' ');\n    return words.map(function (word) { return word.substring(0, 1).toUpperCase() + ((word.length > 1) ? word.substring(1, word.length) : ''); }).join(' ');\n}\n\nvar StringUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    utf8_encode: utf8_encode,\n    camelCaseToHyphen: camelCaseToHyphen,\n    hyphenToCamelCase: hyphenToCamelCase,\n    capitalise: capitalise,\n    escape: escape,\n    camelCaseToHumanText: camelCaseToHumanText\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nfunction addCssClass(element, className) {\n    if (!className || className.length === 0) {\n        return;\n    }\n    if (className.indexOf(' ') >= 0) {\n        className.split(' ').forEach(function (value) { return addCssClass(element, value); });\n        return;\n    }\n    if (element.classList) {\n        element.classList.add(className);\n    }\n    else if (element.className && element.className.length > 0) {\n        var cssClasses = element.className.split(' ');\n        if (cssClasses.indexOf(className) < 0) {\n            cssClasses.push(className);\n            element.setAttribute('class', cssClasses.join(' '));\n        }\n    }\n    else {\n        // do not use element.classList = className here, it will cause\n        // a read-only assignment error on some browsers (IE/Edge).\n        element.setAttribute('class', className);\n    }\n    return element;\n}\nfunction removeCssClass(element, className) {\n    if (element.classList) {\n        element.classList.remove(className);\n    }\n    else if (element.className && element.className.length > 0) {\n        var newClassName = element.className.split(' ').filter(function (c) { return c !== className; }).join(' ');\n        element.setAttribute('class', newClassName);\n    }\n}\nfunction addOrRemoveCssClass(element, className, addOrRemove) {\n    if (addOrRemove) {\n        addCssClass(element, className);\n    }\n    else {\n        removeCssClass(element, className);\n    }\n}\n/**\n * This method adds a class to an element and remove that class from all siblings.\n * Useful for toggling state.\n * @param {HTMLElement} element The element to receive the class\n * @param {string} elementClass The class to be assigned to the element\n * @param {boolean} otherElementClass The class to be assigned to siblings of the element, but not the element itself\n */\nfunction radioCssClass(element, elementClass, otherElementClass) {\n    var parent = element.parentElement;\n    var sibling = parent.firstChild;\n    while (sibling) {\n        if (elementClass) {\n            addOrRemoveCssClass(sibling, elementClass, sibling === element);\n        }\n        if (otherElementClass) {\n            addOrRemoveCssClass(sibling, otherElementClass, sibling !== element);\n        }\n        sibling = sibling.nextSibling;\n    }\n}\nfunction containsClass(element, className) {\n    if (element.classList) {\n        // for modern browsers\n        return element.classList.contains(className);\n    }\n    if (element.className) {\n        // for older browsers, check against the string of class names\n        // if only one class, can check for exact match\n        var onlyClass = element.className === className;\n        // if many classes, check for class name, we have to pad with ' ' to stop other\n        // class names that are a substring of this class\n        var contains = element.className.indexOf(' ' + className + ' ') >= 0;\n        // the padding above then breaks when it's the first or last class names\n        var startsWithClass = element.className.indexOf(className + ' ') === 0;\n        var endsWithClass = element.className.lastIndexOf(' ' + className) === (element.className.length - className.length - 1);\n        return onlyClass || contains || startsWithClass || endsWithClass;\n    }\n    // if item is not a node\n    return false;\n}\nfunction setDisplayed(element, displayed) {\n    addOrRemoveCssClass(element, 'ag-hidden', !displayed);\n}\nfunction setVisible(element, visible) {\n    addOrRemoveCssClass(element, 'ag-invisible', !visible);\n}\nfunction isElementChildOfClass(element, cls, maxNest) {\n    var counter = 0;\n    while (element) {\n        if (containsClass(element, cls)) {\n            return true;\n        }\n        element = element.parentElement;\n        if (maxNest && ++counter > maxNest) {\n            break;\n        }\n    }\n    return false;\n}\nfunction getElementSize(el) {\n    var _a = window.getComputedStyle(el), height = _a.height, width = _a.width, paddingTop = _a.paddingTop, paddingRight = _a.paddingRight, paddingBottom = _a.paddingBottom, paddingLeft = _a.paddingLeft, marginTop = _a.marginTop, marginRight = _a.marginRight, marginBottom = _a.marginBottom, marginLeft = _a.marginLeft, boxSizing = _a.boxSizing;\n    return {\n        height: parseFloat(height),\n        width: parseFloat(width),\n        paddingTop: parseFloat(paddingTop),\n        paddingRight: parseFloat(paddingRight),\n        paddingBottom: parseFloat(paddingBottom),\n        paddingLeft: parseFloat(paddingLeft),\n        marginTop: parseFloat(marginTop),\n        marginRight: parseFloat(marginRight),\n        marginBottom: parseFloat(marginBottom),\n        marginLeft: parseFloat(marginLeft),\n        boxSizing: boxSizing\n    };\n}\nfunction getInnerHeight(el) {\n    var size = getElementSize(el);\n    if (size.boxSizing === 'border-box') {\n        return size.height - size.paddingTop - size.paddingBottom;\n    }\n    return size.height;\n}\nfunction getInnerWidth(el) {\n    var size = getElementSize(el);\n    if (size.boxSizing === 'border-box') {\n        return size.width - size.paddingLeft - size.paddingRight;\n    }\n    return size.width;\n}\nfunction getAbsoluteHeight(el) {\n    var size = getElementSize(el);\n    var marginRight = size.marginBottom + size.marginTop;\n    return Math.ceil(el.offsetHeight + marginRight);\n}\nfunction getAbsoluteWidth(el) {\n    var size = getElementSize(el);\n    var marginWidth = size.marginLeft + size.marginRight;\n    return Math.ceil(el.offsetWidth + marginWidth);\n}\nfunction getScrollLeft(element, rtl) {\n    var scrollLeft = element.scrollLeft;\n    if (rtl) {\n        // Absolute value - for FF that reports RTL scrolls in negative numbers\n        scrollLeft = Math.abs(scrollLeft);\n        // Get Chrome to return the same value as well\n        if (isBrowserChrome()) {\n            scrollLeft = element.scrollWidth - element.clientWidth - scrollLeft;\n        }\n    }\n    return scrollLeft;\n}\nfunction setScrollLeft(element, value, rtl) {\n    if (rtl) {\n        // Chrome and Safari when doing RTL have the END position of the scroll as zero, not the start\n        if (isBrowserSafari() || isBrowserChrome()) {\n            value = element.scrollWidth - element.clientWidth - value;\n        }\n        // Firefox uses negative numbers when doing RTL scrolling\n        if (isBrowserFirefox()) {\n            value *= -1;\n        }\n    }\n    element.scrollLeft = value;\n}\nfunction clearElement(el) {\n    while (el && el.firstChild) {\n        el.removeChild(el.firstChild);\n    }\n}\n/** @deprecated */\nfunction removeElement(parent, cssSelector) {\n    removeFromParent(parent.querySelector(cssSelector));\n}\nfunction removeFromParent(node) {\n    if (node && node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n}\nfunction isVisible(element) {\n    return element.offsetParent !== null;\n}\n/**\n * Loads the template and returns it as an element. makes up for no simple way in\n * the dom api to load html directly, eg we cannot do this: document.createElement(template)\n * @param {string} template\n * @returns {HTMLElement}\n */\nfunction loadTemplate(template) {\n    var tempDiv = document.createElement('div');\n    tempDiv.innerHTML = (template || '').trim();\n    return tempDiv.firstChild;\n}\nfunction appendHtml(eContainer, htmlTemplate) {\n    if (eContainer.lastChild) {\n        // https://developer.mozilla.org/en-US/docs/Web/API/Element/insertAdjacentHTML\n        // we put the items at the start, so new items appear underneath old items,\n        // so when expanding/collapsing groups, the new rows don't go on top of the\n        // rows below that are moving our of the way\n        eContainer.insertAdjacentHTML('afterbegin', htmlTemplate);\n    }\n    else {\n        eContainer.innerHTML = htmlTemplate;\n    }\n}\n/** @deprecated */\nfunction getElementAttribute(element, attributeName) {\n    if (element.attributes && element.attributes[attributeName]) {\n        var attribute = element.attributes[attributeName];\n        return attribute.value;\n    }\n    return null;\n}\nfunction offsetHeight(element) {\n    return element && element.clientHeight ? element.clientHeight : 0;\n}\nfunction offsetWidth(element) {\n    return element && element.clientWidth ? element.clientWidth : 0;\n}\nfunction ensureDomOrder(eContainer, eChild, eChildBefore) {\n    // if already in right order, do nothing\n    if (eChildBefore && eChildBefore.nextSibling === eChild) {\n        return;\n    }\n    if (eChildBefore) {\n        if (eChildBefore.nextSibling) {\n            // insert between the eRowBefore and the row after it\n            eContainer.insertBefore(eChild, eChildBefore.nextSibling);\n        }\n        else {\n            // if nextSibling is missing, means other row is at end, so just append new row at the end\n            eContainer.appendChild(eChild);\n        }\n    }\n    else {\n        // otherwise put at start\n        if (eContainer.firstChild && eContainer.firstChild !== eChild) {\n            // insert it at the first location\n            eContainer.insertAdjacentElement('afterbegin', eChild);\n        }\n    }\n}\nfunction setDomChildOrder(eContainer, orderedChildren) {\n    for (var i = 0; i < orderedChildren.length; i++) {\n        var correctCellAtIndex = orderedChildren[i];\n        var actualCellAtIndex = eContainer.children[i];\n        if (actualCellAtIndex !== correctCellAtIndex) {\n            eContainer.insertBefore(correctCellAtIndex, actualCellAtIndex);\n        }\n    }\n}\nfunction insertTemplateWithDomOrder(eContainer, htmlTemplate, eChildBefore) {\n    var res;\n    if (eChildBefore) {\n        // if previous element exists, just slot in after the previous element\n        eChildBefore.insertAdjacentHTML('afterend', htmlTemplate);\n        res = eChildBefore.nextSibling;\n    }\n    else {\n        if (eContainer.firstChild) {\n            // insert it at the first location\n            eContainer.insertAdjacentHTML('afterbegin', htmlTemplate);\n        }\n        else {\n            // otherwise eContainer is empty, so just append it\n            eContainer.innerHTML = htmlTemplate;\n        }\n        res = eContainer.firstChild;\n    }\n    return res;\n}\n/** @deprecated */\nfunction prependDC(parent, documentFragment) {\n    if (exists(parent.firstChild)) {\n        parent.insertBefore(documentFragment, parent.firstChild);\n    }\n    else {\n        parent.appendChild(documentFragment);\n    }\n}\nfunction addStylesToElement(eElement, styles) {\n    if (!styles) {\n        return;\n    }\n    Object.keys(styles).forEach(function (key) {\n        var keyCamelCase = hyphenToCamelCase(key);\n        if (keyCamelCase) {\n            eElement.style[keyCamelCase] = styles[key];\n        }\n    });\n}\nfunction isHorizontalScrollShowing(element) {\n    return element.clientWidth < element.scrollWidth;\n}\nfunction isVerticalScrollShowing(element) {\n    return element.clientHeight < element.scrollHeight;\n}\nfunction setElementWidth(element, width) {\n    if (width === 'flex') {\n        element.style.width = null;\n        element.style.minWidth = null;\n        element.style.maxWidth = null;\n        element.style.flex = '1 1 auto';\n    }\n    else {\n        setFixedWidth(element, width);\n    }\n}\nfunction setFixedWidth(element, width) {\n    width = formatSize(width);\n    element.style.width = width.toString();\n    element.style.maxWidth = width.toString();\n    element.style.minWidth = width.toString();\n}\nfunction setElementHeight(element, height) {\n    if (height === 'flex') {\n        element.style.height = null;\n        element.style.minHeight = null;\n        element.style.maxHeight = null;\n        element.style.flex = '1 1 auto';\n    }\n    else {\n        setFixedHeight(element, height);\n    }\n}\nfunction setFixedHeight(element, height) {\n    height = formatSize(height);\n    element.style.height = height.toString();\n    element.style.maxHeight = height.toString();\n    element.style.minHeight = height.toString();\n}\nfunction formatSize(size) {\n    if (typeof size === 'number') {\n        return size + \"px\";\n    }\n    return size;\n}\n/**\n * Returns true if it is a DOM node\n * taken from: http://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object\n * @param {any} o\n * @return {boolean}\n */\nfunction isNode(o) {\n    return (typeof Node === 'function'\n        ? o instanceof Node\n        : o && typeof o === 'object' && typeof o.nodeType === 'number' && typeof o.nodeName === 'string');\n}\n//\n/**\n * Returns true if it is a DOM element\n * taken from: http://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object\n * @param {any} o\n * @returns {boolean}\n */\nfunction isElement(o) {\n    return (typeof HTMLElement === 'function'\n        ? o instanceof HTMLElement //DOM2\n        : o && typeof o === 'object' && o !== null && o.nodeType === 1 && typeof o.nodeName === 'string');\n}\nfunction isNodeOrElement(o) {\n    return isNode(o) || isElement(o);\n}\n/**\n * Makes a copy of a node list into a list\n * @param {NodeList} nodeList\n * @returns {Node[]}\n */\nfunction copyNodeList(nodeList) {\n    var childCount = nodeList ? nodeList.length : 0;\n    var res = [];\n    for (var i = 0; i < childCount; i++) {\n        res.push(nodeList[i]);\n    }\n    return res;\n}\nfunction iterateNamedNodeMap(map, callback) {\n    if (!map) {\n        return;\n    }\n    for (var i = 0; i < map.length; i++) {\n        var attr = map[i];\n        callback(attr.name, attr.value);\n    }\n}\n/** @deprecated */\nfunction setCheckboxState(eCheckbox, state) {\n    if (typeof state === 'boolean') {\n        eCheckbox.checked = state;\n        eCheckbox.indeterminate = false;\n    }\n    else {\n        // isNodeSelected returns back undefined if it's a group and the children\n        // are a mix of selected and unselected\n        eCheckbox.indeterminate = true;\n    }\n}\n\nvar DomUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    addCssClass: addCssClass,\n    removeCssClass: removeCssClass,\n    addOrRemoveCssClass: addOrRemoveCssClass,\n    radioCssClass: radioCssClass,\n    containsClass: containsClass,\n    setDisplayed: setDisplayed,\n    setVisible: setVisible,\n    isElementChildOfClass: isElementChildOfClass,\n    getElementSize: getElementSize,\n    getInnerHeight: getInnerHeight,\n    getInnerWidth: getInnerWidth,\n    getAbsoluteHeight: getAbsoluteHeight,\n    getAbsoluteWidth: getAbsoluteWidth,\n    getScrollLeft: getScrollLeft,\n    setScrollLeft: setScrollLeft,\n    clearElement: clearElement,\n    removeElement: removeElement,\n    removeFromParent: removeFromParent,\n    isVisible: isVisible,\n    loadTemplate: loadTemplate,\n    appendHtml: appendHtml,\n    getElementAttribute: getElementAttribute,\n    offsetHeight: offsetHeight,\n    offsetWidth: offsetWidth,\n    ensureDomOrder: ensureDomOrder,\n    setDomChildOrder: setDomChildOrder,\n    insertTemplateWithDomOrder: insertTemplateWithDomOrder,\n    prependDC: prependDC,\n    addStylesToElement: addStylesToElement,\n    isHorizontalScrollShowing: isHorizontalScrollShowing,\n    isVerticalScrollShowing: isVerticalScrollShowing,\n    setElementWidth: setElementWidth,\n    setFixedWidth: setFixedWidth,\n    setElementHeight: setElementHeight,\n    setFixedHeight: setFixedHeight,\n    formatSize: formatSize,\n    isNode: isNode,\n    isElement: isElement,\n    isNodeOrElement: isNodeOrElement,\n    copyNodeList: copyNodeList,\n    iterateNamedNodeMap: iterateNamedNodeMap,\n    setCheckboxState: setCheckboxState\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nfunction iterateObject(object, callback) {\n    if (!object || missing(object)) {\n        return;\n    }\n    if (Array.isArray(object)) {\n        object.forEach(function (value, index) { return callback(\"\" + index, value); });\n    }\n    else {\n        Object.keys(object).forEach(function (key) { return callback(key, object[key]); });\n    }\n}\nfunction cloneObject(object) {\n    var copy = {};\n    var keys = Object.keys(object);\n    for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        var value = object[key];\n        copy[key] = value;\n    }\n    return copy;\n}\nfunction deepCloneObject(object) {\n    return JSON.parse(JSON.stringify(object));\n}\nfunction getProperty(object, key) {\n    return object[key];\n}\nfunction setProperty(object, key, value) {\n    object[key] = value;\n}\n/**\n * Will copy the specified properties from `source` into the equivalent properties on `target`, ignoring properties with\n * a value of `undefined`.\n */\nfunction copyPropertiesIfPresent(source, target) {\n    var properties = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        properties[_i - 2] = arguments[_i];\n    }\n    properties.forEach(function (p) { return copyPropertyIfPresent(source, target, p); });\n}\n/**\n * Will copy the specified property from `source` into the equivalent property on `target`, unless the property has a\n * value of `undefined`. If a transformation is provided, it will be applied to the value before being set on `target`.\n */\nfunction copyPropertyIfPresent(source, target, property, transform) {\n    var value = getProperty(source, property);\n    if (value !== undefined) {\n        setProperty(target, property, transform ? transform(value) : value);\n    }\n}\nfunction getAllKeysInObjects(objects) {\n    var allValues = {};\n    objects.filter(function (obj) { return obj != null; }).forEach(function (obj) {\n        Object.keys(obj).forEach(function (key) { return allValues[key] = null; });\n    });\n    return Object.keys(allValues);\n}\nfunction mergeDeep(dest, source, copyUndefined) {\n    if (copyUndefined === void 0) { copyUndefined = true; }\n    if (!exists(source)) {\n        return;\n    }\n    iterateObject(source, function (key, newValue) {\n        var oldValue = dest[key];\n        if (oldValue === newValue) {\n            return;\n        }\n        if (typeof oldValue === 'object' && typeof newValue === 'object' && !Array.isArray(oldValue)) {\n            mergeDeep(oldValue, newValue);\n        }\n        else if (copyUndefined || newValue !== undefined) {\n            dest[key] = newValue;\n        }\n    });\n}\nfunction assign(object) {\n    var sources = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        sources[_i - 1] = arguments[_i];\n    }\n    sources.forEach(function (source) {\n        if (exists(source)) {\n            iterateObject(source, function (key, value) {\n                object[key] = value;\n            });\n        }\n    });\n    return object;\n}\nfunction missingOrEmptyObject(value) {\n    return missing(value) || Object.keys(value).length === 0;\n}\nfunction get(source, expression, defaultValue) {\n    if (source == null) {\n        return defaultValue;\n    }\n    var keys = expression.split('.');\n    var objectToRead = source;\n    while (keys.length > 1) {\n        objectToRead = objectToRead[keys.shift()];\n        if (objectToRead == null) {\n            return defaultValue;\n        }\n    }\n    var value = objectToRead[keys[0]];\n    return value != null ? value : defaultValue;\n}\nfunction set(target, expression, value) {\n    if (target == null) {\n        return;\n    }\n    var keys = expression.split('.');\n    var objectToUpdate = target;\n    while (keys.length > 1) {\n        objectToUpdate = objectToUpdate[keys.shift()];\n        if (objectToUpdate == null) {\n            return;\n        }\n    }\n    objectToUpdate[keys[0]] = value;\n}\nfunction deepFreeze(object) {\n    Object.freeze(object);\n    values(object).filter(function (v) { return v != null; }).forEach(function (v) {\n        if (typeof v === 'object' || typeof v === 'function') {\n            deepFreeze(v);\n        }\n    });\n    return object;\n}\nfunction getValueUsingField(data, field, fieldContainsDots) {\n    if (!field || !data) {\n        return;\n    }\n    // if no '.', then it's not a deep value\n    if (!fieldContainsDots) {\n        return data[field];\n    }\n    // otherwise it is a deep value, so need to dig for it\n    var fields = field.split('.');\n    var currentObject = data;\n    for (var i = 0; i < fields.length; i++) {\n        currentObject = currentObject[fields[i]];\n        if (missing(currentObject)) {\n            return null;\n        }\n    }\n    return currentObject;\n}\n\nvar ObjectUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    iterateObject: iterateObject,\n    cloneObject: cloneObject,\n    deepCloneObject: deepCloneObject,\n    getProperty: getProperty,\n    setProperty: setProperty,\n    copyPropertiesIfPresent: copyPropertiesIfPresent,\n    copyPropertyIfPresent: copyPropertyIfPresent,\n    getAllKeysInObjects: getAllKeysInObjects,\n    mergeDeep: mergeDeep,\n    assign: assign,\n    missingOrEmptyObject: missingOrEmptyObject,\n    get: get,\n    set: set,\n    deepFreeze: deepFreeze,\n    getValueUsingField: getValueUsingField\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/** @deprecated */\nfunction getNameOfClass(theClass) {\n    var funcNameRegex = /function (.{1,})\\(/;\n    var funcAsString = theClass.toString();\n    var results = funcNameRegex.exec(funcAsString);\n    return results && results.length > 1 ? results[1] : \"\";\n}\nfunction findLineByLeastSquares(values) {\n    var len = values.length;\n    var maxDecimals = 0;\n    if (len <= 1) {\n        return values;\n    }\n    for (var i = 0; i < values.length; i++) {\n        var value = values[i];\n        if (Math.floor(value) === value) {\n            continue;\n        }\n        maxDecimals = Math.max(maxDecimals, value.toString().split('.')[1].length);\n    }\n    var sum_x = 0;\n    var sum_y = 0;\n    var sum_xy = 0;\n    var sum_xx = 0;\n    var y = 0;\n    for (var x = 0; x < len; x++) {\n        y = values[x];\n        sum_x += x;\n        sum_y += y;\n        sum_xx += x * x;\n        sum_xy += x * y;\n    }\n    var m = (len * sum_xy - sum_x * sum_y) / (len * sum_xx - sum_x * sum_x);\n    var b = (sum_y / len) - (m * sum_x) / len;\n    var result = [];\n    for (var x = 0; x <= len; x++) {\n        result.push(parseFloat((x * m + b).toFixed(maxDecimals)));\n    }\n    return result;\n}\n/**\n * Converts a CSS object into string\n * @param {Object} stylesToUse an object eg: {color: 'black', top: '25px'}\n * @return {string} A string like \"color: black; top: 25px;\" for html\n */\nfunction cssStyleObjectToMarkup(stylesToUse) {\n    if (!stylesToUse) {\n        return '';\n    }\n    var resParts = [];\n    iterateObject(stylesToUse, function (styleKey, styleValue) {\n        var styleKeyDashed = camelCaseToHyphen(styleKey);\n        resParts.push(styleKeyDashed + \": \" + styleValue + \";\");\n    });\n    return resParts.join(' ');\n}\n/**\n * Displays a message to the browser. this is useful in iPad, where you can't easily see the console.\n * so the javascript code can use this to give feedback. this is NOT intended to be called in production.\n * it is intended the ag-Grid developer calls this to troubleshoot, but then takes out the calls before\n * checking in.\n * @param {string} msg\n */\nfunction message(msg) {\n    var eMessage = document.createElement('div');\n    var eBox = document.querySelector('#__ag__message');\n    eMessage.innerHTML = msg;\n    if (!eBox) {\n        var template = \"<div id=\\\"__ag__message\\\" style=\\\"display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;\\\"></div>\";\n        eBox = loadTemplate(template);\n        if (document.body) {\n            document.body.appendChild(eBox);\n        }\n    }\n    eBox.insertBefore(eMessage, eBox.children[0]);\n}\n/**\n * cell renderers are used in a few places. they bind to dom slightly differently to other cell renderes as they\n * can return back strings (instead of html elemnt) in the getGui() method. common code placed here to handle that.\n * @param {Promise<ICellRendererComp>} cellRendererPromise\n * @param {HTMLElement} eTarget\n */\nfunction bindCellRendererToHtmlElement(cellRendererPromise, eTarget) {\n    cellRendererPromise.then(function (cellRenderer) {\n        var gui = cellRenderer.getGui();\n        if (gui != null) {\n            if (typeof gui === 'object') {\n                eTarget.appendChild(gui);\n            }\n            else {\n                eTarget.innerHTML = gui;\n            }\n        }\n    });\n}\n\nvar GeneralUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    getNameOfClass: getNameOfClass,\n    findLineByLeastSquares: findLineByLeastSquares,\n    cssStyleObjectToMarkup: cssStyleObjectToMarkup,\n    message: message,\n    bindCellRendererToHtmlElement: bindCellRendererToHtmlElement\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nfunction firstExistingValue() {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    for (var i = 0; i < values.length; i++) {\n        var value = values[i];\n        if (exists(value)) {\n            return value;\n        }\n    }\n    return null;\n}\n/** @deprecated */\nfunction anyExists(values) {\n    return values && firstExistingValue(values) != null;\n}\nfunction existsAndNotEmpty(value) {\n    return value != null && value.length > 0;\n}\nfunction last(arr) {\n    if (!arr || !arr.length) {\n        return undefined;\n    }\n    return arr[arr.length - 1];\n}\nfunction areEqual(a, b, comparator) {\n    if (a == null && b == null) {\n        return true;\n    }\n    return a != null &&\n        b != null &&\n        a.length === b.length &&\n        every(a, function (value, index) { return comparator ? comparator(value, b[index]) : b[index] === value; });\n}\n/** @deprecated */\nfunction compareArrays(array1, array2) {\n    return areEqual(array1, array2);\n}\n/** @deprecated */\nfunction shallowCompare(arr1, arr2) {\n    return areEqual(arr1, arr2);\n}\nfunction sortNumerically(array) {\n    return array.sort(function (a, b) { return a - b; });\n}\nfunction removeRepeatsFromArray(array, object) {\n    if (!array) {\n        return;\n    }\n    for (var index = array.length - 2; index >= 0; index--) {\n        var thisOneMatches = array[index] === object;\n        var nextOneMatches = array[index + 1] === object;\n        if (thisOneMatches && nextOneMatches) {\n            array.splice(index + 1, 1);\n        }\n    }\n}\nfunction removeFromArray(array, object) {\n    var index = array.indexOf(object);\n    if (index >= 0) {\n        array.splice(index, 1);\n    }\n}\nfunction removeAllFromArray(array, toRemove) {\n    forEach(toRemove, function (item) { return removeFromArray(array, item); });\n}\nfunction insertIntoArray(array, object, toIndex) {\n    array.splice(toIndex, 0, object);\n}\nfunction insertArrayIntoArray(dest, src, toIndex) {\n    if (dest == null || src == null) {\n        return;\n    }\n    // put items in backwards, otherwise inserted items end up in reverse order\n    for (var i = src.length - 1; i >= 0; i--) {\n        var item = src[i];\n        insertIntoArray(dest, item, toIndex);\n    }\n}\nfunction moveInArray(array, objectsToMove, toIndex) {\n    // first take out items from the array\n    removeAllFromArray(array, objectsToMove);\n    // now add the objects, in same order as provided to us, that means we start at the end\n    // as the objects will be pushed to the right as they are inserted\n    forEach(objectsToMove.slice().reverse(), function (obj) { return insertIntoArray(array, obj, toIndex); });\n}\nfunction includes(array, value) {\n    return array.indexOf(value) > -1;\n}\nfunction flatten(arrayOfArrays) {\n    return [].concat.apply([], arrayOfArrays);\n}\nfunction pushAll(target, source) {\n    if (source == null || target == null) {\n        return;\n    }\n    forEach(source, function (value) { return target.push(value); });\n}\nfunction toStrings(array) {\n    return map(array, toStringOrNull);\n}\nfunction findIndex(collection, predicate) {\n    for (var i = 0; i < collection.length; i++) {\n        if (predicate(collection[i], i, collection)) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * The implementation of Array.prototype.every in browsers is always slower than just using a simple for loop, so\n * use this for improved performance.\n * https://jsbench.me/bek91dtit8/\n */\nfunction every(list, predicate) {\n    if (list == null) {\n        return true;\n    }\n    for (var i = 0; i < list.length; i++) {\n        if (!predicate(list[i], i)) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * The implementation of Array.prototype.some in browsers is always slower than just using a simple for loop, so\n * use this for improved performance.\n * https://jsbench.me/5dk91e4tmt/\n */\nfunction some(list, predicate) {\n    if (list == null) {\n        return false;\n    }\n    for (var i = 0; i < list.length; i++) {\n        if (predicate(list[i], i)) {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * The implementation of Array.prototype.forEach in browsers is often slower than just using a simple for loop, so\n * use this for improved performance.\n * https://jsbench.me/apk91elt8a/\n */\nfunction forEach(list, action) {\n    if (list == null) {\n        return;\n    }\n    for (var i = 0; i < list.length; i++) {\n        action(list[i], i);\n    }\n}\n/**\n * The implementation of Array.prototype.map in browsers is generally the same as just using a simple for loop. However,\n * Firefox does exhibit some difference, and this performs no worse in other browsers, so use this if you want improved\n * performance.\n * https://jsbench.me/njk91ez8pc/\n */\nfunction map(list, process) {\n    if (list == null) {\n        return null;\n    }\n    var mapped = [];\n    for (var i = 0; i < list.length; i++) {\n        mapped.push(process(list[i], i));\n    }\n    return mapped;\n}\n/**\n * The implementation of Array.prototype.filter in browsers is always slower than just using a simple for loop, so\n * use this for improved performance.\n * https://jsbench.me/7bk91fk08c/\n */\nfunction filter(list, predicate) {\n    if (list == null) {\n        return null;\n    }\n    var filtered = [];\n    for (var i = 0; i < list.length; i++) {\n        if (predicate(list[i], i)) {\n            filtered.push(list[i]);\n        }\n    }\n    return filtered;\n}\n/**\n * The implementation of Array.prototype.reduce in browsers is generally the same as just using a simple for loop. However,\n * Chrome does exhibit some difference, and this performs no worse in other browsers, so use this if you want improved\n * performance.\n * https://jsbench.me/7vk92n6u1f/\n */\nfunction reduce(list, step, initial) {\n    if (list == null || initial == null) {\n        return null;\n    }\n    var result = initial;\n    for (var i = 0; i < list.length; i++) {\n        result = step(result, list[i], i);\n    }\n    return result;\n}\n/** @deprecated */\nfunction forEachSnapshotFirst(list, callback) {\n    if (!list) {\n        return;\n    }\n    var arrayCopy = list.slice(0);\n    arrayCopy.forEach(callback);\n}\n\nvar ArrayUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    firstExistingValue: firstExistingValue,\n    anyExists: anyExists,\n    existsAndNotEmpty: existsAndNotEmpty,\n    last: last,\n    areEqual: areEqual,\n    compareArrays: compareArrays,\n    shallowCompare: shallowCompare,\n    sortNumerically: sortNumerically,\n    removeRepeatsFromArray: removeRepeatsFromArray,\n    removeFromArray: removeFromArray,\n    removeAllFromArray: removeAllFromArray,\n    insertIntoArray: insertIntoArray,\n    insertArrayIntoArray: insertArrayIntoArray,\n    moveInArray: moveInArray,\n    includes: includes,\n    flatten: flatten,\n    pushAll: pushAll,\n    toStrings: toStrings,\n    findIndex: findIndex,\n    every: every,\n    some: some,\n    forEach: forEach,\n    map: map,\n    filter: filter,\n    reduce: reduce,\n    forEachSnapshotFirst: forEachSnapshotFirst\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nfunction padStart(value, totalStringSize) {\n    var asString = \"\" + value;\n    while (asString.length < totalStringSize) {\n        asString = \"0\" + asString;\n    }\n    return asString;\n}\nfunction createArrayOfNumbers(first, last) {\n    var result = [];\n    for (var i = first; i <= last; i++) {\n        result.push(i);\n    }\n    return result;\n}\n/**\n * Check if a value is numeric\n * from http://stackoverflow.com/questions/9716468/is-there-any-function-like-isnumeric-in-javascript-to-validate-numbers\n * @param {any} value\n * @return {boolean}\n */\nfunction isNumeric(value) {\n    return value !== '' && !isNaN(parseFloat(value)) && isFinite(value);\n}\nfunction getMaxSafeInteger() {\n    // eslint-disable-next-line\n    return Number.MAX_SAFE_INTEGER || 9007199254740991;\n}\nfunction cleanNumber(value) {\n    if (typeof value === 'string') {\n        value = parseInt(value, 10);\n    }\n    if (typeof value === 'number') {\n        return Math.floor(value);\n    }\n    else {\n        return null;\n    }\n}\nfunction decToHex(number, bytes) {\n    var hex = '';\n    for (var i = 0; i < bytes; i++) {\n        hex += String.fromCharCode(number & 0xff);\n        number >>>= 8;\n    }\n    return hex;\n}\nfunction formatNumberTwoDecimalPlacesAndCommas(value) {\n    if (typeof value !== 'number') {\n        return '';\n    }\n    return formatNumberCommas(Math.round(value * 100) / 100);\n}\n/**\n * the native method number.toLocaleString(undefined, {minimumFractionDigits: 0})\n * puts in decimal places in IE, so we use this method instead\n * from: http://blog.tompawlak.org/number-currency-formatting-javascript\n * @param {number} value\n * @returns {string}\n */\nfunction formatNumberCommas(value) {\n    if (typeof value !== 'number') {\n        return '';\n    }\n    return value.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\");\n}\nfunction sum(values) {\n    return values == null ? null : values.reduce(function (total, value) { return total + value; }, 0);\n}\n\nvar NumberUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    padStart: padStart,\n    createArrayOfNumbers: createArrayOfNumbers,\n    isNumeric: isNumeric,\n    getMaxSafeInteger: getMaxSafeInteger,\n    cleanNumber: cleanNumber,\n    decToHex: decToHex,\n    formatNumberTwoDecimalPlacesAndCommas: formatNumberTwoDecimalPlacesAndCommas,\n    formatNumberCommas: formatNumberCommas,\n    sum: sum\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/**\n * Serialises a date to a string of format `yyyy-MM-dd`.\n * An alternative separator can be provided to be used instead of hyphens.\n */\nfunction serialiseDate(date, separator) {\n    if (separator === void 0) { separator = '-'; }\n    if (!date) {\n        return null;\n    }\n    return [date.getFullYear(), date.getMonth() + 1, date.getDate()].map(function (part) { return padStart(part, 2); }).join(separator);\n}\n/**\n * Serialises a time to a string of format `HH:mm:ss`.\n */\nfunction serialiseTime(date) {\n    if (!date) {\n        return null;\n    }\n    return [date.getHours(), date.getMinutes(), date.getSeconds()].map(function (part) { return padStart(part, 2); }).join(':');\n}\n/**\n * Parses a date and time from a string in the format `yyyy-MM-dd HH:mm:ss`\n */\nfunction parseDateTimeFromString(value) {\n    if (!value) {\n        return null;\n    }\n    var _a = value.split(' '), dateStr = _a[0], timeStr = _a[1];\n    if (!dateStr) {\n        return null;\n    }\n    var fields = dateStr.split('-').map(function (f) { return parseInt(f, 10); });\n    if (fields.filter(function (f) { return !isNaN(f); }).length !== 3) {\n        return null;\n    }\n    var year = fields[0], month = fields[1], day = fields[2];\n    var date = new Date(year, month - 1, day);\n    if (date.getFullYear() !== year ||\n        date.getMonth() !== month - 1 ||\n        date.getDate() !== day) {\n        // date was not parsed as expected so must have been invalid\n        return null;\n    }\n    if (!timeStr || timeStr === '00:00:00') {\n        return date;\n    }\n    var _b = timeStr.split(':').map(function (part) { return parseInt(part, 10); }), hours = _b[0], minutes = _b[1], seconds = _b[2];\n    if (hours >= 0 && hours < 24) {\n        date.setHours(hours);\n    }\n    if (minutes >= 0 && minutes < 60) {\n        date.setMinutes(minutes);\n    }\n    if (seconds >= 0 && seconds < 60) {\n        date.setSeconds(seconds);\n    }\n    return date;\n}\n\nvar DateUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    serialiseDate: serialiseDate,\n    serialiseTime: serialiseTime,\n    parseDateTimeFromString: parseDateTimeFromString\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar AG_GRID_STOP_PROPAGATION = '__ag_Grid_Stop_Propagation';\nvar PASSIVE_EVENTS = ['touchstart', 'touchend', 'touchmove', 'touchcancel'];\nvar OUTSIDE_ANGULAR_EVENTS = ['mouseover', 'mouseout', 'mouseenter', 'mouseleave'];\nvar supports = {};\n/**\n * a user once raised an issue - they said that when you opened a popup (eg context menu)\n * and then clicked on a selection checkbox, the popup wasn't closed. this is because the\n * popup listens for clicks on the body, however ag-grid WAS stopping propagation on the\n * checkbox clicks (so the rows didn't pick them up as row selection selection clicks).\n * to get around this, we have a pattern to stop propagation for the purposes of ag-Grid,\n * but we still let the event pass back to the body.\n * @param {Event} event\n */\nfunction stopPropagationForAgGrid(event) {\n    event[AG_GRID_STOP_PROPAGATION] = true;\n}\nfunction isStopPropagationForAgGrid(event) {\n    return event[AG_GRID_STOP_PROPAGATION] === true;\n}\nvar isEventSupported = (function () {\n    var tags = {\n        select: 'input',\n        change: 'input',\n        submit: 'form',\n        reset: 'form',\n        error: 'img',\n        load: 'img',\n        abort: 'img'\n    };\n    var isEventSupported = function (eventName) {\n        if (typeof supports[eventName] === 'boolean') {\n            return supports[eventName];\n        }\n        var el = document.createElement(tags[eventName] || 'div');\n        eventName = 'on' + eventName;\n        var isSupported = (eventName in el);\n        if (!isSupported) {\n            el.setAttribute(eventName, 'return;');\n            isSupported = typeof el[eventName] == 'function';\n        }\n        el = null;\n        return supports[eventName] = isSupported;\n    };\n    return isEventSupported;\n})();\nfunction getCellCompForEvent(gridOptionsWrapper, event) {\n    var sourceElement = getTarget(event);\n    while (sourceElement) {\n        var renderedCell = gridOptionsWrapper.getDomData(sourceElement, 'cellComp');\n        if (renderedCell) {\n            return renderedCell;\n        }\n        sourceElement = sourceElement.parentElement;\n    }\n    return null;\n}\n/**\n * @deprecated\n * Adds all type of change listeners to an element, intended to be a text field\n * @param {HTMLElement} element\n * @param {EventListener} listener\n */\nfunction addChangeListener(element, listener) {\n    element.addEventListener('changed', listener);\n    element.addEventListener('paste', listener);\n    element.addEventListener('input', listener);\n    // IE doesn't fire changed for special keys (eg delete, backspace), so need to\n    // listen for this further ones\n    element.addEventListener('keydown', listener);\n    element.addEventListener('keyup', listener);\n}\n/**\n * srcElement is only available in IE. In all other browsers it is target\n * http://stackoverflow.com/questions/5301643/how-can-i-make-event-srcelement-work-in-firefox-and-what-does-it-mean\n * @param {Event} event\n * @returns {Element}\n */\nfunction getTarget(event) {\n    var eventNoType = event;\n    return eventNoType.target || eventNoType.srcElement;\n}\nfunction isElementInEventPath(element, event) {\n    if (!event || !element) {\n        return false;\n    }\n    return getEventPath(event).indexOf(element) >= 0;\n}\nfunction createEventPath(event) {\n    var res = [];\n    var pointer = getTarget(event);\n    while (pointer) {\n        res.push(pointer);\n        pointer = pointer.parentElement;\n    }\n    return res;\n}\n/**\n * firefox doesn't have event.path set, or any alternative to it, so we hack\n * it in. this is needed as it's to late to work out the path when the item is\n * removed from the dom. used by MouseEventService, where it works out if a click\n * was from the current grid, or a detail grid (master / detail).\n * @param {Event} event\n */\nfunction addAgGridEventPath(event) {\n    event.__agGridEventPath = getEventPath(event);\n}\n/**\n * Gets the path for an Event.\n * https://stackoverflow.com/questions/39245488/event-path-undefined-with-firefox-and-vue-js\n * https://developer.mozilla.org/en-US/docs/Web/API/Event\n * @param {Event} event\n * @returns {EventTarget[]}\n */\nfunction getEventPath(event) {\n    var eventNoType = event;\n    if (eventNoType.deepPath) {\n        // IE supports deep path\n        return eventNoType.deepPath();\n    }\n    if (eventNoType.path) {\n        // Chrome supports path\n        return eventNoType.path;\n    }\n    if (eventNoType.composedPath) {\n        // Firefox supports composePath\n        return eventNoType.composedPath();\n    }\n    if (eventNoType.__agGridEventPath) {\n        // Firefox supports composePath\n        return eventNoType.__agGridEventPath;\n    }\n    // and finally, if none of the above worked,\n    // we create the path ourselves\n    return createEventPath(event);\n}\nfunction addSafePassiveEventListener(frameworkOverrides, eElement, event, listener) {\n    var isPassive = includes(PASSIVE_EVENTS, event);\n    var isOutsideAngular = includes(OUTSIDE_ANGULAR_EVENTS, event);\n    var options = isPassive ? { passive: true } : undefined;\n    if (isOutsideAngular) {\n        frameworkOverrides.addEventListenerOutsideAngular(eElement, event, listener, options);\n    }\n    else {\n        eElement.addEventListener(event, listener, options);\n    }\n}\n\nvar EventUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    stopPropagationForAgGrid: stopPropagationForAgGrid,\n    isStopPropagationForAgGrid: isStopPropagationForAgGrid,\n    isEventSupported: isEventSupported,\n    getCellCompForEvent: getCellCompForEvent,\n    addChangeListener: addChangeListener,\n    getTarget: getTarget,\n    isElementInEventPath: isElementInEventPath,\n    createEventPath: createEventPath,\n    addAgGridEventPath: addAgGridEventPath,\n    getEventPath: getEventPath,\n    addSafePassiveEventListener: addSafePassiveEventListener\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar FUNCTION_STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\nvar FUNCTION_ARGUMENT_NAMES = /([^\\s,]+)/g;\nvar doOnceFlags = {};\n/**\n * If the key was passed before, then doesn't execute the func\n * @param {Function} func\n * @param {string} key\n */\nfunction doOnce(func, key) {\n    if (doOnceFlags[key]) {\n        return;\n    }\n    func();\n    doOnceFlags[key] = true;\n}\n/** @deprecated */\nfunction getFunctionParameters(func) {\n    var fnStr = func.toString().replace(FUNCTION_STRIP_COMMENTS, '');\n    return fnStr.slice(fnStr.indexOf('(') + 1, fnStr.indexOf(')')).match(FUNCTION_ARGUMENT_NAMES) || [];\n}\nfunction isFunction(val) {\n    return !!(val && val.constructor && val.call && val.apply);\n}\nfunction executeInAWhile(funcs) {\n    executeAfter(funcs, 400);\n}\nfunction executeNextVMTurn(funcs) {\n    executeAfter(funcs, 0);\n}\nfunction executeAfter(funcs, milliseconds) {\n    if (milliseconds === void 0) { milliseconds = 0; }\n    if (funcs.length > 0) {\n        window.setTimeout(function () { return funcs.forEach(function (func) { return func(); }); }, milliseconds);\n    }\n}\n/**\n * from https://stackoverflow.com/questions/24004791/can-someone-explain-the-debounce-function-in-javascript\n * @param {Function} func The function to be debounced\n * @param {number} wait The time in ms to debounce\n * @param {boolean} immediate If it should run immediately or wait for the initial debounce delay\n * @return {Function} The debounced function\n */\nfunction debounce(func, wait, immediate) {\n    if (immediate === void 0) { immediate = false; }\n    // 'private' variable for instance\n    // The returned function will be able to reference this due to closure.\n    // Each call to the returned function will share this common timer.\n    var timeout;\n    // Calling debounce returns a new anonymous function\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        // reference the context and args for the setTimeout function\n        var context = this;\n        // Should the function be called now? If immediate is true\n        //   and not already in a timeout then the answer is: Yes\n        var callNow = immediate && !timeout;\n        // This is the basic debounce behaviour where you can call this\n        //   function several times, but it will only execute once\n        //   [before or after imposing a delay].\n        //   Each time the returned function is called, the timer starts over.\n        window.clearTimeout(timeout);\n        // Set the new timeout\n        timeout = window.setTimeout(function () {\n            // Inside the timeout function, clear the timeout variable\n            // which will let the next execution run when in 'immediate' mode\n            timeout = null;\n            // Check if the function already ran with the immediate flag\n            if (!immediate) {\n                // Call the original function with apply\n                // apply lets you define the 'this' object as well as the arguments\n                //    (both captured before setTimeout)\n                func.apply(context, args);\n            }\n        }, wait);\n        // Immediate mode and no wait timer? Execute the function..\n        if (callNow) {\n            func.apply(context, args);\n        }\n    };\n}\nfunction compose() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return function (arg) { return fns.reduce(function (composed, f) { return f(composed); }, arg); };\n}\nfunction callIfPresent(func) {\n    if (func) {\n        func();\n    }\n}\n\nvar FunctionUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    doOnce: doOnce,\n    getFunctionParameters: getFunctionParameters,\n    isFunction: isFunction,\n    executeInAWhile: executeInAWhile,\n    executeNextVMTurn: executeNextVMTurn,\n    executeAfter: executeAfter,\n    debounce: debounce,\n    compose: compose,\n    callIfPresent: callIfPresent\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nfunction fuzzyCheckStrings(inputValues, validValues, allSuggestions) {\n    var fuzzyMatches = {};\n    var invalidInputs = inputValues.filter(function (inputValue) {\n        return !validValues.some(function (validValue) { return validValue === inputValue; });\n    });\n    if (invalidInputs.length > 0) {\n        invalidInputs.forEach(function (invalidInput) {\n            return fuzzyMatches[invalidInput] = fuzzySuggestions(invalidInput, allSuggestions);\n        });\n    }\n    return fuzzyMatches;\n}\n/**\n *\n * @param {String} inputValue The value to be compared against a list of strings\n * @param allSuggestions The list of strings to be compared against\n * @param hideIrrelevant By default, fuzzy suggestions will just sort the allSuggestions list, set this to true\n *        to filter out the irrelevant values\n * @param weighted Set this to true, to make letters matched in the order they were typed have priority in the results.\n */\nfunction fuzzySuggestions(inputValue, allSuggestions, hideIrrelevant, weighted) {\n    var search = weighted ? string_weighted_distances : string_distances;\n    var thisSuggestions = allSuggestions.map(function (text) { return ({\n        value: text,\n        relevance: search(inputValue.toLowerCase(), text.toLocaleLowerCase())\n    }); });\n    thisSuggestions.sort(function (a, b) { return b.relevance - a.relevance; });\n    if (hideIrrelevant) {\n        thisSuggestions = thisSuggestions.filter(function (suggestion) { return suggestion.relevance !== 0; });\n    }\n    return thisSuggestions.map(function (suggestion) { return suggestion.value; });\n}\n/**\n * Algorithm to do fuzzy search\n * from https://stackoverflow.com/questions/23305000/javascript-fuzzy-search-that-makes-sense\n * @param {string} from\n * @return {[]}\n */\nfunction get_bigrams(from) {\n    var s = from.toLowerCase();\n    var v = new Array(s.length - 1);\n    var i;\n    var j;\n    var ref;\n    for (i = j = 0, ref = v.length; j <= ref; i = j += 1) {\n        v[i] = s.slice(i, i + 2);\n    }\n    return v;\n}\nfunction string_distances(str1, str2) {\n    if (str1.length === 0 && str2.length === 0) {\n        return 0;\n    }\n    var pairs1 = get_bigrams(str1);\n    var pairs2 = get_bigrams(str2);\n    var union = pairs1.length + pairs2.length;\n    var hit_count = 0;\n    var j;\n    var len;\n    for (j = 0, len = pairs1.length; j < len; j++) {\n        var x = pairs1[j];\n        var k = void 0;\n        var len1 = void 0;\n        for (k = 0, len1 = pairs2.length; k < len1; k++) {\n            var y = pairs2[k];\n            if (x === y) {\n                hit_count++;\n            }\n        }\n    }\n    return hit_count > 0 ? (2 * hit_count) / union : 0;\n}\nfunction string_weighted_distances(str1, str2) {\n    var a = str1.replace(/\\s/g, '');\n    var b = str2.replace(/\\s/g, '');\n    var weight = 0;\n    var lastIndex = 0;\n    for (var i = 0; i < a.length; i++) {\n        var idx = b.indexOf(a[i]);\n        if (idx === -1) {\n            continue;\n        }\n        lastIndex = idx;\n        weight += ((b.length - lastIndex) * 100) / b.length;\n        weight *= weight;\n    }\n    return weight;\n}\n\nvar FuzzyMatchUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    fuzzyCheckStrings: fuzzyCheckStrings,\n    fuzzySuggestions: fuzzySuggestions,\n    get_bigrams: get_bigrams,\n    string_distances: string_distances,\n    string_weighted_distances: string_weighted_distances\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n//\n// IMPORTANT NOTE!\n//\n// If you change the list below, copy/paste the new content into the docs page javascript-grid-icons\n//\nvar iconNameClassMap = {\n    // header column group shown when expanded (click to contract)\n    columnGroupOpened: 'expanded',\n    // header column group shown when contracted (click to expand)\n    columnGroupClosed: 'contracted',\n    // tool panel column group contracted (click to expand)\n    columnSelectClosed: 'tree-closed',\n    // tool panel column group expanded (click to contract)\n    columnSelectOpen: 'tree-open',\n    // column tool panel header expand/collapse all button, shown when some children are expanded and\n    //     others are collapsed\n    columnSelectIndeterminate: 'tree-indeterminate',\n    // shown on ghost icon while dragging column to the side of the grid to pin\n    columnMovePin: 'pin',\n    // shown on ghost icon while dragging over part of the page that is not a drop zone\n    columnMoveHide: 'eye-slash',\n    // shown on ghost icon while dragging columns to reorder\n    columnMoveMove: 'arrows',\n    // animating icon shown when dragging a column to the right of the grid causes horizontal scrolling\n    columnMoveLeft: 'left',\n    // animating icon shown when dragging a column to the left of the grid causes horizontal scrolling\n    columnMoveRight: 'right',\n    // shown on ghost icon while dragging over Row Groups drop zone\n    columnMoveGroup: 'group',\n    // shown on ghost icon while dragging over Values drop zone\n    columnMoveValue: 'aggregation',\n    // shown on ghost icon while dragging over pivot drop zone\n    columnMovePivot: 'pivot',\n    // shown on ghost icon while dragging over drop zone that doesn't support it, e.g.\n    //     string column over aggregation drop zone\n    dropNotAllowed: 'not-allowed',\n    // shown on row group when contracted (click to expand)\n    groupContracted: 'tree-closed',\n    // shown on row group when expanded (click to contract)\n    groupExpanded: 'tree-open',\n    // context menu chart item\n    chart: 'chart',\n    // chart window title bar\n    close: 'cross',\n    // X (remove) on column 'pill' after adding it to a drop zone list\n    cancel: 'cancel',\n    // indicates the currently active pin state in the \"Pin column\" sub-menu of the column menu\n    check: 'tick',\n    // \"go to first\" button in pagination controls\n    first: 'first',\n    // \"go to previous\" button in pagination controls\n    previous: 'previous',\n    // \"go to next\" button in pagination controls\n    next: 'next',\n    // \"go to last\" button in pagination controls\n    last: 'last',\n    // shown on top right of chart when chart is linked to range data (click to unlink)\n    linked: 'linked',\n    // shown on top right of chart when chart is not linked to range data (click to link)\n    unlinked: 'unlinked',\n    // \"Choose colour\" button on chart settings tab\n    colorPicker: 'color-picker',\n    // rotating spinner shown by the loading cell renderer\n    groupLoading: 'loading',\n    // button to launch enterprise column menu\n    menu: 'menu',\n    // filter tool panel tab\n    filter: 'filter',\n    // column tool panel tab\n    columns: 'columns',\n    // button in chart regular size window title bar (click to maximise)\n    maximize: 'maximize',\n    // button in chart maximised window title bar (click to make regular size)\n    minimize: 'minimize',\n    // \"Pin column\" item in column header menu\n    menuPin: 'pin',\n    // \"Value aggregation\" column menu item (shown on numeric columns when grouping is active)\"\n    menuValue: 'aggregation',\n    // \"Group by {column-name}\" item in column header menu\n    menuAddRowGroup: 'group',\n    // \"Un-Group by {column-name}\" item in column header menu\n    menuRemoveRowGroup: 'group',\n    // context menu copy item\n    clipboardCopy: 'copy',\n    // context menu paste item\n    clipboardPaste: 'paste',\n    // identifies the pivot drop zone\n    pivotPanel: 'pivot',\n    // \"Row groups\" drop zone in column tool panel\n    rowGroupPanel: 'group',\n    // columns tool panel Values drop zone\n    valuePanel: 'aggregation',\n    // drag handle used to pick up draggable columns\n    columnDrag: 'grip',\n    // drag handle used to pick up draggable rows\n    rowDrag: 'grip',\n    // context menu export item\n    save: 'save',\n    // icon on dropdown editors\n    smallDown: 'small-down',\n    // version of small-right used in RTL mode\n    smallLeft: 'small-left',\n    // separater between column 'pills' when you add multiple columns to the header drop zone\n    smallRight: 'small-right',\n    smallUp: 'small-up',\n    // show on column header when column is sorted ascending\n    sortAscending: 'asc',\n    // show on column header when column is sorted descending\n    sortDescending: 'desc',\n    // show on column header when column has no sort, only when enabled with gridOptions.unSortIcon=true\n    sortUnSort: 'none'\n};\n/**\n * If icon provided, use this (either a string, or a function callback).\n * if not, then use the default icon from the theme\n * @param {string} iconName\n * @param {GridOptionsWrapper} gridOptionsWrapper\n * @param {Column | null} [column]\n * @returns {HTMLElement}\n */\nfunction createIcon(iconName, gridOptionsWrapper, column) {\n    var iconContents = createIconNoSpan(iconName, gridOptionsWrapper, column);\n    if (iconContents.className.indexOf('ag-icon') > -1) {\n        return iconContents;\n    }\n    var eResult = document.createElement('span');\n    eResult.appendChild(iconContents);\n    return eResult;\n}\nfunction createIconNoSpan(iconName, gridOptionsWrapper, column, forceCreate) {\n    var userProvidedIcon = null;\n    // check col for icon first\n    var icons = column && column.getColDef().icons;\n    if (icons) {\n        userProvidedIcon = icons[iconName];\n    }\n    // if not in col, try grid options\n    if (gridOptionsWrapper && !userProvidedIcon) {\n        var optionsIcons = gridOptionsWrapper.getIcons();\n        if (optionsIcons) {\n            userProvidedIcon = optionsIcons[iconName];\n        }\n    }\n    // now if user provided, use it\n    if (userProvidedIcon) {\n        var rendererResult = void 0;\n        if (typeof userProvidedIcon === 'function') {\n            rendererResult = userProvidedIcon();\n        }\n        else if (typeof userProvidedIcon === 'string') {\n            rendererResult = userProvidedIcon;\n        }\n        else {\n            throw new Error('icon from grid options needs to be a string or a function');\n        }\n        if (typeof rendererResult === 'string') {\n            return loadTemplate(rendererResult);\n        }\n        else if (isNodeOrElement(rendererResult)) {\n            return rendererResult;\n        }\n        else {\n            console.warn('ag-Grid: iconRenderer should return back a string or a dom object');\n        }\n    }\n    else {\n        var span = document.createElement('span');\n        var cssClass = iconNameClassMap[iconName];\n        if (!cssClass) {\n            if (!forceCreate) {\n                console.warn(\"ag-Grid: Did not find icon \" + iconName);\n                cssClass = '';\n            }\n            else {\n                cssClass = iconName;\n            }\n        }\n        span.setAttribute('class', \"ag-icon ag-icon-\" + cssClass);\n        span.setAttribute(\"unselectable\", \"on\");\n        return span;\n    }\n}\n\nvar IconUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    iconNameClassMap: iconNameClassMap,\n    createIcon: createIcon,\n    createIconNoSpan: createIconNoSpan\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar Constants = /** @class */ (function () {\n    function Constants() {\n    }\n    Constants.STEP_EVERYTHING = 0;\n    Constants.STEP_FILTER = 1;\n    Constants.STEP_SORT = 2;\n    Constants.STEP_MAP = 3;\n    Constants.STEP_AGGREGATE = 4;\n    Constants.STEP_PIVOT = 5;\n    Constants.ROW_BUFFER_SIZE = 10;\n    Constants.LAYOUT_INTERVAL = 500;\n    Constants.BATCH_WAIT_MILLIS = 50;\n    Constants.EXPORT_TYPE_DRAG_COPY = 'dragCopy';\n    Constants.EXPORT_TYPE_CLIPBOARD = 'clipboard';\n    Constants.EXPORT_TYPE_EXCEL = 'excel';\n    Constants.EXPORT_TYPE_CSV = 'csv';\n    Constants.KEY_BACKSPACE = 8;\n    Constants.KEY_TAB = 9;\n    Constants.KEY_NEW_LINE = 10;\n    Constants.KEY_ENTER = 13;\n    Constants.KEY_SHIFT = 16;\n    Constants.KEY_ESCAPE = 27;\n    Constants.KEY_SPACE = 32;\n    Constants.KEY_LEFT = 37;\n    Constants.KEY_UP = 38;\n    Constants.KEY_RIGHT = 39;\n    Constants.KEY_DOWN = 40;\n    Constants.KEY_DELETE = 46;\n    Constants.KEY_A = 65;\n    Constants.KEY_C = 67;\n    Constants.KEY_V = 86;\n    Constants.KEY_D = 68;\n    Constants.KEY_Z = 90;\n    Constants.KEY_Y = 89;\n    Constants.KEY_F2 = 113;\n    Constants.KEY_PAGE_UP = 33;\n    Constants.KEY_PAGE_DOWN = 34;\n    Constants.KEY_PAGE_HOME = 36;\n    Constants.KEY_PAGE_END = 35;\n    Constants.ROW_MODEL_TYPE_INFINITE = 'infinite';\n    Constants.ROW_MODEL_TYPE_VIEWPORT = 'viewport';\n    Constants.ROW_MODEL_TYPE_CLIENT_SIDE = 'clientSide';\n    Constants.ROW_MODEL_TYPE_SERVER_SIDE = 'serverSide';\n    Constants.DEPRECATED_ROW_MODEL_TYPE_NORMAL = 'normal';\n    Constants.ALWAYS = 'always';\n    Constants.ONLY_WHEN_GROUPING = 'onlyWhenGrouping';\n    Constants.PINNED_TOP = 'top';\n    Constants.PINNED_BOTTOM = 'bottom';\n    Constants.DOM_LAYOUT_NORMAL = 'normal';\n    Constants.DOM_LAYOUT_PRINT = 'print';\n    Constants.DOM_LAYOUT_AUTO_HEIGHT = 'autoHeight';\n    Constants.GROUP_AUTO_COLUMN_ID = 'ag-Grid-AutoColumn';\n    Constants.SOURCE_PASTE = 'paste';\n    Constants.PINNED_RIGHT = 'right';\n    Constants.PINNED_LEFT = 'left';\n    Constants.SORT_ASC = 'asc';\n    Constants.SORT_DESC = 'desc';\n    return Constants;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar PRINTABLE_CHARACTERS = 'qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM1234567890!\"£$%^&*()_+-=[];\\'#,./\\\\|<>?:@~{}';\nvar NUMPAD_DEL_NUMLOCK_ON_KEY = 'Del';\nvar NUMPAD_DEL_NUMLOCK_ON_CHARCODE = 46;\nfunction isKeyPressed(event, keyToCheck) {\n    return (event.which || event.keyCode) === keyToCheck;\n}\nfunction isCharacterKey(event) {\n    // from: https://stackoverflow.com/questions/4179708/how-to-detect-if-the-pressed-key-will-produce-a-character-inside-an-input-text\n    var which = event.which;\n    if (typeof which === 'number' && which) {\n        return !event.ctrlKey && !event.metaKey && !event.altKey && event.which !== 8 && event.which !== 16;\n    }\n    return which === undefined;\n}\nfunction isEventFromPrintableCharacter(event) {\n    var pressedChar = String.fromCharCode(event.charCode);\n    // newline is an exception, as it counts as a printable character, but we don't\n    // want to start editing when it is pressed. without this check, if user is in chrome\n    // and editing a cell, and they press ctrl+enter, the cell stops editing, and then\n    // starts editing again with a blank value (two 'key down' events are fired). to\n    // test this, remove the line below, edit a cell in chrome and hit ctrl+enter while editing.\n    // https://ag-grid.atlassian.net/browse/AG-605\n    if (isKeyPressed(event, Constants.KEY_NEW_LINE)) {\n        return false;\n    }\n    // no allowed printable chars have alt or ctrl key combinations\n    if (event.altKey || event.ctrlKey) {\n        return false;\n    }\n    if (exists(event.key)) {\n        // modern browser will implement key, so we return if key is length 1, eg if it is 'a' for the\n        // a key, or '2' for the '2' key. non-printable characters have names, eg 'Enter' or 'Backspace'.\n        var printableCharacter = event.key.length === 1;\n        // IE11 & Edge treat the numpad del key differently - with numlock on we get \"Del\" for key,\n        // so this addition checks if its IE11/Edge and handles that specific case the same was as all other browsers\n        var numpadDelWithNumlockOnForEdgeOrIe = isNumpadDelWithNumlockOnForEdgeOrIe(event);\n        return printableCharacter || numpadDelWithNumlockOnForEdgeOrIe;\n    }\n    // otherwise, for older browsers, we test against a list of characters, which doesn't include\n    // accents for non-English, but don't care much, as most users are on modern browsers\n    return PRINTABLE_CHARACTERS.indexOf(pressedChar) >= 0;\n}\n/**\n * Allows user to tell the grid to skip specific keyboard events\n * @param {GridOptionsWrapper} gridOptionsWrapper\n * @param {KeyboardEvent} keyboardEvent\n * @param {RowNode} rowNode\n * @param {Column} column\n * @param {boolean} editing\n * @returns {boolean}\n */\nfunction isUserSuppressingKeyboardEvent(gridOptionsWrapper, keyboardEvent, rowNode, column, editing) {\n    var gridOptionsFunc = gridOptionsWrapper.getSuppressKeyboardEventFunc();\n    var colDefFunc = column.getColDef().suppressKeyboardEvent;\n    // if no callbacks provided by user, then do nothing\n    if (!gridOptionsFunc && !colDefFunc) {\n        return false;\n    }\n    var params = {\n        event: keyboardEvent,\n        editing: editing,\n        column: column,\n        api: gridOptionsWrapper.getApi(),\n        node: rowNode,\n        data: rowNode.data,\n        colDef: column.getColDef(),\n        context: gridOptionsWrapper.getContext(),\n        columnApi: gridOptionsWrapper.getColumnApi()\n    };\n    // colDef get first preference on suppressing events\n    if (colDefFunc) {\n        var colDefFuncResult = colDefFunc(params);\n        // if colDef func suppressed, then return now, no need to call gridOption func\n        if (colDefFuncResult) {\n            return true;\n        }\n    }\n    if (gridOptionsFunc) {\n        // if gridOption func, return the result\n        return gridOptionsFunc(params);\n    }\n    // otherwise return false, don't suppress, as colDef didn't suppress and no func on gridOptions\n    return false;\n}\nfunction isNumpadDelWithNumlockOnForEdgeOrIe(event) {\n    return (isBrowserEdge() || isBrowserIE()) &&\n        event.key === NUMPAD_DEL_NUMLOCK_ON_KEY &&\n        event.charCode === NUMPAD_DEL_NUMLOCK_ON_CHARCODE;\n}\n\nvar KeyboardUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    isKeyPressed: isKeyPressed,\n    isCharacterKey: isCharacterKey,\n    isEventFromPrintableCharacter: isEventFromPrintableCharacter,\n    isUserSuppressingKeyboardEvent: isUserSuppressingKeyboardEvent\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nfunction keys(map) {\n    var keys = [];\n    map.forEach(function (_, key) { return keys.push(key); });\n    return keys;\n}\n\nvar MapUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    keys: keys\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/**\n * @deprecated\n * Mouse wheel (and 2-finger trackpad) support on the web sucks.  It is\n * complicated, thus this doc is long and (hopefully) detailed enough to answer\n * your questions.\n *\n * If you need to react to the mouse wheel in a predictable way, this code is\n * like your bestest friend. * hugs *\n *\n * As of today, there are 4 DOM event types you can listen to:\n *\n *   'wheel'                -- Chrome(31+), FF(17+), IE(9+)\n *   'mousewheel'           -- Chrome, IE(6+), Opera, Safari\n *   'MozMousePixelScroll'  -- FF(3.5 only!) (2010-2013) -- don't bother!\n *   'DOMMouseScroll'       -- FF(0.9.7+) since 2003\n *\n * So what to do?  The is the best:\n *\n *   normalizeWheel.getEventType();\n *\n * In your event callback, use this code to get sane interpretation of the\n * deltas.  This code will return an object with properties:\n *\n *   spinX   -- normalized spin speed (use for zoom) - x plane\n *   spinY   -- \" - y plane\n *   pixelX  -- normalized distance (to pixels) - x plane\n *   pixelY  -- \" - y plane\n *\n * Wheel values are provided by the browser assuming you are using the wheel to\n * scroll a web page by a number of lines or pixels (or pages).  Values can vary\n * significantly on different platforms and browsers, forgetting that you can\n * scroll at different speeds.  Some devices (like trackpads) emit more events\n * at smaller increments with fine granularity, and some emit massive jumps with\n * linear speed or acceleration.\n *\n * This code does its best to normalize the deltas for you:\n *\n *   - spin is trying to normalize how far the wheel was spun (or trackpad\n *     dragged).  This is super useful for zoom support where you want to\n *     throw away the chunky scroll steps on the PC and make those equal to\n *     the slow and smooth tiny steps on the Mac. Key data: This code tries to\n *     resolve a single slow step on a wheel to 1.\n *\n *   - pixel is normalizing the desired scroll delta in pixel units.  You'll\n *     get the crazy differences between browsers, but at least it'll be in\n *     pixels!\n *\n *   - positive value indicates scrolling DOWN/RIGHT, negative UP/LEFT.  This\n *     should translate to positive value zooming IN, negative zooming OUT.\n *     This matches the newer 'wheel' event.\n *\n * Why are there spinX, spinY (or pixels)?\n *\n *   - spinX is a 2-finger side drag on the trackpad, and a shift + wheel turn\n *     with a mouse.  It results in side-scrolling in the browser by default.\n *\n *   - spinY is what you expect -- it's the classic axis of a mouse wheel.\n *\n *   - I dropped spinZ/pixelZ.  It is supported by the DOM 3 'wheel' event and\n *     probably is by browsers in conjunction with fancy 3D controllers .. but\n *     you know.\n *\n * Implementation info:\n *\n * Examples of 'wheel' event if you scroll slowly (down) by one step with an\n * average mouse:\n *\n *   OS X + Chrome  (mouse)     -    4   pixel delta  (wheelDelta -120)\n *   OS X + Safari  (mouse)     -  N/A   pixel delta  (wheelDelta  -12)\n *   OS X + Firefox (mouse)     -    0.1 line  delta  (wheelDelta  N/A)\n *   Win8 + Chrome  (mouse)     -  100   pixel delta  (wheelDelta -120)\n *   Win8 + Firefox (mouse)     -    3   line  delta  (wheelDelta -120)\n *\n * On the trackpad:\n *\n *   OS X + Chrome  (trackpad)  -    2   pixel delta  (wheelDelta   -6)\n *   OS X + Firefox (trackpad)  -    1   pixel delta  (wheelDelta  N/A)\n *\n * On other/older browsers.. it's more complicated as there can be multiple and\n * also missing delta values.\n *\n * The 'wheel' event is more standard:\n *\n * http://www.w3.org/TR/DOM-Level-3-Events/#events-wheelevents\n *\n * The basics is that it includes a unit, deltaMode (pixels, lines, pages), and\n * deltaX, deltaY and deltaZ.  Some browsers provide other values to maintain\n * backward compatibility with older events.  Those other values help us\n * better normalize spin speed.  Example of what the browsers provide:\n *\n *                          | event.wheelDelta | event.detail\n *        ------------------+------------------+--------------\n *          Safari v5/OS X  |       -120       |       0\n *          Safari v5/Win7  |       -120       |       0\n *         Chrome v17/OS X  |       -120       |       0\n *         Chrome v17/Win7  |       -120       |       0\n *                IE9/Win7  |       -120       |   undefined\n *         Firefox v4/OS X  |     undefined    |       1\n *         Firefox v4/Win7  |     undefined    |       3\n *\n * from: https://github.com/facebook/fixed-data-table/blob/master/src/vendor_upstream/dom/normalizeWheel.js\n * @param {any} event\n * @return {any}\n */\nfunction normalizeWheel(event) {\n    var PIXEL_STEP = 10;\n    var LINE_HEIGHT = 40;\n    var PAGE_HEIGHT = 800;\n    // spinX, spinY\n    var sX = 0;\n    var sY = 0;\n    // pixelX, pixelY\n    var pX = 0;\n    var pY = 0;\n    // Legacy\n    if ('detail' in event) {\n        sY = event.detail;\n    }\n    if ('wheelDelta' in event) {\n        sY = -event.wheelDelta / 120;\n    }\n    if ('wheelDeltaY' in event) {\n        sY = -event.wheelDeltaY / 120;\n    }\n    if ('wheelDeltaX' in event) {\n        sX = -event.wheelDeltaX / 120;\n    }\n    // side scrolling on FF with DOMMouseScroll\n    if ('axis' in event && event.axis === event.HORIZONTAL_AXIS) {\n        sX = sY;\n        sY = 0;\n    }\n    pX = sX * PIXEL_STEP;\n    pY = sY * PIXEL_STEP;\n    if ('deltaY' in event) {\n        pY = event.deltaY;\n    }\n    if ('deltaX' in event) {\n        pX = event.deltaX;\n    }\n    if ((pX || pY) && event.deltaMode) {\n        if (event.deltaMode == 1) { // delta in LINE units\n            pX *= LINE_HEIGHT;\n            pY *= LINE_HEIGHT;\n        }\n        else { // delta in PAGE units\n            pX *= PAGE_HEIGHT;\n            pY *= PAGE_HEIGHT;\n        }\n    }\n    // Fall-back if spin cannot be determined\n    if (pX && !sX) {\n        sX = (pX < 1) ? -1 : 1;\n    }\n    if (pY && !sY) {\n        sY = (pY < 1) ? -1 : 1;\n    }\n    return {\n        spinX: sX,\n        spinY: sY,\n        pixelX: pX,\n        pixelY: pY\n    };\n}\n/**\n * @deprecated\n * Checks if event was issued by a left click\n * from https://stackoverflow.com/questions/3944122/detect-left-mouse-button-press\n * @param {MouseEvent} mouseEvent\n * @returns {boolean}\n */\nfunction isLeftClick(mouseEvent) {\n    if ('buttons' in mouseEvent) {\n        return mouseEvent.buttons == 1;\n    }\n    var button = mouseEvent.which || mouseEvent.button;\n    return button == 1;\n}\n/**\n * `True` if the event is close to the original event by X pixels either vertically or horizontally.\n * we only start dragging after X pixels so this allows us to know if we should start dragging yet.\n * @param {MouseEvent | TouchEvent} e1\n * @param {MouseEvent | TouchEvent} e2\n * @param {number} pixelCount\n * @returns {boolean}\n */\nfunction areEventsNear(e1, e2, pixelCount) {\n    // by default, we wait 4 pixels before starting the drag\n    if (pixelCount === 0) {\n        return false;\n    }\n    var diffX = Math.abs(e1.clientX - e2.clientX);\n    var diffY = Math.abs(e1.clientY - e2.clientY);\n    return Math.max(diffX, diffY) <= pixelCount;\n}\n\nvar MouseUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    normalizeWheel: normalizeWheel,\n    isLeftClick: isLeftClick,\n    areEventsNear: areEventsNear\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/**\n * Gets called by: a) ClientSideNodeManager and b) GroupStage to do sorting.\n * when in ClientSideNodeManager we always have indexes (as this sorts the items the\n * user provided) but when in GroupStage, the nodes can contain filler nodes that\n * don't have order id's\n * @param {RowNode[]} rowNodes\n * @param {Object} rowNodeOrder\n */\nfunction sortRowNodesByOrder(rowNodes, rowNodeOrder) {\n    if (!rowNodes) {\n        return;\n    }\n    var comparator = function (nodeA, nodeB) {\n        var positionA = rowNodeOrder[nodeA.id];\n        var positionB = rowNodeOrder[nodeB.id];\n        var aHasIndex = positionA !== undefined;\n        var bHasIndex = positionB !== undefined;\n        var bothNodesAreUserNodes = aHasIndex && bHasIndex;\n        var bothNodesAreFillerNodes = !aHasIndex && !bHasIndex;\n        if (bothNodesAreUserNodes) {\n            // when comparing two nodes the user has provided, they always\n            // have indexes\n            return positionA - positionB;\n        }\n        if (bothNodesAreFillerNodes) {\n            // when comparing two filler nodes, we have no index to compare them\n            // against, however we want this sorting to be deterministic, so that\n            // the rows don't jump around as the user does delta updates. so we\n            // want the same sort result. so we use the __objectId - which doesn't make sense\n            // from a sorting point of view, but does give consistent behaviour between\n            // calls. otherwise groups jump around as delta updates are done.\n            // note: previously here we used nodeId, however this gave a strange order\n            // as string ordering of numbers is wrong, so using id based on creation order\n            // as least gives better looking order.\n            return nodeA.__objectId - nodeB.__objectId;\n        }\n        if (aHasIndex) {\n            return 1;\n        }\n        return -1;\n    };\n    // check if the list first needs sorting\n    var rowNodeA;\n    var rowNodeB;\n    var atLeastOneOutOfOrder = false;\n    for (var i = 0; i < rowNodes.length - 1; i++) {\n        rowNodeA = rowNodes[i];\n        rowNodeB = rowNodes[i + 1];\n        if (comparator(rowNodeA, rowNodeB) > 0) {\n            atLeastOneOutOfOrder = true;\n            break;\n        }\n    }\n    if (atLeastOneOutOfOrder) {\n        rowNodes.sort(comparator);\n    }\n}\nfunction traverseNodesWithKey(nodes, callback) {\n    var keyParts = [];\n    recursiveSearchNodes(nodes);\n    function recursiveSearchNodes(currentNodes) {\n        currentNodes.forEach(function (node) {\n            // also checking for children for tree data\n            if (node.group || node.hasChildren()) {\n                keyParts.push(node.key);\n                var key = keyParts.join('|');\n                callback(node, key);\n                recursiveSearchNodes(node.childrenAfterGroup);\n                keyParts.pop();\n            }\n        });\n    }\n}\n\nvar RowNodeUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    sortRowNodesByOrder: sortRowNodesByOrder,\n    traverseNodesWithKey: traverseNodesWithKey\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nfunction convertToSet(list) {\n    var set = new Set();\n    list.forEach(function (x) { return set.add(x); });\n    return set;\n}\n\nvar SetUtils = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    convertToSet: convertToSet\n});\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar utils = __assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign(__assign({}, GeneralUtils), ArrayUtils), BrowserUtils), CsvUtils), DateUtils), DomUtils), EventUtils), FunctionUtils), FuzzyMatchUtils), GenericUtils), IconUtils), KeyboardUtils), MapUtils), MouseUtils), NumberUtils), ObjectUtils), RowNodeUtils), SetUtils), StringUtils);\nvar _ = utils;\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar NumberSequence = /** @class */ (function () {\n    function NumberSequence(initValue, step) {\n        if (initValue === void 0) { initValue = 0; }\n        if (step === void 0) { step = 1; }\n        this.nextValue = initValue;\n        this.step = step;\n    }\n    NumberSequence.prototype.next = function () {\n        var valToReturn = this.nextValue;\n        this.nextValue += this.step;\n        return valToReturn;\n    };\n    NumberSequence.prototype.peek = function () {\n        return this.nextValue;\n    };\n    NumberSequence.prototype.skip = function (count) {\n        this.nextValue += count;\n    };\n    return NumberSequence;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n(function (PromiseStatus) {\n    PromiseStatus[PromiseStatus[\"IN_PROGRESS\"] = 0] = \"IN_PROGRESS\";\n    PromiseStatus[PromiseStatus[\"RESOLVED\"] = 1] = \"RESOLVED\";\n})(exports.PromiseStatus || (exports.PromiseStatus = {}));\nvar Promise = /** @class */ (function () {\n    function Promise(callback) {\n        var _this = this;\n        this.status = exports.PromiseStatus.IN_PROGRESS;\n        this.resolution = null;\n        this.waiters = [];\n        callback(function (value) { return _this.onDone(value); }, function (params) { return _this.onReject(params); });\n    }\n    Promise.all = function (promises) {\n        return new Promise(function (resolve) {\n            var remainingToResolve = promises.length;\n            var combinedValues = new Array(remainingToResolve);\n            forEach(promises, function (promise, index) {\n                promise.then(function (value) {\n                    combinedValues[index] = value;\n                    remainingToResolve--;\n                    if (remainingToResolve === 0) {\n                        resolve(combinedValues);\n                    }\n                });\n            });\n        });\n    };\n    Promise.resolve = function (value) {\n        return new Promise(function (resolve) { return resolve(value); });\n    };\n    Promise.prototype.then = function (func) {\n        if (this.status === exports.PromiseStatus.IN_PROGRESS) {\n            this.waiters.push(func);\n        }\n        else {\n            func(this.resolution);\n        }\n    };\n    Promise.prototype.map = function (adapter) {\n        var _this = this;\n        return new Promise(function (resolve) { return _this.then(function (value) { return resolve(adapter(value)); }); });\n    };\n    Promise.prototype.resolveNow = function (ifNotResolvedValue, ifResolved) {\n        return this.status == exports.PromiseStatus.IN_PROGRESS ? ifNotResolvedValue : ifResolved(this.resolution);\n    };\n    Promise.prototype.onDone = function (value) {\n        this.status = exports.PromiseStatus.RESOLVED;\n        this.resolution = value;\n        forEach(this.waiters, function (waiter) { return waiter(value); });\n    };\n    Promise.prototype.onReject = function (params) {\n        console.warn('TBI');\n    };\n    return Promise;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/**\n * A Util Class only used when debugging for printing time to console\n */\nvar Timer = /** @class */ (function () {\n    function Timer() {\n        this.timestamp = new Date().getTime();\n    }\n    Timer.prototype.print = function (msg) {\n        var duration = (new Date().getTime()) - this.timestamp;\n        console.info(msg + \" = \" + duration);\n        this.timestamp = new Date().getTime();\n    };\n    return Timer;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar ColumnKeyCreator = /** @class */ (function () {\n    function ColumnKeyCreator() {\n        this.existingKeys = {};\n    }\n    ColumnKeyCreator.prototype.addExistingKeys = function (keys) {\n        for (var i = 0; i < keys.length; i++) {\n            this.existingKeys[keys[i]] = true;\n        }\n    };\n    ColumnKeyCreator.prototype.getUniqueKey = function (colId, colField) {\n        // in case user passed in number for colId, convert to string\n        colId = _.toStringOrNull(colId);\n        var count = 0;\n        while (true) {\n            var idToTry = void 0;\n            if (colId) {\n                idToTry = colId;\n                if (count !== 0) {\n                    idToTry += '_' + count;\n                }\n            }\n            else if (colField) {\n                idToTry = colField;\n                if (count !== 0) {\n                    idToTry += '_' + count;\n                }\n            }\n            else {\n                idToTry = '' + count;\n            }\n            if (!this.existingKeys[idToTry]) {\n                this.existingKeys[idToTry] = true;\n                return idToTry;\n            }\n            count++;\n        }\n    };\n    return ColumnKeyCreator;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar Context = /** @class */ (function () {\n    function Context(params, logger) {\n        this.beanWrappers = {};\n        this.componentsMappedByName = {};\n        this.destroyed = false;\n        if (!params || !params.beanClasses) {\n            return;\n        }\n        this.contextParams = params;\n        this.logger = logger;\n        this.logger.log(\">> creating ag-Application Context\");\n        this.setupComponents();\n        this.createBeans();\n        var beanInstances = this.getBeanInstances();\n        this.wireBeans(beanInstances);\n        this.logger.log(\">> ag-Application Context ready - component is alive\");\n    }\n    Context.prototype.getBeanInstances = function () {\n        return _.values(this.beanWrappers).map(function (beanEntry) { return beanEntry.beanInstance; });\n    };\n    Context.prototype.setupComponents = function () {\n        var _this = this;\n        if (this.contextParams.components) {\n            this.contextParams.components.forEach(function (componentMeta) { return _this.addComponent(componentMeta); });\n        }\n    };\n    Context.prototype.addComponent = function (componentMeta) {\n        // get name of the class as a string\n        // let className = _.getNameOfClass(ComponentClass);\n        // insert a dash after every capital letter\n        // let classEscaped = className.replace(/([A-Z])/g, \"-$1\").toLowerCase();\n        var classEscaped = componentMeta.componentName.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n        // put all to upper case\n        var classUpperCase = classEscaped.toUpperCase();\n        // finally store\n        this.componentsMappedByName[classUpperCase] = componentMeta.componentClass;\n    };\n    Context.prototype.createComponentFromElement = function (element, afterPreCreateCallback, paramsMap) {\n        var key = element.nodeName;\n        var componentParams = paramsMap ? paramsMap[element.getAttribute('ref')] : undefined;\n        return this.createComponent(key, afterPreCreateCallback, element, componentParams);\n    };\n    Context.prototype.createComponent = function (key, afterPreCreateCallback, element, componentParams) {\n        if (this.componentsMappedByName && this.componentsMappedByName[key]) {\n            var cls = this.componentsMappedByName[key];\n            var newComponent = new this.componentsMappedByName[key](componentParams);\n            this.wireBean(newComponent, afterPreCreateCallback);\n            return newComponent;\n        }\n        return null;\n    };\n    Context.prototype.wireBean = function (bean, afterPreCreateCallback) {\n        if (!bean) {\n            throw Error(\"Can't wire to bean since it is null\");\n        }\n        this.wireBeans([bean], afterPreCreateCallback);\n    };\n    Context.prototype.wireBeans = function (beanInstances, afterPreCreateCallback) {\n        this.autoWireBeans(beanInstances);\n        this.methodWireBeans(beanInstances);\n        this.callLifeCycleMethods(beanInstances, 'preConstructMethods');\n        // the callback sets the attributes, so the component has access to attributes\n        // before postConstruct methods in the component are executed\n        if (_.exists(afterPreCreateCallback)) {\n            beanInstances.forEach(afterPreCreateCallback);\n        }\n        this.callLifeCycleMethods(beanInstances, 'postConstructMethods');\n    };\n    Context.prototype.createBeans = function () {\n        var _this = this;\n        // register all normal beans\n        this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this));\n        // register override beans, these will overwrite beans above of same name\n        // instantiate all beans - overridden beans will be left out\n        _.iterateObject(this.beanWrappers, function (key, beanEntry) {\n            var constructorParamsMeta;\n            if (beanEntry.bean.__agBeanMetaData && beanEntry.bean.__agBeanMetaData.autowireMethods && beanEntry.bean.__agBeanMetaData.autowireMethods.agConstructor) {\n                constructorParamsMeta = beanEntry.bean.__agBeanMetaData.autowireMethods.agConstructor;\n            }\n            var constructorParams = _this.getBeansForParameters(constructorParamsMeta, beanEntry.bean.name);\n            var newInstance = applyToConstructor(beanEntry.bean, constructorParams);\n            beanEntry.beanInstance = newInstance;\n        });\n        var createdBeanNames = Object.keys(this.beanWrappers).join(', ');\n        this.logger.log(\"created beans: \" + createdBeanNames);\n    };\n    // tslint:disable-next-line\n    Context.prototype.createBeanWrapper = function (Bean) {\n        var metaData = Bean.__agBeanMetaData;\n        if (!metaData) {\n            var beanName = void 0;\n            if (Bean.prototype.constructor) {\n                beanName = Bean.prototype.constructor.name;\n            }\n            else {\n                beanName = \"\" + Bean;\n            }\n            console.error(\"context item \" + beanName + \" is not a bean\");\n            return;\n        }\n        var beanEntry = {\n            bean: Bean,\n            beanInstance: null,\n            beanName: metaData.beanName\n        };\n        this.beanWrappers[metaData.beanName] = beanEntry;\n    };\n    Context.prototype.autoWireBeans = function (beanInstances) {\n        var _this = this;\n        beanInstances.forEach(function (beanInstance) {\n            _this.forEachMetaDataInHierarchy(beanInstance, function (metaData, beanName) {\n                var attributes = metaData.agClassAttributes;\n                if (!attributes) {\n                    return;\n                }\n                attributes.forEach(function (attribute) {\n                    var otherBean = _this.lookupBeanInstance(beanName, attribute.beanName, attribute.optional);\n                    beanInstance[attribute.attributeName] = otherBean;\n                });\n            });\n        });\n    };\n    Context.prototype.methodWireBeans = function (beanInstances) {\n        var _this = this;\n        beanInstances.forEach(function (beanInstance) {\n            _this.forEachMetaDataInHierarchy(beanInstance, function (metaData, beanName) {\n                _.iterateObject(metaData.autowireMethods, function (methodName, wireParams) {\n                    // skip constructor, as this is dealt with elsewhere\n                    if (methodName === \"agConstructor\") {\n                        return;\n                    }\n                    var initParams = _this.getBeansForParameters(wireParams, beanName);\n                    beanInstance[methodName].apply(beanInstance, initParams);\n                });\n            });\n        });\n    };\n    Context.prototype.forEachMetaDataInHierarchy = function (beanInstance, callback) {\n        var prototype = Object.getPrototypeOf(beanInstance);\n        while (prototype != null) {\n            var constructor = prototype.constructor;\n            if (constructor.hasOwnProperty('__agBeanMetaData')) {\n                var metaData = constructor.__agBeanMetaData;\n                var beanName = this.getBeanName(constructor);\n                callback(metaData, beanName);\n            }\n            prototype = Object.getPrototypeOf(prototype);\n        }\n    };\n    Context.prototype.getBeanName = function (constructor) {\n        if (constructor.__agBeanMetaData && constructor.__agBeanMetaData.beanName) {\n            return constructor.__agBeanMetaData.beanName;\n        }\n        var constructorString = constructor.toString();\n        var beanName = constructorString.substring(9, constructorString.indexOf(\"(\"));\n        return beanName;\n    };\n    Context.prototype.getBeansForParameters = function (parameters, beanName) {\n        var _this = this;\n        var beansList = [];\n        if (parameters) {\n            _.iterateObject(parameters, function (paramIndex, otherBeanName) {\n                var otherBean = _this.lookupBeanInstance(beanName, otherBeanName);\n                beansList[Number(paramIndex)] = otherBean;\n            });\n        }\n        return beansList;\n    };\n    Context.prototype.lookupBeanInstance = function (wiringBean, beanName, optional) {\n        if (optional === void 0) { optional = false; }\n        if (beanName === \"context\") {\n            return this;\n        }\n        else if (this.contextParams.providedBeanInstances && this.contextParams.providedBeanInstances.hasOwnProperty(beanName)) {\n            return this.contextParams.providedBeanInstances[beanName];\n        }\n        else {\n            var beanEntry = this.beanWrappers[beanName];\n            if (beanEntry) {\n                return beanEntry.beanInstance;\n            }\n            if (!optional) {\n                console.error(\"ag-Grid: unable to find bean reference \" + beanName + \" while initialising \" + wiringBean);\n            }\n            return null;\n        }\n    };\n    Context.prototype.callLifeCycleMethods = function (beanInstances, lifeCycleMethod) {\n        var _this = this;\n        beanInstances.forEach(function (beanInstance) {\n            _this.forEachMetaDataInHierarchy(beanInstance, function (metaData) {\n                var methods = metaData[lifeCycleMethod];\n                if (!methods) {\n                    return;\n                }\n                methods.forEach(function (methodName) { return beanInstance[methodName](); });\n            });\n        });\n    };\n    Context.prototype.getBean = function (name) {\n        return this.lookupBeanInstance(\"getBean\", name, true);\n    };\n    Context.prototype.destroy = function () {\n        // should only be able to destroy once\n        if (this.destroyed) {\n            return;\n        }\n        this.logger.log(\">> Shutting down ag-Application Context\");\n        var beanInstances = this.getBeanInstances();\n        this.callLifeCycleMethods(beanInstances, 'preDestroyMethods');\n        this.contextParams.providedBeanInstances = null;\n        this.destroyed = true;\n        this.logger.log(\">> ag-Application Context shut down - component is dead\");\n    };\n    return Context;\n}());\n// taken from: http://stackoverflow.com/questions/3362471/how-can-i-call-a-javascript-constructor-using-call-or-apply\n// allows calling 'apply' on a constructor\nfunction applyToConstructor(constructor, argArray) {\n    var args = [null].concat(argArray);\n    var factoryFunction = constructor.bind.apply(constructor, args);\n    return new factoryFunction();\n}\nfunction PreConstruct(target, methodName, descriptor) {\n    var props = getOrCreateProps(target.constructor);\n    if (!props.preConstructMethods) {\n        props.preConstructMethods = [];\n    }\n    props.preConstructMethods.push(methodName);\n}\nfunction PostConstruct(target, methodName, descriptor) {\n    var props = getOrCreateProps(target.constructor);\n    if (!props.postConstructMethods) {\n        props.postConstructMethods = [];\n    }\n    props.postConstructMethods.push(methodName);\n}\nfunction PreDestroy(target, methodName, descriptor) {\n    var props = getOrCreateProps(target.constructor);\n    if (!props.preDestroyMethods) {\n        props.preDestroyMethods = [];\n    }\n    props.preDestroyMethods.push(methodName);\n}\nfunction Bean(beanName) {\n    return function (classConstructor) {\n        var props = getOrCreateProps(classConstructor);\n        props.beanName = beanName;\n    };\n}\nfunction Autowired(name) {\n    return function (target, propertyKey, descriptor) {\n        autowiredFunc(target, name, false, target, propertyKey, null);\n    };\n}\nfunction Optional(name) {\n    return function (target, propertyKey, descriptor) {\n        autowiredFunc(target, name, true, target, propertyKey, null);\n    };\n}\nfunction autowiredFunc(target, name, optional, classPrototype, methodOrAttributeName, index) {\n    if (name === null) {\n        console.error(\"ag-Grid: Autowired name should not be null\");\n        return;\n    }\n    if (typeof index === \"number\") {\n        console.error(\"ag-Grid: Autowired should be on an attribute\");\n        return;\n    }\n    // it's an attribute on the class\n    var props = getOrCreateProps(target.constructor);\n    if (!props.agClassAttributes) {\n        props.agClassAttributes = [];\n    }\n    props.agClassAttributes.push({\n        attributeName: methodOrAttributeName,\n        beanName: name,\n        optional: optional\n    });\n}\nfunction Qualifier(name) {\n    return function (classPrototype, methodOrAttributeName, index) {\n        var constructor = typeof classPrototype == \"function\" ? classPrototype : classPrototype.constructor;\n        var props;\n        if (typeof index === \"number\") {\n            // it's a parameter on a method\n            var methodName = void 0;\n            if (methodOrAttributeName) {\n                props = getOrCreateProps(constructor);\n                methodName = methodOrAttributeName;\n            }\n            else {\n                props = getOrCreateProps(constructor);\n                methodName = \"agConstructor\";\n            }\n            if (!props.autowireMethods) {\n                props.autowireMethods = {};\n            }\n            if (!props.autowireMethods[methodName]) {\n                props.autowireMethods[methodName] = {};\n            }\n            props.autowireMethods[methodName][index] = name;\n        }\n    };\n}\nfunction getOrCreateProps(target) {\n    if (!target.hasOwnProperty(\"__agBeanMetaData\")) {\n        target.__agBeanMetaData = {};\n    }\n    return target.__agBeanMetaData;\n}\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar EventService = /** @class */ (function () {\n    function EventService() {\n        this.allSyncListeners = new Map();\n        this.allAsyncListeners = new Map();\n        this.globalSyncListeners = new Set();\n        this.globalAsyncListeners = new Set();\n        this.asyncFunctionsQueue = [];\n        this.scheduled = false;\n        // using an object performs better than a Set for the number of different events we have\n        this.firedEvents = {};\n    }\n    EventService_1 = EventService;\n    // because this class is used both inside the context and outside the context, we do not\n    // use autowired attributes, as that would be confusing, as sometimes the attributes\n    // would be wired, and sometimes not.\n    //\n    // the global event servers used by ag-Grid is autowired by the context once, and this\n    // setBeans method gets called once.\n    //\n    // the times when this class is used outside of the context (eg RowNode has an instance of this\n    // class) then it is not a bean, and this setBeans method is not called.\n    EventService.prototype.setBeans = function (loggerFactory, gridOptionsWrapper, globalEventListener) {\n        if (globalEventListener === void 0) { globalEventListener = null; }\n        this.logger = loggerFactory.create('EventService');\n        if (globalEventListener) {\n            var async = gridOptionsWrapper.useAsyncEvents();\n            this.addGlobalListener(globalEventListener, async);\n        }\n    };\n    EventService.prototype.getListeners = function (eventType, async) {\n        var listenerMap = async ? this.allAsyncListeners : this.allSyncListeners;\n        var listeners = listenerMap.get(eventType);\n        if (!listeners) {\n            listeners = new Set();\n            listenerMap.set(eventType, listeners);\n        }\n        return listeners;\n    };\n    EventService.prototype.addEventListener = function (eventType, listener, async) {\n        var _this = this;\n        if (async === void 0) { async = false; }\n        this.getListeners(eventType, async).add(listener);\n        return function () { return _this.removeEventListener(eventType, listener, async); };\n    };\n    EventService.prototype.removeEventListener = function (eventType, listener, async) {\n        if (async === void 0) { async = false; }\n        this.getListeners(eventType, async).delete(listener);\n    };\n    // for some events, it's important that the model gets to hear about them before the view,\n    // as the model may need to update before the view works on the info. if you register\n    // via this method, you get notified before the view parts\n    EventService.prototype.addModalPriorityEventListener = function (eventType, listener, async) {\n        if (async === void 0) { async = false; }\n        return this.addEventListener(eventType + EventService_1.PRIORITY, listener, async);\n    };\n    EventService.prototype.addGlobalListener = function (listener, async) {\n        if (async === void 0) { async = false; }\n        (async ? this.globalAsyncListeners : this.globalSyncListeners).add(listener);\n    };\n    EventService.prototype.removeGlobalListener = function (listener, async) {\n        if (async === void 0) { async = false; }\n        (async ? this.globalAsyncListeners : this.globalSyncListeners).delete(listener);\n    };\n    EventService.prototype.dispatchEvent = function (event) {\n        this.dispatchToListeners(event, true);\n        this.dispatchToListeners(event, false);\n        this.firedEvents[event.type] = true;\n    };\n    EventService.prototype.dispatchEventOnce = function (event) {\n        if (!this.firedEvents[event.type]) {\n            this.dispatchEvent(event);\n        }\n    };\n    EventService.prototype.dispatchToListeners = function (event, async) {\n        var _this = this;\n        var eventType = event.type;\n        var processEventListeners = function (listeners) { return listeners.forEach(function (listener) {\n            if (async) {\n                _this.dispatchAsync(function () { return listener(event); });\n            }\n            else {\n                listener(event);\n            }\n        }); };\n        // PRIORITY events should be processed first\n        processEventListeners(this.getListeners(eventType + EventService_1.PRIORITY, async));\n        processEventListeners(this.getListeners(eventType, async));\n        var globalListeners = async ? this.globalAsyncListeners : this.globalSyncListeners;\n        globalListeners.forEach(function (listener) {\n            if (async) {\n                _this.dispatchAsync(function () { return listener(eventType, event); });\n            }\n            else {\n                listener(eventType, event);\n            }\n        });\n    };\n    // this gets called inside the grid's thread, for each event that it\n    // wants to set async. the grid then batches the events into one setTimeout()\n    // because setTimeout() is an expensive operation. ideally we would have\n    // each event in it's own setTimeout(), but we batch for performance.\n    EventService.prototype.dispatchAsync = function (func) {\n        // add to the queue for executing later in the next VM turn\n        this.asyncFunctionsQueue.push(func);\n        // check if timeout is already scheduled. the first time the grid calls\n        // this within it's thread turn, this should be false, so it will schedule\n        // the 'flush queue' method the first time it comes here. then the flag is\n        // set to 'true' so it will know it's already scheduled for subsequent calls.\n        if (!this.scheduled) {\n            // if not scheduled, schedule one\n            window.setTimeout(this.flushAsyncQueue.bind(this), 0);\n            // mark that it is scheduled\n            this.scheduled = true;\n        }\n    };\n    // this happens in the next VM turn only, and empties the queue of events\n    EventService.prototype.flushAsyncQueue = function () {\n        this.scheduled = false;\n        // we take a copy, because the event listener could be using\n        // the grid, which would cause more events, which would be potentially\n        // added to the queue, so safe to take a copy, the new events will\n        // get executed in a later VM turn rather than risk updating the\n        // queue as we are flushing it.\n        var queueCopy = this.asyncFunctionsQueue.slice();\n        this.asyncFunctionsQueue = [];\n        // execute the queue\n        queueCopy.forEach(function (func) { return func(); });\n    };\n    var EventService_1;\n    // this is an old idea niall had, should really take it out, was to do with ordering who gets to process\n    // events first, to give model and service objects preference over the view\n    EventService.PRIORITY = '-P1';\n    __decorate([\n        __param(0, Qualifier('loggerFactory')),\n        __param(1, Qualifier('gridOptionsWrapper')),\n        __param(2, Qualifier('globalEventListener'))\n    ], EventService.prototype, \"setBeans\", null);\n    EventService = EventService_1 = __decorate([\n        Bean('eventService')\n    ], EventService);\n    return EventService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n(function (ModuleNames) {\n    // when using modules, user references this\n    ModuleNames[\"CommunityCoreModule\"] = \"@ag-grid-community/core\";\n    // when not using modules, user references this\n    ModuleNames[\"CommunityAllModules\"] = \"@ag-grid-community/all\";\n    // community modules\n    ModuleNames[\"InfiniteRowModelModule\"] = \"@ag-grid-community/infinite-row-model\";\n    ModuleNames[\"ClientSideRowModelModule\"] = \"@ag-grid-community/client-side-row-model\";\n    ModuleNames[\"CsvExportModule\"] = \"@ag-grid-community/csv-export\";\n    ModuleNames[\"RowNodeCache\"] = \"@ag-grid-community/row-node-cache\";\n    // enterprise core - users never import on this, but other enterprise modules do\n    ModuleNames[\"EnterpriseCoreModule\"] = \"@ag-grid-enterprise/core\";\n    // when not using modules, user references this\n    ModuleNames[\"EnterpriseAllModules\"] = \"@ag-grid-enterprise/all\";\n    // enterprise modules\n    ModuleNames[\"RowGroupingModule\"] = \"@ag-grid-enterprise/row-grouping\";\n    ModuleNames[\"ColumnToolPanelModule\"] = \"@ag-grid-enterprise/column-tool-panel\";\n    ModuleNames[\"FiltersToolPanelModule\"] = \"@ag-grid-enterprise/filters-tool-panel\";\n    ModuleNames[\"MenuModule\"] = \"@ag-grid-enterprise/menu\";\n    ModuleNames[\"SetFilterModule\"] = \"@ag-grid-enterprise/set-filter\";\n    ModuleNames[\"StatusBarModule\"] = \"@ag-grid-enterprise/status-bar\";\n    ModuleNames[\"SideBarModule\"] = \"@ag-grid-enterprise/side-bar\";\n    ModuleNames[\"RangeSelectionModule\"] = \"@ag-grid-enterprise/range-selection\";\n    ModuleNames[\"MasterDetailModule\"] = \"@ag-grid-enterprise/master-detail\";\n    ModuleNames[\"RichSelectModule\"] = \"@ag-grid-enterprise/rich-select\";\n    ModuleNames[\"GridChartsModule\"] = \"@ag-grid-enterprise/charts\";\n    ModuleNames[\"ViewportRowModelModule\"] = \"@ag-grid-enterprise/viewport-row-model\";\n    ModuleNames[\"ServerSideRowModelModule\"] = \"@ag-grid-enterprise/server-side-row-model\";\n    ModuleNames[\"ExcelExportModule\"] = \"@ag-grid-enterprise/excel-export\";\n    ModuleNames[\"ClipboardModule\"] = \"@ag-grid-enterprise/clipboard\";\n    ModuleNames[\"DateTimeCellEditorModule\"] = \"@ag-grid-enterprise/date-time-cell-editor\";\n    // framework wrappers currently don't provide beans, comps etc, so no need to be modules,\n    // however i argue they should be as in theory they 'could' provide beans etc\n    ModuleNames[\"AngularModule\"] = \"@ag-grid-community/angular\";\n    ModuleNames[\"ReactModule\"] = \"@ag-grid-community/react\";\n    ModuleNames[\"VueModule\"] = \"@ag-grid-community/vue\";\n    ModuleNames[\"PolymerModule\"] = \"@ag-grid-community/polymer\";\n    // and then this, which is definitely not a grid module, as it should not have any dependency\n    // on the grid (ie shouldn't even reference the Module interface)\n    // ChartsModule = \"@ag-grid-community/charts-core\",\n})(exports.ModuleNames || (exports.ModuleNames = {}));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar ModuleRegistry = /** @class */ (function () {\n    function ModuleRegistry() {\n    }\n    ModuleRegistry.register = function (module, moduleBased) {\n        if (moduleBased === void 0) { moduleBased = true; }\n        ModuleRegistry.modulesMap[module.moduleName] = module;\n        if (ModuleRegistry.moduleBased === undefined) {\n            ModuleRegistry.moduleBased = moduleBased;\n        }\n        else {\n            if (ModuleRegistry.moduleBased !== moduleBased) {\n                _.doOnce(function () {\n                    console.warn(\"ag-Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms.\");\n                    console.warn('Please see https://www.ag-grid.com/javascript-grid-packages-modules/ for more information.');\n                }, 'ModulePackageCheck');\n            }\n        }\n    };\n    // noinspection JSUnusedGlobalSymbols\n    ModuleRegistry.registerModules = function (modules, moduleBased) {\n        if (moduleBased === void 0) { moduleBased = true; }\n        if (!modules) {\n            return;\n        }\n        modules.forEach(function (module) { return ModuleRegistry.register(module, moduleBased); });\n    };\n    ModuleRegistry.assertRegistered = function (moduleName, reason) {\n        if (this.isRegistered(moduleName)) {\n            return true;\n        }\n        var warningKey = reason + moduleName;\n        var warningMessage = \"ag-Grid: unable to use \" + reason + \" as module \" + moduleName + \" is not present. Please see: https://www.ag-grid.com/javascript-grid-modules/\";\n        _.doOnce(function () {\n            console.warn(warningMessage);\n        }, warningKey);\n        return false;\n    };\n    ModuleRegistry.isRegistered = function (moduleName) {\n        return !!ModuleRegistry.modulesMap[moduleName];\n    };\n    ModuleRegistry.getRegisteredModules = function () {\n        return _.values(ModuleRegistry.modulesMap);\n    };\n    ModuleRegistry.isPackageBased = function () {\n        return !ModuleRegistry.moduleBased;\n    };\n    // having in a map a) removes duplicates and b) allows fast lookup\n    ModuleRegistry.modulesMap = {};\n    return ModuleRegistry;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// Wrapper around a user provide column definition. The grid treats the column definition as ready only.\n// This class contains all the runtime information about a column, plus some logic (the definition has no logic).\n// This class implements both interfaces ColumnGroupChild and OriginalColumnGroupChild as the class can\n// appear as a child of either the original tree or the displayed tree. However the relevant group classes\n// for each type only implements one, as each group can only appear in it's associated tree (eg OriginalColumnGroup\n// can only appear in OriginalColumn tree).\nvar Column = /** @class */ (function () {\n    function Column(colDef, userProvidedColDef, colId, primary) {\n        this.moving = false;\n        this.menuVisible = false;\n        this.filterActive = false;\n        this.eventService = new EventService();\n        this.rowGroupActive = false;\n        this.pivotActive = false;\n        this.aggregationActive = false;\n        this.colDef = colDef;\n        this.userProvidedColDef = userProvidedColDef;\n        this.visible = !colDef.hide;\n        this.sort = colDef.sort;\n        this.sortedAt = colDef.sortedAt;\n        this.colId = colId;\n        this.primary = primary;\n    }\n    // gets called when user provides an alternative colDef, eg\n    Column.prototype.setColDef = function (colDef, userProvidedColDef) {\n        this.colDef = colDef;\n        this.userProvidedColDef = userProvidedColDef;\n    };\n    Column.prototype.getUserProvidedColDef = function () {\n        return this.userProvidedColDef;\n    };\n    Column.prototype.setParent = function (parent) {\n        this.parent = parent;\n    };\n    Column.prototype.getParent = function () {\n        return this.parent;\n    };\n    Column.prototype.setOriginalParent = function (originalParent) {\n        this.originalParent = originalParent;\n    };\n    Column.prototype.getOriginalParent = function () {\n        return this.originalParent;\n    };\n    // this is done after constructor as it uses gridOptionsWrapper\n    Column.prototype.initialise = function () {\n        this.setPinned(this.colDef.pinned);\n        var minColWidth = this.gridOptionsWrapper.getMinColWidth();\n        var maxColWidth = this.gridOptionsWrapper.getMaxColWidth();\n        if (this.colDef.minWidth) {\n            this.minWidth = this.colDef.minWidth;\n        }\n        else {\n            this.minWidth = minColWidth;\n        }\n        if (this.colDef.maxWidth) {\n            this.maxWidth = this.colDef.maxWidth;\n        }\n        else {\n            this.maxWidth = maxColWidth;\n        }\n        if (this.colDef.flex) {\n            this.flex = this.colDef.flex;\n        }\n        this.actualWidth = this.columnUtils.calculateColInitialWidth(this.colDef);\n        var suppressDotNotation = this.gridOptionsWrapper.isSuppressFieldDotNotation();\n        this.fieldContainsDots = _.exists(this.colDef.field) && this.colDef.field.indexOf('.') >= 0 && !suppressDotNotation;\n        this.tooltipFieldContainsDots = _.exists(this.colDef.tooltipField) && this.colDef.tooltipField.indexOf('.') >= 0 && !suppressDotNotation;\n        this.validate();\n    };\n    Column.prototype.isEmptyGroup = function () {\n        return false;\n    };\n    Column.prototype.isRowGroupDisplayed = function (colId) {\n        if (_.missing(this.colDef) || _.missing(this.colDef.showRowGroup)) {\n            return false;\n        }\n        var showingAllGroups = this.colDef.showRowGroup === true;\n        var showingThisGroup = this.colDef.showRowGroup === colId;\n        return showingAllGroups || showingThisGroup;\n    };\n    Column.prototype.getUniqueId = function () {\n        return this.getId();\n    };\n    Column.prototype.isPrimary = function () {\n        return this.primary;\n    };\n    Column.prototype.isFilterAllowed = function () {\n        // filter defined means it's a string, class or true.\n        // if its false, null or undefined then it's false.\n        var filterDefined = !!this.colDef.filter || !!this.colDef.filterFramework;\n        return this.primary && filterDefined;\n    };\n    Column.prototype.isFieldContainsDots = function () {\n        return this.fieldContainsDots;\n    };\n    Column.prototype.isTooltipFieldContainsDots = function () {\n        return this.tooltipFieldContainsDots;\n    };\n    Column.prototype.validate = function () {\n        var colDefAny = this.colDef;\n        function warnOnce(msg, key, obj) {\n            _.doOnce(function () {\n                if (obj) {\n                    console.warn(msg, obj);\n                }\n                else {\n                    _.doOnce(function () { return console.warn(msg); }, key);\n                }\n            }, key);\n        }\n        if (!ModuleRegistry.isRegistered(exports.ModuleNames.RowGroupingModule)) {\n            var rowGroupingItems = ['enableRowGroup', 'rowGroup', 'rowGroupIndex', 'enablePivot', 'enableValue', 'pivot', 'pivotIndex', 'aggFunc'];\n            rowGroupingItems.forEach(function (item) {\n                if (_.exists(colDefAny[item])) {\n                    if (ModuleRegistry.isPackageBased()) {\n                        warnOnce(\"ag-Grid: \" + item + \" is only valid in ag-grid-enterprise, your column definition should not have \" + item, 'ColumnRowGroupingMissing' + item);\n                    }\n                    else {\n                        warnOnce(\"ag-Grid: \" + item + \" is only valid with ag-Grid Enterprise Module \" + exports.ModuleNames.RowGroupingModule + \" - your column definition should not have \" + item, 'ColumnRowGroupingMissing' + item);\n                    }\n                }\n            });\n        }\n        if (!ModuleRegistry.isRegistered(exports.ModuleNames.RichSelectModule)) {\n            if (this.colDef.cellEditor === 'agRichSelect' || this.colDef.cellEditor === 'agRichSelectCellEditor') {\n                if (ModuleRegistry.isPackageBased()) {\n                    warnOnce(\"ag-Grid: \" + this.colDef.cellEditor + \" can only be used with ag-grid-enterprise\", 'ColumnRichSelectMissing');\n                }\n                else {\n                    warnOnce(\"ag-Grid: \" + this.colDef.cellEditor + \" can only be used with ag-Grid Enterprise Module \" + exports.ModuleNames.RichSelectModule, 'ColumnRichSelectMissing');\n                }\n            }\n        }\n        if (!ModuleRegistry.isRegistered(exports.ModuleNames.DateTimeCellEditorModule)) {\n            if (this.colDef.cellEditor === 'agRichSelect' || this.colDef.cellEditor === 'agDateTimeCellEditor') {\n                if (ModuleRegistry.isPackageBased()) {\n                    warnOnce(\"ag-Grid: \" + this.colDef.cellEditor + \" can only be used with ag-grid-enterprise\", 'ColumnDateTimeMissing');\n                }\n                else {\n                    warnOnce(\"ag-Grid: \" + this.colDef.cellEditor + \" can only be used with ag-Grid Enterprise Module \" + exports.ModuleNames.DateTimeCellEditorModule, 'ColumnDateTimeMissing');\n                }\n            }\n        }\n        if (this.gridOptionsWrapper.isTreeData()) {\n            var itemsNotAllowedWithTreeData = ['rowGroup', 'rowGroupIndex', 'pivot', 'pivotIndex'];\n            itemsNotAllowedWithTreeData.forEach(function (item) {\n                if (_.exists(colDefAny[item])) {\n                    warnOnce(\"ag-Grid: \" + item + \" is not possible when doing tree data, your column definition should not have \" + item, 'TreeDataCannotRowGroup');\n                }\n            });\n        }\n        if (_.exists(this.colDef.width) && typeof this.colDef.width !== 'number') {\n            warnOnce('ag-Grid: colDef.width should be a number, not ' + typeof this.colDef.width, 'ColumnCheck_asdfawef');\n        }\n        if (_.get(this, 'colDef.cellRendererParams.restrictToOneGroup', null)) {\n            warnOnce('ag-Grid: Since ag-grid 11.0.0 cellRendererParams.restrictToOneGroup is deprecated. You should use showRowGroup', 'ColumnCheck_sksldjf');\n        }\n        if (_.get(this, 'colDef.cellRendererParams.keyMap', null)) {\n            warnOnce('ag-Grid: Since ag-grid 11.0.0 cellRendererParams.keyMap is deprecated. You should use colDef.keyCreator', 'ColumnCheck_ieiruhgdf');\n        }\n        if (_.get(this, 'colDef.cellRendererParams.keyMap', null)) {\n            warnOnce('ag-Grid: Since ag-grid 11.0.0 cellRendererParams.keyMap is deprecated. You should use colDef.keyCreator', 'ColumnCheck_uitolghj');\n        }\n        if (colDefAny.floatingCellRenderer) {\n            warnOnce('ag-Grid: since v11, floatingCellRenderer is now pinnedRowCellRenderer', 'ColumnCheck_soihwewe');\n            this.colDef.pinnedRowCellRenderer = colDefAny.floatingCellRenderer;\n        }\n        if (colDefAny.floatingRendererFramework) {\n            warnOnce('ag-Grid: since v11, floatingRendererFramework is now pinnedRowCellRendererFramework', 'ColumnCheck_zdkiouhwer');\n            this.colDef.pinnedRowCellRendererFramework = colDefAny.floatingRendererFramework;\n        }\n        if (colDefAny.floatingRendererParams) {\n            console.warn('ag-Grid: since v11, floatingRendererParams is now pinnedRowCellRendererParams', 'ColumnCheck_retiuhjs');\n            this.colDef.pinnedRowCellRendererParams = colDefAny.floatingRendererParams;\n        }\n        if (colDefAny.floatingValueFormatter) {\n            warnOnce('ag-Grid: since v11, floatingValueFormatter is now pinnedRowValueFormatter', 'ColumnCheck_qwroeihjdf');\n            this.colDef.pinnedRowValueFormatter = colDefAny.floatingValueFormatter;\n        }\n        if (colDefAny.cellFormatter) {\n            warnOnce('ag-Grid: since v12, cellFormatter is now valueFormatter', 'ColumnCheck_eoireknml');\n            if (_.missing(this.colDef.valueFormatter)) {\n                this.colDef.valueFormatter = colDefAny.cellFormatter;\n            }\n        }\n        if (colDefAny.headerCellTemplate) {\n            warnOnce('ag-Grid: since v15, headerCellTemplate is gone, use header component instead.', 'ColumnCheck_eroihxcm');\n        }\n        if (colDefAny.headerCellRenderer) {\n            warnOnce('ag-Grid: since v15, headerCellRenderer is gone, use header component instead.', 'ColumnCheck_terteuh');\n        }\n        if (colDefAny.volatile) {\n            warnOnce('ag-Grid: since v16, colDef.volatile is gone, please check refresh docs on how to refresh specific cells.', 'ColumnCheck_weoihjxcv');\n        }\n        if (colDefAny.suppressSorting) {\n            warnOnce(\"ag-Grid: since v20, colDef.suppressSorting is gone, instead use colDef.sortable=false.\", 'ColumnCheck_43ljrer', this.colDef);\n            this.colDef.sortable = false;\n        }\n        if (colDefAny.suppressFilter) {\n            warnOnce(\"ag-Grid: since v20, colDef.suppressFilter is gone, instead use colDef.filter=false.\", 'ColumnCheck_erlkhfdm', this.colDef);\n            this.colDef.filter = false;\n        }\n        if (colDefAny.suppressResize) {\n            warnOnce(\"ag-Grid: since v20, colDef.suppressResize is gone, instead use colDef.resizable=false.\", 'ColumnCheck_weoihjxcv', this.colDef);\n            this.colDef.resizable = false;\n        }\n        if (colDefAny.tooltip) {\n            warnOnce(\"ag-Grid: since v20.1, colDef.tooltip is gone, instead use colDef.tooltipValueGetter.\", 'ColumnCheck_adslknjwef', this.colDef);\n            this.colDef.tooltipValueGetter = colDefAny.tooltip;\n        }\n        if (colDefAny.suppressToolPanel) {\n            warnOnce(\"ag-Grid: since v22, colDef.suppressToolPanel is gone, instead use suppressColumnsToolPanel / suppressFiltersToolPanel.\", 'ColumnCheck_weihjlsjkdf', this.colDef);\n            this.colDef.suppressColumnsToolPanel = true;\n        }\n    };\n    Column.prototype.addEventListener = function (eventType, listener) {\n        this.eventService.addEventListener(eventType, listener);\n    };\n    Column.prototype.removeEventListener = function (eventType, listener) {\n        this.eventService.removeEventListener(eventType, listener);\n    };\n    Column.prototype.createIsColumnFuncParams = function (rowNode) {\n        return {\n            node: rowNode,\n            data: rowNode.data,\n            column: this,\n            colDef: this.colDef,\n            context: this.gridOptionsWrapper.getContext(),\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi()\n        };\n    };\n    Column.prototype.isSuppressNavigable = function (rowNode) {\n        // if boolean set, then just use it\n        if (typeof this.colDef.suppressNavigable === 'boolean') {\n            return this.colDef.suppressNavigable;\n        }\n        // if function, then call the function to find out\n        if (typeof this.colDef.suppressNavigable === 'function') {\n            var params = this.createIsColumnFuncParams(rowNode);\n            var userFunc = this.colDef.suppressNavigable;\n            return userFunc(params);\n        }\n        return false;\n    };\n    Column.prototype.isCellEditable = function (rowNode) {\n        // only allow editing of groups if the user has this option enabled\n        if (rowNode.group && !this.gridOptionsWrapper.isEnableGroupEdit()) {\n            return false;\n        }\n        return this.isColumnFunc(rowNode, this.colDef.editable);\n    };\n    Column.prototype.isRowDrag = function (rowNode) {\n        return this.isColumnFunc(rowNode, this.colDef.rowDrag);\n    };\n    Column.prototype.isDndSource = function (rowNode) {\n        return this.isColumnFunc(rowNode, this.colDef.dndSource);\n    };\n    Column.prototype.isCellCheckboxSelection = function (rowNode) {\n        return this.isColumnFunc(rowNode, this.colDef.checkboxSelection);\n    };\n    Column.prototype.isSuppressPaste = function (rowNode) {\n        return this.isColumnFunc(rowNode, this.colDef ? this.colDef.suppressPaste : null);\n    };\n    Column.prototype.isResizable = function () {\n        return this.colDef.resizable === true;\n    };\n    Column.prototype.isColumnFunc = function (rowNode, value) {\n        // if boolean set, then just use it\n        if (typeof value === 'boolean') {\n            return value;\n        }\n        // if function, then call the function to find out\n        if (typeof value === 'function') {\n            var params = this.createIsColumnFuncParams(rowNode);\n            var editableFunc = value;\n            return editableFunc(params);\n        }\n        return false;\n    };\n    Column.prototype.setMoving = function (moving, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.moving = moving;\n        this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_MOVING_CHANGED, source));\n    };\n    Column.prototype.createColumnEvent = function (type, source) {\n        return {\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            type: type,\n            column: this,\n            columns: [this],\n            source: source\n        };\n    };\n    Column.prototype.isMoving = function () {\n        return this.moving;\n    };\n    Column.prototype.getSort = function () {\n        return this.sort;\n    };\n    Column.prototype.setSort = function (sort, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.sort !== sort) {\n            this.sort = sort;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_SORT_CHANGED, source));\n        }\n    };\n    Column.prototype.setMenuVisible = function (visible, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.menuVisible !== visible) {\n            this.menuVisible = visible;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_MENU_VISIBLE_CHANGED, source));\n        }\n    };\n    Column.prototype.isMenuVisible = function () {\n        return this.menuVisible;\n    };\n    Column.prototype.isSortAscending = function () {\n        return this.sort === Constants.SORT_ASC;\n    };\n    Column.prototype.isSortDescending = function () {\n        return this.sort === Constants.SORT_DESC;\n    };\n    Column.prototype.isSortNone = function () {\n        return _.missing(this.sort);\n    };\n    Column.prototype.isSorting = function () {\n        return _.exists(this.sort);\n    };\n    Column.prototype.getSortedAt = function () {\n        return this.sortedAt;\n    };\n    Column.prototype.setSortedAt = function (sortedAt) {\n        this.sortedAt = sortedAt;\n    };\n    Column.prototype.setAggFunc = function (aggFunc) {\n        this.aggFunc = aggFunc;\n    };\n    Column.prototype.getAggFunc = function () {\n        return this.aggFunc;\n    };\n    Column.prototype.getLeft = function () {\n        return this.left;\n    };\n    Column.prototype.getOldLeft = function () {\n        return this.oldLeft;\n    };\n    Column.prototype.getRight = function () {\n        return this.left + this.actualWidth;\n    };\n    Column.prototype.setLeft = function (left, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.oldLeft = this.left;\n        if (this.left !== left) {\n            this.left = left;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_LEFT_CHANGED, source));\n        }\n    };\n    Column.prototype.isFilterActive = function () {\n        return this.filterActive;\n    };\n    // additionalEventAttributes is used by provided simple floating filter, so it can add 'floatingFilter=true' to the event\n    Column.prototype.setFilterActive = function (active, source, additionalEventAttributes) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.filterActive !== active) {\n            this.filterActive = active;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_FILTER_ACTIVE_CHANGED, source));\n        }\n        var filterChangedEvent = this.createColumnEvent(Column.EVENT_FILTER_CHANGED, source);\n        if (additionalEventAttributes) {\n            _.mergeDeep(filterChangedEvent, additionalEventAttributes);\n        }\n        this.eventService.dispatchEvent(filterChangedEvent);\n    };\n    Column.prototype.setPinned = function (pinned) {\n        if (pinned === true || pinned === Constants.PINNED_LEFT) {\n            this.pinned = Constants.PINNED_LEFT;\n        }\n        else if (pinned === Constants.PINNED_RIGHT) {\n            this.pinned = Constants.PINNED_RIGHT;\n        }\n        else {\n            this.pinned = null;\n        }\n    };\n    Column.prototype.setFirstRightPinned = function (firstRightPinned, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.firstRightPinned !== firstRightPinned) {\n            this.firstRightPinned = firstRightPinned;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_FIRST_RIGHT_PINNED_CHANGED, source));\n        }\n    };\n    Column.prototype.setLastLeftPinned = function (lastLeftPinned, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.lastLeftPinned !== lastLeftPinned) {\n            this.lastLeftPinned = lastLeftPinned;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_LAST_LEFT_PINNED_CHANGED, source));\n        }\n    };\n    Column.prototype.isFirstRightPinned = function () {\n        return this.firstRightPinned;\n    };\n    Column.prototype.isLastLeftPinned = function () {\n        return this.lastLeftPinned;\n    };\n    Column.prototype.isPinned = function () {\n        return this.pinned === Constants.PINNED_LEFT || this.pinned === Constants.PINNED_RIGHT;\n    };\n    Column.prototype.isPinnedLeft = function () {\n        return this.pinned === Constants.PINNED_LEFT;\n    };\n    Column.prototype.isPinnedRight = function () {\n        return this.pinned === Constants.PINNED_RIGHT;\n    };\n    Column.prototype.getPinned = function () {\n        return this.pinned;\n    };\n    Column.prototype.setVisible = function (visible, source) {\n        if (source === void 0) { source = \"api\"; }\n        var newValue = visible === true;\n        if (this.visible !== newValue) {\n            this.visible = newValue;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_VISIBLE_CHANGED, source));\n        }\n    };\n    Column.prototype.isVisible = function () {\n        return this.visible;\n    };\n    Column.prototype.getColDef = function () {\n        return this.colDef;\n    };\n    Column.prototype.getColumnGroupShow = function () {\n        return this.colDef.columnGroupShow;\n    };\n    Column.prototype.getColId = function () {\n        return this.colId;\n    };\n    Column.prototype.getId = function () {\n        return this.getColId();\n    };\n    Column.prototype.getDefinition = function () {\n        return this.colDef;\n    };\n    Column.prototype.getActualWidth = function () {\n        return this.actualWidth;\n    };\n    Column.prototype.createBaseColDefParams = function (rowNode) {\n        var params = {\n            node: rowNode,\n            data: rowNode.data,\n            colDef: this.colDef,\n            column: this,\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            context: this.gridOptionsWrapper.getContext()\n        };\n        return params;\n    };\n    Column.prototype.getColSpan = function (rowNode) {\n        if (_.missing(this.colDef.colSpan)) {\n            return 1;\n        }\n        var params = this.createBaseColDefParams(rowNode);\n        var colSpan = this.colDef.colSpan(params);\n        // colSpan must be number equal to or greater than 1\n        return Math.max(colSpan, 1);\n    };\n    Column.prototype.getRowSpan = function (rowNode) {\n        if (_.missing(this.colDef.rowSpan)) {\n            return 1;\n        }\n        var params = this.createBaseColDefParams(rowNode);\n        var rowSpan = this.colDef.rowSpan(params);\n        // rowSpan must be number equal to or greater than 1\n        return Math.max(rowSpan, 1);\n    };\n    Column.prototype.setActualWidth = function (actualWidth, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.minWidth != null) {\n            actualWidth = Math.max(actualWidth, this.minWidth);\n        }\n        if (this.maxWidth != null) {\n            actualWidth = Math.min(actualWidth, this.maxWidth);\n        }\n        if (this.actualWidth !== actualWidth) {\n            // disable flex for this column if it was manually resized.\n            if (this.flex && source !== 'flex') {\n                this.flex = 0;\n            }\n            this.actualWidth = actualWidth;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_WIDTH_CHANGED, source));\n        }\n    };\n    Column.prototype.isGreaterThanMax = function (width) {\n        if (this.maxWidth != null) {\n            return width > this.maxWidth;\n        }\n        return false;\n    };\n    Column.prototype.getMinWidth = function () {\n        return this.minWidth;\n    };\n    Column.prototype.getMaxWidth = function () {\n        return this.maxWidth;\n    };\n    Column.prototype.getFlex = function () {\n        return this.flex || 0;\n    };\n    // this method should only be used by the columnController to\n    // change flex when required by the setColumnState method.\n    Column.prototype.setFlex = function (flex) {\n        if (this.flex !== flex) {\n            this.flex = flex;\n        }\n    };\n    Column.prototype.setMinimum = function (source) {\n        if (source === void 0) { source = \"api\"; }\n        this.setActualWidth(this.minWidth, source);\n    };\n    Column.prototype.setRowGroupActive = function (rowGroup, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.rowGroupActive !== rowGroup) {\n            this.rowGroupActive = rowGroup;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_ROW_GROUP_CHANGED, source));\n        }\n    };\n    Column.prototype.isRowGroupActive = function () {\n        return this.rowGroupActive;\n    };\n    Column.prototype.setPivotActive = function (pivot, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.pivotActive !== pivot) {\n            this.pivotActive = pivot;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_PIVOT_CHANGED, source));\n        }\n    };\n    Column.prototype.isPivotActive = function () {\n        return this.pivotActive;\n    };\n    Column.prototype.isAnyFunctionActive = function () {\n        return this.isPivotActive() || this.isRowGroupActive() || this.isValueActive();\n    };\n    Column.prototype.isAnyFunctionAllowed = function () {\n        return this.isAllowPivot() || this.isAllowRowGroup() || this.isAllowValue();\n    };\n    Column.prototype.setValueActive = function (value, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (this.aggregationActive !== value) {\n            this.aggregationActive = value;\n            this.eventService.dispatchEvent(this.createColumnEvent(Column.EVENT_VALUE_CHANGED, source));\n        }\n    };\n    Column.prototype.isValueActive = function () {\n        return this.aggregationActive;\n    };\n    Column.prototype.isAllowPivot = function () {\n        return this.colDef.enablePivot === true;\n    };\n    Column.prototype.isAllowValue = function () {\n        return this.colDef.enableValue === true;\n    };\n    Column.prototype.isAllowRowGroup = function () {\n        return this.colDef.enableRowGroup === true;\n    };\n    Column.prototype.getMenuTabs = function (defaultValues) {\n        var menuTabs = this.getColDef().menuTabs;\n        if (menuTabs == null) {\n            menuTabs = defaultValues;\n        }\n        return menuTabs;\n    };\n    // this used to be needed, as previous version of ag-grid had lockPosition as column state,\n    // so couldn't depend on colDef version.\n    Column.prototype.isLockPosition = function () {\n        console.warn('ag-Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead.');\n        return this.colDef ? !!this.colDef.lockPosition : false;\n    };\n    // this used to be needed, as previous version of ag-grid had lockVisible as column state,\n    // so couldn't depend on colDef version.\n    Column.prototype.isLockVisible = function () {\n        console.warn('ag-Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead.');\n        return this.colDef ? !!this.colDef.lockVisible : false;\n    };\n    // this used to be needed, as previous version of ag-grid had lockPinned as column state,\n    // so couldn't depend on colDef version.\n    Column.prototype.isLockPinned = function () {\n        console.warn('ag-Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead.');\n        return this.colDef ? !!this.colDef.lockPinned : false;\n    };\n    // + renderedHeaderCell - for making header cell transparent when moving\n    Column.EVENT_MOVING_CHANGED = 'movingChanged';\n    // + renderedCell - changing left position\n    Column.EVENT_LEFT_CHANGED = 'leftChanged';\n    // + renderedCell - changing width\n    Column.EVENT_WIDTH_CHANGED = 'widthChanged';\n    // + renderedCell - for changing pinned classes\n    Column.EVENT_LAST_LEFT_PINNED_CHANGED = 'lastLeftPinnedChanged';\n    Column.EVENT_FIRST_RIGHT_PINNED_CHANGED = 'firstRightPinnedChanged';\n    // + renderedColumn - for changing visibility icon\n    Column.EVENT_VISIBLE_CHANGED = 'visibleChanged';\n    // + every time the filter changes, used in the floating filters\n    Column.EVENT_FILTER_CHANGED = 'filterChanged';\n    // + renderedHeaderCell - marks the header with filter icon\n    Column.EVENT_FILTER_ACTIVE_CHANGED = 'filterActiveChanged';\n    // + renderedHeaderCell - marks the header with sort icon\n    Column.EVENT_SORT_CHANGED = 'sortChanged';\n    Column.EVENT_MENU_VISIBLE_CHANGED = 'menuVisibleChanged';\n    // + toolpanel, for gui updates\n    Column.EVENT_ROW_GROUP_CHANGED = 'columnRowGroupChanged';\n    // + toolpanel, for gui updates\n    Column.EVENT_PIVOT_CHANGED = 'columnPivotChanged';\n    // + toolpanel, for gui updates\n    Column.EVENT_VALUE_CHANGED = 'columnValueChanged';\n    __decorate$1([\n        Autowired('gridOptionsWrapper')\n    ], Column.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1([\n        Autowired('columnUtils')\n    ], Column.prototype, \"columnUtils\", void 0);\n    __decorate$1([\n        Autowired('columnApi')\n    ], Column.prototype, \"columnApi\", void 0);\n    __decorate$1([\n        Autowired('gridApi')\n    ], Column.prototype, \"gridApi\", void 0);\n    __decorate$1([\n        Autowired('context')\n    ], Column.prototype, \"context\", void 0);\n    __decorate$1([\n        PostConstruct\n    ], Column.prototype, \"initialise\", null);\n    return Column;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ColumnGroup = /** @class */ (function () {\n    function ColumnGroup(originalColumnGroup, groupId, instanceId, pinned) {\n        // depends on the open/closed state of the group, only displaying columns are stored here\n        this.displayedChildren = [];\n        this.localEventService = new EventService();\n        this.groupId = groupId;\n        this.instanceId = instanceId;\n        this.originalColumnGroup = originalColumnGroup;\n        this.pinned = pinned;\n    }\n    // this is static, a it is used outside of this class\n    ColumnGroup.createUniqueId = function (groupId, instanceId) {\n        return groupId + '_' + instanceId;\n    };\n    // as the user is adding and removing columns, the groups are recalculated.\n    // this reset clears out all children, ready for children to be added again\n    ColumnGroup.prototype.reset = function () {\n        this.parent = null;\n        this.children = null;\n        this.displayedChildren = null;\n    };\n    ColumnGroup.prototype.getParent = function () {\n        return this.parent;\n    };\n    ColumnGroup.prototype.setParent = function (parent) {\n        this.parent = parent;\n    };\n    ColumnGroup.prototype.getUniqueId = function () {\n        return ColumnGroup.createUniqueId(this.groupId, this.instanceId);\n    };\n    ColumnGroup.prototype.isEmptyGroup = function () {\n        return this.displayedChildren.length === 0;\n    };\n    ColumnGroup.prototype.isMoving = function () {\n        var allLeafColumns = this.getOriginalColumnGroup().getLeafColumns();\n        if (!allLeafColumns || allLeafColumns.length === 0) {\n            return false;\n        }\n        return allLeafColumns.every(function (col) { return col.isMoving(); });\n    };\n    ColumnGroup.prototype.checkLeft = function () {\n        // first get all children to setLeft, as it impacts our decision below\n        this.displayedChildren.forEach(function (child) {\n            if (child instanceof ColumnGroup) {\n                child.checkLeft();\n            }\n        });\n        // set our left based on first displayed column\n        if (this.displayedChildren.length > 0) {\n            if (this.gridOptionsWrapper.isEnableRtl()) {\n                var lastChild = _.last(this.displayedChildren);\n                var lastChildLeft = lastChild.getLeft();\n                this.setLeft(lastChildLeft);\n            }\n            else {\n                var firstChildLeft = this.displayedChildren[0].getLeft();\n                this.setLeft(firstChildLeft);\n            }\n        }\n        else {\n            // this should never happen, as if we have no displayed columns, then\n            // this groups should not even exist.\n            this.setLeft(null);\n        }\n    };\n    ColumnGroup.prototype.getLeft = function () {\n        return this.left;\n    };\n    ColumnGroup.prototype.getOldLeft = function () {\n        return this.oldLeft;\n    };\n    ColumnGroup.prototype.setLeft = function (left) {\n        this.oldLeft = left;\n        if (this.left !== left) {\n            this.left = left;\n            this.localEventService.dispatchEvent(this.createAgEvent(ColumnGroup.EVENT_LEFT_CHANGED));\n        }\n    };\n    ColumnGroup.prototype.getPinned = function () {\n        return this.pinned;\n    };\n    ColumnGroup.prototype.createAgEvent = function (type) {\n        return { type: type };\n    };\n    ColumnGroup.prototype.addEventListener = function (eventType, listener) {\n        this.localEventService.addEventListener(eventType, listener);\n    };\n    ColumnGroup.prototype.removeEventListener = function (eventType, listener) {\n        this.localEventService.removeEventListener(eventType, listener);\n    };\n    ColumnGroup.prototype.getGroupId = function () {\n        return this.groupId;\n    };\n    ColumnGroup.prototype.getInstanceId = function () {\n        return this.instanceId;\n    };\n    ColumnGroup.prototype.isChildInThisGroupDeepSearch = function (wantedChild) {\n        var result = false;\n        this.children.forEach(function (foundChild) {\n            if (wantedChild === foundChild) {\n                result = true;\n            }\n            if (foundChild instanceof ColumnGroup) {\n                if (foundChild.isChildInThisGroupDeepSearch(wantedChild)) {\n                    result = true;\n                }\n            }\n        });\n        return result;\n    };\n    ColumnGroup.prototype.getActualWidth = function () {\n        var groupActualWidth = 0;\n        if (this.displayedChildren) {\n            this.displayedChildren.forEach(function (child) {\n                groupActualWidth += child.getActualWidth();\n            });\n        }\n        return groupActualWidth;\n    };\n    ColumnGroup.prototype.isResizable = function () {\n        if (!this.displayedChildren) {\n            return false;\n        }\n        // if at least one child is resizable, then the group is resizable\n        var result = false;\n        this.displayedChildren.forEach(function (child) {\n            if (child.isResizable()) {\n                result = true;\n            }\n        });\n        return result;\n    };\n    ColumnGroup.prototype.getMinWidth = function () {\n        var result = 0;\n        this.displayedChildren.forEach(function (groupChild) {\n            result += groupChild.getMinWidth();\n        });\n        return result;\n    };\n    ColumnGroup.prototype.addChild = function (child) {\n        if (!this.children) {\n            this.children = [];\n        }\n        this.children.push(child);\n    };\n    ColumnGroup.prototype.getDisplayedChildren = function () {\n        return this.displayedChildren;\n    };\n    ColumnGroup.prototype.getLeafColumns = function () {\n        var result = [];\n        this.addLeafColumns(result);\n        return result;\n    };\n    ColumnGroup.prototype.getDisplayedLeafColumns = function () {\n        var result = [];\n        this.addDisplayedLeafColumns(result);\n        return result;\n    };\n    // why two methods here doing the same thing?\n    ColumnGroup.prototype.getDefinition = function () {\n        return this.originalColumnGroup.getColGroupDef();\n    };\n    ColumnGroup.prototype.getColGroupDef = function () {\n        return this.originalColumnGroup.getColGroupDef();\n    };\n    ColumnGroup.prototype.isPadding = function () {\n        return this.originalColumnGroup.isPadding();\n    };\n    ColumnGroup.prototype.isExpandable = function () {\n        return this.originalColumnGroup.isExpandable();\n    };\n    ColumnGroup.prototype.isExpanded = function () {\n        return this.originalColumnGroup.isExpanded();\n    };\n    ColumnGroup.prototype.setExpanded = function (expanded) {\n        this.originalColumnGroup.setExpanded(expanded);\n    };\n    ColumnGroup.prototype.addDisplayedLeafColumns = function (leafColumns) {\n        this.displayedChildren.forEach(function (child) {\n            if (child instanceof Column) {\n                leafColumns.push(child);\n            }\n            else if (child instanceof ColumnGroup) {\n                child.addDisplayedLeafColumns(leafColumns);\n            }\n        });\n    };\n    ColumnGroup.prototype.addLeafColumns = function (leafColumns) {\n        this.children.forEach(function (child) {\n            if (child instanceof Column) {\n                leafColumns.push(child);\n            }\n            else if (child instanceof ColumnGroup) {\n                child.addLeafColumns(leafColumns);\n            }\n        });\n    };\n    ColumnGroup.prototype.getChildren = function () {\n        return this.children;\n    };\n    ColumnGroup.prototype.getColumnGroupShow = function () {\n        return this.originalColumnGroup.getColumnGroupShow();\n    };\n    ColumnGroup.prototype.getOriginalColumnGroup = function () {\n        return this.originalColumnGroup;\n    };\n    ColumnGroup.prototype.calculateDisplayedColumns = function () {\n        var _this = this;\n        // clear out last time we calculated\n        this.displayedChildren = [];\n        var topLevelGroup = this;\n        // find the column group that is controlling expandable. this is relevant when we have padding (empty)\n        // groups, where the expandable is actually the first parent that is not a padding group.\n        if (this.isPadding()) {\n            while (topLevelGroup.getParent() && topLevelGroup.isPadding()) {\n                topLevelGroup = topLevelGroup.getParent();\n            }\n        }\n        var isExpandable = topLevelGroup.originalColumnGroup.isExpandable();\n        // it not expandable, everything is visible\n        if (!isExpandable) {\n            this.displayedChildren = this.children;\n        }\n        else {\n            // Add cols based on columnGroupShow\n            // Note - the below also adds padding groups, these are always added because they never have\n            // colDef.columnGroupShow set.\n            this.children.forEach(function (abstractColumn) {\n                var headerGroupShow = abstractColumn.getColumnGroupShow();\n                switch (headerGroupShow) {\n                    case ColumnGroup.HEADER_GROUP_SHOW_OPEN:\n                        // when set to open, only show col if group is open\n                        if (topLevelGroup.originalColumnGroup.isExpanded()) {\n                            _this.displayedChildren.push(abstractColumn);\n                        }\n                        break;\n                    case ColumnGroup.HEADER_GROUP_SHOW_CLOSED:\n                        // when set to open, only show col if group is open\n                        if (!topLevelGroup.originalColumnGroup.isExpanded()) {\n                            _this.displayedChildren.push(abstractColumn);\n                        }\n                        break;\n                    default:\n                        // if this abstractColumn is padding, we just want to add it\n                        // to the displayedChildren list if it has displayedChildren itself.\n                        if (!(abstractColumn instanceof ColumnGroup &&\n                            abstractColumn.isPadding() &&\n                            !abstractColumn.displayedChildren.length)) {\n                            _this.displayedChildren.push(abstractColumn);\n                        }\n                        break;\n                }\n            });\n        }\n        this.localEventService.dispatchEvent(this.createAgEvent(ColumnGroup.EVENT_DISPLAYED_CHILDREN_CHANGED));\n    };\n    ColumnGroup.HEADER_GROUP_SHOW_OPEN = 'open';\n    ColumnGroup.HEADER_GROUP_SHOW_CLOSED = 'closed';\n    ColumnGroup.HEADER_GROUP_PADDING = 'padding';\n    ColumnGroup.EVENT_LEFT_CHANGED = 'leftChanged';\n    ColumnGroup.EVENT_DISPLAYED_CHILDREN_CHANGED = 'displayedChildrenChanged';\n    __decorate$2([\n        Autowired('gridOptionsWrapper')\n    ], ColumnGroup.prototype, \"gridOptionsWrapper\", void 0);\n    return ColumnGroup;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar OriginalColumnGroup = /** @class */ (function () {\n    function OriginalColumnGroup(colGroupDef, groupId, padding, level) {\n        this.localEventService = new EventService();\n        this.expandable = false;\n        this.colGroupDef = colGroupDef;\n        this.groupId = groupId;\n        this.expanded = colGroupDef && !!colGroupDef.openByDefault;\n        this.padding = padding;\n        this.level = level;\n    }\n    OriginalColumnGroup.prototype.setOriginalParent = function (originalParent) {\n        this.originalParent = originalParent;\n    };\n    OriginalColumnGroup.prototype.getOriginalParent = function () {\n        return this.originalParent;\n    };\n    OriginalColumnGroup.prototype.getLevel = function () {\n        return this.level;\n    };\n    OriginalColumnGroup.prototype.isVisible = function () {\n        // return true if at least one child is visible\n        if (this.children) {\n            return this.children.some(function (child) { return child.isVisible(); });\n        }\n        return false;\n    };\n    OriginalColumnGroup.prototype.isPadding = function () {\n        return this.padding;\n    };\n    OriginalColumnGroup.prototype.setExpanded = function (expanded) {\n        this.expanded = expanded === undefined ? false : expanded;\n        var event = {\n            type: OriginalColumnGroup.EVENT_EXPANDED_CHANGED\n        };\n        this.localEventService.dispatchEvent(event);\n    };\n    OriginalColumnGroup.prototype.isExpandable = function () {\n        return this.expandable;\n    };\n    OriginalColumnGroup.prototype.isExpanded = function () {\n        return this.expanded;\n    };\n    OriginalColumnGroup.prototype.getGroupId = function () {\n        return this.groupId;\n    };\n    OriginalColumnGroup.prototype.getId = function () {\n        return this.getGroupId();\n    };\n    OriginalColumnGroup.prototype.setChildren = function (children) {\n        this.children = children;\n    };\n    OriginalColumnGroup.prototype.getChildren = function () {\n        return this.children;\n    };\n    OriginalColumnGroup.prototype.getColGroupDef = function () {\n        return this.colGroupDef;\n    };\n    OriginalColumnGroup.prototype.getLeafColumns = function () {\n        var result = [];\n        this.addLeafColumns(result);\n        return result;\n    };\n    OriginalColumnGroup.prototype.addLeafColumns = function (leafColumns) {\n        if (!this.children) {\n            return;\n        }\n        this.children.forEach(function (child) {\n            if (child instanceof Column) {\n                leafColumns.push(child);\n            }\n            else if (child instanceof OriginalColumnGroup) {\n                child.addLeafColumns(leafColumns);\n            }\n        });\n    };\n    OriginalColumnGroup.prototype.getColumnGroupShow = function () {\n        return this.padding ? ColumnGroup.HEADER_GROUP_PADDING : this.colGroupDef.columnGroupShow;\n    };\n    // need to check that this group has at least one col showing when both expanded and contracted.\n    // if not, then we don't allow expanding and contracting on this group\n    OriginalColumnGroup.prototype.setupExpandable = function () {\n        var _this = this;\n        this.setExpandable();\n        // note - we should be removing this event listener\n        this.getLeafColumns().forEach(function (col) { return col.addEventListener(Column.EVENT_VISIBLE_CHANGED, _this.onColumnVisibilityChanged.bind(_this)); });\n    };\n    OriginalColumnGroup.prototype.setExpandable = function () {\n        if (this.isPadding()) {\n            return;\n        }\n        // want to make sure the group doesn't disappear when it's open\n        var atLeastOneShowingWhenOpen = false;\n        // want to make sure the group doesn't disappear when it's closed\n        var atLeastOneShowingWhenClosed = false;\n        // want to make sure the group has something to show / hide\n        var atLeastOneChangeable = false;\n        var children = this.findChildren();\n        for (var i = 0, j = children.length; i < j; i++) {\n            var abstractColumn = children[i];\n            if (!abstractColumn.isVisible()) {\n                continue;\n            }\n            // if the abstractColumn is a grid generated group, there will be no colDef\n            var headerGroupShow = abstractColumn.getColumnGroupShow();\n            if (headerGroupShow === ColumnGroup.HEADER_GROUP_SHOW_OPEN) {\n                atLeastOneShowingWhenOpen = true;\n                atLeastOneChangeable = true;\n            }\n            else if (headerGroupShow === ColumnGroup.HEADER_GROUP_SHOW_CLOSED) {\n                atLeastOneShowingWhenClosed = true;\n                atLeastOneChangeable = true;\n            }\n            else {\n                atLeastOneShowingWhenOpen = true;\n                atLeastOneShowingWhenClosed = true;\n                if (headerGroupShow === ColumnGroup.HEADER_GROUP_PADDING) {\n                    var column = abstractColumn;\n                    atLeastOneChangeable = atLeastOneChangeable || column.children.some(function (child) { return child.getColumnGroupShow() !== undefined; });\n                }\n            }\n        }\n        var expandable = atLeastOneShowingWhenOpen && atLeastOneShowingWhenClosed && atLeastOneChangeable;\n        if (this.expandable !== expandable) {\n            this.expandable = expandable;\n            var event_1 = {\n                type: OriginalColumnGroup.EVENT_EXPANDABLE_CHANGED\n            };\n            this.localEventService.dispatchEvent(event_1);\n        }\n    };\n    OriginalColumnGroup.prototype.findChildren = function () {\n        var children = this.children;\n        var firstChild = children[0];\n        if (firstChild && (!firstChild.isPadding || !firstChild.isPadding())) {\n            return children;\n        }\n        while (children.length === 1 && children[0] instanceof OriginalColumnGroup) {\n            children = children[0].children;\n        }\n        return children;\n    };\n    OriginalColumnGroup.prototype.onColumnVisibilityChanged = function () {\n        this.setExpandable();\n    };\n    OriginalColumnGroup.prototype.addEventListener = function (eventType, listener) {\n        this.localEventService.addEventListener(eventType, listener);\n    };\n    OriginalColumnGroup.prototype.removeEventListener = function (eventType, listener) {\n        this.localEventService.removeEventListener(eventType, listener);\n    };\n    OriginalColumnGroup.EVENT_EXPANDED_CHANGED = 'expandedChanged';\n    OriginalColumnGroup.EVENT_EXPANDABLE_CHANGED = 'expandableChanged';\n    return OriginalColumnGroup;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar DefaultColumnTypes = {\n    numericColumn: {\n        headerClass: 'ag-right-aligned-header',\n        cellClass: 'ag-right-aligned-cell'\n    },\n    rightAligned: {\n        headerClass: 'ag-right-aligned-header',\n        cellClass: 'ag-right-aligned-cell'\n    }\n};\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param$1 = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\n// takes ColDefs and ColGroupDefs and turns them into Columns and OriginalGroups\nvar ColumnFactory = /** @class */ (function () {\n    function ColumnFactory() {\n    }\n    ColumnFactory.prototype.setBeans = function (loggerFactory) {\n        this.logger = loggerFactory.create('ColumnFactory');\n    };\n    ColumnFactory.prototype.createColumnTree = function (defs, primaryColumns, existingColumns) {\n        // column key creator dishes out unique column id's in a deterministic way,\n        // so if we have two grids (that could be master/slave) with same column definitions,\n        // then this ensures the two grids use identical id's.\n        var columnKeyCreator = new ColumnKeyCreator();\n        if (existingColumns) {\n            var existingKeys = existingColumns.map(function (col) { return col.getId(); });\n            columnKeyCreator.addExistingKeys(existingKeys);\n        }\n        // we take a copy of the columns as we are going to be removing from them\n        var existingColsCopy = existingColumns ? existingColumns.slice() : null;\n        // create am unbalanced tree that maps the provided definitions\n        var unbalancedTree = this.recursivelyCreateColumns(defs, 0, primaryColumns, existingColsCopy, columnKeyCreator, null);\n        var treeDept = this.findMaxDept(unbalancedTree, 0);\n        this.logger.log('Number of levels for grouped columns is ' + treeDept);\n        var columnTree = this.balanceColumnTree(unbalancedTree, 0, treeDept, columnKeyCreator);\n        var deptFirstCallback = function (child, parent) {\n            if (child instanceof OriginalColumnGroup) {\n                child.setupExpandable();\n            }\n            // we set the original parents at the end, rather than when we go along, as balancing the tree\n            // adds extra levels into the tree. so we can only set parents when balancing is done.\n            child.setOriginalParent(parent);\n        };\n        this.columnUtils.depthFirstOriginalTreeSearch(null, columnTree, deptFirstCallback);\n        return {\n            columnTree: columnTree,\n            treeDept: treeDept\n        };\n    };\n    ColumnFactory.prototype.createForAutoGroups = function (autoGroupCols, gridBalancedTree) {\n        var _this = this;\n        var autoColBalancedTree = [];\n        autoGroupCols.forEach(function (col) {\n            var fakeTreeItem = _this.createAutoGroupTreeItem(gridBalancedTree, col);\n            autoColBalancedTree.push(fakeTreeItem);\n        });\n        return autoColBalancedTree;\n    };\n    ColumnFactory.prototype.createAutoGroupTreeItem = function (balancedColumnTree, column) {\n        var dept = this.findDepth(balancedColumnTree);\n        // at the end, this will be the top of the tree item.\n        var nextChild = column;\n        for (var i = dept - 1; i >= 0; i--) {\n            var autoGroup = new OriginalColumnGroup(null, \"FAKE_PATH_\" + column.getId() + \"}_\" + i, true, i);\n            this.context.wireBean(autoGroup);\n            autoGroup.setChildren([nextChild]);\n            nextChild.setOriginalParent(autoGroup);\n            nextChild = autoGroup;\n        }\n        // at this point, the nextChild is the top most item in the tree\n        return nextChild;\n    };\n    ColumnFactory.prototype.findDepth = function (balancedColumnTree) {\n        var dept = 0;\n        var pointer = balancedColumnTree;\n        while (pointer && pointer[0] && pointer[0] instanceof OriginalColumnGroup) {\n            dept++;\n            pointer = pointer[0].getChildren();\n        }\n        return dept;\n    };\n    ColumnFactory.prototype.balanceColumnTree = function (unbalancedTree, currentDept, columnDept, columnKeyCreator) {\n        var result = [];\n        // go through each child, for groups, recurse a level deeper,\n        // for columns we need to pad\n        for (var i = 0; i < unbalancedTree.length; i++) {\n            var child = unbalancedTree[i];\n            if (child instanceof OriginalColumnGroup) {\n                // child is a group, all we do is go to the next level of recursion\n                var originalGroup = child;\n                var newChildren = this.balanceColumnTree(originalGroup.getChildren(), currentDept + 1, columnDept, columnKeyCreator);\n                originalGroup.setChildren(newChildren);\n                result.push(originalGroup);\n            }\n            else {\n                // child is a column - so here we add in the padded column groups if needed\n                var firstPaddedGroup = void 0;\n                var currentPaddedGroup = void 0;\n                // this for loop will NOT run any loops if no padded column groups are needed\n                for (var j = columnDept - 1; j >= currentDept; j--) {\n                    var newColId = columnKeyCreator.getUniqueKey(null, null);\n                    var colGroupDefMerged = this.createMergedColGroupDef(null);\n                    var paddedGroup = new OriginalColumnGroup(colGroupDefMerged, newColId, true, currentDept);\n                    this.context.wireBean(paddedGroup);\n                    if (currentPaddedGroup) {\n                        currentPaddedGroup.setChildren([paddedGroup]);\n                    }\n                    currentPaddedGroup = paddedGroup;\n                    if (!firstPaddedGroup) {\n                        firstPaddedGroup = currentPaddedGroup;\n                    }\n                }\n                // likewise this if statement will not run if no padded groups\n                if (firstPaddedGroup) {\n                    result.push(firstPaddedGroup);\n                    var hasGroups = unbalancedTree.some(function (child) { return child instanceof OriginalColumnGroup; });\n                    if (hasGroups) {\n                        currentPaddedGroup.setChildren([child]);\n                        continue;\n                    }\n                    else {\n                        currentPaddedGroup.setChildren(unbalancedTree);\n                        break;\n                    }\n                }\n                result.push(child);\n            }\n        }\n        return result;\n    };\n    ColumnFactory.prototype.findMaxDept = function (treeChildren, dept) {\n        var maxDeptThisLevel = dept;\n        for (var i = 0; i < treeChildren.length; i++) {\n            var abstractColumn = treeChildren[i];\n            if (abstractColumn instanceof OriginalColumnGroup) {\n                var originalGroup = abstractColumn;\n                var newDept = this.findMaxDept(originalGroup.getChildren(), dept + 1);\n                if (maxDeptThisLevel < newDept) {\n                    maxDeptThisLevel = newDept;\n                }\n            }\n        }\n        return maxDeptThisLevel;\n    };\n    ColumnFactory.prototype.recursivelyCreateColumns = function (defs, level, primaryColumns, existingColsCopy, columnKeyCreator, parent) {\n        var _this = this;\n        var result = [];\n        if (!defs) {\n            return result;\n        }\n        defs.forEach(function (def) {\n            var newGroupOrColumn;\n            if (_this.isColumnGroup(def)) {\n                newGroupOrColumn = _this.createColumnGroup(primaryColumns, def, level, existingColsCopy, columnKeyCreator, parent);\n            }\n            else {\n                newGroupOrColumn = _this.createColumn(primaryColumns, def, existingColsCopy, columnKeyCreator, parent);\n            }\n            result.push(newGroupOrColumn);\n        });\n        return result;\n    };\n    ColumnFactory.prototype.createColumnGroup = function (primaryColumns, colGroupDef, level, existingColumns, columnKeyCreator, parent) {\n        var colGroupDefMerged = this.createMergedColGroupDef(colGroupDef);\n        var groupId = columnKeyCreator.getUniqueKey(colGroupDefMerged.groupId, null);\n        var originalGroup = new OriginalColumnGroup(colGroupDefMerged, groupId, false, level);\n        this.context.wireBean(originalGroup);\n        var children = this.recursivelyCreateColumns(colGroupDefMerged.children, level + 1, primaryColumns, existingColumns, columnKeyCreator, originalGroup);\n        originalGroup.setChildren(children);\n        return originalGroup;\n    };\n    ColumnFactory.prototype.createMergedColGroupDef = function (colGroupDef) {\n        var colGroupDefMerged = {};\n        _.assign(colGroupDefMerged, this.gridOptionsWrapper.getDefaultColGroupDef());\n        _.assign(colGroupDefMerged, colGroupDef);\n        this.checkForDeprecatedItems(colGroupDefMerged);\n        return colGroupDefMerged;\n    };\n    ColumnFactory.prototype.createColumn = function (primaryColumns, colDef, existingColsCopy, columnKeyCreator, parent) {\n        var colDefMerged = this.mergeColDefs(colDef);\n        this.checkForDeprecatedItems(colDefMerged);\n        // see if column already exists\n        var column = this.findExistingColumn(colDef, existingColsCopy);\n        if (!column) {\n            // no existing column, need to create one\n            var colId = columnKeyCreator.getUniqueKey(colDefMerged.colId, colDefMerged.field);\n            column = new Column(colDefMerged, colDef, colId, primaryColumns);\n            this.context.wireBean(column);\n        }\n        else {\n            column.setColDef(colDefMerged, colDef);\n        }\n        return column;\n    };\n    ColumnFactory.prototype.findExistingColumn = function (colDef, existingColsCopy) {\n        var res = _.find(existingColsCopy, function (col) {\n            var oldColDef = col.getUserProvidedColDef();\n            if (!oldColDef) {\n                return false;\n            }\n            // first check object references\n            if (oldColDef === colDef) {\n                return true;\n            }\n            // second check id's\n            var oldColHadId = oldColDef.colId !== null && oldColDef.colId !== undefined;\n            if (oldColHadId) {\n                return oldColDef.colId === colDef.colId;\n            }\n            return false;\n        });\n        // make sure we remove, so if user provided duplicate id, then we don't have more than\n        // one column instance for colDef with common id\n        if (res) {\n            _.removeFromArray(existingColsCopy, res);\n        }\n        return res;\n    };\n    ColumnFactory.prototype.mergeColDefs = function (colDef) {\n        // start with empty merged definition\n        var colDefMerged = {};\n        // merge properties from default column definitions\n        _.assign(colDefMerged, this.gridOptionsWrapper.getDefaultColDef());\n        // merge properties from column type properties\n        if (colDef.type) {\n            this.assignColumnTypes(colDef, colDefMerged);\n        }\n        // merge properties from column definitions\n        _.assign(colDefMerged, colDef);\n        return colDefMerged;\n    };\n    ColumnFactory.prototype.assignColumnTypes = function (colDef, colDefMerged) {\n        var typeKeys;\n        if (colDef.type instanceof Array) {\n            var invalidArray = colDef.type.some(function (a) { return typeof a !== 'string'; });\n            if (invalidArray) {\n                console.warn(\"ag-grid: if colDef.type is supplied an array it should be of type 'string[]'\");\n            }\n            else {\n                typeKeys = colDef.type;\n            }\n        }\n        else if (typeof colDef.type === 'string') {\n            typeKeys = colDef.type.split(',');\n        }\n        else {\n            console.warn(\"ag-grid: colDef.type should be of type 'string' | 'string[]'\");\n            return;\n        }\n        // merge user defined with default column types\n        var allColumnTypes = _.assign({}, this.gridOptionsWrapper.getColumnTypes(), DefaultColumnTypes);\n        typeKeys.forEach(function (t) {\n            var typeColDef = allColumnTypes[t.trim()];\n            if (typeColDef) {\n                _.assign(colDefMerged, typeColDef);\n            }\n            else {\n                console.warn(\"ag-grid: colDef.type '\" + t + \"' does not correspond to defined gridOptions.columnTypes\");\n            }\n        });\n    };\n    ColumnFactory.prototype.checkForDeprecatedItems = function (colDef) {\n        if (colDef) {\n            var colDefNoType = colDef; // take out the type, so we can access attributes not defined in the type\n            if (colDefNoType.group !== undefined) {\n                console.warn('ag-grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3');\n            }\n            if (colDefNoType.headerGroup !== undefined) {\n                console.warn('ag-grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3');\n            }\n            if (colDefNoType.headerGroupShow !== undefined) {\n                console.warn('ag-grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3');\n            }\n            if (colDefNoType.suppressRowGroup !== undefined) {\n                console.warn('ag-grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead');\n            }\n            if (colDefNoType.suppressAggregation !== undefined) {\n                console.warn('ag-grid: colDef.suppressAggregation is deprecated, please use colDef.type instead');\n            }\n            if (colDefNoType.suppressRowGroup || colDefNoType.suppressAggregation) {\n                console.warn('ag-grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead');\n            }\n            if (colDefNoType.displayName) {\n                console.warn(\"ag-grid: Found displayName \" + colDefNoType.displayName + \", please use headerName instead, displayName is deprecated.\");\n                colDefNoType.headerName = colDefNoType.displayName;\n            }\n        }\n    };\n    // if object has children, we assume it's a group\n    ColumnFactory.prototype.isColumnGroup = function (abstractColDef) {\n        return abstractColDef.children !== undefined;\n    };\n    __decorate$3([\n        Autowired('gridOptionsWrapper')\n    ], ColumnFactory.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$3([\n        Autowired('columnUtils')\n    ], ColumnFactory.prototype, \"columnUtils\", void 0);\n    __decorate$3([\n        Autowired('context')\n    ], ColumnFactory.prototype, \"context\", void 0);\n    __decorate$3([\n        __param$1(0, Qualifier('loggerFactory'))\n    ], ColumnFactory.prototype, \"setBeans\", null);\n    ColumnFactory = __decorate$3([\n        Bean('columnFactory')\n    ], ColumnFactory);\n    return ColumnFactory;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar Events = /** @class */ (function () {\n    function Events() {\n    }\n    /** Everything has changed with the columns. Either complete new set of columns set, or user called setState()*/\n    Events.EVENT_COLUMN_EVERYTHING_CHANGED = 'columnEverythingChanged';\n    /** User has set in new columns. */\n    Events.EVENT_NEW_COLUMNS_LOADED = 'newColumnsLoaded';\n    /** The pivot mode flag was changed */\n    Events.EVENT_COLUMN_PIVOT_MODE_CHANGED = 'columnPivotModeChanged';\n    /** A row group column was added, removed or order changed. */\n    Events.EVENT_COLUMN_ROW_GROUP_CHANGED = 'columnRowGroupChanged';\n    /** expandAll / collapseAll was called from the api. */\n    Events.EVENT_EXPAND_COLLAPSE_ALL = 'expandOrCollapseAll';\n    /** A pivot column was added, removed or order changed. */\n    Events.EVENT_COLUMN_PIVOT_CHANGED = 'columnPivotChanged';\n    /** The list of grid columns has changed. */\n    Events.EVENT_GRID_COLUMNS_CHANGED = 'gridColumnsChanged';\n    /** A value column was added, removed or agg function was changed. */\n    Events.EVENT_COLUMN_VALUE_CHANGED = 'columnValueChanged';\n    /** A column was moved */\n    Events.EVENT_COLUMN_MOVED = 'columnMoved';\n    /** One or more columns was shown / hidden */\n    Events.EVENT_COLUMN_VISIBLE = 'columnVisible';\n    /** One or more columns was pinned / unpinned*/\n    Events.EVENT_COLUMN_PINNED = 'columnPinned';\n    /** A column group was opened / closed */\n    Events.EVENT_COLUMN_GROUP_OPENED = 'columnGroupOpened';\n    /** One or more columns was resized. If just one, the column in the event is set. */\n    Events.EVENT_COLUMN_RESIZED = 'columnResized';\n    /** The list of displayed columns has changed, can result from columns open / close, column move, pivot, group, etc */\n    Events.EVENT_DISPLAYED_COLUMNS_CHANGED = 'displayedColumnsChanged';\n    /** The list of virtual columns has changed, results from viewport changing */\n    Events.EVENT_VIRTUAL_COLUMNS_CHANGED = 'virtualColumnsChanged';\n    /** A row group was opened / closed */\n    Events.EVENT_ROW_GROUP_OPENED = 'rowGroupOpened';\n    /** The client has set new data into the grid */\n    Events.EVENT_ROW_DATA_CHANGED = 'rowDataChanged';\n    /** The client has updated data for the grid */\n    Events.EVENT_ROW_DATA_UPDATED = 'rowDataUpdated';\n    /** The client has set new floating data into the grid */\n    Events.EVENT_PINNED_ROW_DATA_CHANGED = 'pinnedRowDataChanged';\n    /** Range selection has changed */\n    Events.EVENT_RANGE_SELECTION_CHANGED = 'rangeSelectionChanged';\n    /** Chart was created */\n    Events.EVENT_CHART_CREATED = 'chartCreated';\n    /** Chart Range selection has changed */\n    Events.EVENT_CHART_RANGE_SELECTION_CHANGED = 'chartRangeSelectionChanged';\n    /** Chart Options have changed */\n    Events.EVENT_CHART_OPTIONS_CHANGED = 'chartOptionsChanged';\n    /** Chart was destroyed */\n    Events.EVENT_CHART_DESTROYED = 'chartDestroyed';\n    /** For when the tool panel is shown / hidden */\n    Events.EVENT_TOOL_PANEL_VISIBLE_CHANGED = 'toolPanelVisibleChanged';\n    /** Model was updated - grid updates the drawn rows when this happens */\n    Events.EVENT_MODEL_UPDATED = 'modelUpdated';\n    Events.EVENT_PASTE_START = 'pasteStart';\n    Events.EVENT_PASTE_END = 'pasteEnd';\n    Events.EVENT_FILL_START = 'fillStart';\n    Events.EVENT_FILL_END = 'fillEnd';\n    Events.EVENT_CELL_CLICKED = 'cellClicked';\n    Events.EVENT_CELL_DOUBLE_CLICKED = 'cellDoubleClicked';\n    Events.EVENT_CELL_MOUSE_DOWN = 'cellMouseDown';\n    Events.EVENT_CELL_CONTEXT_MENU = 'cellContextMenu';\n    Events.EVENT_CELL_VALUE_CHANGED = 'cellValueChanged';\n    Events.EVENT_ROW_VALUE_CHANGED = 'rowValueChanged';\n    Events.EVENT_CELL_FOCUSED = 'cellFocused';\n    Events.EVENT_ROW_SELECTED = 'rowSelected';\n    Events.EVENT_SELECTION_CHANGED = 'selectionChanged';\n    Events.EVENT_CELL_KEY_DOWN = 'cellKeyDown';\n    Events.EVENT_CELL_KEY_PRESS = 'cellKeyPress';\n    Events.EVENT_CELL_MOUSE_OVER = 'cellMouseOver';\n    Events.EVENT_CELL_MOUSE_OUT = 'cellMouseOut';\n    /** 2 events for filtering. The grid LISTENS for filterChanged and afterFilterChanged */\n    Events.EVENT_FILTER_CHANGED = 'filterChanged';\n    /** Filter was change but not applied. Only useful if apply buttons are used in filters. */\n    Events.EVENT_FILTER_MODIFIED = 'filterModified';\n    Events.EVENT_FILTER_OPENED = 'filterOpened';\n    Events.EVENT_SORT_CHANGED = 'sortChanged';\n    /** A row was removed from the dom, for any reason. Use to clean up resources (if any) used by the row. */\n    Events.EVENT_VIRTUAL_ROW_REMOVED = 'virtualRowRemoved';\n    Events.EVENT_ROW_CLICKED = 'rowClicked';\n    Events.EVENT_ROW_DOUBLE_CLICKED = 'rowDoubleClicked';\n    /** Gets called once after the grid has finished initialising. */\n    Events.EVENT_GRID_READY = 'gridReady';\n    /** Width of height of the main grid div has changed. Grid listens for this and does layout of grid if it's\n     * changed, so always filling the space it was given. */\n    Events.EVENT_GRID_SIZE_CHANGED = 'gridSizeChanged';\n    /** The indexes of the rows rendered has changed, eg user has scrolled to a new vertical position. */\n    Events.EVENT_VIEWPORT_CHANGED = 'viewportChanged';\n    /** Rows were rendered for the first time (ie on async data load). */\n    Events.EVENT_FIRST_DATA_RENDERED = 'firstDataRendered';\n    /** A column drag has started, either resizing a column or moving a column. */\n    Events.EVENT_DRAG_STARTED = 'dragStarted';\n    /** A column drag has stopped */\n    Events.EVENT_DRAG_STOPPED = 'dragStopped';\n    Events.EVENT_CHECKBOX_CHANGED = 'checkboxChanged';\n    Events.EVENT_ROW_EDITING_STARTED = 'rowEditingStarted';\n    Events.EVENT_ROW_EDITING_STOPPED = 'rowEditingStopped';\n    Events.EVENT_CELL_EDITING_STARTED = 'cellEditingStarted';\n    Events.EVENT_CELL_EDITING_STOPPED = 'cellEditingStopped';\n    /** Main body of grid has scrolled, either horizontally or vertically */\n    Events.EVENT_BODY_SCROLL = 'bodyScroll';\n    Events.EVENT_ANIMATION_QUEUE_EMPTY = 'animationQueueEmpty';\n    Events.EVENT_HEIGHT_SCALE_CHANGED = 'heightScaleChanged';\n    /** The displayed page for pagination has changed. For example the data was filtered or sorted,\n     * or the user has moved to a different page. */\n    Events.EVENT_PAGINATION_CHANGED = 'paginationChanged';\n    /** Only used by React, Angular 2+, Web Components and VueJS ag-Grid components\n     * (not used if doing plain JavaScript or Angular 1.x). If the grid receives changes due\n     * to bound properties, this event fires after the grid has finished processing the change. */\n    Events.EVENT_COMPONENT_STATE_CHANGED = 'componentStateChanged';\n    /** All items from here down are used internally by the grid, not intended for external use. */\n    // not documented, either experimental, or we just don't want users using an depending on them\n    Events.EVENT_BODY_HEIGHT_CHANGED = 'bodyHeightChanged';\n    Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED = 'displayedColumnsWidthChanged';\n    Events.EVENT_SCROLL_VISIBILITY_CHANGED = 'scrollVisibilityChanged';\n    Events.EVENT_COLUMN_HOVER_CHANGED = 'columnHoverChanged';\n    Events.EVENT_FLASH_CELLS = 'flashCells';\n    Events.EVENT_ROW_DRAG_ENTER = 'rowDragEnter';\n    Events.EVENT_ROW_DRAG_MOVE = 'rowDragMove';\n    Events.EVENT_ROW_DRAG_LEAVE = 'rowDragLeave';\n    Events.EVENT_ROW_DRAG_END = 'rowDragEnd';\n    // primarily for charts\n    Events.EVENT_POPUP_TO_FRONT = 'popupToFront';\n    // these are used for server side group and agg - only used by CS with Viewport Row Model - intention is\n    // to design these better around server side functions and then release to general public when fully working with\n    // all the row models.\n    Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST = 'columnRowGroupChangeRequest';\n    Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST = 'columnPivotChangeRequest';\n    Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST = 'columnValueChangeRequest';\n    Events.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST = 'columnAggFuncChangeRequest';\n    Events.EVENT_KEYBOARD_FOCUS = 'keyboardFocus';\n    Events.EVENT_MOUSE_FOCUS = 'mouseFocus';\n    return Events;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n// class returns unique instance id's for columns.\n// eg, the following calls (in this order) will result in:\n//\n// getInstanceIdForKey('country') => 0\n// getInstanceIdForKey('country') => 1\n// getInstanceIdForKey('country') => 2\n// getInstanceIdForKey('country') => 3\n// getInstanceIdForKey('age') => 0\n// getInstanceIdForKey('age') => 1\n// getInstanceIdForKey('country') => 4\nvar GroupInstanceIdCreator = /** @class */ (function () {\n    function GroupInstanceIdCreator() {\n        // this map contains keys to numbers, so we remember what the last call was\n        this.existingIds = {};\n    }\n    GroupInstanceIdCreator.prototype.getInstanceIdForKey = function (key) {\n        var lastResult = this.existingIds[key];\n        var result;\n        if (typeof lastResult !== 'number') {\n            // first time this key\n            result = 0;\n        }\n        else {\n            result = lastResult + 1;\n        }\n        this.existingIds[key] = result;\n        return result;\n    };\n    return GroupInstanceIdCreator;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$4 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param$2 = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ColumnController = /** @class */ (function () {\n    function ColumnController() {\n        // header row count, based on user provided columns\n        this.primaryHeaderRowCount = 0;\n        this.secondaryHeaderRowCount = 0;\n        this.secondaryColumnsPresent = false;\n        // header row count, either above, or based on pivoting if we are pivoting\n        this.gridHeaderRowCount = 0;\n        // these are the lists used by the rowRenderer to render nodes. almost the leaf nodes of the above\n        // displayed trees, however it also takes into account if the groups are open or not.\n        this.displayedLeftColumns = [];\n        this.displayedRightColumns = [];\n        this.displayedCenterColumns = [];\n        // all three lists above combined\n        this.allDisplayedColumns = [];\n        // same as above, except trimmed down to only columns within the viewport\n        this.allDisplayedVirtualColumns = [];\n        this.allDisplayedCenterVirtualColumns = [];\n        this.rowGroupColumns = [];\n        this.valueColumns = [];\n        this.pivotColumns = [];\n        this.ready = false;\n        this.autoGroupsNeedBuilding = false;\n        this.pivotMode = false;\n        this.bodyWidth = 0;\n        this.leftWidth = 0;\n        this.rightWidth = 0;\n        this.bodyWidthDirty = true;\n        this.flexActive = false;\n    }\n    ColumnController.prototype.init = function () {\n        this.suppressColumnVirtualisation = this.gridOptionsWrapper.isSuppressColumnVirtualisation();\n        var pivotMode = this.gridOptionsWrapper.isPivotMode();\n        if (this.isPivotSettingAllowed(pivotMode)) {\n            this.pivotMode = pivotMode;\n        }\n        this.usingTreeData = this.gridOptionsWrapper.isTreeData();\n    };\n    ColumnController.prototype.setColumnDefs = function (columnDefs, source) {\n        if (source === void 0) { source = 'api'; }\n        var colsPreviouslyExisted = !!this.columnDefs;\n        this.columnDefs = columnDefs;\n        // always invalidate cache on changing columns, as the column id's for the new columns\n        // could overlap with the old id's, so the cache would return old values for new columns.\n        this.valueCache.expire();\n        // NOTE ==================\n        // we should be destroying the existing columns and groups if they exist, for example, the original column\n        // group adds a listener to the columns, it should be also removing the listeners\n        this.autoGroupsNeedBuilding = true;\n        var oldPrimaryColumns = this.primaryColumns;\n        var balancedTreeResult = this.columnFactory.createColumnTree(columnDefs, true, oldPrimaryColumns);\n        this.primaryColumnTree = balancedTreeResult.columnTree;\n        this.primaryHeaderRowCount = balancedTreeResult.treeDept + 1;\n        this.primaryColumns = this.getColumnsFromTree(this.primaryColumnTree);\n        this.extractRowGroupColumns(source, oldPrimaryColumns);\n        this.extractPivotColumns(source, oldPrimaryColumns);\n        this.createValueColumns(source, oldPrimaryColumns);\n        this.ready = true;\n        this.updateGridColumns();\n        this.updateDisplayedColumns(source);\n        this.checkDisplayedVirtualColumns();\n        if (this.gridOptionsWrapper.isImmutableColumns() && colsPreviouslyExisted) {\n            this.resetColumnState(true, source);\n        }\n        var eventEverythingChanged = {\n            type: Events.EVENT_COLUMN_EVERYTHING_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(eventEverythingChanged);\n        var newColumnsLoadedEvent = {\n            type: Events.EVENT_NEW_COLUMNS_LOADED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(newColumnsLoadedEvent);\n        this.flexActive = this.getDisplayedCenterColumns().some(function (col) { return !!col.getFlex(); });\n    };\n    ColumnController.prototype.isAutoRowHeightActive = function () {\n        return this.autoRowHeightColumns && this.autoRowHeightColumns.length > 0;\n    };\n    ColumnController.prototype.getAllAutoRowHeightCols = function () {\n        return this.autoRowHeightColumns;\n    };\n    ColumnController.prototype.setVirtualViewportLeftAndRight = function () {\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            this.viewportLeft = this.bodyWidth - this.scrollPosition - this.scrollWidth;\n            this.viewportRight = this.bodyWidth - this.scrollPosition;\n        }\n        else {\n            this.viewportLeft = this.scrollPosition;\n            this.viewportRight = this.scrollWidth + this.scrollPosition;\n        }\n    };\n    // used by clipboard service, to know what columns to paste into\n    ColumnController.prototype.getDisplayedColumnsStartingAt = function (column) {\n        var currentColumn = column;\n        var columns = [];\n        while (currentColumn != null) {\n            columns.push(currentColumn);\n            currentColumn = this.getDisplayedColAfter(currentColumn);\n        }\n        return columns;\n    };\n    // checks what columns are currently displayed due to column virtualisation. fires an event\n    // if the list of columns has changed.\n    // + setColumnWidth(), setVirtualViewportPosition(), setColumnDefs(), sizeColumnsToFit()\n    ColumnController.prototype.checkDisplayedVirtualColumns = function () {\n        // check displayCenterColumnTree exists first, as it won't exist when grid is initialising\n        if (this.displayedCenterColumns == null) {\n            return;\n        }\n        var hashBefore = this.allDisplayedVirtualColumns.map(function (column) { return column.getId(); }).join('#');\n        this.updateVirtualSets();\n        var hashAfter = this.allDisplayedVirtualColumns.map(function (column) { return column.getId(); }).join('#');\n        if (hashBefore !== hashAfter) {\n            var event_1 = {\n                type: Events.EVENT_VIRTUAL_COLUMNS_CHANGED,\n                api: this.gridApi,\n                columnApi: this.columnApi\n            };\n            this.eventService.dispatchEvent(event_1);\n        }\n    };\n    ColumnController.prototype.setVirtualViewportPosition = function (scrollWidth, scrollPosition) {\n        if (scrollWidth !== this.scrollWidth || scrollPosition !== this.scrollPosition || this.bodyWidthDirty) {\n            this.scrollWidth = scrollWidth;\n            this.scrollPosition = scrollPosition;\n            // we need to call setVirtualViewportLeftAndRight() at least once after the body width changes,\n            // as the viewport can stay the same, but in RTL, if body width changes, we need to work out the\n            // virtual columns again\n            this.bodyWidthDirty = true;\n            this.setVirtualViewportLeftAndRight();\n            if (this.ready) {\n                this.checkDisplayedVirtualColumns();\n            }\n        }\n    };\n    ColumnController.prototype.isPivotMode = function () {\n        return this.pivotMode;\n    };\n    ColumnController.prototype.isPivotSettingAllowed = function (pivot) {\n        if (pivot && this.gridOptionsWrapper.isTreeData()) {\n            console.warn(\"ag-Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'\");\n            return false;\n        }\n        return true;\n    };\n    ColumnController.prototype.setPivotMode = function (pivotMode, source) {\n        if (source === void 0) { source = 'api'; }\n        if (pivotMode === this.pivotMode || !this.isPivotSettingAllowed(this.pivotMode)) {\n            return;\n        }\n        this.pivotMode = pivotMode;\n        // we need to update grid columns to cover the scenario where user has groupSuppressAutoColumn=true, as\n        // this means we don't use auto group column UNLESS we are in pivot mode (it's mandatory in pivot mode),\n        // so need to updateGridColumn() to check it autoGroupCol needs to be added / removed\n        this.autoGroupsNeedBuilding = true;\n        this.updateGridColumns();\n        this.updateDisplayedColumns(source);\n        var event = {\n            type: Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.getSecondaryPivotColumn = function (pivotKeys, valueColKey) {\n        if (!this.secondaryColumnsPresent || !this.secondaryColumns) {\n            return null;\n        }\n        var valueColumnToFind = this.getPrimaryColumn(valueColKey);\n        var foundColumn = null;\n        this.secondaryColumns.forEach(function (column) {\n            var thisPivotKeys = column.getColDef().pivotKeys;\n            var pivotValueColumn = column.getColDef().pivotValueColumn;\n            var pivotKeyMatches = areEqual(thisPivotKeys, pivotKeys);\n            var pivotValueMatches = pivotValueColumn === valueColumnToFind;\n            if (pivotKeyMatches && pivotValueMatches) {\n                foundColumn = column;\n            }\n        });\n        return foundColumn;\n    };\n    ColumnController.prototype.setBeans = function (loggerFactory) {\n        this.logger = loggerFactory.create('ColumnController');\n    };\n    ColumnController.prototype.setFirstRightAndLastLeftPinned = function (source) {\n        var lastLeft;\n        var firstRight;\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            lastLeft = this.displayedLeftColumns ? this.displayedLeftColumns[0] : null;\n            firstRight = this.displayedRightColumns ? _.last(this.displayedRightColumns) : null;\n        }\n        else {\n            lastLeft = this.displayedLeftColumns ? _.last(this.displayedLeftColumns) : null;\n            firstRight = this.displayedRightColumns ? this.displayedRightColumns[0] : null;\n        }\n        this.gridColumns.forEach(function (column) {\n            column.setLastLeftPinned(column === lastLeft, source);\n            column.setFirstRightPinned(column === firstRight, source);\n        });\n    };\n    ColumnController.prototype.autoSizeColumns = function (keys, skipHeader, source) {\n        // because of column virtualisation, we can only do this function on columns that are\n        // actually rendered, as non-rendered columns (outside the viewport and not rendered\n        // due to column virtualisation) are not present. this can result in all rendered columns\n        // getting narrowed, which in turn introduces more rendered columns on the RHS which\n        // did not get autosized in the original run, leaving the visible grid with columns on\n        // the LHS sized, but RHS no. so we keep looping through the visible columns until\n        // no more cols are available (rendered) to be resized\n        var _this = this;\n        if (source === void 0) { source = \"api\"; }\n        // we autosize after animation frames finish in case any cell renderers need to complete first. this can\n        // happen eg if client code is calling api.autoSizeAllColumns() straight after grid is initialised, but grid\n        // hasn't fully drawn out all the cells yet (due to cell renderers in animation frames).\n        this.animationFrameService.flushAllFrames();\n        // keep track of which cols we have resized in here\n        var columnsAutosized = [];\n        // initialise with anything except 0 so that while loop executes at least once\n        var changesThisTimeAround = -1;\n        if (skipHeader == null) {\n            skipHeader = this.gridOptionsWrapper.isSkipHeaderOnAutoSize();\n        }\n        while (changesThisTimeAround !== 0) {\n            changesThisTimeAround = 0;\n            this.actionOnGridColumns(keys, function (column) {\n                // if already autosized, skip it\n                if (columnsAutosized.indexOf(column) >= 0) {\n                    return false;\n                }\n                // get how wide this col should be\n                var preferredWidth = _this.autoWidthCalculator.getPreferredWidthForColumn(column, skipHeader);\n                // preferredWidth = -1 if this col is not on the screen\n                if (preferredWidth > 0) {\n                    var newWidth = _this.normaliseColumnWidth(column, preferredWidth);\n                    column.setActualWidth(newWidth, source);\n                    columnsAutosized.push(column);\n                    changesThisTimeAround++;\n                }\n                return true;\n            }, source);\n        }\n        if (columnsAutosized.length) {\n            var event_2 = {\n                type: Events.EVENT_COLUMN_RESIZED,\n                columns: columnsAutosized,\n                column: columnsAutosized.length === 1 ? columnsAutosized[0] : null,\n                finished: true,\n                api: this.gridApi,\n                columnApi: this.columnApi,\n                source: \"autosizeColumns\"\n            };\n            this.eventService.dispatchEvent(event_2);\n        }\n    };\n    ColumnController.prototype.autoSizeColumn = function (key, skipHeader, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (key) {\n            this.autoSizeColumns([key], skipHeader, source);\n        }\n    };\n    ColumnController.prototype.autoSizeAllColumns = function (skipHeader, source) {\n        if (source === void 0) { source = \"api\"; }\n        var allDisplayedColumns = this.getAllDisplayedColumns();\n        this.autoSizeColumns(allDisplayedColumns, skipHeader, source);\n    };\n    ColumnController.prototype.getColumnsFromTree = function (rootColumns) {\n        var result = [];\n        var recursiveFindColumns = function (childColumns) {\n            for (var i = 0; i < childColumns.length; i++) {\n                var child = childColumns[i];\n                if (child instanceof Column) {\n                    result.push(child);\n                }\n                else if (child instanceof OriginalColumnGroup) {\n                    recursiveFindColumns(child.getChildren());\n                }\n            }\n        };\n        recursiveFindColumns(rootColumns);\n        return result;\n    };\n    ColumnController.prototype.getAllDisplayedColumnGroups = function () {\n        if (this.displayedLeftColumnTree && this.displayedRightColumnTree && this.displayedCentreColumnTree) {\n            return this.displayedLeftColumnTree\n                .concat(this.displayedCentreColumnTree)\n                .concat(this.displayedRightColumnTree);\n        }\n        return null;\n    };\n    // + columnSelectPanel\n    ColumnController.prototype.getPrimaryColumnTree = function () {\n        return this.primaryColumnTree;\n    };\n    // + gridPanel -> for resizing the body and setting top margin\n    ColumnController.prototype.getHeaderRowCount = function () {\n        return this.gridHeaderRowCount;\n    };\n    // + headerRenderer -> setting pinned body width\n    ColumnController.prototype.getLeftDisplayedColumnGroups = function () {\n        return this.displayedLeftColumnTree;\n    };\n    // + headerRenderer -> setting pinned body width\n    ColumnController.prototype.getRightDisplayedColumnGroups = function () {\n        return this.displayedRightColumnTree;\n    };\n    // + headerRenderer -> setting pinned body width\n    ColumnController.prototype.getCenterDisplayedColumnGroups = function () {\n        return this.displayedCentreColumnTree;\n    };\n    ColumnController.prototype.getDisplayedColumnGroups = function (type) {\n        switch (type) {\n            case Constants.PINNED_LEFT:\n                return this.getLeftDisplayedColumnGroups();\n            case Constants.PINNED_RIGHT:\n                return this.getRightDisplayedColumnGroups();\n            default:\n                return this.getCenterDisplayedColumnGroups();\n        }\n    };\n    // gridPanel -> ensureColumnVisible\n    ColumnController.prototype.isColumnDisplayed = function (column) {\n        return this.getAllDisplayedColumns().indexOf(column) >= 0;\n    };\n    // + csvCreator\n    ColumnController.prototype.getAllDisplayedColumns = function () {\n        return this.allDisplayedColumns;\n    };\n    ColumnController.prototype.getAllDisplayedVirtualColumns = function () {\n        return this.allDisplayedVirtualColumns;\n    };\n    ColumnController.prototype.getDisplayedLeftColumnsForRow = function (rowNode) {\n        if (!this.colSpanActive) {\n            return this.displayedLeftColumns;\n        }\n        return this.getDisplayedColumnsForRow(rowNode, this.displayedLeftColumns);\n    };\n    ColumnController.prototype.getDisplayedRightColumnsForRow = function (rowNode) {\n        if (!this.colSpanActive) {\n            return this.displayedRightColumns;\n        }\n        return this.getDisplayedColumnsForRow(rowNode, this.displayedRightColumns);\n    };\n    ColumnController.prototype.getDisplayedColumnsForRow = function (rowNode, displayedColumns, filterCallback, emptySpaceBeforeColumn) {\n        var result = [];\n        var lastConsideredCol = null;\n        var _loop_1 = function (i) {\n            var col = displayedColumns[i];\n            var maxAllowedColSpan = displayedColumns.length - i;\n            var colSpan = Math.min(col.getColSpan(rowNode), maxAllowedColSpan);\n            var columnsToCheckFilter = [col];\n            if (colSpan > 1) {\n                var colsToRemove = colSpan - 1;\n                for (var j = 1; j <= colsToRemove; j++) {\n                    columnsToCheckFilter.push(displayedColumns[i + j]);\n                }\n                i += colsToRemove;\n            }\n            // see which cols we should take out for column virtualisation\n            var filterPasses;\n            if (filterCallback) {\n                // if user provided a callback, means some columns may not be in the viewport.\n                // the user will NOT provide a callback if we are talking about pinned areas,\n                // as pinned areas have no horizontal scroll and do not virtualise the columns.\n                // if lots of columns, that means column spanning, and we set filterPasses = true\n                // if one or more of the columns spanned pass the filter.\n                filterPasses = false;\n                columnsToCheckFilter.forEach(function (colForFilter) {\n                    if (filterCallback(colForFilter)) {\n                        filterPasses = true;\n                    }\n                });\n            }\n            else {\n                filterPasses = true;\n            }\n            if (filterPasses) {\n                if (result.length === 0 && lastConsideredCol) {\n                    var gapBeforeColumn = emptySpaceBeforeColumn ? emptySpaceBeforeColumn(col) : false;\n                    if (gapBeforeColumn) {\n                        result.push(lastConsideredCol);\n                    }\n                }\n                result.push(col);\n            }\n            lastConsideredCol = col;\n            out_i_1 = i;\n        };\n        var out_i_1;\n        for (var i = 0; i < displayedColumns.length; i++) {\n            _loop_1(i);\n            i = out_i_1;\n        }\n        return result;\n    };\n    // + rowRenderer\n    // if we are not column spanning, this just returns back the virtual centre columns,\n    // however if we are column spanning, then different rows can have different virtual\n    // columns, so we have to work out the list for each individual row.\n    ColumnController.prototype.getAllDisplayedCenterVirtualColumnsForRow = function (rowNode) {\n        var _this = this;\n        if (!this.colSpanActive) {\n            return this.allDisplayedCenterVirtualColumns;\n        }\n        var emptySpaceBeforeColumn = function (col) { return col.getLeft() > _this.viewportLeft; };\n        // if doing column virtualisation, then we filter based on the viewport.\n        var filterCallback = this.suppressColumnVirtualisation ? null : this.isColumnInViewport.bind(this);\n        return this.getDisplayedColumnsForRow(rowNode, this.displayedCenterColumns, filterCallback, emptySpaceBeforeColumn);\n    };\n    ColumnController.prototype.isColumnInViewport = function (col) {\n        var columnLeft = col.getLeft();\n        var columnRight = col.getLeft() + col.getActualWidth();\n        // adding 200 for buffer size, so some cols off viewport are rendered.\n        // this helps horizontal scrolling so user rarely sees white space (unless\n        // they scroll horizontally fast). however we are conservative, as the more\n        // buffer the slower the vertical redraw speed\n        var leftBounds = this.viewportLeft - 200;\n        var rightBounds = this.viewportRight + 200;\n        var columnToMuchLeft = columnLeft < leftBounds && columnRight < leftBounds;\n        var columnToMuchRight = columnLeft > rightBounds && columnRight > rightBounds;\n        return !columnToMuchLeft && !columnToMuchRight;\n    };\n    // used by:\n    // + angularGrid -> setting pinned body width\n    // note: this should be cached\n    ColumnController.prototype.getPinnedLeftContainerWidth = function () {\n        return this.getWidthOfColsInList(this.displayedLeftColumns);\n    };\n    // note: this should be cached\n    ColumnController.prototype.getPinnedRightContainerWidth = function () {\n        return this.getWidthOfColsInList(this.displayedRightColumns);\n    };\n    ColumnController.prototype.updatePrimaryColumnList = function (keys, masterList, actionIsAdd, columnCallback, eventType, source) {\n        var _this = this;\n        if (source === void 0) { source = \"api\"; }\n        if (!keys || _.missingOrEmpty(keys)) {\n            return;\n        }\n        var atLeastOne = false;\n        keys.forEach(function (key) {\n            var columnToAdd = _this.getPrimaryColumn(key);\n            if (!columnToAdd) {\n                return;\n            }\n            if (actionIsAdd) {\n                if (masterList.indexOf(columnToAdd) >= 0) {\n                    return;\n                }\n                masterList.push(columnToAdd);\n            }\n            else {\n                if (masterList.indexOf(columnToAdd) < 0) {\n                    return;\n                }\n                _.removeFromArray(masterList, columnToAdd);\n            }\n            columnCallback(columnToAdd);\n            atLeastOne = true;\n        });\n        if (!atLeastOne) {\n            return;\n        }\n        if (this.autoGroupsNeedBuilding) {\n            this.updateGridColumns();\n        }\n        this.updateDisplayedColumns(source);\n        var event = {\n            type: eventType,\n            columns: masterList,\n            column: masterList.length === 1 ? masterList[0] : null,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.setRowGroupColumns = function (colKeys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.autoGroupsNeedBuilding = true;\n        this.setPrimaryColumnList(colKeys, this.rowGroupColumns, Events.EVENT_COLUMN_ROW_GROUP_CHANGED, this.setRowGroupActive.bind(this), source);\n    };\n    ColumnController.prototype.setRowGroupActive = function (active, column, source) {\n        if (active === column.isRowGroupActive()) {\n            return;\n        }\n        column.setRowGroupActive(active, source);\n        if (!active && !this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()) {\n            column.setVisible(true, source);\n        }\n    };\n    ColumnController.prototype.addRowGroupColumn = function (key, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (key) {\n            this.addRowGroupColumns([key], source);\n        }\n    };\n    ColumnController.prototype.addRowGroupColumns = function (keys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.autoGroupsNeedBuilding = true;\n        this.updatePrimaryColumnList(keys, this.rowGroupColumns, true, this.setRowGroupActive.bind(this, true), Events.EVENT_COLUMN_ROW_GROUP_CHANGED, source);\n    };\n    ColumnController.prototype.removeRowGroupColumns = function (keys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.autoGroupsNeedBuilding = true;\n        this.updatePrimaryColumnList(keys, this.rowGroupColumns, false, this.setRowGroupActive.bind(this, false), Events.EVENT_COLUMN_ROW_GROUP_CHANGED, source);\n    };\n    ColumnController.prototype.removeRowGroupColumn = function (key, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (key) {\n            this.removeRowGroupColumns([key], source);\n        }\n    };\n    ColumnController.prototype.addPivotColumns = function (keys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.updatePrimaryColumnList(keys, this.pivotColumns, true, function (column) { return column.setPivotActive(true, source); }, Events.EVENT_COLUMN_PIVOT_CHANGED, source);\n    };\n    ColumnController.prototype.setPivotColumns = function (colKeys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.setPrimaryColumnList(colKeys, this.pivotColumns, Events.EVENT_COLUMN_PIVOT_CHANGED, function (added, column) {\n            column.setPivotActive(added, source);\n        }, source);\n    };\n    ColumnController.prototype.addPivotColumn = function (key, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.addPivotColumns([key], source);\n    };\n    ColumnController.prototype.removePivotColumns = function (keys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.updatePrimaryColumnList(keys, this.pivotColumns, false, function (column) { return column.setPivotActive(false, source); }, Events.EVENT_COLUMN_PIVOT_CHANGED, source);\n    };\n    ColumnController.prototype.removePivotColumn = function (key, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.removePivotColumns([key], source);\n    };\n    ColumnController.prototype.setPrimaryColumnList = function (colKeys, masterList, eventName, columnCallback, source) {\n        var _this = this;\n        masterList.length = 0;\n        if (_.exists(colKeys)) {\n            colKeys.forEach(function (key) {\n                var column = _this.getPrimaryColumn(key);\n                if (column) {\n                    masterList.push(column);\n                }\n            });\n        }\n        this.primaryColumns.forEach(function (column) {\n            var added = masterList.indexOf(column) >= 0;\n            columnCallback(added, column);\n        });\n        if (this.autoGroupsNeedBuilding) {\n            this.updateGridColumns();\n        }\n        this.updateDisplayedColumns(source);\n        var event = {\n            type: eventName,\n            columns: masterList,\n            column: masterList.length === 1 ? masterList[0] : null,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.setValueColumns = function (colKeys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.setPrimaryColumnList(colKeys, this.valueColumns, Events.EVENT_COLUMN_VALUE_CHANGED, this.setValueActive.bind(this), source);\n    };\n    ColumnController.prototype.setValueActive = function (active, column, source) {\n        if (active === column.isValueActive()) {\n            return;\n        }\n        column.setValueActive(active, source);\n        if (active && !column.getAggFunc()) {\n            var defaultAggFunc = this.aggFuncService.getDefaultAggFunc(column);\n            column.setAggFunc(defaultAggFunc);\n        }\n    };\n    ColumnController.prototype.addValueColumns = function (keys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.updatePrimaryColumnList(keys, this.valueColumns, true, this.setValueActive.bind(this, true), Events.EVENT_COLUMN_VALUE_CHANGED, source);\n    };\n    ColumnController.prototype.addValueColumn = function (colKey, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (colKey) {\n            this.addValueColumns([colKey], source);\n        }\n    };\n    ColumnController.prototype.removeValueColumn = function (colKey, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.removeValueColumns([colKey], source);\n    };\n    ColumnController.prototype.removeValueColumns = function (keys, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.updatePrimaryColumnList(keys, this.valueColumns, false, this.setValueActive.bind(this, false), Events.EVENT_COLUMN_VALUE_CHANGED, source);\n    };\n    // returns the width we can set to this col, taking into consideration min and max widths\n    ColumnController.prototype.normaliseColumnWidth = function (column, newWidth) {\n        if (newWidth < column.getMinWidth()) {\n            newWidth = column.getMinWidth();\n        }\n        if (column.isGreaterThanMax(newWidth)) {\n            newWidth = column.getMaxWidth();\n        }\n        return newWidth;\n    };\n    ColumnController.prototype.getPrimaryOrGridColumn = function (key) {\n        var column = this.getPrimaryColumn(key);\n        return column || this.getGridColumn(key);\n    };\n    ColumnController.prototype.setColumnWidths = function (columnWidths, shiftKey, // @takeFromAdjacent - if user has 'shift' pressed, then pixels are taken from adjacent column\n    finished, // @finished - ends up in the event, tells the user if more events are to come\n    source) {\n        var _this = this;\n        if (source === void 0) { source = \"api\"; }\n        var sets = [];\n        columnWidths.forEach(function (columnWidth) {\n            var col = _this.getPrimaryOrGridColumn(columnWidth.key);\n            if (!col) {\n                return;\n            }\n            sets.push({\n                width: columnWidth.newWidth,\n                ratios: [1],\n                columns: [col]\n            });\n            // if user wants to do shift resize by default, then we invert the shift operation\n            var defaultIsShift = _this.gridOptionsWrapper.getColResizeDefault() === 'shift';\n            if (defaultIsShift) {\n                shiftKey = !shiftKey;\n            }\n            if (shiftKey) {\n                var otherCol = _this.getDisplayedColAfter(col);\n                if (!otherCol) {\n                    return;\n                }\n                var widthDiff = col.getActualWidth() - columnWidth.newWidth;\n                var otherColWidth = otherCol.getActualWidth() + widthDiff;\n                sets.push({\n                    width: otherColWidth,\n                    ratios: [1],\n                    columns: [otherCol]\n                });\n            }\n        });\n        if (sets.length === 0) {\n            return;\n        }\n        this.resizeColumnSets(sets, finished, source);\n        if (this.flexActive) {\n            this.refreshFlexedColumns();\n        }\n    };\n    ColumnController.prototype.checkMinAndMaxWidthsForSet = function (columnResizeSet) {\n        var columns = columnResizeSet.columns, width = columnResizeSet.width;\n        // every col has a min width, so sum them all up and see if we have enough room\n        // for all the min widths\n        var minWidthAccumulated = 0;\n        var maxWidthAccumulated = 0;\n        var maxWidthActive = true;\n        columns.forEach(function (col) {\n            minWidthAccumulated += col.getMinWidth();\n            if (col.getMaxWidth() > 0) {\n                maxWidthAccumulated += col.getMaxWidth();\n            }\n            else {\n                // if at least one columns has no max width, it means the group of columns\n                // then has no max width, as at least one column can take as much width as possible\n                maxWidthActive = false;\n            }\n        });\n        var minWidthPasses = width >= minWidthAccumulated;\n        var maxWidthPasses = !maxWidthActive || (width <= maxWidthAccumulated);\n        return minWidthPasses && maxWidthPasses;\n    };\n    // method takes sets of columns and resizes them. either all sets will be resized, or nothing\n    // be resized. this is used for example when user tries to resize a group and holds shift key,\n    // then both the current group (grows), and the adjacent group (shrinks), will get resized,\n    // so that's two sets for this method.\n    ColumnController.prototype.resizeColumnSets = function (resizeSets, finished, source) {\n        var passMinMaxCheck = !resizeSets || resizeSets.every(this.checkMinAndMaxWidthsForSet.bind(this));\n        if (!passMinMaxCheck) {\n            // even though we are not going to resize beyond min/max size, we still need to raise event when finished\n            if (finished) {\n                var columns = resizeSets && resizeSets.length > 0 ? resizeSets[0].columns : null;\n                var event_3 = {\n                    type: Events.EVENT_COLUMN_RESIZED,\n                    columns: columns,\n                    column: columns && columns.length === 1 ? columns[0] : null,\n                    finished: finished,\n                    api: this.gridApi,\n                    columnApi: this.columnApi,\n                    source: source\n                };\n                this.eventService.dispatchEvent(event_3);\n            }\n            return; // don't resize!\n        }\n        var changedCols = [];\n        var allCols = [];\n        resizeSets.forEach(function (set) {\n            var width = set.width, columns = set.columns, ratios = set.ratios;\n            // keep track of pixels used, and last column gets the remaining,\n            // to cater for rounding errors, and min width adjustments\n            var newWidths = {};\n            var finishedCols = {};\n            columns.forEach(function (col) { return allCols.push(col); });\n            // the loop below goes through each col. if a col exceeds it's min/max width,\n            // it then gets set to its min/max width and the column is removed marked as 'finished'\n            // and the calculation is done again leaving this column out. take for example columns\n            // {A, width: 50, maxWidth: 100}\n            // {B, width: 50}\n            // {C, width: 50}\n            // and then the set is set to width 600 - on the first pass the grid tries to set each column\n            // to 200. it checks A and sees 200 > 100 and so sets the width to 100. col A is then marked\n            // as 'finished' and the calculation is done again with the remaining cols B and C, which end up\n            // splitting the remaining 500 pixels.\n            var finishedColsGrew = true;\n            var loopCount = 0;\n            var _loop_2 = function () {\n                loopCount++;\n                if (loopCount > 1000) {\n                    // this should never happen, but in the future, someone might introduce a bug here,\n                    // so we stop the browser from hanging and report bug properly\n                    console.error('ag-Grid: infinite loop in resizeColumnSets');\n                    return \"break\";\n                }\n                finishedColsGrew = false;\n                var subsetCols = [];\n                var subsetRatioTotal = 0;\n                var pixelsToDistribute = width;\n                columns.forEach(function (col, index) {\n                    var thisColFinished = finishedCols[col.getId()];\n                    if (thisColFinished) {\n                        pixelsToDistribute -= newWidths[col.getId()];\n                    }\n                    else {\n                        subsetCols.push(col);\n                        var ratioThisCol = ratios[index];\n                        subsetRatioTotal += ratioThisCol;\n                    }\n                });\n                // because we are not using all of the ratios (cols can be missing),\n                // we scale the ratio. if all columns are included, then subsetRatioTotal=1,\n                // and so the ratioScale will be 1.\n                var ratioScale = 1 / subsetRatioTotal;\n                subsetCols.forEach(function (col, index) {\n                    var lastCol = index === (subsetCols.length - 1);\n                    var colNewWidth;\n                    if (lastCol) {\n                        colNewWidth = pixelsToDistribute;\n                    }\n                    else {\n                        colNewWidth = Math.round(ratios[index] * width * ratioScale);\n                        pixelsToDistribute -= colNewWidth;\n                    }\n                    if (colNewWidth < col.getMinWidth()) {\n                        colNewWidth = col.getMinWidth();\n                        finishedCols[col.getId()] = true;\n                        finishedColsGrew = true;\n                    }\n                    else if (col.getMaxWidth() > 0 && colNewWidth > col.getMaxWidth()) {\n                        colNewWidth = col.getMaxWidth();\n                        finishedCols[col.getId()] = true;\n                        finishedColsGrew = true;\n                    }\n                    newWidths[col.getId()] = colNewWidth;\n                });\n            };\n            while (finishedColsGrew) {\n                var state_1 = _loop_2();\n                if (state_1 === \"break\")\n                    break;\n            }\n            columns.forEach(function (col) {\n                var newWidth = newWidths[col.getId()];\n                if (col.getActualWidth() !== newWidth) {\n                    col.setActualWidth(newWidth, source);\n                    changedCols.push(col);\n                }\n            });\n        });\n        // if no cols changed, then no need to update more or send event.\n        var atLeastOneColChanged = changedCols.length > 0;\n        if (atLeastOneColChanged) {\n            this.setLeftValues(source);\n            this.updateBodyWidths();\n            this.checkDisplayedVirtualColumns();\n        }\n        // check for change first, to avoid unnecessary firing of events\n        // however we always fire 'finished' events. this is important\n        // when groups are resized, as if the group is changing slowly,\n        // eg 1 pixel at a time, then each change will fire change events\n        // in all the columns in the group, but only one with get the pixel.\n        if (atLeastOneColChanged || finished) {\n            var event_4 = {\n                type: Events.EVENT_COLUMN_RESIZED,\n                columns: allCols,\n                column: allCols.length === 1 ? allCols[0] : null,\n                finished: finished,\n                api: this.gridApi,\n                columnApi: this.columnApi,\n                source: source\n            };\n            this.eventService.dispatchEvent(event_4);\n        }\n    };\n    ColumnController.prototype.setColumnAggFunc = function (column, aggFunc, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (!column) {\n            return;\n        }\n        column.setAggFunc(aggFunc);\n        var event = {\n            type: Events.EVENT_COLUMN_VALUE_CHANGED,\n            columns: [column],\n            column: column,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.moveRowGroupColumn = function (fromIndex, toIndex, source) {\n        if (source === void 0) { source = \"api\"; }\n        var column = this.rowGroupColumns[fromIndex];\n        this.rowGroupColumns.splice(fromIndex, 1);\n        this.rowGroupColumns.splice(toIndex, 0, column);\n        var event = {\n            type: Events.EVENT_COLUMN_ROW_GROUP_CHANGED,\n            columns: this.rowGroupColumns,\n            column: this.rowGroupColumns.length === 1 ? this.rowGroupColumns[0] : null,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.moveColumns = function (columnsToMoveKeys, toIndex, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.columnAnimationService.start();\n        if (toIndex > this.gridColumns.length - columnsToMoveKeys.length) {\n            console.warn('ag-Grid: tried to insert columns in invalid location, toIndex = ' + toIndex);\n            console.warn('ag-Grid: remember that you should not count the moving columns when calculating the new index');\n            return;\n        }\n        // we want to pull all the columns out first and put them into an ordered list\n        var columnsToMove = this.getGridColumns(columnsToMoveKeys);\n        var failedRules = !this.doesMovePassRules(columnsToMove, toIndex);\n        if (failedRules) {\n            return;\n        }\n        _.moveInArray(this.gridColumns, columnsToMove, toIndex);\n        this.updateDisplayedColumns(source);\n        var event = {\n            type: Events.EVENT_COLUMN_MOVED,\n            columns: columnsToMove,\n            column: columnsToMove.length === 1 ? columnsToMove[0] : null,\n            toIndex: toIndex,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n        this.columnAnimationService.finish();\n    };\n    ColumnController.prototype.doesMovePassRules = function (columnsToMove, toIndex) {\n        // make a copy of what the grid columns would look like after the move\n        var proposedColumnOrder = this.gridColumns.slice();\n        _.moveInArray(proposedColumnOrder, columnsToMove, toIndex);\n        // then check that the new proposed order of the columns passes all rules\n        if (!this.doesMovePassMarryChildren(proposedColumnOrder)) {\n            return false;\n        }\n        if (!this.doesMovePassLockedPositions(proposedColumnOrder)) {\n            return false;\n        }\n        return true;\n    };\n    ColumnController.prototype.doesMovePassLockedPositions = function (proposedColumnOrder) {\n        var foundNonLocked = false;\n        var rulePassed = true;\n        // go though the cols, see if any non-locked appear before any locked\n        proposedColumnOrder.forEach(function (col) {\n            if (col.getColDef().lockPosition) {\n                if (foundNonLocked) {\n                    rulePassed = false;\n                }\n            }\n            else {\n                foundNonLocked = true;\n            }\n        });\n        return rulePassed;\n    };\n    ColumnController.prototype.doesMovePassMarryChildren = function (allColumnsCopy) {\n        var rulePassed = true;\n        this.columnUtils.depthFirstOriginalTreeSearch(null, this.gridBalancedTree, function (child) {\n            if (!(child instanceof OriginalColumnGroup)) {\n                return;\n            }\n            var columnGroup = child;\n            var marryChildren = columnGroup.getColGroupDef() && columnGroup.getColGroupDef().marryChildren;\n            if (!marryChildren) {\n                return;\n            }\n            var newIndexes = [];\n            columnGroup.getLeafColumns().forEach(function (col) {\n                var newColIndex = allColumnsCopy.indexOf(col);\n                newIndexes.push(newColIndex);\n            });\n            var maxIndex = Math.max.apply(Math, newIndexes);\n            var minIndex = Math.min.apply(Math, newIndexes);\n            // spread is how far the first column in this group is away from the last column\n            var spread = maxIndex - minIndex;\n            var maxSpread = columnGroup.getLeafColumns().length - 1;\n            // if the columns\n            if (spread > maxSpread) {\n                rulePassed = false;\n            }\n            // console.log(`maxIndex = ${maxIndex}, minIndex = ${minIndex}, spread = ${spread}, maxSpread = ${maxSpread}, fail = ${spread > (count-1)}`)\n            // console.log(allColumnsCopy.map( col => col.getColDef().field).join(','));\n        });\n        return rulePassed;\n    };\n    ColumnController.prototype.moveColumn = function (key, toIndex, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.moveColumns([key], toIndex, source);\n    };\n    ColumnController.prototype.moveColumnByIndex = function (fromIndex, toIndex, source) {\n        if (source === void 0) { source = \"api\"; }\n        var column = this.gridColumns[fromIndex];\n        this.moveColumn(column, toIndex, source);\n    };\n    // used by:\n    // + angularGrid -> for setting body width\n    // + rowController -> setting main row widths (when inserting and resizing)\n    // need to cache this\n    ColumnController.prototype.getBodyContainerWidth = function () {\n        return this.bodyWidth;\n    };\n    ColumnController.prototype.getContainerWidth = function (pinned) {\n        switch (pinned) {\n            case Constants.PINNED_LEFT:\n                return this.leftWidth;\n            case Constants.PINNED_RIGHT:\n                return this.rightWidth;\n            default:\n                return this.bodyWidth;\n        }\n    };\n    // after setColumnWidth or updateGroupsAndDisplayedColumns\n    ColumnController.prototype.updateBodyWidths = function () {\n        var newBodyWidth = this.getWidthOfColsInList(this.displayedCenterColumns);\n        var newLeftWidth = this.getWidthOfColsInList(this.displayedLeftColumns);\n        var newRightWidth = this.getWidthOfColsInList(this.displayedRightColumns);\n        // this is used by virtual col calculation, for RTL only, as a change to body width can impact displayed\n        // columns, due to RTL inverting the y coordinates\n        this.bodyWidthDirty = this.bodyWidth !== newBodyWidth;\n        var atLeastOneChanged = this.bodyWidth !== newBodyWidth || this.leftWidth !== newLeftWidth || this.rightWidth !== newRightWidth;\n        if (atLeastOneChanged) {\n            this.bodyWidth = newBodyWidth;\n            this.leftWidth = newLeftWidth;\n            this.rightWidth = newRightWidth;\n            // when this fires, it is picked up by the gridPanel, which ends up in\n            // gridPanel calling setWidthAndScrollPosition(), which in turn calls setVirtualViewportPosition()\n            var event_5 = {\n                type: Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,\n                api: this.gridApi,\n                columnApi: this.columnApi\n            };\n            this.eventService.dispatchEvent(event_5);\n        }\n    };\n    // + rowController\n    ColumnController.prototype.getValueColumns = function () {\n        return this.valueColumns ? this.valueColumns : [];\n    };\n    // + rowController\n    ColumnController.prototype.getPivotColumns = function () {\n        return this.pivotColumns ? this.pivotColumns : [];\n    };\n    // + clientSideRowModel\n    ColumnController.prototype.isPivotActive = function () {\n        return this.pivotColumns && this.pivotColumns.length > 0 && this.pivotMode;\n    };\n    // + toolPanel\n    ColumnController.prototype.getRowGroupColumns = function () {\n        return this.rowGroupColumns ? this.rowGroupColumns : [];\n    };\n    // + rowController -> while inserting rows\n    ColumnController.prototype.getDisplayedCenterColumns = function () {\n        return this.displayedCenterColumns;\n    };\n    // + rowController -> while inserting rows\n    ColumnController.prototype.getDisplayedLeftColumns = function () {\n        return this.displayedLeftColumns;\n    };\n    ColumnController.prototype.getDisplayedRightColumns = function () {\n        return this.displayedRightColumns;\n    };\n    ColumnController.prototype.getDisplayedColumns = function (type) {\n        switch (type) {\n            case Constants.PINNED_LEFT:\n                return this.getDisplayedLeftColumns();\n            case Constants.PINNED_RIGHT:\n                return this.getDisplayedRightColumns();\n            default:\n                return this.getDisplayedCenterColumns();\n        }\n    };\n    // used by:\n    // + clientSideRowController -> sorting, building quick filter text\n    // + headerRenderer -> sorting (clearing icon)\n    ColumnController.prototype.getAllPrimaryColumns = function () {\n        return this.primaryColumns ? this.primaryColumns.slice() : null;\n    };\n    ColumnController.prototype.getSecondaryColumns = function () {\n        return this.secondaryColumns ? this.secondaryColumns.slice() : null;\n    };\n    ColumnController.prototype.getAllColumnsForQuickFilter = function () {\n        return this.columnsForQuickFilter;\n    };\n    // + moveColumnController\n    ColumnController.prototype.getAllGridColumns = function () {\n        return this.gridColumns;\n    };\n    ColumnController.prototype.isEmpty = function () {\n        return _.missingOrEmpty(this.gridColumns);\n    };\n    ColumnController.prototype.isRowGroupEmpty = function () {\n        return _.missingOrEmpty(this.rowGroupColumns);\n    };\n    ColumnController.prototype.setColumnVisible = function (key, visible, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.setColumnsVisible([key], visible, source);\n    };\n    ColumnController.prototype.setColumnsVisible = function (keys, visible, source) {\n        var _this = this;\n        if (source === void 0) { source = \"api\"; }\n        this.columnAnimationService.start();\n        this.actionOnGridColumns(keys, function (column) {\n            if (column.isVisible() !== visible) {\n                column.setVisible(visible, source);\n                return true;\n            }\n            return false;\n        }, source, function () {\n            var event = {\n                type: Events.EVENT_COLUMN_VISIBLE,\n                visible: visible,\n                column: null,\n                columns: null,\n                api: _this.gridApi,\n                columnApi: _this.columnApi,\n                source: source\n            };\n            return event;\n        });\n        this.columnAnimationService.finish();\n    };\n    ColumnController.prototype.setColumnPinned = function (key, pinned, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (key) {\n            this.setColumnsPinned([key], pinned, source);\n        }\n    };\n    ColumnController.prototype.setColumnsPinned = function (keys, pinned, source) {\n        var _this = this;\n        if (source === void 0) { source = \"api\"; }\n        if (this.gridOptionsWrapper.getDomLayout() === 'print') {\n            console.warn(\"Changing the column pinning status is not allowed with domLayout='print'\");\n            return;\n        }\n        this.columnAnimationService.start();\n        var actualPinned;\n        if (pinned === true || pinned === Constants.PINNED_LEFT) {\n            actualPinned = Constants.PINNED_LEFT;\n        }\n        else if (pinned === Constants.PINNED_RIGHT) {\n            actualPinned = Constants.PINNED_RIGHT;\n        }\n        else {\n            actualPinned = null;\n        }\n        this.actionOnGridColumns(keys, function (col) {\n            if (col.getPinned() !== actualPinned) {\n                col.setPinned(actualPinned);\n                return true;\n            }\n            return false;\n        }, source, function () {\n            var event = {\n                type: Events.EVENT_COLUMN_PINNED,\n                pinned: actualPinned,\n                column: null,\n                columns: null,\n                api: _this.gridApi,\n                columnApi: _this.columnApi,\n                source: source\n            };\n            return event;\n        });\n        this.columnAnimationService.finish();\n    };\n    // does an action on a set of columns. provides common functionality for looking up the\n    // columns based on key, getting a list of effected columns, and then updated the event\n    // with either one column (if it was just one col) or a list of columns\n    // used by: autoResize, setVisible, setPinned\n    ColumnController.prototype.actionOnGridColumns = function (// the column keys this action will be on\n    keys, \n    // the action to do - if this returns false, the column was skipped\n    // and won't be included in the event\n    action, \n    // should return back a column event of the right type\n    source, createEvent) {\n        var _this = this;\n        if (_.missingOrEmpty(keys)) {\n            return;\n        }\n        var updatedColumns = [];\n        keys.forEach(function (key) {\n            var column = _this.getGridColumn(key);\n            if (!column) {\n                return;\n            }\n            // need to check for false with type (ie !== instead of !=)\n            // as not returning anything (undefined) would also be false\n            var resultOfAction = action(column);\n            if (resultOfAction !== false) {\n                updatedColumns.push(column);\n            }\n        });\n        if (!updatedColumns.length) {\n            return;\n        }\n        this.updateDisplayedColumns(source);\n        if (_.exists(createEvent) && createEvent) {\n            var event_6 = createEvent();\n            event_6.columns = updatedColumns;\n            event_6.column = updatedColumns.length === 1 ? updatedColumns[0] : null;\n            this.eventService.dispatchEvent(event_6);\n        }\n    };\n    ColumnController.prototype.getDisplayedColBefore = function (col) {\n        var allDisplayedColumns = this.getAllDisplayedColumns();\n        var oldIndex = allDisplayedColumns.indexOf(col);\n        if (oldIndex > 0) {\n            return allDisplayedColumns[oldIndex - 1];\n        }\n        return null;\n    };\n    // used by:\n    // + rowRenderer -> for navigation\n    ColumnController.prototype.getDisplayedColAfter = function (col) {\n        var allDisplayedColumns = this.getAllDisplayedColumns();\n        var oldIndex = allDisplayedColumns.indexOf(col);\n        if (oldIndex < (allDisplayedColumns.length - 1)) {\n            return allDisplayedColumns[oldIndex + 1];\n        }\n        return null;\n    };\n    ColumnController.prototype.getDisplayedGroupAfter = function (columnGroup) {\n        // pick one col in this group at random\n        var col = columnGroup.getDisplayedLeafColumns()[0];\n        var requiredLevel = columnGroup.getOriginalColumnGroup().getLevel();\n        while (true) {\n            // keep moving to the next col, until we get to another group\n            col = this.getDisplayedColAfter(col);\n            // if no col after, means no group after\n            if (!col) {\n                return null;\n            }\n            // get group at same level as the one we are looking for\n            var groupPointer = col.getParent();\n            while (groupPointer.getOriginalColumnGroup().getLevel() !== requiredLevel) {\n                groupPointer = groupPointer.getParent();\n            }\n            if (groupPointer !== columnGroup) {\n                return groupPointer;\n            }\n        }\n    };\n    ColumnController.prototype.isPinningLeft = function () {\n        return this.displayedLeftColumns.length > 0;\n    };\n    ColumnController.prototype.isPinningRight = function () {\n        return this.displayedRightColumns.length > 0;\n    };\n    ColumnController.prototype.getPrimaryAndSecondaryAndAutoColumns = function () {\n        var result = this.primaryColumns ? this.primaryColumns.slice(0) : [];\n        if (this.groupAutoColumns && _.exists(this.groupAutoColumns)) {\n            this.groupAutoColumns.forEach(function (col) { return result.push(col); });\n        }\n        if (this.secondaryColumnsPresent && this.secondaryColumns) {\n            this.secondaryColumns.forEach(function (column) { return result.push(column); });\n        }\n        return result;\n    };\n    ColumnController.prototype.createStateItemFromColumn = function (column) {\n        var rowGroupIndex = column.isRowGroupActive() ? this.rowGroupColumns.indexOf(column) : null;\n        var pivotIndex = column.isPivotActive() ? this.pivotColumns.indexOf(column) : null;\n        var aggFunc = column.isValueActive() ? column.getAggFunc() : null;\n        return {\n            colId: column.getColId(),\n            hide: !column.isVisible(),\n            aggFunc: aggFunc,\n            width: column.getActualWidth(),\n            pivotIndex: pivotIndex,\n            pinned: column.getPinned(),\n            rowGroupIndex: rowGroupIndex,\n            flex: column.getFlex()\n        };\n    };\n    ColumnController.prototype.getColumnState = function () {\n        if (_.missing(this.primaryColumns)) {\n            return [];\n        }\n        var primaryColumnState = this.primaryColumns.map(this.createStateItemFromColumn.bind(this));\n        var groupAutoColumnState = this.groupAutoColumns\n            // if groupAutoCols, then include them\n            ? this.groupAutoColumns.map(this.createStateItemFromColumn.bind(this))\n            // otherwise no\n            : [];\n        var columnStateList = groupAutoColumnState.concat(primaryColumnState);\n        if (!this.pivotMode) {\n            this.orderColumnStateList(columnStateList);\n        }\n        return columnStateList;\n    };\n    ColumnController.prototype.orderColumnStateList = function (columnStateList) {\n        var gridColumnIds = this.gridColumns.map(function (column) { return column.getColId(); });\n        columnStateList.sort(function (itemA, itemB) {\n            var posA = gridColumnIds.indexOf(itemA.colId);\n            var posB = gridColumnIds.indexOf(itemB.colId);\n            return posA - posB;\n        });\n    };\n    ColumnController.prototype.resetColumnState = function (suppressEverythingEvent, source) {\n        // NOTE = there is one bug here that no customer has noticed - if a column has colDef.lockPosition,\n        // this is ignored  below when ordering the cols. to work, we should always put lockPosition cols first.\n        // As a work around, developers should just put lockPosition columns first in their colDef list.\n        if (suppressEverythingEvent === void 0) { suppressEverythingEvent = false; }\n        if (source === void 0) { source = \"api\"; }\n        // we can't use 'allColumns' as the order might of messed up, so get the primary ordered list\n        var primaryColumns = this.getColumnsFromTree(this.primaryColumnTree);\n        var columnStates = [];\n        // we start at 1000, so if user has mix of rowGroup and group specified, it will work with both.\n        // eg IF user has ColA.rowGroupIndex=0, ColB.rowGroupIndex=1, ColC.rowGroup=true,\n        // THEN result will be ColA.rowGroupIndex=0, ColB.rowGroupIndex=1, ColC.rowGroup=1000\n        var letRowGroupIndex = 1000;\n        var letPivotIndex = 1000;\n        if (primaryColumns) {\n            primaryColumns.forEach(function (column) {\n                var rowGroupIndex = column.getColDef().rowGroupIndex;\n                var rowGroup = column.getColDef().rowGroup;\n                var pivotIndex = column.getColDef().pivotIndex;\n                var pivot = column.getColDef().pivot;\n                var stateItem = {\n                    colId: column.getColId(),\n                    aggFunc: column.getColDef().aggFunc,\n                    hide: column.getColDef().hide,\n                    pinned: column.getColDef().pinned,\n                    rowGroupIndex: rowGroupIndex,\n                    pivotIndex: column.getColDef().pivotIndex,\n                    width: column.getColDef().width\n                };\n                if (_.missing(rowGroupIndex) && rowGroup) {\n                    stateItem.rowGroupIndex = letRowGroupIndex++;\n                }\n                if (_.missing(pivotIndex) && pivot) {\n                    stateItem.pivotIndex = letPivotIndex++;\n                }\n                columnStates.push(stateItem);\n            });\n        }\n        this.setColumnState(columnStates, suppressEverythingEvent, source);\n    };\n    ColumnController.prototype.setColumnState = function (columnStates, suppressEverythingEvent, source) {\n        var _this = this;\n        if (suppressEverythingEvent === void 0) { suppressEverythingEvent = false; }\n        if (source === void 0) { source = \"api\"; }\n        if (_.missingOrEmpty(this.primaryColumns)) {\n            return false;\n        }\n        var columnStateBefore = this.getColumnState();\n        this.autoGroupsNeedBuilding = true;\n        // at the end below, this list will have all columns we got no state for\n        var columnsWithNoState = this.primaryColumns.slice();\n        this.rowGroupColumns = [];\n        this.valueColumns = [];\n        this.pivotColumns = [];\n        var success = true;\n        var rowGroupIndexes = {};\n        var pivotIndexes = {};\n        var autoGroupColumnStates = [];\n        if (columnStates) {\n            columnStates.forEach(function (state) {\n                // auto group columns are re-created so deferring syncing with ColumnState\n                if (_.exists(_this.getAutoColumn(state.colId))) {\n                    autoGroupColumnStates.push(state);\n                    return;\n                }\n                var column = _this.getPrimaryColumn(state.colId);\n                if (!column) {\n                    console.warn('ag-grid: column ' + state.colId + ' not found');\n                    success = false;\n                }\n                else {\n                    _this.syncColumnWithStateItem(column, state, rowGroupIndexes, pivotIndexes, source);\n                    _.removeFromArray(columnsWithNoState, column);\n                }\n            });\n            if (this.flexActive) {\n                this.refreshFlexedColumns(undefined, undefined, true);\n            }\n        }\n        // anything left over, we got no data for, so add in the column as non-value, non-rowGroup and hidden\n        columnsWithNoState.forEach(this.syncColumnWithNoState.bind(this));\n        // sort the lists according to the indexes that were provided\n        this.rowGroupColumns.sort(this.sortColumnListUsingIndexes.bind(this, rowGroupIndexes));\n        this.pivotColumns.sort(this.sortColumnListUsingIndexes.bind(this, pivotIndexes));\n        this.updateGridColumns();\n        // sync newly created auto group columns with ColumnState\n        autoGroupColumnStates.forEach(function (stateItem) {\n            var autoCol = _this.getAutoColumn(stateItem.colId);\n            _this.syncColumnWithStateItem(autoCol, stateItem, rowGroupIndexes, pivotIndexes, source);\n        });\n        if (columnStates) {\n            var orderOfColIds_1 = columnStates.map(function (stateItem) { return stateItem.colId; });\n            this.gridColumns.sort(function (colA, colB) {\n                var indexA = orderOfColIds_1.indexOf(colA.getId());\n                var indexB = orderOfColIds_1.indexOf(colB.getId());\n                return indexA - indexB;\n            });\n        }\n        // this is already done in updateGridColumns, however we changed the order above (to match the order of the state\n        // columns) so we need to do it again. we could of put logic into the order above to take into account fixed\n        // columns, however if we did then we would have logic for updating fixed columns twice. reusing the logic here\n        // is less sexy for the code here, but it keeps consistency.\n        this.putFixedColumnsFirst();\n        this.updateDisplayedColumns(source);\n        if (!suppressEverythingEvent) {\n            var event_7 = {\n                type: Events.EVENT_COLUMN_EVERYTHING_CHANGED,\n                api: this.gridApi,\n                columnApi: this.columnApi,\n                source: source\n            };\n            this.eventService.dispatchEvent(event_7);\n        }\n        this.raiseColumnEvents(columnStateBefore, source);\n        return success;\n    };\n    ColumnController.prototype.raiseColumnEvents = function (columnStateBefore, source) {\n        var _this = this;\n        if (this.gridOptionsWrapper.isSuppressSetColumnStateEvents()) {\n            return;\n        }\n        var columnStateAfter = this.getColumnState();\n        // raises generic ColumnEvents where all columns are returned rather than what has changed\n        var raiseEventWithAllColumns = function (eventType, idMapper, columns) {\n            var unchanged = areEqual(columnStateBefore.map(idMapper).sort(), columnStateAfter.map(idMapper).sort());\n            if (unchanged) {\n                return;\n            }\n            // returning all columns rather than what has changed!\n            var event = {\n                type: eventType,\n                columns: columns,\n                column: columns.length === 1 ? columns[0] : null,\n                api: _this.gridApi,\n                columnApi: _this.columnApi,\n                source: source\n            };\n            _this.eventService.dispatchEvent(event);\n        };\n        // determines which columns have changed according to supplied predicate\n        var getChangedColumns = function (changedPredicate) {\n            var changedColumns = [];\n            var columnStateBeforeMap = {};\n            columnStateBefore.forEach(function (col) {\n                columnStateBeforeMap[col.colId] = col;\n            });\n            _this.gridColumns.forEach(function (column) {\n                var colStateBefore = columnStateBeforeMap[column.getColId()];\n                if (!colStateBefore || changedPredicate(colStateBefore, column)) {\n                    changedColumns.push(column);\n                }\n            });\n            return changedColumns;\n        };\n        // generic ColumnEvents which return current column list\n        var valueColumnIdMapper = function (cs) { return cs.colId + '-' + cs.aggFunc; };\n        raiseEventWithAllColumns(Events.EVENT_COLUMN_VALUE_CHANGED, valueColumnIdMapper, this.valueColumns);\n        var pivotColumnIdMapper = function (cs) { return cs.colId + '-' + cs.pivotIndex; };\n        raiseEventWithAllColumns(Events.EVENT_COLUMN_PIVOT_CHANGED, pivotColumnIdMapper, this.pivotColumns);\n        var rowGroupColumnIdMapper = function (cs) { return cs.colId + '-' + cs.rowGroupIndex; };\n        raiseEventWithAllColumns(Events.EVENT_COLUMN_ROW_GROUP_CHANGED, rowGroupColumnIdMapper, this.rowGroupColumns);\n        // specific ColumnEvents which return what's changed\n        var pinnedChangePredicate = function (cs, c) { return cs.pinned !== c.getPinned(); };\n        this.raiseColumnPinnedEvent(getChangedColumns(pinnedChangePredicate), source);\n        var visibilityChangePredicate = function (cs, c) { return cs.hide === c.isVisible(); };\n        var cols = getChangedColumns(visibilityChangePredicate);\n        this.raiseColumnVisibleEvent(cols, source);\n        var resizeChangePredicate = function (cs, c) { return cs.width !== c.getActualWidth(); };\n        this.raiseColumnResizeEvent(getChangedColumns(resizeChangePredicate), source);\n        // special handling for moved column events\n        this.raiseColumnMovedEvent(columnStateBefore, source);\n    };\n    ColumnController.prototype.raiseColumnPinnedEvent = function (changedColumns, source) {\n        if (!changedColumns.length) {\n            return;\n        }\n        var event = {\n            type: Events.EVENT_COLUMN_PINNED,\n            pinned: null,\n            columns: changedColumns,\n            column: null,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.raiseColumnVisibleEvent = function (changedColumns, source) {\n        if (!changedColumns.length) {\n            return;\n        }\n        var event = {\n            type: Events.EVENT_COLUMN_VISIBLE,\n            visible: undefined,\n            columns: changedColumns,\n            column: null,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.raiseColumnResizeEvent = function (changedColumns, source) {\n        if (!changedColumns.length) {\n            return;\n        }\n        var event = {\n            type: Events.EVENT_COLUMN_RESIZED,\n            columns: changedColumns,\n            column: null,\n            finished: true,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.raiseColumnMovedEvent = function (columnStateBefore, source) {\n        var movedColumns = [];\n        var columnStateAfter = this.getColumnState();\n        var _loop_3 = function (i) {\n            var before = columnStateBefore[i];\n            var after = columnStateAfter[i];\n            // don't consider column if reintroduced or hidden\n            if (!before || after.hide) {\n                return \"continue\";\n            }\n            if (before.colId !== after.colId) {\n                var predicate = function (column) { return column.getColId() === after.colId; };\n                var movedColumn = _.find(this_1.allDisplayedColumns, predicate);\n                movedColumns.push(movedColumn);\n            }\n        };\n        var this_1 = this;\n        for (var i = 0; i < columnStateAfter.length; i++) {\n            _loop_3(i);\n        }\n        if (!movedColumns.length) {\n            return;\n        }\n        var event = {\n            type: Events.EVENT_COLUMN_MOVED,\n            columns: movedColumns,\n            column: null,\n            toIndex: undefined,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            source: source\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.sortColumnListUsingIndexes = function (indexes, colA, colB) {\n        var indexA = indexes[colA.getId()];\n        var indexB = indexes[colB.getId()];\n        return indexA - indexB;\n    };\n    ColumnController.prototype.syncColumnWithNoState = function (column, source) {\n        column.setVisible(false, source);\n        column.setAggFunc(null);\n        column.setPinned(null);\n        column.setRowGroupActive(false, source);\n        column.setPivotActive(false, source);\n        column.setValueActive(false, source);\n    };\n    ColumnController.prototype.syncColumnWithStateItem = function (column, stateItem, rowGroupIndexes, pivotIndexes, source) {\n        if (!column) {\n            return;\n        }\n        // following ensures we are left with boolean true or false, eg converts (null, undefined, 0) all to true\n        column.setVisible(!stateItem.hide, source);\n        // sets pinned to 'left' or 'right'\n        column.setPinned(stateItem.pinned);\n        // if width provided and valid, use it, otherwise stick with the old width\n        var minColWidth = this.gridOptionsWrapper.getMinColWidth();\n        if (stateItem.flex != null) {\n            column.setFlex(stateItem.flex);\n            if (!this.flexActive && stateItem.flex) {\n                this.flexActive = true;\n            }\n        }\n        if (stateItem.width && minColWidth &&\n            (stateItem.width >= minColWidth)) {\n            column.setActualWidth(stateItem.width, source);\n        }\n        if (typeof stateItem.aggFunc === 'string') {\n            column.setAggFunc(stateItem.aggFunc);\n            column.setValueActive(true, source);\n            this.valueColumns.push(column);\n        }\n        else {\n            if (_.exists(stateItem.aggFunc)) {\n                console.warn('ag-Grid: stateItem.aggFunc must be a string. if using your own aggregation ' +\n                    'functions, register the functions first before using them in get/set state. This is because it is ' +\n                    'intended for the column state to be stored and retrieved as simple JSON.');\n            }\n            column.setAggFunc(null);\n            column.setValueActive(false, source);\n        }\n        if (typeof stateItem.rowGroupIndex === 'number') {\n            this.rowGroupColumns.push(column);\n            column.setRowGroupActive(true, source);\n            rowGroupIndexes[column.getId()] = stateItem.rowGroupIndex;\n        }\n        else {\n            column.setRowGroupActive(false, source);\n        }\n        if (typeof stateItem.pivotIndex === 'number') {\n            this.pivotColumns.push(column);\n            column.setPivotActive(true, source);\n            pivotIndexes[column.getId()] = stateItem.pivotIndex;\n        }\n        else {\n            column.setPivotActive(false, source);\n        }\n    };\n    ColumnController.prototype.getGridColumns = function (keys) {\n        return this.getColumns(keys, this.getGridColumn.bind(this));\n    };\n    ColumnController.prototype.getColumns = function (keys, columnLookupCallback) {\n        var foundColumns = [];\n        if (keys) {\n            keys.forEach(function (key) {\n                var column = columnLookupCallback(key);\n                if (column) {\n                    foundColumns.push(column);\n                }\n            });\n        }\n        return foundColumns;\n    };\n    // used by growGroupPanel\n    ColumnController.prototype.getColumnWithValidation = function (key) {\n        if (key == null) {\n            return null;\n        }\n        var column = this.getGridColumn(key);\n        if (!column) {\n            console.warn('ag-Grid: could not find column ' + key);\n        }\n        return column;\n    };\n    ColumnController.prototype.getPrimaryColumn = function (key) {\n        return this.getColumn(key, this.primaryColumns);\n    };\n    ColumnController.prototype.getGridColumn = function (key) {\n        return this.getColumn(key, this.gridColumns);\n    };\n    ColumnController.prototype.getColumn = function (key, columnList) {\n        if (!key) {\n            return null;\n        }\n        for (var i = 0; i < columnList.length; i++) {\n            if (this.columnsMatch(columnList[i], key)) {\n                return columnList[i];\n            }\n        }\n        return this.getAutoColumn(key);\n    };\n    ColumnController.prototype.getAutoColumn = function (key) {\n        var _this = this;\n        if (!this.groupAutoColumns ||\n            !_.exists(this.groupAutoColumns) ||\n            _.missing(this.groupAutoColumns)) {\n            return null;\n        }\n        return _.find(this.groupAutoColumns, function (groupCol) { return _this.columnsMatch(groupCol, key); });\n    };\n    ColumnController.prototype.columnsMatch = function (column, key) {\n        var columnMatches = column === key;\n        var colDefMatches = column.getColDef() === key;\n        var idMatches = column.getColId() == key;\n        return columnMatches || colDefMatches || idMatches;\n    };\n    ColumnController.prototype.getDisplayNameForColumn = function (column, location, includeAggFunc) {\n        if (includeAggFunc === void 0) { includeAggFunc = false; }\n        if (!column) {\n            return null;\n        }\n        var headerName = this.getHeaderName(column.getColDef(), column, null, null, location);\n        if (includeAggFunc) {\n            return this.wrapHeaderNameWithAggFunc(column, headerName);\n        }\n        return headerName;\n    };\n    ColumnController.prototype.getDisplayNameForOriginalColumnGroup = function (columnGroup, originalColumnGroup, location) {\n        var colGroupDef = originalColumnGroup ? originalColumnGroup.getColGroupDef() : null;\n        if (colGroupDef) {\n            return this.getHeaderName(colGroupDef, null, columnGroup, originalColumnGroup, location);\n        }\n        return null;\n    };\n    ColumnController.prototype.getDisplayNameForColumnGroup = function (columnGroup, location) {\n        return this.getDisplayNameForOriginalColumnGroup(columnGroup, columnGroup.getOriginalColumnGroup(), location);\n    };\n    // location is where the column is going to appear, ie who is calling us\n    ColumnController.prototype.getHeaderName = function (colDef, column, columnGroup, originalColumnGroup, location) {\n        var headerValueGetter = colDef.headerValueGetter;\n        if (headerValueGetter) {\n            var params = {\n                colDef: colDef,\n                column: column,\n                columnGroup: columnGroup,\n                originalColumnGroup: originalColumnGroup,\n                location: location,\n                api: this.gridOptionsWrapper.getApi(),\n                context: this.gridOptionsWrapper.getContext()\n            };\n            if (typeof headerValueGetter === 'function') {\n                // valueGetter is a function, so just call it\n                return headerValueGetter(params);\n            }\n            else if (typeof headerValueGetter === 'string') {\n                // valueGetter is an expression, so execute the expression\n                return this.expressionService.evaluate(headerValueGetter, params);\n            }\n            console.warn('ag-grid: headerValueGetter must be a function or a string');\n            return '';\n        }\n        else if (colDef.headerName != null) {\n            return colDef.headerName;\n        }\n        else if (colDef.field) {\n            return _.camelCaseToHumanText(colDef.field);\n        }\n        return '';\n    };\n    /*\n        private getHeaderGroupName(columnGroup: ColumnGroup): string {\n            let colGroupDef = columnGroup.getOriginalColumnGroup().getColGroupDef();\n            let headerValueGetter = colGroupDef.headerValueGetter;\n\n            if (headerValueGetter) {\n                let params = {\n                    columnGroup: columnGroup,\n                    colDef: colGroupDef,\n                    api: this.gridOptionsWrapper.getApi(),\n                    context: this.gridOptionsWrapper.getContext()\n                };\n\n                if (typeof headerValueGetter === 'function') {\n                    // valueGetter is a function, so just call it\n                    return headerValueGetter(params);\n                } else if (typeof headerValueGetter === 'string') {\n                    // valueGetter is an expression, so execute the expression\n                    return this.expressionService.evaluate(headerValueGetter, params);\n                } else {\n                    console.warn('ag-grid: headerValueGetter must be a function or a string');\n                    return '';\n                }\n            } else {\n                return colGroupDef.headerName;\n            }\n        }\n    */\n    ColumnController.prototype.wrapHeaderNameWithAggFunc = function (column, headerName) {\n        if (this.gridOptionsWrapper.isSuppressAggFuncInHeader()) {\n            return headerName;\n        }\n        // only columns with aggregation active can have aggregations\n        var pivotValueColumn = column.getColDef().pivotValueColumn;\n        var pivotActiveOnThisColumn = _.exists(pivotValueColumn);\n        var aggFunc = null;\n        var aggFuncFound;\n        // otherwise we have a measure that is active, and we are doing aggregation on it\n        if (pivotActiveOnThisColumn) {\n            aggFunc = pivotValueColumn ? pivotValueColumn.getAggFunc() : null;\n            aggFuncFound = true;\n        }\n        else {\n            var measureActive = column.isValueActive();\n            var aggregationPresent = this.pivotMode || !this.isRowGroupEmpty();\n            if (measureActive && aggregationPresent) {\n                aggFunc = column.getAggFunc();\n                aggFuncFound = true;\n            }\n            else {\n                aggFuncFound = false;\n            }\n        }\n        if (aggFuncFound) {\n            var aggFuncString = (typeof aggFunc === 'string') ? aggFunc : 'func';\n            var localeTextFunc = this.gridOptionsWrapper.getLocaleTextFunc();\n            var aggFuncStringTranslated = localeTextFunc(aggFuncString, aggFuncString);\n            return aggFuncStringTranslated + \"(\" + headerName + \")\";\n        }\n        return headerName;\n    };\n    // returns the group with matching colId and instanceId. If instanceId is missing,\n    // matches only on the colId.\n    ColumnController.prototype.getColumnGroup = function (colId, instanceId) {\n        if (!colId) {\n            return null;\n        }\n        if (colId instanceof ColumnGroup) {\n            return colId;\n        }\n        var allColumnGroups = this.getAllDisplayedColumnGroups();\n        var checkInstanceId = typeof instanceId === 'number';\n        var result = null;\n        this.columnUtils.depthFirstAllColumnTreeSearch(allColumnGroups, function (child) {\n            if (child instanceof ColumnGroup) {\n                var columnGroup = child;\n                var matched = void 0;\n                if (checkInstanceId) {\n                    matched = colId === columnGroup.getGroupId() && instanceId === columnGroup.getInstanceId();\n                }\n                else {\n                    matched = colId === columnGroup.getGroupId();\n                }\n                if (matched) {\n                    result = columnGroup;\n                }\n            }\n        });\n        return result;\n    };\n    ColumnController.prototype.isReady = function () {\n        return this.ready;\n    };\n    ColumnController.prototype.createValueColumns = function (source, oldPrimaryColumns) {\n        this.valueColumns = this.extractColumns(oldPrimaryColumns, this.valueColumns, function (col, flag) { return col.setValueActive(flag, source); }, \n        // aggFunc doesn't have index variant, cos order of value cols doesn't matter, so always return null\n        function () { return null; }, \n        // aggFunc is a string, so return it's existence\n        function (colDef) { return !!colDef.aggFunc; });\n        // all new columns added will have aggFunc missing, so set it to what is in the colDef\n        this.valueColumns.forEach(function (col) {\n            if (!col.getAggFunc()) {\n                col.setAggFunc(col.getColDef().aggFunc);\n            }\n        });\n    };\n    ColumnController.prototype.extractRowGroupColumns = function (source, oldPrimaryColumns) {\n        this.rowGroupColumns = this.extractColumns(oldPrimaryColumns, this.rowGroupColumns, function (col, flag) { return col.setRowGroupActive(flag, source); }, function (colDef) { return colDef.rowGroupIndex; }, function (colDef) { return colDef.rowGroup; });\n    };\n    ColumnController.prototype.extractColumns = function (oldPrimaryColumns, previousCols, setFlagFunc, getIndexFunc, getValueFunc) {\n        var _this = this;\n        if (!previousCols) {\n            previousCols = [];\n        }\n        // remove cols that no longer exist\n        var colPresentInPrimaryFunc = function (col) { return _this.primaryColumns.indexOf(col) >= 0; };\n        var colMissingFromPrimaryFunc = function (col) { return _this.primaryColumns.indexOf(col) < 0; };\n        var colNewFunc = function (col) { return !oldPrimaryColumns || oldPrimaryColumns.indexOf(col) < 0; };\n        var removedCols = previousCols.filter(colMissingFromPrimaryFunc);\n        var existingCols = previousCols.filter(colPresentInPrimaryFunc);\n        var newPrimaryCols = this.primaryColumns.filter(colNewFunc);\n        removedCols.forEach(function (col) { return setFlagFunc(col, false); });\n        var newCols = [];\n        // we only want to work on new columns, as old columns already got processed first time around\n        // pull out items with xxxIndex\n        newPrimaryCols.forEach(function (col) {\n            var index = getIndexFunc(col.getColDef());\n            if (typeof index === 'number') {\n                newCols.push(col);\n            }\n        });\n        // then sort them\n        newCols.sort(function (colA, colB) {\n            var indexA = getIndexFunc(colA.getColDef());\n            var indexB = getIndexFunc(colB.getColDef());\n            if (indexA === indexB) {\n                return 0;\n            }\n            else if (indexA < indexB) {\n                return -1;\n            }\n            return 1;\n        });\n        // now just pull out items xxx (boolean value), they will be added at the end\n        // after the indexed ones, but in the order the columns appear\n        newPrimaryCols.forEach(function (col) {\n            var booleanValue = getValueFunc(col.getColDef());\n            if (booleanValue) {\n                // if user already specified xxxIndex then we skip it as this col already included\n                if (newCols.indexOf(col) >= 0) {\n                    return;\n                }\n                newCols.push(col);\n            }\n        });\n        newCols.forEach(function (col) { return setFlagFunc(col, true); });\n        var res = existingCols.concat(newCols);\n        return res;\n    };\n    ColumnController.prototype.extractPivotColumns = function (source, oldPrimaryColumns) {\n        this.pivotColumns = this.extractColumns(oldPrimaryColumns, this.pivotColumns, function (col, flag) { return col.setPivotActive(flag, source); }, function (colDef) { return colDef.pivotIndex; }, function (colDef) { return colDef.pivot; });\n    };\n    ColumnController.prototype.resetColumnGroupState = function (source) {\n        if (source === void 0) { source = \"api\"; }\n        var stateItems = [];\n        this.columnUtils.depthFirstOriginalTreeSearch(null, this.primaryColumnTree, function (child) {\n            if (child instanceof OriginalColumnGroup) {\n                var groupState = {\n                    groupId: child.getGroupId(),\n                    open: child.getColGroupDef().openByDefault\n                };\n                stateItems.push(groupState);\n            }\n        });\n        this.setColumnGroupState(stateItems, source);\n    };\n    ColumnController.prototype.getColumnGroupState = function () {\n        var columnGroupState = [];\n        this.columnUtils.depthFirstOriginalTreeSearch(null, this.gridBalancedTree, function (node) {\n            if (node instanceof OriginalColumnGroup) {\n                var originalColumnGroup = node;\n                columnGroupState.push({\n                    groupId: originalColumnGroup.getGroupId(),\n                    open: originalColumnGroup.isExpanded()\n                });\n            }\n        });\n        return columnGroupState;\n    };\n    ColumnController.prototype.setColumnGroupState = function (stateItems, source) {\n        var _this = this;\n        if (source === void 0) { source = \"api\"; }\n        this.columnAnimationService.start();\n        var impactedGroups = [];\n        stateItems.forEach(function (stateItem) {\n            var groupKey = stateItem.groupId;\n            var newValue = stateItem.open;\n            var originalColumnGroup = _this.getOriginalColumnGroup(groupKey);\n            if (!originalColumnGroup) {\n                return;\n            }\n            if (originalColumnGroup.isExpanded() === newValue) {\n                return;\n            }\n            _this.logger.log('columnGroupOpened(' + originalColumnGroup.getGroupId() + ',' + newValue + ')');\n            originalColumnGroup.setExpanded(newValue);\n            impactedGroups.push(originalColumnGroup);\n        });\n        this.updateGroupsAndDisplayedColumns(source);\n        this.setFirstRightAndLastLeftPinned(source);\n        impactedGroups.forEach(function (originalColumnGroup) {\n            var event = {\n                type: Events.EVENT_COLUMN_GROUP_OPENED,\n                columnGroup: originalColumnGroup,\n                api: _this.gridApi,\n                columnApi: _this.columnApi\n            };\n            _this.eventService.dispatchEvent(event);\n        });\n        this.columnAnimationService.finish();\n    };\n    // called by headerRenderer - when a header is opened or closed\n    ColumnController.prototype.setColumnGroupOpened = function (key, newValue, source) {\n        if (source === void 0) { source = \"api\"; }\n        var keyAsString;\n        if (key instanceof OriginalColumnGroup) {\n            keyAsString = key.getId();\n        }\n        else {\n            keyAsString = key;\n        }\n        this.setColumnGroupState([{ groupId: keyAsString, open: newValue }], source);\n    };\n    ColumnController.prototype.getOriginalColumnGroup = function (key) {\n        if (key instanceof OriginalColumnGroup) {\n            return key;\n        }\n        if (typeof key !== 'string') {\n            console.error('ag-Grid: group key must be a string');\n        }\n        // otherwise, search for the column group by id\n        var res = null;\n        this.columnUtils.depthFirstOriginalTreeSearch(null, this.gridBalancedTree, function (node) {\n            if (node instanceof OriginalColumnGroup) {\n                var originalColumnGroup = node;\n                if (originalColumnGroup.getId() === key) {\n                    res = originalColumnGroup;\n                }\n            }\n        });\n        return res;\n    };\n    ColumnController.prototype.calculateColumnsForDisplay = function () {\n        var _this = this;\n        var columnsForDisplay;\n        if (this.pivotMode && !this.secondaryColumnsPresent) {\n            // pivot mode is on, but we are not pivoting, so we only\n            // show columns we are aggregating on\n            columnsForDisplay = this.gridColumns.filter(function (column) {\n                var isAutoGroupCol = _this.groupAutoColumns && _.includes(_this.groupAutoColumns, column);\n                var isValueCol = _this.valueColumns && _.includes(_this.valueColumns, column);\n                return isAutoGroupCol || isValueCol;\n            });\n        }\n        else {\n            // otherwise continue as normal. this can be working on the primary\n            // or secondary columns, whatever the gridColumns are set to\n            columnsForDisplay = this.gridColumns.filter(function (column) {\n                // keep col if a) it's auto-group or b) it's visible\n                var isAutoGroupCol = _this.groupAutoColumns && _.includes(_this.groupAutoColumns, column);\n                return isAutoGroupCol || column.isVisible();\n            });\n        }\n        return columnsForDisplay;\n    };\n    ColumnController.prototype.checkColSpanActiveInCols = function (columns) {\n        var result = false;\n        columns.forEach(function (col) {\n            if (_.exists(col.getColDef().colSpan)) {\n                result = true;\n            }\n        });\n        return result;\n    };\n    ColumnController.prototype.calculateColumnsForGroupDisplay = function () {\n        var _this = this;\n        this.groupDisplayColumns = [];\n        var checkFunc = function (col) {\n            var colDef = col.getColDef();\n            if (colDef && _.exists(colDef.showRowGroup)) {\n                _this.groupDisplayColumns.push(col);\n            }\n        };\n        this.gridColumns.forEach(checkFunc);\n        if (this.groupAutoColumns) {\n            this.groupAutoColumns.forEach(checkFunc);\n        }\n    };\n    ColumnController.prototype.getGroupDisplayColumns = function () {\n        return this.groupDisplayColumns;\n    };\n    ColumnController.prototype.updateDisplayedColumns = function (source) {\n        var columnsForDisplay = this.calculateColumnsForDisplay();\n        this.buildDisplayedTrees(columnsForDisplay);\n        this.calculateColumnsForGroupDisplay();\n        // also called when group opened/closed\n        this.updateGroupsAndDisplayedColumns(source);\n        // also called when group opened/closed\n        this.setFirstRightAndLastLeftPinned(source);\n    };\n    ColumnController.prototype.isSecondaryColumnsPresent = function () {\n        return this.secondaryColumnsPresent;\n    };\n    ColumnController.prototype.setSecondaryColumns = function (colDefs, source) {\n        if (source === void 0) { source = \"api\"; }\n        var newColsPresent = colDefs && colDefs.length > 0;\n        // if not cols passed, and we had to cols anyway, then do nothing\n        if (!newColsPresent && !this.secondaryColumnsPresent) {\n            return;\n        }\n        if (newColsPresent) {\n            this.processSecondaryColumnDefinitions(colDefs);\n            var balancedTreeResult = this.columnFactory.createColumnTree(colDefs, false);\n            this.secondaryBalancedTree = balancedTreeResult.columnTree;\n            this.secondaryHeaderRowCount = balancedTreeResult.treeDept + 1;\n            this.secondaryColumns = this.getColumnsFromTree(this.secondaryBalancedTree);\n            this.secondaryColumnsPresent = true;\n        }\n        else {\n            this.secondaryBalancedTree = null;\n            this.secondaryHeaderRowCount = -1;\n            this.secondaryColumns = null;\n            this.secondaryColumnsPresent = false;\n        }\n        this.updateGridColumns();\n        this.updateDisplayedColumns(source);\n    };\n    ColumnController.prototype.processSecondaryColumnDefinitions = function (colDefs) {\n        var columnCallback = this.gridOptionsWrapper.getProcessSecondaryColDefFunc();\n        var groupCallback = this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();\n        if (!columnCallback && !groupCallback) {\n            return undefined;\n        }\n        var searchForColDefs = function (colDefs2) {\n            colDefs2.forEach(function (abstractColDef) {\n                var isGroup = _.exists(abstractColDef.children);\n                if (isGroup) {\n                    var colGroupDef = abstractColDef;\n                    if (groupCallback) {\n                        groupCallback(colGroupDef);\n                    }\n                    searchForColDefs(colGroupDef.children);\n                }\n                else {\n                    var colDef = abstractColDef;\n                    if (columnCallback) {\n                        columnCallback(colDef);\n                    }\n                }\n            });\n        };\n        if (colDefs) {\n            searchForColDefs(colDefs);\n        }\n    };\n    // called from: setColumnState, setColumnDefs, setSecondaryColumns\n    ColumnController.prototype.updateGridColumns = function () {\n        if (this.gridColsArePrimary) {\n            this.lastPrimaryOrder = this.gridColumns;\n        }\n        if (this.secondaryColumns && this.secondaryBalancedTree) {\n            this.gridBalancedTree = this.secondaryBalancedTree.slice();\n            this.gridHeaderRowCount = this.secondaryHeaderRowCount;\n            this.gridColumns = this.secondaryColumns.slice();\n            this.gridColsArePrimary = false;\n        }\n        else {\n            this.gridBalancedTree = this.primaryColumnTree.slice();\n            this.gridHeaderRowCount = this.primaryHeaderRowCount;\n            this.gridColumns = this.primaryColumns.slice();\n            this.gridColsArePrimary = true;\n            // updateGridColumns gets called after user adds a row group. we want to maintain the order of the columns\n            // when this happens (eg if user moved a column) rather than revert back to the original column order.\n            // likewise if changing in/out of pivot mode, we want to maintain the order of the primary cols\n            this.orderGridColsLikeLastPrimary();\n        }\n        this.addAutoGroupToGridColumns();\n        this.autoRowHeightColumns = this.gridColumns.filter(function (col) { return col.getColDef().autoHeight; });\n        this.putFixedColumnsFirst();\n        this.setupQuickFilterColumns();\n        this.clearDisplayedColumns();\n        this.colSpanActive = this.checkColSpanActiveInCols(this.gridColumns);\n        var event = {\n            type: Events.EVENT_GRID_COLUMNS_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.orderGridColsLikeLastPrimary = function () {\n        var _this = this;\n        if (_.missing(this.lastPrimaryOrder)) {\n            return;\n        }\n        // only do the sort if at least one column is accounted for. columns will be not accounted for\n        // if changing from secondary to primary columns\n        var noColsFound = true;\n        this.gridColumns.forEach(function (col) {\n            if (_this.lastPrimaryOrder.indexOf(col) >= 0) {\n                noColsFound = false;\n            }\n        });\n        if (noColsFound) {\n            return;\n        }\n        // order cols in the same order as before. we need to make sure that all\n        // cols still exists, so filter out any that no longer exist.\n        var oldColsOrdered = this.lastPrimaryOrder.filter(function (col) { return _this.gridColumns.indexOf(col) >= 0; });\n        var newColsOrdered = this.gridColumns.filter(function (col) { return oldColsOrdered.indexOf(col) < 0; });\n        // add in the new columns, at the end (if no group), or at the end of the group (if a group)\n        var newGridColumns = oldColsOrdered.slice();\n        newColsOrdered.forEach(function (newCol) {\n            var parent = newCol.getOriginalParent();\n            // if no parent, means we are not grouping, so just add the column to the end\n            if (!parent) {\n                newGridColumns.push(newCol);\n                return;\n            }\n            // find the group the column belongs to. if no siblings at the current level (eg col in group on it's\n            // own) then go up one level and look for siblings there.\n            var siblings = [];\n            while (!siblings.length && parent) {\n                var leafCols = parent.getLeafColumns();\n                leafCols.forEach(function (leafCol) {\n                    var presentInNewGriColumns = newGridColumns.indexOf(leafCol) >= 0;\n                    var noYetInSiblings = siblings.indexOf(leafCol) < 0;\n                    if (presentInNewGriColumns && noYetInSiblings) {\n                        siblings.push(leafCol);\n                    }\n                });\n                parent = parent.getOriginalParent();\n            }\n            // if no siblings exist at any level, this means the col is in a group (or parent groups) on it's own\n            if (!siblings.length) {\n                newGridColumns.push(newCol);\n                return;\n            }\n            // find index of last column in the group\n            var indexes = siblings.map(function (col) { return newGridColumns.indexOf(col); });\n            var lastIndex = Math.max.apply(Math, indexes);\n            _.insertIntoArray(newGridColumns, newCol, lastIndex + 1);\n        });\n        this.gridColumns = newGridColumns;\n    };\n    ColumnController.prototype.isPrimaryColumnGroupsPresent = function () {\n        return this.primaryHeaderRowCount > 1;\n    };\n    // if we are using autoGroupCols, then they should be included for quick filter. this covers the\n    // following scenarios:\n    // a) user provides 'field' into autoGroupCol of normal grid, so now because a valid col to filter leafs on\n    // b) using tree data and user depends on autoGroupCol for first col, and we also want to filter on this\n    //    (tree data is a bit different, as parent rows can be filtered on, unlike row grouping)\n    ColumnController.prototype.setupQuickFilterColumns = function () {\n        if (this.groupAutoColumns) {\n            this.columnsForQuickFilter = this.primaryColumns.concat(this.groupAutoColumns);\n        }\n        else {\n            this.columnsForQuickFilter = this.primaryColumns;\n        }\n    };\n    ColumnController.prototype.putFixedColumnsFirst = function () {\n        var locked = this.gridColumns.filter(function (c) { return c.getColDef().lockPosition; });\n        var unlocked = this.gridColumns.filter(function (c) { return !c.getColDef().lockPosition; });\n        this.gridColumns = locked.concat(unlocked);\n    };\n    ColumnController.prototype.addAutoGroupToGridColumns = function () {\n        // add in auto-group here\n        this.createGroupAutoColumnsIfNeeded();\n        if (_.missing(this.groupAutoColumns)) {\n            return;\n        }\n        this.gridColumns = this.groupAutoColumns ? this.groupAutoColumns.concat(this.gridColumns) : this.gridColumns;\n        var autoColBalancedTree = this.columnFactory.createForAutoGroups(this.groupAutoColumns, this.gridBalancedTree);\n        this.gridBalancedTree = autoColBalancedTree.concat(this.gridBalancedTree);\n    };\n    // gets called after we copy down grid columns, to make sure any part of the gui\n    // that tries to draw, eg the header, it will get empty lists of columns rather\n    // than stale columns. for example, the header will received gridColumnsChanged\n    // event, so will try and draw, but it will draw successfully when it acts on the\n    // virtualColumnsChanged event\n    ColumnController.prototype.clearDisplayedColumns = function () {\n        this.displayedLeftColumnTree = [];\n        this.displayedRightColumnTree = [];\n        this.displayedCentreColumnTree = [];\n        this.displayedLeftHeaderRows = {};\n        this.displayedRightHeaderRows = {};\n        this.displayedCentreHeaderRows = {};\n        this.displayedLeftColumns = [];\n        this.displayedRightColumns = [];\n        this.displayedCenterColumns = [];\n        this.allDisplayedColumns = [];\n        this.allDisplayedVirtualColumns = [];\n    };\n    ColumnController.prototype.updateGroupsAndDisplayedColumns = function (source) {\n        this.updateOpenClosedVisibilityInColumnGroups();\n        this.updateDisplayedColumnsFromTrees(source);\n        this.updateVirtualSets();\n        this.refreshFlexedColumns(undefined, undefined, true);\n        this.updateBodyWidths();\n        // this event is picked up by the gui, headerRenderer and rowRenderer, to recalculate what columns to display\n        var event = {\n            type: Events.EVENT_DISPLAYED_COLUMNS_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnController.prototype.updateDisplayedColumnsFromTrees = function (source) {\n        this.addToDisplayedColumns(this.displayedLeftColumnTree, this.displayedLeftColumns);\n        this.addToDisplayedColumns(this.displayedCentreColumnTree, this.displayedCenterColumns);\n        this.addToDisplayedColumns(this.displayedRightColumnTree, this.displayedRightColumns);\n        this.setupAllDisplayedColumns();\n        this.setLeftValues(source);\n    };\n    ColumnController.prototype.setupAllDisplayedColumns = function () {\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            this.allDisplayedColumns = this.displayedRightColumns\n                .concat(this.displayedCenterColumns)\n                .concat(this.displayedLeftColumns);\n        }\n        else {\n            this.allDisplayedColumns = this.displayedLeftColumns\n                .concat(this.displayedCenterColumns)\n                .concat(this.displayedRightColumns);\n        }\n    };\n    // sets the left pixel position of each column\n    ColumnController.prototype.setLeftValues = function (source) {\n        this.setLeftValuesOfColumns(source);\n        this.setLeftValuesOfGroups();\n    };\n    ColumnController.prototype.setLeftValuesOfColumns = function (source) {\n        var _this = this;\n        // go through each list of displayed columns\n        var allColumns = this.primaryColumns.slice(0);\n        // let totalColumnWidth = this.getWidthOfColsInList()\n        var doingRtl = this.gridOptionsWrapper.isEnableRtl();\n        [\n            this.displayedLeftColumns,\n            this.displayedRightColumns,\n            this.displayedCenterColumns\n        ].forEach(function (columns) {\n            if (doingRtl) {\n                // when doing RTL, we start at the top most pixel (ie RHS) and work backwards\n                var left_1 = _this.getWidthOfColsInList(columns);\n                columns.forEach(function (column) {\n                    left_1 -= column.getActualWidth();\n                    column.setLeft(left_1, source);\n                });\n            }\n            else {\n                // otherwise normal LTR, we start at zero\n                var left_2 = 0;\n                columns.forEach(function (column) {\n                    column.setLeft(left_2, source);\n                    left_2 += column.getActualWidth();\n                });\n            }\n            _.removeAllFromArray(allColumns, columns);\n        });\n        // items left in allColumns are columns not displayed, so remove the left position. this is\n        // important for the rows, as if a col is made visible, then taken out, then made visible again,\n        // we don't want the animation of the cell floating in from the old position, whatever that was.\n        allColumns.forEach(function (column) {\n            column.setLeft(null, source);\n        });\n    };\n    ColumnController.prototype.setLeftValuesOfGroups = function () {\n        // a groups left value is the lest left value of it's children\n        [\n            this.displayedLeftColumnTree,\n            this.displayedRightColumnTree,\n            this.displayedCentreColumnTree\n        ].forEach(function (columns) {\n            columns.forEach(function (column) {\n                if (column instanceof ColumnGroup) {\n                    var columnGroup = column;\n                    columnGroup.checkLeft();\n                }\n            });\n        });\n    };\n    ColumnController.prototype.addToDisplayedColumns = function (displayedColumnTree, displayedColumns) {\n        displayedColumns.length = 0;\n        this.columnUtils.depthFirstDisplayedColumnTreeSearch(displayedColumnTree, function (child) {\n            if (child instanceof Column) {\n                displayedColumns.push(child);\n            }\n        });\n    };\n    ColumnController.prototype.updateDisplayedCenterVirtualColumns = function () {\n        if (this.suppressColumnVirtualisation) {\n            // no virtualisation, so don't filter\n            this.allDisplayedCenterVirtualColumns = this.displayedCenterColumns;\n        }\n        else {\n            // filter out what should be visible\n            this.allDisplayedCenterVirtualColumns = this.filterOutColumnsWithinViewport();\n        }\n        this.allDisplayedVirtualColumns = this.allDisplayedCenterVirtualColumns\n            .concat(this.displayedLeftColumns)\n            .concat(this.displayedRightColumns);\n        // return map of virtual col id's, for easy lookup when building the groups.\n        // the map will be colId=>true, ie col id's mapping to 'true'.\n        var result = {};\n        this.allDisplayedVirtualColumns.forEach(function (col) {\n            result[col.getId()] = true;\n        });\n        return result;\n    };\n    ColumnController.prototype.getVirtualHeaderGroupRow = function (type, dept) {\n        var result;\n        switch (type) {\n            case Constants.PINNED_LEFT:\n                result = this.displayedLeftHeaderRows[dept];\n                break;\n            case Constants.PINNED_RIGHT:\n                result = this.displayedRightHeaderRows[dept];\n                break;\n            default:\n                result = this.displayedCentreHeaderRows[dept];\n                break;\n        }\n        if (_.missing(result)) {\n            result = [];\n        }\n        return result;\n    };\n    ColumnController.prototype.updateDisplayedVirtualGroups = function (virtualColIds) {\n        // go through each group, see if any of it's cols are displayed, and if yes,\n        // then this group is included\n        this.displayedLeftHeaderRows = {};\n        this.displayedRightHeaderRows = {};\n        this.displayedCentreHeaderRows = {};\n        var testGroup = function (children, result, dept) {\n            var returnValue = false;\n            for (var i = 0; i < children.length; i++) {\n                // see if this item is within viewport\n                var child = children[i];\n                var addThisItem = void 0;\n                if (child instanceof Column) {\n                    // for column, test if column is included\n                    addThisItem = virtualColIds[child.getId()] === true;\n                }\n                else {\n                    // if group, base decision on children\n                    var columnGroup = child;\n                    addThisItem = testGroup(columnGroup.getDisplayedChildren(), result, dept + 1);\n                }\n                if (addThisItem) {\n                    returnValue = true;\n                    if (!result[dept]) {\n                        result[dept] = [];\n                    }\n                    result[dept].push(child);\n                }\n            }\n            return returnValue;\n        };\n        testGroup(this.displayedLeftColumnTree, this.displayedLeftHeaderRows, 0);\n        testGroup(this.displayedRightColumnTree, this.displayedRightHeaderRows, 0);\n        testGroup(this.displayedCentreColumnTree, this.displayedCentreHeaderRows, 0);\n    };\n    ColumnController.prototype.updateVirtualSets = function () {\n        var virtualColIds = this.updateDisplayedCenterVirtualColumns();\n        this.updateDisplayedVirtualGroups(virtualColIds);\n    };\n    ColumnController.prototype.filterOutColumnsWithinViewport = function () {\n        return this.displayedCenterColumns.filter(this.isColumnInViewport.bind(this));\n    };\n    ColumnController.prototype.refreshFlexedColumns = function (updatedFlexViewportWidth, source, silent) {\n        if (source === void 0) { source = 'flex'; }\n        if (!this.flexActive) {\n            return;\n        }\n        this.flexViewportWidth = updatedFlexViewportWidth || this.flexViewportWidth;\n        if (!this.flexViewportWidth) {\n            return;\n        }\n        // If the grid has left-over space, divide it between flexing columns in proportion to their flex value.\n        // A \"flexing column\" is one that has a 'flex' value set and is not currently being constrained by its\n        // minWidth or maxWidth rules.\n        var knownWidthColumns = this.displayedCenterColumns.filter(function (col) { return !col.getFlex(); });\n        var flexingColumns = this.displayedCenterColumns.filter(function (col) { return col.getFlex(); });\n        if (!flexingColumns.length) {\n            this.flexActive = false;\n            return;\n        }\n        var flexingColumnSizes = [];\n        var spaceForFlexingColumns;\n        outer: while (true) {\n            var totalFlex = flexingColumns.reduce(function (count, col) { return count + col.getFlex(); }, 0);\n            spaceForFlexingColumns = this.flexViewportWidth - this.getWidthOfColsInList(knownWidthColumns);\n            for (var i = 0; i < flexingColumns.length; i++) {\n                var col = flexingColumns[i];\n                var widthByFlexRule = spaceForFlexingColumns * col.getFlex() / totalFlex;\n                var constrainedWidth = void 0;\n                if (widthByFlexRule < col.getMinWidth()) {\n                    constrainedWidth = col.getMinWidth();\n                }\n                else if (col.getMaxWidth() != null && widthByFlexRule > col.getMaxWidth()) {\n                    constrainedWidth = col.getMaxWidth();\n                }\n                if (constrainedWidth) {\n                    // This column is not in fact flexing as it is being constrained to a specific size\n                    // so remove it from the list of flexing columns and start again\n                    col.setActualWidth(constrainedWidth, source);\n                    _.removeFromArray(flexingColumns, col);\n                    knownWidthColumns.push(col);\n                    continue outer;\n                }\n                flexingColumnSizes[i] = Math.round(widthByFlexRule);\n            }\n            break;\n        }\n        var remainingSpace = spaceForFlexingColumns;\n        flexingColumns.forEach(function (col, i) {\n            col.setActualWidth(Math.min(flexingColumnSizes[i], remainingSpace), source);\n            remainingSpace -= flexingColumnSizes[i];\n        });\n        this.setLeftValues(source);\n        if (!silent) {\n            this.updateBodyWidths();\n            this.fireResizedEventForColumns(flexingColumns, source);\n        }\n    };\n    // called from api\n    ColumnController.prototype.sizeColumnsToFit = function (gridWidth, source, silent) {\n        if (source === void 0) { source = \"sizeColumnsToFit\"; }\n        // avoid divide by zero\n        var allDisplayedColumns = this.getAllDisplayedColumns();\n        if (gridWidth <= 0 || !allDisplayedColumns.length) {\n            return;\n        }\n        var colsToSpread = [];\n        var colsToNotSpread = [];\n        allDisplayedColumns.forEach(function (column) {\n            if (column.getColDef().suppressSizeToFit === true) {\n                colsToNotSpread.push(column);\n            }\n            else {\n                colsToSpread.push(column);\n            }\n        });\n        // make a copy of the cols that are going to be resized\n        var colsToFireEventFor = colsToSpread.slice(0);\n        var finishedResizing = false;\n        var moveToNotSpread = function (column) {\n            _.removeFromArray(colsToSpread, column);\n            colsToNotSpread.push(column);\n        };\n        while (!finishedResizing) {\n            finishedResizing = true;\n            var availablePixels = gridWidth - this.getWidthOfColsInList(colsToNotSpread);\n            if (availablePixels <= 0) {\n                // no width, set everything to minimum\n                colsToSpread.forEach(function (column) {\n                    column.setMinimum(source);\n                });\n            }\n            else {\n                var scale = availablePixels / this.getWidthOfColsInList(colsToSpread);\n                // we set the pixels for the last col based on what's left, as otherwise\n                // we could be a pixel or two short or extra because of rounding errors.\n                var pixelsForLastCol = availablePixels;\n                // backwards through loop, as we are removing items as we go\n                for (var i = colsToSpread.length - 1; i >= 0; i--) {\n                    var column = colsToSpread[i];\n                    var newWidth = Math.round(column.getActualWidth() * scale);\n                    if (newWidth < column.getMinWidth()) {\n                        column.setMinimum(source);\n                        moveToNotSpread(column);\n                        finishedResizing = false;\n                    }\n                    else if (column.isGreaterThanMax(newWidth)) {\n                        column.setActualWidth(column.getMaxWidth(), source);\n                        moveToNotSpread(column);\n                        finishedResizing = false;\n                    }\n                    else {\n                        var onLastCol = i === 0;\n                        if (onLastCol) {\n                            column.setActualWidth(pixelsForLastCol, source);\n                        }\n                        else {\n                            column.setActualWidth(newWidth, source);\n                        }\n                    }\n                    pixelsForLastCol -= newWidth;\n                }\n            }\n        }\n        this.setLeftValues(source);\n        this.updateBodyWidths();\n        if (silent) {\n            return;\n        }\n        this.fireResizedEventForColumns(colsToFireEventFor, source);\n    };\n    ColumnController.prototype.fireResizedEventForColumns = function (columns, source) {\n        var _this = this;\n        columns.forEach(function (column) {\n            var event = {\n                type: Events.EVENT_COLUMN_RESIZED,\n                column: column,\n                columns: [column],\n                finished: true,\n                api: _this.gridApi,\n                columnApi: _this.columnApi,\n                source: source\n            };\n            _this.eventService.dispatchEvent(event);\n        });\n    };\n    ColumnController.prototype.buildDisplayedTrees = function (visibleColumns) {\n        var leftVisibleColumns = [];\n        var rightVisibleColumns = [];\n        var centerVisibleColumns = [];\n        visibleColumns.forEach(function (column) {\n            switch (column.getPinned()) {\n                case \"left\":\n                    leftVisibleColumns.push(column);\n                    break;\n                case \"right\":\n                    rightVisibleColumns.push(column);\n                    break;\n                default:\n                    centerVisibleColumns.push(column);\n                    break;\n            }\n        });\n        var groupInstanceIdCreator = new GroupInstanceIdCreator();\n        this.displayedLeftColumnTree = this.displayedGroupCreator.createDisplayedGroups(leftVisibleColumns, this.gridBalancedTree, groupInstanceIdCreator, Constants.PINNED_LEFT, this.displayedLeftColumnTree);\n        this.displayedRightColumnTree = this.displayedGroupCreator.createDisplayedGroups(rightVisibleColumns, this.gridBalancedTree, groupInstanceIdCreator, Constants.PINNED_RIGHT, this.displayedRightColumnTree);\n        this.displayedCentreColumnTree = this.displayedGroupCreator.createDisplayedGroups(centerVisibleColumns, this.gridBalancedTree, groupInstanceIdCreator, null, this.displayedCentreColumnTree);\n    };\n    ColumnController.prototype.updateOpenClosedVisibilityInColumnGroups = function () {\n        var allColumnGroups = this.getAllDisplayedColumnGroups();\n        this.columnUtils.depthFirstAllColumnTreeSearch(allColumnGroups, function (child) {\n            if (child instanceof ColumnGroup) {\n                var columnGroup = child;\n                columnGroup.calculateDisplayedColumns();\n            }\n        });\n    };\n    ColumnController.prototype.getGroupAutoColumns = function () {\n        return this.groupAutoColumns;\n    };\n    ColumnController.prototype.createGroupAutoColumnsIfNeeded = function () {\n        if (!this.autoGroupsNeedBuilding) {\n            return;\n        }\n        this.autoGroupsNeedBuilding = false;\n        var groupFullWidthRow = this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode);\n        // we need to allow suppressing auto-column separately for group and pivot as the normal situation\n        // is CSRM and user provides group column themselves for normal view, but when they go into pivot the\n        // columns are generated by the grid so no opportunity for user to provide group column. so need a way\n        // to suppress auto-col for grouping only, and not pivot.\n        // however if using Viewport RM or SSRM and user is providing the columns, the user may wish full control\n        // of the group column in this instance.\n        var suppressAutoColumn = this.pivotMode ?\n            this.gridOptionsWrapper.isPivotSuppressAutoColumn() : this.gridOptionsWrapper.isGroupSuppressAutoColumn();\n        // const groupSuppressAutoColumn = this.gridOptionsWrapper.isGroupSuppressAutoColumn() && !this.pivotMode;\n        var groupSuppressRow = this.gridOptionsWrapper.isGroupSuppressRow();\n        var groupingActive = this.rowGroupColumns.length > 0 || this.usingTreeData;\n        var needAutoColumns = groupingActive && !suppressAutoColumn && !groupFullWidthRow && !groupSuppressRow;\n        if (needAutoColumns) {\n            var newAutoGroupCols = this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);\n            var autoColsDifferent = !this.autoColsEqual(newAutoGroupCols, this.groupAutoColumns);\n            if (autoColsDifferent) {\n                this.groupAutoColumns = newAutoGroupCols;\n            }\n        }\n        else {\n            this.groupAutoColumns = null;\n        }\n    };\n    ColumnController.prototype.autoColsEqual = function (colsA, colsB) {\n        return areEqual(colsA, colsB, function (a, b) { return a.getColId() === b.getColId(); });\n    };\n    ColumnController.prototype.getWidthOfColsInList = function (columnList) {\n        return columnList.reduce(function (width, col) { return width + col.getActualWidth(); }, 0);\n    };\n    ColumnController.prototype.getGridBalancedTree = function () {\n        return this.gridBalancedTree;\n    };\n    ColumnController.prototype.hasFloatingFilters = function () {\n        var defaultColDef = this.gridOptionsWrapper.getDefaultColDef();\n        return (defaultColDef != null && defaultColDef.floatingFilter === true) ||\n            (this.columnDefs != null && this.columnDefs.some(function (c) { return c.floatingFilter === true; }));\n    };\n    __decorate$4([\n        Autowired('gridOptionsWrapper')\n    ], ColumnController.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$4([\n        Autowired('expressionService')\n    ], ColumnController.prototype, \"expressionService\", void 0);\n    __decorate$4([\n        Autowired('columnFactory')\n    ], ColumnController.prototype, \"columnFactory\", void 0);\n    __decorate$4([\n        Autowired('displayedGroupCreator')\n    ], ColumnController.prototype, \"displayedGroupCreator\", void 0);\n    __decorate$4([\n        Autowired('autoWidthCalculator')\n    ], ColumnController.prototype, \"autoWidthCalculator\", void 0);\n    __decorate$4([\n        Autowired('eventService')\n    ], ColumnController.prototype, \"eventService\", void 0);\n    __decorate$4([\n        Autowired('columnUtils')\n    ], ColumnController.prototype, \"columnUtils\", void 0);\n    __decorate$4([\n        Autowired('columnAnimationService')\n    ], ColumnController.prototype, \"columnAnimationService\", void 0);\n    __decorate$4([\n        Autowired('autoGroupColService')\n    ], ColumnController.prototype, \"autoGroupColService\", void 0);\n    __decorate$4([\n        Optional('aggFuncService')\n    ], ColumnController.prototype, \"aggFuncService\", void 0);\n    __decorate$4([\n        Optional('valueCache')\n    ], ColumnController.prototype, \"valueCache\", void 0);\n    __decorate$4([\n        Optional('animationFrameService')\n    ], ColumnController.prototype, \"animationFrameService\", void 0);\n    __decorate$4([\n        Autowired('columnApi')\n    ], ColumnController.prototype, \"columnApi\", void 0);\n    __decorate$4([\n        Autowired('gridApi')\n    ], ColumnController.prototype, \"gridApi\", void 0);\n    __decorate$4([\n        PostConstruct\n    ], ColumnController.prototype, \"init\", null);\n    __decorate$4([\n        __param$2(0, Qualifier('loggerFactory'))\n    ], ColumnController.prototype, \"setBeans\", null);\n    ColumnController = __decorate$4([\n        Bean('columnController')\n    ], ColumnController);\n    return ColumnController;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$5 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// takes in a list of columns, as specified by the column definitions, and returns column groups\nvar ColumnUtils = /** @class */ (function () {\n    function ColumnUtils() {\n    }\n    ColumnUtils.prototype.calculateColInitialWidth = function (colDef) {\n        var optionsWrapper = this.gridOptionsWrapper;\n        var minColWidth = colDef.minWidth != null ? colDef.minWidth : optionsWrapper.getMinColWidth();\n        var maxColWidth = colDef.maxWidth != null ? colDef.maxWidth : (optionsWrapper.getMaxColWidth() || _.getMaxSafeInteger());\n        var width = colDef.width != null ? colDef.width : optionsWrapper.getColWidth();\n        return Math.max(Math.min(width, maxColWidth), minColWidth);\n    };\n    ColumnUtils.prototype.getOriginalPathForColumn = function (column, originalBalancedTree) {\n        var result = [];\n        var found = false;\n        var recursePath = function (balancedColumnTree, dept) {\n            for (var i = 0; i < balancedColumnTree.length; i++) {\n                if (found) {\n                    return;\n                }\n                // quit the search, so 'result' is kept with the found result\n                var node = balancedColumnTree[i];\n                if (node instanceof OriginalColumnGroup) {\n                    var nextNode = node;\n                    recursePath(nextNode.getChildren(), dept + 1);\n                    result[dept] = node;\n                }\n                else if (node === column) {\n                    found = true;\n                }\n            }\n        };\n        recursePath(originalBalancedTree, 0);\n        // we should always find the path, but in case there is a bug somewhere, returning null\n        // will make it fail rather than provide a 'hard to track down' bug\n        return found ? result : null;\n    };\n    /*    public getPathForColumn(column: Column, allDisplayedColumnGroups: ColumnGroupChild[]): ColumnGroup[] {\n            let result: ColumnGroup[] = [];\n            let found = false;\n    \n            recursePath(allDisplayedColumnGroups, 0);\n    \n            // we should always find the path, but in case there is a bug somewhere, returning null\n            // will make it fail rather than provide a 'hard to track down' bug\n            if (found) {\n                return result;\n            } else {\n                return null;\n            }\n    \n            function recursePath(balancedColumnTree: ColumnGroupChild[], dept: number): void {\n    \n                for (let i = 0; i<balancedColumnTree.length; i++) {\n                    if (found) {\n                        // quit the search, so 'result' is kept with the found result\n                        return;\n                    }\n                    let node = balancedColumnTree[i];\n                    if (node instanceof ColumnGroup) {\n                        let nextNode = <ColumnGroup> node;\n                        recursePath(nextNode.getChildren(), dept+1);\n                        result[dept] = node;\n                    } else {\n                        if (node === column) {\n                            found = true;\n                        }\n                    }\n                }\n            }\n        }*/\n    ColumnUtils.prototype.depthFirstOriginalTreeSearch = function (parent, tree, callback) {\n        var _this = this;\n        if (!tree) {\n            return;\n        }\n        tree.forEach(function (child) {\n            if (child instanceof OriginalColumnGroup) {\n                _this.depthFirstOriginalTreeSearch(child, child.getChildren(), callback);\n            }\n            callback(child, parent);\n        });\n    };\n    ColumnUtils.prototype.depthFirstAllColumnTreeSearch = function (tree, callback) {\n        var _this = this;\n        if (!tree) {\n            return;\n        }\n        tree.forEach(function (child) {\n            if (child instanceof ColumnGroup) {\n                _this.depthFirstAllColumnTreeSearch(child.getChildren(), callback);\n            }\n            callback(child);\n        });\n    };\n    ColumnUtils.prototype.depthFirstDisplayedColumnTreeSearch = function (tree, callback) {\n        var _this = this;\n        if (!tree) {\n            return;\n        }\n        tree.forEach(function (child) {\n            if (child instanceof ColumnGroup) {\n                _this.depthFirstDisplayedColumnTreeSearch(child.getDisplayedChildren(), callback);\n            }\n            callback(child);\n        });\n    };\n    __decorate$5([\n        Autowired('gridOptionsWrapper')\n    ], ColumnUtils.prototype, \"gridOptionsWrapper\", void 0);\n    ColumnUtils = __decorate$5([\n        Bean('columnUtils')\n    ], ColumnUtils);\n    return ColumnUtils;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$6 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// takes in a list of columns, as specified by the column definitions, and returns column groups\nvar DisplayedGroupCreator = /** @class */ (function () {\n    function DisplayedGroupCreator() {\n    }\n    DisplayedGroupCreator.prototype.createDisplayedGroups = function (\n    // all displayed columns sorted - this is the columns the grid should show\n    sortedVisibleColumns, \n    // the tree of columns, as provided by the users, used to know what groups columns roll up into\n    balancedColumnTree, \n    // creates unique id's for the group\n    groupInstanceIdCreator, \n    // whether it's left, right or center col\n    pinned, \n    // we try to reuse old groups if we can, to allow gui to do animation\n    oldDisplayedGroups) {\n        var _this = this;\n        var result = [];\n        var previousRealPath;\n        var previousOriginalPath;\n        var oldColumnsMapped = this.mapOldGroupsById(oldDisplayedGroups);\n        // go through each column, then do a bottom up comparison to the previous column, and start\n        // to share groups if they converge at any point.\n        sortedVisibleColumns.forEach(function (currentColumn) {\n            var currentOriginalPath = _this.getOriginalPathForColumn(balancedColumnTree, currentColumn);\n            var currentRealPath = [];\n            var firstColumn = !previousOriginalPath;\n            for (var i = 0; i < currentOriginalPath.length; i++) {\n                if (firstColumn || currentOriginalPath[i] !== previousOriginalPath[i]) {\n                    // new group needed\n                    var newGroup = _this.createColumnGroup(currentOriginalPath[i], groupInstanceIdCreator, oldColumnsMapped, pinned);\n                    currentRealPath[i] = newGroup;\n                    // if top level, add to result, otherwise add to parent\n                    if (i == 0) {\n                        result.push(newGroup);\n                    }\n                    else {\n                        currentRealPath[i - 1].addChild(newGroup);\n                    }\n                }\n                else {\n                    // reuse old group\n                    currentRealPath[i] = previousRealPath[i];\n                }\n            }\n            var noColumnGroups = currentRealPath.length === 0;\n            if (noColumnGroups) {\n                // if we are not grouping, then the result of the above is an empty\n                // path (no groups), and we just add the column to the root list.\n                result.push(currentColumn);\n            }\n            else {\n                var leafGroup = _.last(currentRealPath);\n                leafGroup.addChild(currentColumn);\n            }\n            previousRealPath = currentRealPath;\n            previousOriginalPath = currentOriginalPath;\n        });\n        this.setupParentsIntoColumns(result, null);\n        return result;\n    };\n    DisplayedGroupCreator.prototype.createColumnGroup = function (originalGroup, groupInstanceIdCreator, oldColumnsMapped, pinned) {\n        var groupId = originalGroup.getGroupId();\n        var instanceId = groupInstanceIdCreator.getInstanceIdForKey(groupId);\n        var uniqueId = ColumnGroup.createUniqueId(groupId, instanceId);\n        var columnGroup = oldColumnsMapped[uniqueId];\n        // if the user is setting new colDefs, it is possible that the id's overlap, and we\n        // would have a false match from above. so we double check we are talking about the\n        // same original column group.\n        if (columnGroup && columnGroup.getOriginalColumnGroup() !== originalGroup) {\n            columnGroup = null;\n        }\n        if (_.exists(columnGroup)) {\n            // clean out the old column group here, as we will be adding children into it again\n            columnGroup.reset();\n        }\n        else {\n            columnGroup = new ColumnGroup(originalGroup, groupId, instanceId, pinned);\n            this.context.wireBean(columnGroup);\n        }\n        return columnGroup;\n    };\n    // returns back a 2d map of ColumnGroup as follows: groupId -> instanceId -> ColumnGroup\n    DisplayedGroupCreator.prototype.mapOldGroupsById = function (displayedGroups) {\n        var result = {};\n        var recursive = function (columnsOrGroups) {\n            columnsOrGroups.forEach(function (columnOrGroup) {\n                if (columnOrGroup instanceof ColumnGroup) {\n                    var columnGroup = columnOrGroup;\n                    result[columnOrGroup.getUniqueId()] = columnGroup;\n                    recursive(columnGroup.getChildren());\n                }\n            });\n        };\n        if (displayedGroups) {\n            recursive(displayedGroups);\n        }\n        return result;\n    };\n    DisplayedGroupCreator.prototype.setupParentsIntoColumns = function (columnsOrGroups, parent) {\n        var _this = this;\n        columnsOrGroups.forEach(function (columnsOrGroup) {\n            columnsOrGroup.setParent(parent);\n            if (columnsOrGroup instanceof ColumnGroup) {\n                var columnGroup = columnsOrGroup;\n                _this.setupParentsIntoColumns(columnGroup.getChildren(), columnGroup);\n            }\n        });\n    };\n    DisplayedGroupCreator.prototype.getOriginalPathForColumn = function (balancedColumnTree, column) {\n        var result = [];\n        var found = false;\n        var recursePath = function (balancedColumnTree, dept) {\n            for (var i = 0; i < balancedColumnTree.length; i++) {\n                // quit the search, so 'result' is kept with the found result\n                if (found) {\n                    return;\n                }\n                var node = balancedColumnTree[i];\n                if (node instanceof OriginalColumnGroup) {\n                    var nextNode = node;\n                    recursePath(nextNode.getChildren(), dept + 1);\n                    result[dept] = node;\n                }\n                else if (node === column) {\n                    found = true;\n                }\n            }\n        };\n        recursePath(balancedColumnTree, 0);\n        // it's possible we didn't find a path. this happens if the column is generated\n        // by the grid (auto-group), in that the definition didn't come from the client. in this case,\n        // we create a fake original path.\n        if (found) {\n            return result;\n        }\n        console.warn('could not get path');\n        return null;\n    };\n    __decorate$6([\n        Autowired('columnUtils')\n    ], DisplayedGroupCreator.prototype, \"columnUtils\", void 0);\n    __decorate$6([\n        Autowired('context')\n    ], DisplayedGroupCreator.prototype, \"context\", void 0);\n    DisplayedGroupCreator = __decorate$6([\n        Bean('displayedGroupCreator')\n    ], DisplayedGroupCreator);\n    return DisplayedGroupCreator;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __spreadArrays = (undefined && undefined.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\n/**\n * These keys are used for validating properties supplied on a gridOptions object, and for code generation.\n * If you change the properties on the gridOptions interface, you *must* update this file as well to be consistent.\n */\nvar PropertyKeys = /** @class */ (function () {\n    function PropertyKeys() {\n    }\n    PropertyKeys.STRING_PROPERTIES = [\n        'sortingOrder', 'rowClass', 'rowSelection', 'overlayLoadingTemplate',\n        'overlayNoRowsTemplate', 'quickFilterText', 'rowModelType',\n        'editType', 'domLayout', 'clipboardDeliminator', 'rowGroupPanelShow',\n        'multiSortKey', 'pivotColumnGroupTotals', 'pivotRowTotals', 'pivotPanelShow'\n    ];\n    PropertyKeys.OBJECT_PROPERTIES = [\n        'components', 'frameworkComponents', 'rowStyle', 'context', 'autoGroupColumnDef', 'groupColumnDef', 'localeText',\n        'icons', 'datasource', 'serverSideDatasource', 'viewportDatasource', 'groupRowRendererParams', 'aggFuncs',\n        'fullWidthCellRendererParams', 'defaultColGroupDef', 'defaultColDef', 'defaultExportParams', 'columnTypes',\n        'rowClassRules', 'detailGridOptions', 'detailCellRendererParams', 'loadingCellRendererParams', 'loadingOverlayComponentParams',\n        'noRowsOverlayComponentParams', 'popupParent', 'colResizeDefault', 'reduxStore', 'statusBar', 'sideBar'\n    ];\n    PropertyKeys.ARRAY_PROPERTIES = [\n        'slaveGrids', 'alignedGrids', 'rowData', 'columnDefs', 'excelStyles', 'pinnedTopRowData', 'pinnedBottomRowData'\n    ];\n    PropertyKeys.NUMBER_PROPERTIES = [\n        'rowHeight', 'detailRowHeight', 'rowBuffer', 'colWidth', 'headerHeight', 'groupHeaderHeight',\n        'floatingFiltersHeight', 'pivotHeaderHeight', 'pivotGroupHeaderHeight', 'groupDefaultExpanded',\n        'minColWidth', 'maxColWidth', 'viewportRowModelPageSize', 'viewportRowModelBufferSize',\n        'autoSizePadding', 'maxBlocksInCache', 'maxConcurrentDatasourceRequests', 'tooltipShowDelay',\n        'cacheOverflowSize', 'paginationPageSize', 'cacheBlockSize', 'infiniteInitialRowCount',\n        'scrollbarWidth', 'paginationStartPage', 'infiniteBlockSize', 'batchUpdateWaitMillis', 'asyncTransactionWaitMillis',\n        'blockLoadDebounceMillis', 'keepDetailRowsCount', 'undoRedoCellEditingLimit'\n    ];\n    PropertyKeys.BOOLEAN_PROPERTIES = [\n        'toolPanelSuppressRowGroups', 'toolPanelSuppressValues', 'toolPanelSuppressPivots', 'toolPanelSuppressPivotMode',\n        'toolPanelSuppressSideButtons', 'toolPanelSuppressColumnFilter', 'toolPanelSuppressColumnSelectAll',\n        'toolPanelSuppressColumnExpandAll', 'suppressMakeColumnVisibleAfterUnGroup', 'suppressRowClickSelection',\n        'suppressCellSelection', 'suppressHorizontalScroll', 'alwaysShowVerticalScroll', 'debug', 'enableBrowserTooltips', 'enableColResize',\n        'enableCellExpressions', 'enableSorting', 'enableServerSideSorting', 'enableFilter', 'enableServerSideFilter',\n        'angularCompileRows', 'angularCompileFilters', 'angularCompileHeaders', 'groupSuppressAutoColumn', 'groupSelectsChildren',\n        'groupIncludeFooter', 'groupIncludeTotalFooter', 'groupUseEntireRow', 'groupSuppressRow', 'groupSuppressBlankHeader',\n        'forPrint', 'suppressMenuHide', 'rowDeselection', 'unSortIcon', 'suppressMultiSort', 'singleClickEdit',\n        'suppressLoadingOverlay', 'suppressNoRowsOverlay', 'suppressAutoSize', 'skipHeaderOnAutoSize', 'suppressParentsInRowNodes', 'showToolPanel',\n        'suppressColumnMoveAnimation', 'suppressMovableColumns', 'suppressFieldDotNotation', 'enableRangeSelection',\n        'enableRangeHandle', 'enableFillHandle', 'suppressClearOnFillReduction', 'deltaSort', 'suppressTouch', 'suppressAsyncEvents',\n        'allowContextMenuWithControlKey', 'suppressContextMenu', 'suppressMenuFilterPanel', 'suppressMenuMainPanel', 'suppressMenuColumnPanel',\n        'rememberGroupStateWhenNewData', 'enableCellChangeFlash', 'suppressDragLeaveHidesColumns', 'suppressMiddleClickScrolls',\n        'suppressPreventDefaultOnMouseWheel', 'suppressUseColIdForGroups', 'suppressCopyRowsToClipboard', 'copyHeadersToClipboard', 'pivotMode',\n        'suppressAggFuncInHeader', 'suppressColumnVirtualisation', 'suppressAggAtRootLevel', 'suppressFocusAfterRefresh', 'functionsPassive',\n        'functionsReadOnly', 'animateRows', 'groupSelectsFiltered', 'groupRemoveSingleChildren', 'groupRemoveLowestSingleChildren', 'enableRtl',\n        'suppressClickEdit', 'rowDragManaged', 'suppressRowDrag', 'suppressMoveWhenRowDragging', 'enableMultiRowDragging', 'enableGroupEdit',\n        'embedFullWidthRows', 'deprecatedEmbedFullWidthRows', 'suppressTabbing', 'suppressPaginationPanel', 'floatingFilter', 'groupHideOpenParents',\n        'groupMultiAutoColumn', 'pagination', 'stopEditingWhenGridLosesFocus', 'paginationAutoPageSize', 'suppressScrollOnNewData', 'purgeClosedRowNodes',\n        'cacheQuickFilter', 'deltaRowDataMode', 'ensureDomOrder', 'accentedSort', 'pivotTotals', 'suppressChangeDetection', 'valueCache',\n        'valueCacheNeverExpires', 'aggregateOnlyChangedColumns', 'suppressAnimationFrame', 'suppressExcelExport', 'suppressCsvExport', 'treeData',\n        'masterDetail', 'suppressMultiRangeSelection', 'enterMovesDownAfterEdit', 'enterMovesDown', 'suppressPropertyNamesCheck', 'rowMultiSelectWithClick',\n        'contractColumnSelection', 'suppressEnterpriseResetOnNewColumns', 'enableOldSetFilterModel', 'suppressRowHoverHighlight',\n        'gridAutoHeight', 'suppressRowTransform', 'suppressClipboardPaste', 'suppressLastEmptyLineOnPaste', 'serverSideSortingAlwaysResets', 'reactNext',\n        'suppressSetColumnStateEvents', 'enableCharts', 'deltaColumnMode', 'suppressMaintainUnsortedOrder', 'enableCellTextSelection',\n        'suppressBrowserResizeObserver', 'suppressMaxRenderedRowRestriction', 'excludeChildrenWhenTreeDataFiltering', 'tooltipMouseTrack',\n        'keepDetailRows', 'paginateChildRows', 'preventDefaultOnContextMenu', 'undoRedoCellEditing', 'allowDragFromColumnsToolPanel',\n        'immutableData', 'immutableColumns', 'pivotSuppressAutoColumn'\n    ];\n    /** You do not need to include event callbacks in this list, as they are generated automatically. */\n    PropertyKeys.FUNCTION_PROPERTIES = [\n        'localeTextFunc', 'groupRowInnerRenderer', 'groupRowInnerRendererFramework',\n        'dateComponent', 'dateComponentFramework', 'groupRowRenderer', 'groupRowRendererFramework', 'isExternalFilterPresent',\n        'getRowHeight', 'doesExternalFilterPass', 'getRowClass', 'getRowStyle', 'getRowClassRules',\n        'traverseNode', 'getContextMenuItems', 'getMainMenuItems', 'processRowPostCreate', 'processCellForClipboard',\n        'getNodeChildDetails', 'groupRowAggNodes', 'getRowNodeId', 'isFullWidthCell', 'fullWidthCellRenderer',\n        'fullWidthCellRendererFramework', 'doesDataFlower', 'processSecondaryColDef', 'processSecondaryColGroupDef',\n        'getBusinessKeyForNode', 'sendToClipboard', 'navigateToNextCell', 'tabToNextCell', 'getDetailRowData',\n        'processCellFromClipboard', 'getDocument', 'postProcessPopup', 'getChildCount', 'getDataPath', 'loadingCellRenderer',\n        'loadingCellRendererFramework', 'loadingOverlayComponent', 'loadingOverlayComponentFramework', 'noRowsOverlayComponent',\n        'noRowsOverlayComponentFramework', 'detailCellRenderer', 'detailCellRendererFramework',\n        'defaultGroupSortComparator', 'isRowMaster', 'isRowSelectable', 'postSort', 'processHeaderForClipboard',\n        'paginationNumberFormatter', 'processDataFromClipboard', 'getServerSideGroupKey', 'isServerSideGroup',\n        'suppressKeyboardEvent', 'createChartContainer', 'processChartOptions', 'getChartToolbarItems', 'fillOperation'\n    ];\n    PropertyKeys.ALL_PROPERTIES = __spreadArrays(PropertyKeys.ARRAY_PROPERTIES, PropertyKeys.OBJECT_PROPERTIES, PropertyKeys.STRING_PROPERTIES, PropertyKeys.NUMBER_PROPERTIES, PropertyKeys.FUNCTION_PROPERTIES, PropertyKeys.BOOLEAN_PROPERTIES);\n    /**\n     * Used when performing property checks. This avoids noise caused when using frameworks, which can add their own\n     * framework-specific properties to colDefs, gridOptions etc.\n     */\n    PropertyKeys.FRAMEWORK_PROPERTIES = [\n        '__ob__', '__metadata__', 'mappedColumnProperties', 'hasChildColumns', 'toColDef', 'createColDefFromGridColumn'\n    ];\n    return PropertyKeys;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __spreadArrays$1 = (undefined && undefined.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar ColDefUtil = /** @class */ (function () {\n    function ColDefUtil() {\n    }\n    ColDefUtil.STRING_PROPERTIES = [\n        'headerName',\n        'columnGroupShow',\n        'headerClass',\n        'toolPanelClass',\n        'headerValueGetter',\n        'pivotKeys',\n        'groupId',\n        'colId',\n        'sort',\n        'field',\n        'type',\n        'tooltipComponent',\n        'tooltipField',\n        'headerTooltip',\n        'cellClass',\n        'showRowGroup',\n        'template',\n        'templateUrl',\n        'filter',\n        'aggFunc',\n        'cellRenderer',\n        'cellEditor',\n        'pinned',\n        'chartDataType'\n    ];\n    ColDefUtil.OBJECT_PROPERTIES = [\n        'headerGroupComponent',\n        'headerGroupComponentFramework',\n        'headerGroupComponentParams',\n        'cellStyle',\n        'cellRendererParams',\n        'cellEditorFramework',\n        'cellEditorParams',\n        'pinnedRowCellRendererFramework',\n        'pinnedRowCellRendererParams',\n        'filterFramework',\n        'filterParams',\n        'pivotValueColumn',\n        'headerComponent',\n        'headerComponentFramework',\n        'headerComponentParams',\n        'floatingFilterComponent',\n        'floatingFilterComponentParams',\n        'floatingFilterComponentFramework',\n        'tooltipComponent',\n        'tooltipComponentParams',\n        'tooltipComponentFramework',\n        'refData'\n    ];\n    ColDefUtil.ARRAY_PROPERTIES = [\n        'children',\n        'sortingOrder',\n        'allowedAggFuncs',\n        'menuTabs',\n        'pivotTotalColumnIds',\n        'cellClassRules',\n        'icons'\n    ];\n    ColDefUtil.NUMBER_PROPERTIES = [\n        'sortedAt',\n        'flex',\n        'width',\n        'minWidth',\n        'maxWidth',\n        'rowGroupIndex',\n        'pivotIndex'\n    ];\n    ColDefUtil.BOOLEAN_PROPERTIES = [\n        'suppressCellFlash',\n        'suppressColumnsToolPanel',\n        'suppressFiltersToolPanel',\n        'openByDefault',\n        'marryChildren',\n        'hide',\n        'rowGroup',\n        'pivot',\n        'checkboxSelection',\n        'headerCheckboxSelection',\n        'headerCheckboxSelectionFilteredOnly',\n        'suppressMenu',\n        'suppressSorting',\n        'suppressMovable',\n        'suppressFilter',\n        'lockPosition',\n        'lockVisible',\n        'lockPinned',\n        'unSortIcon',\n        'suppressSizeToFit',\n        'suppressResize',\n        'suppressAutoSize',\n        'enableRowGroup',\n        'enablePivot',\n        'enableValue',\n        'editable',\n        'suppressPaste',\n        'suppressNavigable',\n        'enableCellChangeFlash',\n        'rowDrag',\n        'dndSource',\n        'autoHeight',\n        'sortable',\n        'resizable',\n        'singleClickEdit',\n        'floatingFilter',\n    ];\n    ColDefUtil.FUNCTION_PROPERTIES = [\n        'dndSourceOnRowDrag',\n        'valueGetter',\n        'valueSetter',\n        'filterValueGetter',\n        'keyCreator',\n        'cellRenderer',\n        'cellRendererFramework',\n        'pinnedRowCellRenderer',\n        'valueFormatter',\n        'pinnedRowValueFormatter',\n        'valueParser',\n        'comparator',\n        'equals',\n        'pivotComparator',\n        'suppressKeyboardEvent',\n        'colSpan',\n        'rowSpan',\n        'getQuickFilterText',\n        'newValueHandler',\n        'onCellValueChanged',\n        'onCellClicked',\n        'onCellDoubleClicked',\n        'onCellContextMenu',\n        'rowDragText',\n        'tooltip',\n        'tooltipValueGetter',\n        'tooltipComponent',\n        'tooltipComponentFramework',\n        'cellRendererSelector',\n        'cellEditorSelector'\n    ];\n    ColDefUtil.ALL_PROPERTIES = __spreadArrays$1(ColDefUtil.ARRAY_PROPERTIES, ColDefUtil.OBJECT_PROPERTIES, ColDefUtil.STRING_PROPERTIES, ColDefUtil.NUMBER_PROPERTIES, ColDefUtil.FUNCTION_PROPERTIES, ColDefUtil.BOOLEAN_PROPERTIES);\n    // used when doing property checks - this causes noise when using frameworks which can add their own fw specific\n    // properties to colDefs, gridOptions etc\n    ColDefUtil.FRAMEWORK_PROPERTIES = ['__ob__', '__metadata__', 'mappedColumnProperties', 'hasChildColumns',\n        'toColDef', 'createColDefFromGridColumn'];\n    return ColDefUtil;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar SideBarDefParser = /** @class */ (function () {\n    function SideBarDefParser() {\n    }\n    SideBarDefParser.parse = function (toParse) {\n        if (!toParse) {\n            return null;\n        }\n        if (toParse === true) {\n            return {\n                toolPanels: [\n                    SideBarDefParser.DEFAULT_COLUMN_COMP,\n                    SideBarDefParser.DEFAULT_FILTER_COMP,\n                ],\n                defaultToolPanel: 'columns'\n            };\n        }\n        if (typeof toParse === 'string') {\n            return SideBarDefParser.parse([toParse]);\n        }\n        if (Array.isArray(toParse)) {\n            var comps_1 = [];\n            toParse.forEach(function (key) {\n                var lookupResult = SideBarDefParser.DEFAULT_BY_KEY[key];\n                if (!lookupResult) {\n                    console.warn(\"ag-grid: the key \" + key + \" is not a valid key for specifying a tool panel, valid keys are: \" + Object.keys(SideBarDefParser.DEFAULT_BY_KEY).join(','));\n                    return;\n                }\n                comps_1.push(lookupResult);\n            });\n            if (comps_1.length === 0) {\n                return null;\n            }\n            return {\n                toolPanels: comps_1,\n                defaultToolPanel: comps_1[0].id\n            };\n        }\n        var result = {\n            toolPanels: SideBarDefParser.parseComponents(toParse.toolPanels),\n            defaultToolPanel: toParse.defaultToolPanel,\n            hiddenByDefault: toParse.hiddenByDefault,\n            position: toParse.position\n        };\n        return result;\n    };\n    SideBarDefParser.parseComponents = function (from) {\n        var result = [];\n        from.forEach(function (it) {\n            var toAdd = null;\n            if (typeof it === 'string') {\n                var lookupResult = SideBarDefParser.DEFAULT_BY_KEY[it];\n                if (!lookupResult) {\n                    console.warn(\"ag-grid: the key \" + it + \" is not a valid key for specifying a tool panel, valid keys are: \" + Object.keys(SideBarDefParser.DEFAULT_BY_KEY).join(','));\n                    return;\n                }\n                toAdd = lookupResult;\n            }\n            else {\n                toAdd = it;\n            }\n            result.push(toAdd);\n        });\n        return result;\n    };\n    SideBarDefParser.DEFAULT_COLUMN_COMP = {\n        id: 'columns',\n        labelDefault: 'Columns',\n        labelKey: 'columns',\n        iconKey: 'columns',\n        toolPanel: 'agColumnsToolPanel',\n    };\n    SideBarDefParser.DEFAULT_FILTER_COMP = {\n        id: 'filters',\n        labelDefault: 'Filters',\n        labelKey: 'filters',\n        iconKey: 'filter',\n        toolPanel: 'agFiltersToolPanel',\n    };\n    SideBarDefParser.DEFAULT_BY_KEY = {\n        columns: SideBarDefParser.DEFAULT_COLUMN_COMP,\n        filters: SideBarDefParser.DEFAULT_FILTER_COMP\n    };\n    return SideBarDefParser;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$7 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param$3 = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __spreadArrays$2 = (undefined && undefined.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar DEFAULT_ROW_HEIGHT = 25;\nvar DEFAULT_DETAIL_ROW_HEIGHT = 300;\nvar DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE = 5;\nvar DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE = 5;\nvar DEFAULT_KEEP_DETAIL_ROW_COUNT = 10;\nfunction isTrue(value) {\n    return value === true || value === 'true';\n}\nfunction zeroOrGreater(value, defaultValue) {\n    if (value >= 0) {\n        return value;\n    }\n    // zero gets returned if number is missing or the wrong type\n    return defaultValue;\n}\nfunction oneOrGreater(value, defaultValue) {\n    if (value > 0) {\n        return value;\n    }\n    // zero gets returned if number is missing or the wrong type\n    return defaultValue;\n}\nvar GridOptionsWrapper = /** @class */ (function () {\n    function GridOptionsWrapper() {\n        this.propertyEventService = new EventService();\n        this.domDataKey = '__AG_' + Math.random().toString();\n        this.layoutElements = [];\n    }\n    GridOptionsWrapper_1 = GridOptionsWrapper;\n    GridOptionsWrapper.prototype.agWire = function (gridApi, columnApi) {\n        this.gridOptions.api = gridApi;\n        this.gridOptions.columnApi = columnApi;\n        this.checkForDeprecated();\n        this.checkForViolations();\n    };\n    GridOptionsWrapper.prototype.destroy = function () {\n        // need to remove these, as we don't own the lifecycle of the gridOptions, we need to\n        // remove the references in case the user keeps the grid options, we want the rest\n        // of the grid to be picked up by the garbage collector\n        this.gridOptions.api = null;\n        this.gridOptions.columnApi = null;\n        this.removeEventListener(GridOptionsWrapper_1.PROP_DOM_LAYOUT, this.updateLayoutClassesListener);\n    };\n    GridOptionsWrapper.prototype.init = function () {\n        var _this = this;\n        if (!(this.gridOptions.suppressPropertyNamesCheck === true)) {\n            this.checkGridOptionsProperties();\n            this.checkColumnDefProperties();\n        }\n        var async = this.useAsyncEvents();\n        this.eventService.addGlobalListener(this.globalEventHandler.bind(this), async);\n        if (this.isGroupSelectsChildren() && this.isSuppressParentsInRowNodes()) {\n            console.warn(\"ag-Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work\");\n        }\n        if (this.isGroupSelectsChildren()) {\n            if (!this.isRowSelectionMulti()) {\n                console.warn(\"ag-Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense\");\n            }\n            if (this.isRowModelServerSide()) {\n                console.warn('ag-Grid: group selects children is NOT support for Server Side Row Model. ' +\n                    'This is because the rows are lazy loaded, so selecting a group is not possible as' +\n                    'the grid has no way of knowing what the children are.');\n            }\n        }\n        if (this.isGroupRemoveSingleChildren() && this.isGroupHideOpenParents()) {\n            console.warn(\"ag-Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!\");\n        }\n        if (this.isRowModelServerSide()) {\n            var msg = function (prop) { return \"ag-Grid: '\" + prop + \"' is not supported on the Server-Side Row Model\"; };\n            if (_.exists(this.gridOptions.groupDefaultExpanded)) {\n                console.warn(msg('groupDefaultExpanded'));\n            }\n            if (_.exists(this.gridOptions.groupDefaultExpanded)) {\n                console.warn(msg('groupIncludeFooter'));\n            }\n            if (_.exists(this.gridOptions.groupDefaultExpanded)) {\n                console.warn(msg('groupIncludeTotalFooter'));\n            }\n        }\n        if (this.isEnableRangeSelection()) {\n            ModuleRegistry.assertRegistered(exports.ModuleNames.RangeSelectionModule, 'enableRangeSelection');\n        }\n        if (!this.isEnableRangeSelection() && (this.isEnableRangeHandle() || this.isEnableFillHandle())) {\n            console.warn(\"ag-Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true\");\n        }\n        var warnOfDeprecaredIcon = function (name) {\n            if (_this.gridOptions.icons && _this.gridOptions.icons[name]) {\n                console.warn(\"gridOptions.icons.\" + name + \" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/\");\n            }\n        };\n        warnOfDeprecaredIcon('radioButtonOff');\n        warnOfDeprecaredIcon('radioButtonOn');\n        warnOfDeprecaredIcon('checkboxChecked');\n        warnOfDeprecaredIcon('checkboxUnchecked');\n        warnOfDeprecaredIcon('checkboxIndeterminate');\n        this.updateLayoutClassesListener = this.updateLayoutClasses.bind(this);\n        this.addEventListener(GridOptionsWrapper_1.PROP_DOM_LAYOUT, this.updateLayoutClassesListener);\n    };\n    GridOptionsWrapper.prototype.checkColumnDefProperties = function () {\n        var _this = this;\n        if (this.gridOptions.columnDefs == null) {\n            return;\n        }\n        this.gridOptions.columnDefs.forEach(function (colDef) {\n            var userProperties = Object.getOwnPropertyNames(colDef);\n            var validProperties = __spreadArrays$2(ColDefUtil.ALL_PROPERTIES, ColDefUtil.FRAMEWORK_PROPERTIES);\n            _this.checkProperties(userProperties, validProperties, validProperties, 'colDef', 'https://www.ag-grid.com/javascript-grid-column-properties/');\n        });\n    };\n    GridOptionsWrapper.prototype.checkGridOptionsProperties = function () {\n        var userProperties = Object.getOwnPropertyNames(this.gridOptions);\n        var validProperties = __spreadArrays$2(PropertyKeys.ALL_PROPERTIES, PropertyKeys.FRAMEWORK_PROPERTIES, _.values(Events).map(function (event) { return ComponentUtil.getCallbackForEvent(event); }));\n        var validPropertiesAndExceptions = __spreadArrays$2(validProperties, ['api', 'columnApi']);\n        this.checkProperties(userProperties, validPropertiesAndExceptions, validProperties, 'gridOptions', 'https://www.ag-grid.com/javascript-grid-properties/');\n    };\n    GridOptionsWrapper.prototype.checkProperties = function (userProperties, validPropertiesAndExceptions, validProperties, containerName, docsUrl) {\n        var invalidProperties = _.fuzzyCheckStrings(userProperties, validPropertiesAndExceptions, validProperties);\n        _.iterateObject(invalidProperties, function (key, value) {\n            console.warn(\"ag-grid: invalid \" + containerName + \" property '\" + key + \"' did you mean any of these: \" + value.slice(0, 8).join(\", \"));\n        });\n        if (Object.keys(invalidProperties).length > 0) {\n            console.warn(\"ag-grid: to see all the valid \" + containerName + \" properties please check: \" + docsUrl);\n        }\n    };\n    // returns the dom data, or undefined if not found\n    GridOptionsWrapper.prototype.getDomData = function (element, key) {\n        var domData = element[this.domDataKey];\n        return domData ? domData[key] : undefined;\n    };\n    GridOptionsWrapper.prototype.setDomData = function (element, key, value) {\n        var domData = element[this.domDataKey];\n        if (_.missing(domData)) {\n            domData = {};\n            element[this.domDataKey] = domData;\n        }\n        domData[key] = value;\n    };\n    GridOptionsWrapper.prototype.isRowSelection = function () {\n        return this.gridOptions.rowSelection === 'single' || this.gridOptions.rowSelection === 'multiple';\n    };\n    GridOptionsWrapper.prototype.isRowDeselection = function () {\n        return isTrue(this.gridOptions.rowDeselection);\n    };\n    GridOptionsWrapper.prototype.isRowSelectionMulti = function () {\n        return this.gridOptions.rowSelection === 'multiple';\n    };\n    GridOptionsWrapper.prototype.isRowMultiSelectWithClick = function () {\n        return isTrue(this.gridOptions.rowMultiSelectWithClick);\n    };\n    GridOptionsWrapper.prototype.getContext = function () {\n        return this.gridOptions.context;\n    };\n    GridOptionsWrapper.prototype.isPivotMode = function () {\n        return isTrue(this.gridOptions.pivotMode);\n    };\n    GridOptionsWrapper.prototype.isPivotTotals = function () {\n        return isTrue(this.gridOptions.pivotTotals);\n    };\n    GridOptionsWrapper.prototype.getPivotColumnGroupTotals = function () {\n        return this.gridOptions.pivotColumnGroupTotals;\n    };\n    GridOptionsWrapper.prototype.getPivotRowTotals = function () {\n        return this.gridOptions.pivotRowTotals;\n    };\n    GridOptionsWrapper.prototype.isRowModelInfinite = function () {\n        return this.gridOptions.rowModelType === Constants.ROW_MODEL_TYPE_INFINITE;\n    };\n    GridOptionsWrapper.prototype.isRowModelViewport = function () {\n        return this.gridOptions.rowModelType === Constants.ROW_MODEL_TYPE_VIEWPORT;\n    };\n    GridOptionsWrapper.prototype.isRowModelServerSide = function () {\n        return this.gridOptions.rowModelType === Constants.ROW_MODEL_TYPE_SERVER_SIDE;\n    };\n    GridOptionsWrapper.prototype.isRowModelDefault = function () {\n        return (_.missing(this.gridOptions.rowModelType) ||\n            this.gridOptions.rowModelType === Constants.ROW_MODEL_TYPE_CLIENT_SIDE ||\n            this.gridOptions.rowModelType === Constants.DEPRECATED_ROW_MODEL_TYPE_NORMAL);\n    };\n    GridOptionsWrapper.prototype.isFullRowEdit = function () {\n        return this.gridOptions.editType === 'fullRow';\n    };\n    GridOptionsWrapper.prototype.isSuppressFocusAfterRefresh = function () {\n        return isTrue(this.gridOptions.suppressFocusAfterRefresh);\n    };\n    GridOptionsWrapper.prototype.isSuppressBrowserResizeObserver = function () {\n        return isTrue(this.gridOptions.suppressBrowserResizeObserver);\n    };\n    GridOptionsWrapper.prototype.isSuppressMaintainUnsortedOrder = function () {\n        return isTrue(this.gridOptions.suppressMaintainUnsortedOrder);\n    };\n    GridOptionsWrapper.prototype.isSuppressClearOnFillReduction = function () {\n        return isTrue(this.gridOptions.suppressClearOnFillReduction);\n    };\n    GridOptionsWrapper.prototype.isShowToolPanel = function () {\n        return isTrue(this.gridOptions.sideBar && Array.isArray(this.getSideBar().toolPanels));\n    };\n    GridOptionsWrapper.prototype.getSideBar = function () {\n        return this.gridOptions.sideBar;\n    };\n    GridOptionsWrapper.prototype.isSuppressTouch = function () {\n        return isTrue(this.gridOptions.suppressTouch);\n    };\n    GridOptionsWrapper.prototype.isSuppressRowTransform = function () {\n        return isTrue(this.gridOptions.suppressRowTransform);\n    };\n    GridOptionsWrapper.prototype.isSuppressSetColumnStateEvents = function () {\n        return isTrue(this.gridOptions.suppressSetColumnStateEvents);\n    };\n    GridOptionsWrapper.prototype.isAllowDragFromColumnsToolPanel = function () {\n        return isTrue(this.gridOptions.allowDragFromColumnsToolPanel);\n    };\n    GridOptionsWrapper.prototype.useAsyncEvents = function () {\n        return !isTrue(this.gridOptions.suppressAsyncEvents);\n    };\n    GridOptionsWrapper.prototype.isEnableCellChangeFlash = function () {\n        return isTrue(this.gridOptions.enableCellChangeFlash);\n    };\n    GridOptionsWrapper.prototype.isGroupSelectsChildren = function () {\n        var result = isTrue(this.gridOptions.groupSelectsChildren);\n        if (result && this.isTreeData()) {\n            console.warn('ag-Grid: groupSelectsChildren does not work with tree data');\n            return false;\n        }\n        return result;\n    };\n    GridOptionsWrapper.prototype.isSuppressRowHoverHighlight = function () {\n        return isTrue(this.gridOptions.suppressRowHoverHighlight);\n    };\n    GridOptionsWrapper.prototype.isGroupSelectsFiltered = function () {\n        return isTrue(this.gridOptions.groupSelectsFiltered);\n    };\n    GridOptionsWrapper.prototype.isGroupHideOpenParents = function () {\n        return isTrue(this.gridOptions.groupHideOpenParents);\n    };\n    // if we are doing hideOpenParents, then we always have groupMultiAutoColumn, otherwise hideOpenParents would not work\n    GridOptionsWrapper.prototype.isGroupMultiAutoColumn = function () {\n        return isTrue(this.gridOptions.groupMultiAutoColumn) || isTrue(this.gridOptions.groupHideOpenParents);\n    };\n    GridOptionsWrapper.prototype.isGroupRemoveSingleChildren = function () {\n        return isTrue(this.gridOptions.groupRemoveSingleChildren);\n    };\n    GridOptionsWrapper.prototype.isGroupRemoveLowestSingleChildren = function () {\n        return isTrue(this.gridOptions.groupRemoveLowestSingleChildren);\n    };\n    GridOptionsWrapper.prototype.isGroupIncludeFooter = function () {\n        return isTrue(this.gridOptions.groupIncludeFooter);\n    };\n    GridOptionsWrapper.prototype.isGroupIncludeTotalFooter = function () {\n        return isTrue(this.gridOptions.groupIncludeTotalFooter);\n    };\n    GridOptionsWrapper.prototype.isGroupSuppressBlankHeader = function () {\n        return isTrue(this.gridOptions.groupSuppressBlankHeader);\n    };\n    GridOptionsWrapper.prototype.isSuppressRowClickSelection = function () {\n        return isTrue(this.gridOptions.suppressRowClickSelection);\n    };\n    GridOptionsWrapper.prototype.isSuppressCellSelection = function () {\n        return isTrue(this.gridOptions.suppressCellSelection);\n    };\n    GridOptionsWrapper.prototype.isSuppressMultiSort = function () {\n        return isTrue(this.gridOptions.suppressMultiSort);\n    };\n    GridOptionsWrapper.prototype.isMultiSortKeyCtrl = function () {\n        return this.gridOptions.multiSortKey === 'ctrl';\n    };\n    GridOptionsWrapper.prototype.isGroupSuppressAutoColumn = function () {\n        return isTrue(this.gridOptions.groupSuppressAutoColumn);\n    };\n    GridOptionsWrapper.prototype.isPivotSuppressAutoColumn = function () {\n        return isTrue(this.gridOptions.pivotSuppressAutoColumn);\n    };\n    GridOptionsWrapper.prototype.isSuppressDragLeaveHidesColumns = function () {\n        return isTrue(this.gridOptions.suppressDragLeaveHidesColumns);\n    };\n    GridOptionsWrapper.prototype.isSuppressScrollOnNewData = function () {\n        return isTrue(this.gridOptions.suppressScrollOnNewData);\n    };\n    GridOptionsWrapper.prototype.isRowDragManaged = function () {\n        return isTrue(this.gridOptions.rowDragManaged);\n    };\n    GridOptionsWrapper.prototype.isSuppressRowDrag = function () {\n        return isTrue(this.gridOptions.suppressRowDrag);\n    };\n    GridOptionsWrapper.prototype.isSuppressMoveWhenRowDragging = function () {\n        return isTrue(this.gridOptions.suppressMoveWhenRowDragging);\n    };\n    GridOptionsWrapper.prototype.isEnableMultiRowDragging = function () {\n        return isTrue(this.gridOptions.enableMultiRowDragging);\n    };\n    // returns either 'print', 'autoHeight' or 'normal' (normal is the default)\n    GridOptionsWrapper.prototype.getDomLayout = function () {\n        var domLayout = this.gridOptions.domLayout || Constants.DOM_LAYOUT_NORMAL;\n        var validLayouts = [\n            Constants.DOM_LAYOUT_PRINT,\n            Constants.DOM_LAYOUT_AUTO_HEIGHT,\n            Constants.DOM_LAYOUT_NORMAL\n        ];\n        if (validLayouts.indexOf(domLayout) === -1) {\n            _.doOnce(function () {\n                return console.warn(\"ag-Grid: \" + domLayout + \" is not valid for DOM Layout, valid values are \" + Constants.DOM_LAYOUT_NORMAL + \", \" + Constants.DOM_LAYOUT_AUTO_HEIGHT + \" and \" + Constants.DOM_LAYOUT_PRINT);\n            }, 'warn about dom layout values');\n            return Constants.DOM_LAYOUT_NORMAL;\n        }\n        return domLayout;\n    };\n    GridOptionsWrapper.prototype.isSuppressHorizontalScroll = function () {\n        return isTrue(this.gridOptions.suppressHorizontalScroll);\n    };\n    GridOptionsWrapper.prototype.isSuppressMaxRenderedRowRestriction = function () {\n        return isTrue(this.gridOptions.suppressMaxRenderedRowRestriction);\n    };\n    GridOptionsWrapper.prototype.isExcludeChildrenWhenTreeDataFiltering = function () {\n        return isTrue(this.gridOptions.excludeChildrenWhenTreeDataFiltering);\n    };\n    GridOptionsWrapper.prototype.isAlwaysShowVerticalScroll = function () {\n        return isTrue(this.gridOptions.alwaysShowVerticalScroll);\n    };\n    GridOptionsWrapper.prototype.isSuppressLoadingOverlay = function () {\n        return isTrue(this.gridOptions.suppressLoadingOverlay);\n    };\n    GridOptionsWrapper.prototype.isSuppressNoRowsOverlay = function () {\n        return isTrue(this.gridOptions.suppressNoRowsOverlay);\n    };\n    GridOptionsWrapper.prototype.isSuppressFieldDotNotation = function () {\n        return isTrue(this.gridOptions.suppressFieldDotNotation);\n    };\n    GridOptionsWrapper.prototype.getPinnedTopRowData = function () {\n        return this.gridOptions.pinnedTopRowData;\n    };\n    GridOptionsWrapper.prototype.getPinnedBottomRowData = function () {\n        return this.gridOptions.pinnedBottomRowData;\n    };\n    GridOptionsWrapper.prototype.isFunctionsPassive = function () {\n        return isTrue(this.gridOptions.functionsPassive);\n    };\n    GridOptionsWrapper.prototype.isSuppressTabbing = function () {\n        return isTrue(this.gridOptions.suppressTabbing);\n    };\n    GridOptionsWrapper.prototype.isSuppressChangeDetection = function () {\n        return isTrue(this.gridOptions.suppressChangeDetection);\n    };\n    GridOptionsWrapper.prototype.isSuppressAnimationFrame = function () {\n        return isTrue(this.gridOptions.suppressAnimationFrame);\n    };\n    GridOptionsWrapper.prototype.getQuickFilterText = function () {\n        return this.gridOptions.quickFilterText;\n    };\n    GridOptionsWrapper.prototype.isCacheQuickFilter = function () {\n        return isTrue(this.gridOptions.cacheQuickFilter);\n    };\n    GridOptionsWrapper.prototype.isUnSortIcon = function () {\n        return isTrue(this.gridOptions.unSortIcon);\n    };\n    GridOptionsWrapper.prototype.isSuppressMenuHide = function () {\n        return isTrue(this.gridOptions.suppressMenuHide);\n    };\n    GridOptionsWrapper.prototype.isEnterMovesDownAfterEdit = function () {\n        return isTrue(this.gridOptions.enterMovesDownAfterEdit);\n    };\n    GridOptionsWrapper.prototype.isEnterMovesDown = function () {\n        return isTrue(this.gridOptions.enterMovesDown);\n    };\n    GridOptionsWrapper.prototype.isUndoRedoCellEditing = function () {\n        return isTrue(this.gridOptions.undoRedoCellEditing);\n    };\n    GridOptionsWrapper.prototype.getUndoRedoCellEditingLimit = function () {\n        return this.gridOptions.undoRedoCellEditingLimit;\n    };\n    GridOptionsWrapper.prototype.getRowStyle = function () {\n        return this.gridOptions.rowStyle;\n    };\n    GridOptionsWrapper.prototype.getRowClass = function () {\n        return this.gridOptions.rowClass;\n    };\n    GridOptionsWrapper.prototype.getRowStyleFunc = function () {\n        return this.gridOptions.getRowStyle;\n    };\n    GridOptionsWrapper.prototype.getRowClassFunc = function () {\n        return this.gridOptions.getRowClass;\n    };\n    GridOptionsWrapper.prototype.rowClassRules = function () {\n        return this.gridOptions.rowClassRules;\n    };\n    GridOptionsWrapper.prototype.getCreateChartContainerFunc = function () {\n        return this.gridOptions.createChartContainer;\n    };\n    GridOptionsWrapper.prototype.getPopupParent = function () {\n        return this.gridOptions.popupParent;\n    };\n    GridOptionsWrapper.prototype.getBlockLoadDebounceMillis = function () {\n        return this.gridOptions.blockLoadDebounceMillis;\n    };\n    GridOptionsWrapper.prototype.getPostProcessPopupFunc = function () {\n        return this.gridOptions.postProcessPopup;\n    };\n    GridOptionsWrapper.prototype.getDoesDataFlowerFunc = function () {\n        return this.gridOptions.doesDataFlower;\n    };\n    GridOptionsWrapper.prototype.getPaginationNumberFormatterFunc = function () {\n        return this.gridOptions.paginationNumberFormatter;\n    };\n    GridOptionsWrapper.prototype.getChildCountFunc = function () {\n        return this.gridOptions.getChildCount;\n    };\n    GridOptionsWrapper.prototype.getDefaultGroupSortComparator = function () {\n        return this.gridOptions.defaultGroupSortComparator;\n    };\n    GridOptionsWrapper.prototype.getIsFullWidthCellFunc = function () {\n        return this.gridOptions.isFullWidthCell;\n    };\n    GridOptionsWrapper.prototype.getFullWidthCellRendererParams = function () {\n        return this.gridOptions.fullWidthCellRendererParams;\n    };\n    GridOptionsWrapper.prototype.isEmbedFullWidthRows = function () {\n        return isTrue(this.gridOptions.embedFullWidthRows) || isTrue(this.gridOptions.deprecatedEmbedFullWidthRows);\n    };\n    GridOptionsWrapper.prototype.getSuppressKeyboardEventFunc = function () {\n        return this.gridOptions.suppressKeyboardEvent;\n    };\n    GridOptionsWrapper.prototype.getBusinessKeyForNodeFunc = function () {\n        return this.gridOptions.getBusinessKeyForNode;\n    };\n    GridOptionsWrapper.prototype.getApi = function () {\n        return this.gridOptions.api;\n    };\n    GridOptionsWrapper.prototype.getColumnApi = function () {\n        return this.gridOptions.columnApi;\n    };\n    GridOptionsWrapper.prototype.isImmutableData = function () {\n        return isTrue(this.gridOptions.immutableData);\n    };\n    GridOptionsWrapper.prototype.isImmutableColumns = function () {\n        return isTrue(this.gridOptions.immutableColumns);\n    };\n    GridOptionsWrapper.prototype.isEnsureDomOrder = function () {\n        return isTrue(this.gridOptions.ensureDomOrder);\n    };\n    GridOptionsWrapper.prototype.isEnableCharts = function () {\n        if (isTrue(this.gridOptions.enableCharts)) {\n            return ModuleRegistry.assertRegistered(exports.ModuleNames.GridChartsModule, 'enableCharts');\n        }\n        return false;\n    };\n    GridOptionsWrapper.prototype.getColResizeDefault = function () {\n        return this.gridOptions.colResizeDefault;\n    };\n    GridOptionsWrapper.prototype.isSingleClickEdit = function () {\n        return isTrue(this.gridOptions.singleClickEdit);\n    };\n    GridOptionsWrapper.prototype.isSuppressClickEdit = function () {\n        return isTrue(this.gridOptions.suppressClickEdit);\n    };\n    GridOptionsWrapper.prototype.isStopEditingWhenGridLosesFocus = function () {\n        return isTrue(this.gridOptions.stopEditingWhenGridLosesFocus);\n    };\n    GridOptionsWrapper.prototype.getGroupDefaultExpanded = function () {\n        return this.gridOptions.groupDefaultExpanded;\n    };\n    GridOptionsWrapper.prototype.getMaxConcurrentDatasourceRequests = function () {\n        return this.gridOptions.maxConcurrentDatasourceRequests;\n    };\n    GridOptionsWrapper.prototype.getMaxBlocksInCache = function () {\n        return this.gridOptions.maxBlocksInCache;\n    };\n    GridOptionsWrapper.prototype.getCacheOverflowSize = function () {\n        return this.gridOptions.cacheOverflowSize;\n    };\n    GridOptionsWrapper.prototype.getPaginationPageSize = function () {\n        return this.gridOptions.paginationPageSize;\n    };\n    GridOptionsWrapper.prototype.isPaginateChildRows = function () {\n        // if using groupSuppressRow, means we are not showing parent rows,\n        // so we always paginate on the child rows here as there are no parent rows\n        var shouldPaginate = this.isGroupSuppressRow() || this.isGroupRemoveSingleChildren() || this.isGroupRemoveLowestSingleChildren();\n        if (shouldPaginate) {\n            return true;\n        }\n        return isTrue(this.gridOptions.paginateChildRows);\n    };\n    GridOptionsWrapper.prototype.getCacheBlockSize = function () {\n        return this.gridOptions.cacheBlockSize;\n    };\n    GridOptionsWrapper.prototype.getInfiniteInitialRowCount = function () {\n        return this.gridOptions.infiniteInitialRowCount;\n    };\n    GridOptionsWrapper.prototype.isPurgeClosedRowNodes = function () {\n        return isTrue(this.gridOptions.purgeClosedRowNodes);\n    };\n    GridOptionsWrapper.prototype.isSuppressPaginationPanel = function () {\n        return isTrue(this.gridOptions.suppressPaginationPanel);\n    };\n    GridOptionsWrapper.prototype.getRowData = function () {\n        return this.gridOptions.rowData;\n    };\n    // this property is different - we never allow groupUseEntireRow if in pivot mode,\n    // as otherwise we don't see the pivot values.\n    GridOptionsWrapper.prototype.isGroupUseEntireRow = function (pivotMode) {\n        return pivotMode ? false : isTrue(this.gridOptions.groupUseEntireRow);\n    };\n    GridOptionsWrapper.prototype.isEnableRtl = function () {\n        return isTrue(this.gridOptions.enableRtl);\n    };\n    GridOptionsWrapper.prototype.getAutoGroupColumnDef = function () {\n        return this.gridOptions.autoGroupColumnDef;\n    };\n    GridOptionsWrapper.prototype.isGroupSuppressRow = function () {\n        return isTrue(this.gridOptions.groupSuppressRow);\n    };\n    GridOptionsWrapper.prototype.getRowGroupPanelShow = function () {\n        return this.gridOptions.rowGroupPanelShow;\n    };\n    GridOptionsWrapper.prototype.getPivotPanelShow = function () {\n        return this.gridOptions.pivotPanelShow;\n    };\n    GridOptionsWrapper.prototype.isAngularCompileRows = function () {\n        return isTrue(this.gridOptions.angularCompileRows);\n    };\n    GridOptionsWrapper.prototype.isAngularCompileFilters = function () {\n        return isTrue(this.gridOptions.angularCompileFilters);\n    };\n    GridOptionsWrapper.prototype.isAngularCompileHeaders = function () {\n        return isTrue(this.gridOptions.angularCompileHeaders);\n    };\n    GridOptionsWrapper.prototype.isDebug = function () {\n        return isTrue(this.gridOptions.debug);\n    };\n    GridOptionsWrapper.prototype.getColumnDefs = function () {\n        return this.gridOptions.columnDefs;\n    };\n    GridOptionsWrapper.prototype.getColumnTypes = function () {\n        return this.gridOptions.columnTypes;\n    };\n    GridOptionsWrapper.prototype.getDatasource = function () {\n        return this.gridOptions.datasource;\n    };\n    GridOptionsWrapper.prototype.getViewportDatasource = function () {\n        return this.gridOptions.viewportDatasource;\n    };\n    GridOptionsWrapper.prototype.getServerSideDatasource = function () {\n        return this.gridOptions.serverSideDatasource;\n    };\n    GridOptionsWrapper.prototype.isAccentedSort = function () {\n        return isTrue(this.gridOptions.accentedSort);\n    };\n    GridOptionsWrapper.prototype.isEnableBrowserTooltips = function () {\n        return isTrue(this.gridOptions.enableBrowserTooltips);\n    };\n    GridOptionsWrapper.prototype.isEnableCellExpressions = function () {\n        return isTrue(this.gridOptions.enableCellExpressions);\n    };\n    GridOptionsWrapper.prototype.isEnableGroupEdit = function () {\n        return isTrue(this.gridOptions.enableGroupEdit);\n    };\n    GridOptionsWrapper.prototype.isSuppressMiddleClickScrolls = function () {\n        return isTrue(this.gridOptions.suppressMiddleClickScrolls);\n    };\n    GridOptionsWrapper.prototype.isPreventDefaultOnContextMenu = function () {\n        return isTrue(this.gridOptions.preventDefaultOnContextMenu);\n    };\n    GridOptionsWrapper.prototype.isSuppressPreventDefaultOnMouseWheel = function () {\n        return isTrue(this.gridOptions.suppressPreventDefaultOnMouseWheel);\n    };\n    GridOptionsWrapper.prototype.isSuppressColumnVirtualisation = function () {\n        return isTrue(this.gridOptions.suppressColumnVirtualisation);\n    };\n    GridOptionsWrapper.prototype.isSuppressContextMenu = function () {\n        return isTrue(this.gridOptions.suppressContextMenu);\n    };\n    GridOptionsWrapper.prototype.isAllowContextMenuWithControlKey = function () {\n        return isTrue(this.gridOptions.allowContextMenuWithControlKey);\n    };\n    GridOptionsWrapper.prototype.isSuppressCopyRowsToClipboard = function () {\n        return isTrue(this.gridOptions.suppressCopyRowsToClipboard);\n    };\n    GridOptionsWrapper.prototype.isCopyHeadersToClipboard = function () {\n        return isTrue(this.gridOptions.copyHeadersToClipboard);\n    };\n    GridOptionsWrapper.prototype.isSuppressClipboardPaste = function () {\n        return isTrue(this.gridOptions.suppressClipboardPaste);\n    };\n    GridOptionsWrapper.prototype.isSuppressLastEmptyLineOnPaste = function () {\n        return isTrue(this.gridOptions.suppressLastEmptyLineOnPaste);\n    };\n    GridOptionsWrapper.prototype.isPagination = function () {\n        return isTrue(this.gridOptions.pagination);\n    };\n    GridOptionsWrapper.prototype.isSuppressEnterpriseResetOnNewColumns = function () {\n        return isTrue(this.gridOptions.suppressEnterpriseResetOnNewColumns);\n    };\n    GridOptionsWrapper.prototype.getProcessDataFromClipboardFunc = function () {\n        return this.gridOptions.processDataFromClipboard;\n    };\n    GridOptionsWrapper.prototype.getAsyncTransactionWaitMillis = function () {\n        return _.exists(this.gridOptions.asyncTransactionWaitMillis) ? this.gridOptions.asyncTransactionWaitMillis : Constants.BATCH_WAIT_MILLIS;\n    };\n    GridOptionsWrapper.prototype.isSuppressMovableColumns = function () {\n        return isTrue(this.gridOptions.suppressMovableColumns);\n    };\n    GridOptionsWrapper.prototype.isAnimateRows = function () {\n        // never allow animating if enforcing the row order\n        if (this.isEnsureDomOrder()) {\n            return false;\n        }\n        return isTrue(this.gridOptions.animateRows);\n    };\n    GridOptionsWrapper.prototype.isSuppressColumnMoveAnimation = function () {\n        return isTrue(this.gridOptions.suppressColumnMoveAnimation);\n    };\n    GridOptionsWrapper.prototype.isSuppressAggFuncInHeader = function () {\n        return isTrue(this.gridOptions.suppressAggFuncInHeader);\n    };\n    GridOptionsWrapper.prototype.isSuppressAggAtRootLevel = function () {\n        return isTrue(this.gridOptions.suppressAggAtRootLevel);\n    };\n    GridOptionsWrapper.prototype.isEnableRangeSelection = function () {\n        return ModuleRegistry.isRegistered(exports.ModuleNames.RangeSelectionModule) && isTrue(this.gridOptions.enableRangeSelection);\n    };\n    GridOptionsWrapper.prototype.isEnableRangeHandle = function () {\n        return isTrue(this.gridOptions.enableRangeHandle);\n    };\n    GridOptionsWrapper.prototype.isEnableFillHandle = function () {\n        return isTrue(this.gridOptions.enableFillHandle);\n    };\n    GridOptionsWrapper.prototype.getFillOperation = function () {\n        return this.gridOptions.fillOperation;\n    };\n    GridOptionsWrapper.prototype.isSuppressMultiRangeSelection = function () {\n        return isTrue(this.gridOptions.suppressMultiRangeSelection);\n    };\n    GridOptionsWrapper.prototype.isPaginationAutoPageSize = function () {\n        return isTrue(this.gridOptions.paginationAutoPageSize);\n    };\n    GridOptionsWrapper.prototype.isRememberGroupStateWhenNewData = function () {\n        return isTrue(this.gridOptions.rememberGroupStateWhenNewData);\n    };\n    GridOptionsWrapper.prototype.getIcons = function () {\n        return this.gridOptions.icons;\n    };\n    GridOptionsWrapper.prototype.getAggFuncs = function () {\n        return this.gridOptions.aggFuncs;\n    };\n    GridOptionsWrapper.prototype.getSortingOrder = function () {\n        return this.gridOptions.sortingOrder;\n    };\n    GridOptionsWrapper.prototype.getAlignedGrids = function () {\n        return this.gridOptions.alignedGrids;\n    };\n    GridOptionsWrapper.prototype.isMasterDetail = function () {\n        var masterDetail = isTrue(this.gridOptions.masterDetail);\n        if (masterDetail) {\n            return ModuleRegistry.assertRegistered(exports.ModuleNames.MasterDetailModule, 'masterDetail');\n        }\n        else {\n            return false;\n        }\n    };\n    GridOptionsWrapper.prototype.isKeepDetailRows = function () {\n        return isTrue(this.gridOptions.keepDetailRows);\n    };\n    GridOptionsWrapper.prototype.getKeepDetailRowsCount = function () {\n        if (this.gridOptions.keepDetailRowsCount > 0) {\n            return this.gridOptions.keepDetailRowsCount;\n        }\n        return DEFAULT_KEEP_DETAIL_ROW_COUNT;\n    };\n    GridOptionsWrapper.prototype.getIsRowMasterFunc = function () {\n        return this.gridOptions.isRowMaster;\n    };\n    GridOptionsWrapper.prototype.getIsRowSelectableFunc = function () {\n        return this.gridOptions.isRowSelectable;\n    };\n    GridOptionsWrapper.prototype.getGroupRowRendererParams = function () {\n        return this.gridOptions.groupRowRendererParams;\n    };\n    GridOptionsWrapper.prototype.getOverlayLoadingTemplate = function () {\n        return this.gridOptions.overlayLoadingTemplate;\n    };\n    GridOptionsWrapper.prototype.getOverlayNoRowsTemplate = function () {\n        return this.gridOptions.overlayNoRowsTemplate;\n    };\n    GridOptionsWrapper.prototype.isSuppressAutoSize = function () {\n        return isTrue(this.gridOptions.suppressAutoSize);\n    };\n    GridOptionsWrapper.prototype.isEnableCellTextSelection = function () {\n        return isTrue(this.gridOptions.enableCellTextSelection);\n    };\n    GridOptionsWrapper.prototype.isSuppressParentsInRowNodes = function () {\n        return isTrue(this.gridOptions.suppressParentsInRowNodes);\n    };\n    GridOptionsWrapper.prototype.isFunctionsReadOnly = function () {\n        return isTrue(this.gridOptions.functionsReadOnly);\n    };\n    GridOptionsWrapper.prototype.isFloatingFilter = function () {\n        return this.gridOptions.floatingFilter;\n    };\n    GridOptionsWrapper.prototype.isEnableCellTextSelect = function () {\n        return isTrue(this.gridOptions.enableCellTextSelection);\n    };\n    GridOptionsWrapper.prototype.isEnableOldSetFilterModel = function () {\n        return isTrue(this.gridOptions.enableOldSetFilterModel);\n    };\n    GridOptionsWrapper.prototype.getDefaultColDef = function () {\n        return this.gridOptions.defaultColDef;\n    };\n    GridOptionsWrapper.prototype.getDefaultColGroupDef = function () {\n        return this.gridOptions.defaultColGroupDef;\n    };\n    GridOptionsWrapper.prototype.getDefaultExportParams = function () {\n        return this.gridOptions.defaultExportParams;\n    };\n    GridOptionsWrapper.prototype.isSuppressCsvExport = function () {\n        return isTrue(this.gridOptions.suppressCsvExport);\n    };\n    GridOptionsWrapper.prototype.isAllowShowChangeAfterFilter = function () {\n        return isTrue(this.gridOptions.allowShowChangeAfterFilter);\n    };\n    GridOptionsWrapper.prototype.isSuppressExcelExport = function () {\n        return isTrue(this.gridOptions.suppressExcelExport);\n    };\n    GridOptionsWrapper.prototype.isSuppressMakeColumnVisibleAfterUnGroup = function () {\n        return isTrue(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup);\n    };\n    GridOptionsWrapper.prototype.getNodeChildDetailsFunc = function () {\n        return this.gridOptions.getNodeChildDetails;\n    };\n    GridOptionsWrapper.prototype.getDataPathFunc = function () {\n        return this.gridOptions.getDataPath;\n    };\n    GridOptionsWrapper.prototype.getIsServerSideGroupFunc = function () {\n        return this.gridOptions.isServerSideGroup;\n    };\n    GridOptionsWrapper.prototype.getServerSideGroupKeyFunc = function () {\n        return this.gridOptions.getServerSideGroupKey;\n    };\n    GridOptionsWrapper.prototype.getGroupRowAggNodesFunc = function () {\n        return this.gridOptions.groupRowAggNodes;\n    };\n    GridOptionsWrapper.prototype.getContextMenuItemsFunc = function () {\n        return this.gridOptions.getContextMenuItems;\n    };\n    GridOptionsWrapper.prototype.getMainMenuItemsFunc = function () {\n        return this.gridOptions.getMainMenuItems;\n    };\n    GridOptionsWrapper.prototype.getChartToolbarItemsFunc = function () {\n        return this.gridOptions.getChartToolbarItems;\n    };\n    GridOptionsWrapper.prototype.getRowNodeIdFunc = function () {\n        return this.gridOptions.getRowNodeId;\n    };\n    GridOptionsWrapper.prototype.getNavigateToNextCellFunc = function () {\n        return this.gridOptions.navigateToNextCell;\n    };\n    GridOptionsWrapper.prototype.getTabToNextCellFunc = function () {\n        return this.gridOptions.tabToNextCell;\n    };\n    GridOptionsWrapper.prototype.isTreeData = function () {\n        var usingTreeData = isTrue(this.gridOptions.treeData);\n        if (usingTreeData) {\n            return ModuleRegistry.assertRegistered(exports.ModuleNames.RowGroupingModule, 'Tree Data');\n        }\n        else {\n            return false;\n        }\n    };\n    GridOptionsWrapper.prototype.isValueCache = function () {\n        return isTrue(this.gridOptions.valueCache);\n    };\n    GridOptionsWrapper.prototype.isValueCacheNeverExpires = function () {\n        return isTrue(this.gridOptions.valueCacheNeverExpires);\n    };\n    GridOptionsWrapper.prototype.isDeltaSort = function () {\n        return isTrue(this.gridOptions.deltaSort);\n    };\n    GridOptionsWrapper.prototype.isAggregateOnlyChangedColumns = function () {\n        return isTrue(this.gridOptions.aggregateOnlyChangedColumns);\n    };\n    GridOptionsWrapper.prototype.getProcessSecondaryColDefFunc = function () {\n        return this.gridOptions.processSecondaryColDef;\n    };\n    GridOptionsWrapper.prototype.getProcessSecondaryColGroupDefFunc = function () {\n        return this.gridOptions.processSecondaryColGroupDef;\n    };\n    GridOptionsWrapper.prototype.getSendToClipboardFunc = function () {\n        return this.gridOptions.sendToClipboard;\n    };\n    GridOptionsWrapper.prototype.getProcessRowPostCreateFunc = function () {\n        return this.gridOptions.processRowPostCreate;\n    };\n    GridOptionsWrapper.prototype.getProcessCellForClipboardFunc = function () {\n        return this.gridOptions.processCellForClipboard;\n    };\n    GridOptionsWrapper.prototype.getProcessHeaderForClipboardFunc = function () {\n        return this.gridOptions.processHeaderForClipboard;\n    };\n    GridOptionsWrapper.prototype.getProcessCellFromClipboardFunc = function () {\n        return this.gridOptions.processCellFromClipboard;\n    };\n    GridOptionsWrapper.prototype.getViewportRowModelPageSize = function () {\n        return oneOrGreater(this.gridOptions.viewportRowModelPageSize, DEFAULT_VIEWPORT_ROW_MODEL_PAGE_SIZE);\n    };\n    GridOptionsWrapper.prototype.getViewportRowModelBufferSize = function () {\n        return zeroOrGreater(this.gridOptions.viewportRowModelBufferSize, DEFAULT_VIEWPORT_ROW_MODEL_BUFFER_SIZE);\n    };\n    GridOptionsWrapper.prototype.isServerSideSortingAlwaysResets = function () {\n        return isTrue(this.gridOptions.serverSideSortingAlwaysResets);\n    };\n    GridOptionsWrapper.prototype.getPostSortFunc = function () {\n        return this.gridOptions.postSort;\n    };\n    GridOptionsWrapper.prototype.getProcessChartOptionsFunc = function () {\n        return this.gridOptions.processChartOptions;\n    };\n    GridOptionsWrapper.prototype.getClipboardDeliminator = function () {\n        return _.exists(this.gridOptions.clipboardDeliminator) ? this.gridOptions.clipboardDeliminator : '\\t';\n    };\n    GridOptionsWrapper.prototype.setProperty = function (key, value) {\n        var gridOptionsNoType = this.gridOptions;\n        var previousValue = gridOptionsNoType[key];\n        if (previousValue !== value) {\n            gridOptionsNoType[key] = value;\n            var event_1 = {\n                type: key,\n                currentValue: value,\n                previousValue: previousValue\n            };\n            this.propertyEventService.dispatchEvent(event_1);\n        }\n    };\n    // this logic is repeated in lots of places. any element that had different CSS\n    // dependent on the layout needs to have the layout class added ot it.\n    GridOptionsWrapper.prototype.addLayoutElement = function (element) {\n        this.layoutElements.push(element);\n        this.updateLayoutClasses();\n    };\n    GridOptionsWrapper.prototype.updateLayoutClasses = function () {\n        var domLayout = this.getDomLayout();\n        var domLayoutAutoHeight = domLayout === Constants.DOM_LAYOUT_AUTO_HEIGHT;\n        var domLayoutPrint = domLayout === Constants.DOM_LAYOUT_PRINT;\n        var domLayoutNormal = domLayout === Constants.DOM_LAYOUT_NORMAL;\n        this.layoutElements.forEach(function (e) {\n            _.addOrRemoveCssClass(e, 'ag-layout-auto-height', domLayoutAutoHeight);\n            _.addOrRemoveCssClass(e, 'ag-layout-normal', domLayoutNormal);\n            _.addOrRemoveCssClass(e, 'ag-layout-print', domLayoutPrint);\n        });\n    };\n    GridOptionsWrapper.prototype.addEventListener = function (key, listener) {\n        GridOptionsWrapper_1.checkEventDeprecation(key);\n        this.propertyEventService.addEventListener(key, listener);\n    };\n    GridOptionsWrapper.checkEventDeprecation = function (eventName) {\n        if (eventName === 'floatingRowDataChanged') {\n            console.warn('ag-Grid: floatingRowDataChanged is now called pinnedRowDataChanged');\n        }\n    };\n    GridOptionsWrapper.prototype.removeEventListener = function (key, listener) {\n        this.propertyEventService.removeEventListener(key, listener);\n    };\n    GridOptionsWrapper.prototype.isSkipHeaderOnAutoSize = function () {\n        return !!this.gridOptions.skipHeaderOnAutoSize;\n    };\n    GridOptionsWrapper.prototype.getAutoSizePadding = function () {\n        return this.gridOptions.autoSizePadding && this.gridOptions.autoSizePadding > 0 ? this.gridOptions.autoSizePadding : 20;\n    };\n    // properties\n    GridOptionsWrapper.prototype.getHeaderHeight = function () {\n        if (typeof this.gridOptions.headerHeight === 'number') {\n            return this.gridOptions.headerHeight;\n        }\n        return this.getFromTheme(25, 'headerHeight');\n    };\n    GridOptionsWrapper.prototype.getFloatingFiltersHeight = function () {\n        if (typeof this.gridOptions.floatingFiltersHeight === 'number') {\n            return this.gridOptions.floatingFiltersHeight;\n        }\n        return this.getFromTheme(25, 'headerHeight');\n    };\n    GridOptionsWrapper.prototype.getGroupHeaderHeight = function () {\n        if (typeof this.gridOptions.groupHeaderHeight === 'number') {\n            return this.gridOptions.groupHeaderHeight;\n        }\n        return this.getHeaderHeight();\n    };\n    GridOptionsWrapper.prototype.getPivotHeaderHeight = function () {\n        if (typeof this.gridOptions.pivotHeaderHeight === 'number') {\n            return this.gridOptions.pivotHeaderHeight;\n        }\n        return this.getHeaderHeight();\n    };\n    GridOptionsWrapper.prototype.getPivotGroupHeaderHeight = function () {\n        if (typeof this.gridOptions.pivotGroupHeaderHeight === 'number') {\n            return this.gridOptions.pivotGroupHeaderHeight;\n        }\n        return this.getGroupHeaderHeight();\n    };\n    GridOptionsWrapper.prototype.isExternalFilterPresent = function () {\n        if (typeof this.gridOptions.isExternalFilterPresent === 'function') {\n            return this.gridOptions.isExternalFilterPresent();\n        }\n        return false;\n    };\n    GridOptionsWrapper.prototype.doesExternalFilterPass = function (node) {\n        if (typeof this.gridOptions.doesExternalFilterPass === 'function') {\n            return this.gridOptions.doesExternalFilterPass(node);\n        }\n        return false;\n    };\n    GridOptionsWrapper.prototype.getTooltipShowDelay = function () {\n        var tooltipShowDelay = this.gridOptions.tooltipShowDelay;\n        if (_.exists(tooltipShowDelay)) {\n            if (tooltipShowDelay < 0) {\n                console.warn('ag-grid: tooltipShowDelay should not be lower than 0');\n            }\n            return Math.max(200, tooltipShowDelay);\n        }\n        return null;\n    };\n    GridOptionsWrapper.prototype.isTooltipMouseTrack = function () {\n        return isTrue(this.gridOptions.tooltipMouseTrack);\n    };\n    GridOptionsWrapper.prototype.getDocument = function () {\n        // if user is providing document, we use the users one,\n        // otherwise we use the document on the global namespace.\n        var result = null;\n        if (this.gridOptions.getDocument && _.exists(this.gridOptions.getDocument)) {\n            result = this.gridOptions.getDocument();\n        }\n        if (result && _.exists(result)) {\n            return result;\n        }\n        return document;\n    };\n    GridOptionsWrapper.prototype.getMinColWidth = function () {\n        if (this.gridOptions.minColWidth > GridOptionsWrapper_1.MIN_COL_WIDTH) {\n            return this.gridOptions.minColWidth;\n        }\n        var measuredMin = this.getFromTheme(null, 'headerCellMinWidth');\n        return Math.max(measuredMin, GridOptionsWrapper_1.MIN_COL_WIDTH);\n    };\n    GridOptionsWrapper.prototype.getMaxColWidth = function () {\n        if (this.gridOptions.maxColWidth && this.gridOptions.maxColWidth > GridOptionsWrapper_1.MIN_COL_WIDTH) {\n            return this.gridOptions.maxColWidth;\n        }\n        return null;\n    };\n    GridOptionsWrapper.prototype.getColWidth = function () {\n        if (typeof this.gridOptions.colWidth !== 'number' || this.gridOptions.colWidth < GridOptionsWrapper_1.MIN_COL_WIDTH) {\n            return 200;\n        }\n        return this.gridOptions.colWidth;\n    };\n    GridOptionsWrapper.prototype.getRowBuffer = function () {\n        var rowBuffer = this.gridOptions.rowBuffer;\n        if (typeof rowBuffer === 'number') {\n            if (rowBuffer < 0) {\n                _.doOnce(function () { return console.warn(\"ag-Grid: rowBuffer should not be negative\"); }, 'warn rowBuffer negative');\n                this.gridOptions.rowBuffer = rowBuffer = 0;\n            }\n        }\n        else {\n            rowBuffer = Constants.ROW_BUFFER_SIZE;\n        }\n        return rowBuffer;\n    };\n    GridOptionsWrapper.prototype.getRowBufferInPixels = function () {\n        var rowsToBuffer = this.getRowBuffer();\n        var defaultRowHeight = this.getRowHeightAsNumber();\n        return rowsToBuffer * defaultRowHeight;\n    };\n    // the user might be using some non-standard scrollbar, eg a scrollbar that has zero\n    // width and overlays (like the Safari scrollbar, but presented in Chrome). so we\n    // allow the user to provide the scroll width before we work it out.\n    GridOptionsWrapper.prototype.getScrollbarWidth = function () {\n        if (this.scrollWidth == null) {\n            var useGridOptions = typeof this.gridOptions.scrollbarWidth === 'number' && this.gridOptions.scrollbarWidth >= 0;\n            this.scrollWidth = useGridOptions ? this.gridOptions.scrollbarWidth : _.getScrollbarWidth();\n        }\n        return this.scrollWidth;\n    };\n    GridOptionsWrapper.prototype.checkForDeprecated = function () {\n        var _this = this;\n        // casting to generic object, so typescript compiles even though\n        // we are looking for attributes that don't exist\n        var options = this.gridOptions;\n        if (options.suppressUnSort) {\n            console.warn('ag-grid: as of v1.12.4 suppressUnSort is not used. Please use sortingOrder instead.');\n        }\n        if (options.suppressDescSort) {\n            console.warn('ag-grid: as of v1.12.4 suppressDescSort is not used. Please use sortingOrder instead.');\n        }\n        if (options.groupAggFields) {\n            console.warn('ag-grid: as of v3 groupAggFields is not used. Please add appropriate agg fields to your columns.');\n        }\n        if (options.groupHidePivotColumns) {\n            console.warn('ag-grid: as of v3 groupHidePivotColumns is not used as pivot columns are now called rowGroup columns. Please refer to the documentation');\n        }\n        if (options.groupKeys) {\n            console.warn('ag-grid: as of v3 groupKeys is not used. You need to set rowGroupIndex on the columns to group. Please refer to the documentation');\n        }\n        if (typeof options.groupDefaultExpanded === 'boolean') {\n            console.warn('ag-grid: groupDefaultExpanded can no longer be boolean. for groupDefaultExpanded=true, use groupDefaultExpanded=9999 instead, to expand all the groups');\n        }\n        if (options.onRowDeselected || options.rowDeselected) {\n            console.warn('ag-grid: since version 3.4 event rowDeselected no longer exists, please check the docs');\n        }\n        if (options.rowsAlreadyGrouped) {\n            console.warn('ag-grid: since version 3.4 rowsAlreadyGrouped no longer exists, please use getNodeChildDetails() instead');\n        }\n        if (options.groupAggFunction) {\n            console.warn('ag-grid: since version 4.3.x groupAggFunction is now called groupRowAggNodes');\n        }\n        if (options.checkboxSelection) {\n            console.warn('ag-grid: since version 8.0.x checkboxSelection is not supported as a grid option. ' + 'If you want this on all columns, use defaultColDef instead and set it there');\n        }\n        if (options.paginationInitialRowCount) {\n            console.warn('ag-grid: since version 9.0.x paginationInitialRowCount is now called infiniteInitialRowCount');\n        }\n        if (options.infinitePageSize) {\n            console.warn('ag-grid: since version 9.0.x infinitePageSize is now called cacheBlockSize');\n        }\n        if (options.infiniteBlockSize) {\n            console.warn('ag-grid: since version 10.0.x infiniteBlockSize is now called cacheBlockSize');\n        }\n        if (options.maxPagesInCache) {\n            console.warn('ag-grid: since version 10.0.x maxPagesInCache is now called maxBlocksInCache');\n        }\n        if (options.paginationOverflowSize) {\n            console.warn('ag-grid: since version 10.0.x paginationOverflowSize is now called cacheOverflowSize');\n        }\n        // if (options.forPrint) {\n        //     console.warn('ag-grid: since version 10.1.x, use property domLayout=\"forPrint\" instead of forPrint=true');\n        // }\n        if (options.suppressMenuFilterPanel) {\n            console.warn(\"ag-grid: since version 11.0.x, use property colDef.menuTabs=['generalMenuTab','columnsMenuTab'] instead of suppressMenuFilterPanel=true\");\n        }\n        if (options.suppressMenuMainPanel) {\n            console.warn(\"ag-grid: since version 11.0.x, use property colDef.menuTabs=['filterMenuTab','columnsMenuTab'] instead of suppressMenuMainPanel=true\");\n        }\n        if (options.suppressMenuColumnPanel) {\n            console.warn(\"ag-grid: since version 11.0.x, use property colDef.menuTabs=['generalMenuTab','filterMenuTab'] instead of suppressMenuColumnPanel=true\");\n        }\n        if (options.suppressUseColIdForGroups) {\n            console.warn(\"ag-grid: since version 11.0.x, this is not in use anymore. You should be able to remove it from your definition\");\n        }\n        if (options.groupSuppressRow) {\n            console.warn(\"ag-grid: since version 18.2.x, 'groupSuppressRow' should not be used anymore. Instead remove row groups and perform custom sorting.\");\n        }\n        if (options.groupColumnDef) {\n            console.warn(\"ag-grid: since version 11.0.x, groupColumnDef has been renamed, this property is now called autoGroupColumnDef. Please change your configuration accordingly\");\n        }\n        if (options.slaveGrids) {\n            console.warn(\"ag-grid: since version 12.x, slaveGrids has been renamed, this property is now called alignedGrids. Please change your configuration accordingly\");\n        }\n        if (options.floatingTopRowData) {\n            console.warn(\"ag-grid: since version 12.x, floatingTopRowData is now called pinnedTopRowData\");\n        }\n        if (options.floatingBottomRowData) {\n            console.warn(\"ag-grid: since version 12.x, floatingBottomRowData is now called pinnedBottomRowData\");\n        }\n        if (options.paginationStartPage) {\n            console.warn(\"ag-grid: since version 12.x, paginationStartPage is gone, please call api.paginationGoToPage(\" + options.paginationStartPage + \") instead.\");\n        }\n        if (options.getHeaderCellTemplate) {\n            console.warn(\"ag-grid: since version 15.x, getHeaderCellTemplate is gone, please check the header documentation on how to set header templates.\");\n        }\n        if (options.headerCellTemplate) {\n            console.warn(\"ag-grid: since version 15.x, headerCellTemplate is gone, please check the header documentation on how to set header templates.\");\n        }\n        if (options.headerCellRenderer) {\n            console.warn(\"ag-grid: since version 15.x, headerCellRenderer is gone, please check the header documentation on how to set header templates.\");\n        }\n        if (options.angularCompileHeaders) {\n            console.warn(\"ag-grid: since version 15.x, angularCompileHeaders is gone, please see the getting started for Angular 1 docs to see how to do headers in Angular 1.x.\");\n        }\n        if (options.pivotTotals) {\n            console.warn(\"ag-grid: since version 18.x, pivotTotals has been removed, instead if using pivotTotals, set pivotColumnGroupTotals='before'|'after'.\");\n            options.pivotColumnGroupTotals = 'before';\n        }\n        if (options.rowModelType === 'inMemory') {\n            console.warn(\"ag-grid: since version 18.x, The In Memory Row Model has been renamed to the Client Side Row Model, set rowModelType='clientSide' instead.\");\n            options.rowModelType = 'clientSide';\n        }\n        if (options.rowModelType === 'enterprise') {\n            console.warn(\"ag-grid: since version 18.x, The Enterprise Row Model has been renamed to the Server Side Row Model, set rowModelType='serverSide' instead.\");\n            options.rowModelType = 'serverSide';\n        }\n        if (options.layoutInterval) {\n            console.warn(\"ag-grid: since version 18.x, layoutInterval is no longer a property. This is because the grid now uses CSS Flex for layout.\");\n        }\n        if (options.gridAutoHeight) {\n            console.warn(\"ag-grid: since version 19.x, gridAutoHeight is gone, please use domLayout=autoHeight instead\");\n            options.domLayout = 'autoHeight';\n        }\n        if (options.showToolPanel === true) {\n            console.warn(\"ag-grid: since version 19.x, showToolPanel is gone, please specify toolPanel components. See https://www.ag-grid.com/javascript-grid-tool-panel/\");\n            options.showToolPanel = undefined;\n            options.sideBar = options.sideBar || true;\n        }\n        if (options.showToolPanel === false) {\n            console.warn(\"ag-grid: since version 19.x, showToolPanel is gone, please specify toolPanel components. See https://www.ag-grid.com/javascript-grid-tool-panel/\");\n            options.showToolPanel = undefined;\n            options.sideBar = options.sideBar || false;\n        }\n        var oldToolPanelProperties = {\n            toolPanelSuppressRowGroups: 'suppressRowGroups',\n            toolPanelSuppressValues: 'suppressValues',\n            toolPanelSuppressPivots: 'suppressPivots',\n            toolPanelSuppressPivotMode: 'suppressPivotMode',\n            toolPanelSuppressColumnFilter: 'suppressColumnFilter',\n            toolPanelSuppressColumnSelectAll: 'suppressColumnSelectAll',\n            toolPanelSuppressSideButtons: 'suppressSideButtons',\n            toolPanelSuppressColumnExpandAll: 'suppressColumnExpandAll',\n            contractColumnSelection: 'contractColumnSelection'\n        };\n        var toolPanelColumnsCompProps = {};\n        Object.keys(oldToolPanelProperties).forEach(function (key) {\n            var translation = oldToolPanelProperties[key];\n            var value = _this.gridOptions[key];\n            if (value !== undefined) {\n                if (key === 'toolPanelSuppressSideButtons') {\n                    console.warn('ag-grid: since v19.0 toolPanelSuppressSideButtons has been completely removed. See https://www.ag-grid.com/javascript-grid-tool-panel/');\n                    return;\n                }\n                console.warn(\"ag-grid: since v19.0 gridOptions.\" + key + \" is deprecated, please use gridOptions.sideBar.toolPanel[columnsIndex].componentParams.\" + translation);\n                toolPanelColumnsCompProps[translation] = value;\n            }\n        });\n        if (Object.keys(toolPanelColumnsCompProps).length > 0 && !_.exists(options.sideBar)) {\n            console.warn(\"ag-grid: since version 19.x, sideBar is mandatory if using toolPanel related properties. See https://www.ag-grid.com/javascript-grid-tool-panel/\");\n            options.sideBar = true;\n        }\n        if (options.sideBar != null) {\n            options.sideBar = SideBarDefParser.parse(options.sideBar);\n        }\n        var sideBarDef = this.gridOptions.sideBar;\n        if (Object.keys(toolPanelColumnsCompProps).length > 0 && sideBarDef && sideBarDef.toolPanels) {\n            var columnsDef = sideBarDef.toolPanels.filter(function (it) { return it.id === 'columns'; });\n            if (columnsDef.length === 1) {\n                _.mergeDeep(columnsDef[0], {\n                    componentParams: toolPanelColumnsCompProps\n                });\n            }\n        }\n        if (options.enableStatusBar) {\n            console.warn(\"ag-grid: since version 19.x, enableStatusBar is gone, please specify statusBar components\");\n            options.statusBar = options.statusBar || {\n                components: [{ component: 'agAggregationComponent' }]\n            };\n        }\n        if (options.alwaysShowStatusBar) {\n            console.warn(\"ag-grid: since version 19.x, alwaysShowStatusBar is gone. Please specify a min-height on the ag-status-bar css class, eg .ag-status-bar {min-height: 35px; }\");\n        }\n        if (options.enableServerSideSorting || options.enableSorting) {\n            console.warn(\"ag-Grid: since v20, grid options enableSorting and enableServerSideSorting are gone. Instead set sortable=true on the column definition for the columns sorting are allowed on. To migrate from gridOption.enableSorting=true, set gridOptions.defaultColDef.sortable=true\");\n            if (!options.defaultColDef) {\n                options.defaultColDef = {};\n            }\n            if (!options.defaultColDef.sortable) {\n                options.defaultColDef.sortable = true;\n            }\n        }\n        if (options.enableFilter || options.enableServerSideFilter) {\n            console.warn(\"ag-Grid: since v20, grid options enableFilter and enableServerSideFilter are gone. Instead set filter=true (if not already specifying a specific filter) on the column definition for the columns filtering is allowed on. To migrate from gridOptions.enableFilter=true, set gridOptions.defaultColDef.filter=true. If you are explicitly setting specific filters for each column (ie colDef.filter is already set) the you don't need to do anything.\");\n            if (!options.defaultColDef) {\n                options.defaultColDef = {};\n            }\n            if (!options.defaultColDef.filter) {\n                options.defaultColDef.filter = true;\n            }\n        }\n        if (options.enableColResize) {\n            console.warn(\"ag-Grid: since v20, grid options enableColResize is gone. Instead set resizable=true on the column definition for the columns resizing are allowed on. To migrate from gridOption.enableColResize=true, set gridOptions.defaultColDef.resizable=true\");\n            if (!options.defaultColDef) {\n                options.defaultColDef = {};\n            }\n            if (!options.defaultColDef.resizable) {\n                options.defaultColDef.resizable = true;\n            }\n        }\n        if (options.deprecatedEmbedFullWidthRows) {\n            console.warn(\"ag-Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows.\");\n        }\n        if (options.suppressTabbing) {\n            console.warn(\"ag-Grid: since v20.1, suppressTabbing is replaced with the more powerful grid callback suppressKeyboardEvent(params) which can suppress any keyboard event including tabbing.\");\n        }\n        if (options.doesDataFlower) {\n            console.warn('ag-Grid: since v21.1, doesDataFlower is deprecated. Master/Detail is the new way for showing child data for a row and was introduced over a year ago. Please migrate your code to use master/detail instead.');\n        }\n        if (options.enableOldSetFilterModel) {\n            console.warn('ag-Grid: since v22.x, enableOldSetFilterModel is deprecated. Please move to the new Set Filter Model as the old one may not be supported in v23 onwards.');\n        }\n        if (options.floatingFilter) {\n            console.warn('ag-Grid: since v23.1, floatingFilter on the gridOptions is deprecated. Please use floatingFilter on the colDef instead.');\n            if (!options.defaultColDef) {\n                options.defaultColDef = {};\n            }\n            if (options.defaultColDef.floatingFilter == null) {\n                options.defaultColDef.floatingFilter = true;\n            }\n        }\n        var checkRenamedProperty = function (oldProp, newProp, version) {\n            if (options[oldProp] != null) {\n                console.warn(\"ag-grid: since version \" + version + \", '\" + oldProp + \"' is deprecated / renamed, please use the new property name '\" + newProp + \"' instead.\");\n                if (options[newProp] == null) {\n                    options[newProp] = options[oldProp];\n                }\n            }\n        };\n        checkRenamedProperty('batchUpdateWaitMillis', 'asyncTransactionWaitMillis', '23.1.x');\n        checkRenamedProperty('deltaRowDataMode', 'immutableData', '23.1.x');\n        checkRenamedProperty('deltaColumnMode', 'immutableColumns', '23.1.x');\n    };\n    GridOptionsWrapper.prototype.checkForViolations = function () {\n        if (this.isTreeData()) {\n            this.treeDataViolations();\n        }\n    };\n    GridOptionsWrapper.prototype.treeDataViolations = function () {\n        if (this.isRowModelDefault()) {\n            if (_.missing(this.getDataPathFunc())) {\n                console.warn('ag-Grid: property usingTreeData=true with rowModel=clientSide, but you did not ' +\n                    'provide getDataPath function, please provide getDataPath function if using tree data.');\n            }\n        }\n        if (this.isRowModelServerSide()) {\n            if (_.missing(this.getIsServerSideGroupFunc())) {\n                console.warn('ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not ' +\n                    'provide isServerSideGroup function, please provide isServerSideGroup function if using tree data.');\n            }\n            if (_.missing(this.getServerSideGroupKeyFunc())) {\n                console.warn('ag-Grid: property usingTreeData=true with rowModel=serverSide, but you did not ' +\n                    'provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data.');\n            }\n        }\n    };\n    GridOptionsWrapper.prototype.getLocaleTextFunc = function () {\n        if (this.gridOptions.localeTextFunc) {\n            return this.gridOptions.localeTextFunc;\n        }\n        var that = this;\n        return function (key, defaultValue) {\n            var localeText = that.gridOptions.localeText;\n            if (localeText && localeText[key]) {\n                return localeText[key];\n            }\n            return defaultValue;\n        };\n    };\n    // responsible for calling the onXXX functions on gridOptions\n    GridOptionsWrapper.prototype.globalEventHandler = function (eventName, event) {\n        var callbackMethodName = ComponentUtil.getCallbackForEvent(eventName);\n        if (typeof this.gridOptions[callbackMethodName] === 'function') {\n            this.gridOptions[callbackMethodName](event);\n        }\n    };\n    // we don't allow dynamic row height for virtual paging\n    GridOptionsWrapper.prototype.getRowHeightAsNumber = function () {\n        if (!this.gridOptions.rowHeight || _.missing(this.gridOptions.rowHeight)) {\n            return this.getDefaultRowHeight();\n        }\n        else if (this.gridOptions.rowHeight && this.isNumeric(this.gridOptions.rowHeight)) {\n            return this.gridOptions.rowHeight;\n        }\n        console.warn('ag-Grid row height must be a number if not using standard row model');\n        return this.getDefaultRowHeight();\n    };\n    GridOptionsWrapper.prototype.getRowHeightForNode = function (rowNode, allowEstimate) {\n        // check the function first, in case use set both function and\n        // number, when using virtual pagination then function can be\n        // used for pinned rows and the number for the body rows.\n        if (allowEstimate === void 0) { allowEstimate = false; }\n        if (typeof this.gridOptions.getRowHeight === 'function') {\n            if (allowEstimate) {\n                return { height: this.getDefaultRowHeight(), estimated: true };\n            }\n            var params = {\n                node: rowNode,\n                data: rowNode.data,\n                api: this.gridOptions.api,\n                context: this.gridOptions.context\n            };\n            var height = this.gridOptions.getRowHeight(params);\n            if (height != null) {\n                return { height: height, estimated: false };\n            }\n        }\n        if (rowNode.detail && this.isMasterDetail()) {\n            if (this.isNumeric(this.gridOptions.detailRowHeight)) {\n                return { height: this.gridOptions.detailRowHeight, estimated: false };\n            }\n            return { height: DEFAULT_DETAIL_ROW_HEIGHT, estimated: false };\n        }\n        var defaultRowHeight = this.getDefaultRowHeight();\n        var rowHeight = this.gridOptions.rowHeight && this.isNumeric(this.gridOptions.rowHeight) ? this.gridOptions.rowHeight : defaultRowHeight;\n        var minRowHeight = Math.min(defaultRowHeight, rowHeight);\n        if (this.columnController.isAutoRowHeightActive()) {\n            if (allowEstimate) {\n                return { height: rowHeight, estimated: true };\n            }\n            var autoHeight = this.autoHeightCalculator.getPreferredHeightForRow(rowNode);\n            // never return less than the default row height - covers when auto height\n            // cells are blank.\n            return { height: Math.max(autoHeight, minRowHeight), estimated: false };\n        }\n        return { height: rowHeight, estimated: false };\n    };\n    GridOptionsWrapper.prototype.isDynamicRowHeight = function () {\n        return typeof this.gridOptions.getRowHeight === 'function';\n    };\n    GridOptionsWrapper.prototype.getListItemHeight = function () {\n        return this.getFromTheme(20, 'listItemHeight');\n    };\n    GridOptionsWrapper.prototype.chartMenuPanelWidth = function () {\n        return this.environment.chartMenuPanelWidth();\n    };\n    GridOptionsWrapper.prototype.isNumeric = function (value) {\n        return !isNaN(value) && typeof value === 'number';\n    };\n    // Material data table has strict guidelines about whitespace, and these values are different than the ones\n    // ag-grid uses by default. We override the default ones for the sake of making it better out of the box\n    GridOptionsWrapper.prototype.getFromTheme = function (defaultValue, sassVariableName) {\n        var theme = this.environment.getTheme().theme;\n        if (theme && theme.indexOf('ag-theme') === 0) {\n            return this.environment.getSassVariable(theme, sassVariableName);\n        }\n        return defaultValue;\n    };\n    GridOptionsWrapper.prototype.getDefaultRowHeight = function () {\n        return this.getFromTheme(DEFAULT_ROW_HEIGHT, 'rowHeight');\n    };\n    var GridOptionsWrapper_1;\n    GridOptionsWrapper.MIN_COL_WIDTH = 10;\n    GridOptionsWrapper.PROP_HEADER_HEIGHT = 'headerHeight';\n    GridOptionsWrapper.PROP_GROUP_REMOVE_SINGLE_CHILDREN = 'groupRemoveSingleChildren';\n    GridOptionsWrapper.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN = 'groupRemoveLowestSingleChildren';\n    GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT = 'pivotHeaderHeight';\n    GridOptionsWrapper.PROP_SUPPRESS_CLIPBOARD_PASTE = 'suppressClipboardPaste';\n    GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT = 'groupHeaderHeight';\n    GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT = 'pivotGroupHeaderHeight';\n    GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT = 'floatingFiltersHeight';\n    GridOptionsWrapper.PROP_SUPPRESS_ROW_CLICK_SELECTION = 'suppressRowClickSelection';\n    GridOptionsWrapper.PROP_SUPPRESS_ROW_DRAG = 'suppressRowDrag';\n    GridOptionsWrapper.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG = 'suppressMoveWhenRowDragging';\n    GridOptionsWrapper.PROP_POPUP_PARENT = 'popupParent';\n    GridOptionsWrapper.PROP_DOM_LAYOUT = 'domLayout';\n    __decorate$7([\n        Autowired('gridOptions')\n    ], GridOptionsWrapper.prototype, \"gridOptions\", void 0);\n    __decorate$7([\n        Autowired('columnController')\n    ], GridOptionsWrapper.prototype, \"columnController\", void 0);\n    __decorate$7([\n        Autowired('eventService')\n    ], GridOptionsWrapper.prototype, \"eventService\", void 0);\n    __decorate$7([\n        Autowired('gridApi')\n    ], GridOptionsWrapper.prototype, \"gridApi\", void 0);\n    __decorate$7([\n        Autowired('columnApi')\n    ], GridOptionsWrapper.prototype, \"columnApi\", void 0);\n    __decorate$7([\n        Autowired('environment')\n    ], GridOptionsWrapper.prototype, \"environment\", void 0);\n    __decorate$7([\n        Autowired('autoHeightCalculator')\n    ], GridOptionsWrapper.prototype, \"autoHeightCalculator\", void 0);\n    __decorate$7([\n        Autowired('context')\n    ], GridOptionsWrapper.prototype, \"context\", void 0);\n    __decorate$7([\n        __param$3(0, Qualifier('gridApi')), __param$3(1, Qualifier('columnApi'))\n    ], GridOptionsWrapper.prototype, \"agWire\", null);\n    __decorate$7([\n        PreDestroy\n    ], GridOptionsWrapper.prototype, \"destroy\", null);\n    __decorate$7([\n        PostConstruct\n    ], GridOptionsWrapper.prototype, \"init\", null);\n    GridOptionsWrapper = GridOptionsWrapper_1 = __decorate$7([\n        Bean('gridOptionsWrapper')\n    ], GridOptionsWrapper);\n    return GridOptionsWrapper;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __spreadArrays$3 = (undefined && undefined.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar ComponentUtil = /** @class */ (function () {\n    function ComponentUtil() {\n    }\n    ComponentUtil.getEventCallbacks = function () {\n        if (!ComponentUtil.EVENT_CALLBACKS) {\n            ComponentUtil.EVENT_CALLBACKS = ComponentUtil.EVENTS.map(function (event) { return ComponentUtil.getCallbackForEvent(event); });\n        }\n        return ComponentUtil.EVENT_CALLBACKS;\n    };\n    ComponentUtil.copyAttributesToGridOptions = function (gridOptions, component, skipEventDeprecationCheck) {\n        if (skipEventDeprecationCheck === void 0) { skipEventDeprecationCheck = false; }\n        checkForDeprecated(component);\n        // create empty grid options if none were passed\n        if (typeof gridOptions !== 'object') {\n            gridOptions = {};\n        }\n        // to allow array style lookup in TypeScript, take type away from 'this' and 'gridOptions'\n        var pGridOptions = gridOptions;\n        var keyExists = function (key) { return typeof component[key] !== 'undefined'; };\n        // add in all the simple properties\n        __spreadArrays$3(ComponentUtil.ARRAY_PROPERTIES, ComponentUtil.STRING_PROPERTIES, ComponentUtil.OBJECT_PROPERTIES, ComponentUtil.FUNCTION_PROPERTIES, ComponentUtil.getEventCallbacks()).filter(keyExists)\n            .forEach(function (key) { return pGridOptions[key] = component[key]; });\n        ComponentUtil.BOOLEAN_PROPERTIES\n            .filter(keyExists)\n            .forEach(function (key) { return pGridOptions[key] = ComponentUtil.toBoolean(component[key]); });\n        ComponentUtil.NUMBER_PROPERTIES\n            .filter(keyExists)\n            .forEach(function (key) { return pGridOptions[key] = ComponentUtil.toNumber(component[key]); });\n        // purely for event deprecation checks (for frameworks - wouldn't apply for non-fw versions)\n        if (!skipEventDeprecationCheck) {\n            ComponentUtil.EVENTS\n                // React uses onXXX, not sure why this is different to the other frameworks\n                .filter(function (event) { return keyExists(event) || keyExists(ComponentUtil.getCallbackForEvent(event)); })\n                .forEach(function (event) { return GridOptionsWrapper.checkEventDeprecation(event); });\n        }\n        return gridOptions;\n    };\n    ComponentUtil.getCallbackForEvent = function (eventName) {\n        if (!eventName || eventName.length < 2) {\n            return eventName;\n        }\n        else {\n            return 'on' + eventName[0].toUpperCase() + eventName.substr(1);\n        }\n    };\n    ComponentUtil.processOnChange = function (changes, gridOptions, api, columnApi) {\n        if (!changes) {\n            return;\n        }\n        checkForDeprecated(changes);\n        // to allow array style lookup in TypeScript, take type away from 'this' and 'gridOptions'\n        var pGridOptions = gridOptions;\n        var keyExists = function (key) { return changes[key]; };\n        // check if any change for the simple types, and if so, then just copy in the new value\n        __spreadArrays$3(ComponentUtil.ARRAY_PROPERTIES, ComponentUtil.OBJECT_PROPERTIES, ComponentUtil.STRING_PROPERTIES, ComponentUtil.getEventCallbacks()).filter(keyExists)\n            .forEach(function (key) { return pGridOptions[key] = changes[key].currentValue; });\n        ComponentUtil.BOOLEAN_PROPERTIES\n            .filter(keyExists)\n            .forEach(function (key) { return pGridOptions[key] = ComponentUtil.toBoolean(changes[key].currentValue); });\n        ComponentUtil.NUMBER_PROPERTIES\n            .filter(keyExists)\n            .forEach(function (key) { return pGridOptions[key] = ComponentUtil.toNumber(changes[key].currentValue); });\n        if (changes.enableCellTextSelection) {\n            api.setEnableCellTextSelection(ComponentUtil.toBoolean(changes.enableCellTextSelection.currentValue));\n        }\n        if (changes.showToolPanel) {\n            api.showToolPanel(ComponentUtil.toBoolean(changes.showToolPanel.currentValue));\n        }\n        if (changes.quickFilterText) {\n            api.setQuickFilter(changes.quickFilterText.currentValue);\n        }\n        if (changes.rowData) {\n            api.setRowData(changes.rowData.currentValue);\n        }\n        if (changes.pinnedTopRowData) {\n            api.setPinnedTopRowData(changes.pinnedTopRowData.currentValue);\n        }\n        if (changes.pinnedBottomRowData) {\n            api.setPinnedBottomRowData(changes.pinnedBottomRowData.currentValue);\n        }\n        if (changes.columnDefs) {\n            api.setColumnDefs(changes.columnDefs.currentValue, \"gridOptionsChanged\");\n        }\n        if (changes.datasource) {\n            api.setDatasource(changes.datasource.currentValue);\n        }\n        if (changes.headerHeight) {\n            api.setHeaderHeight(ComponentUtil.toNumber(changes.headerHeight.currentValue));\n        }\n        if (changes.paginationPageSize) {\n            api.paginationSetPageSize(ComponentUtil.toNumber(changes.paginationPageSize.currentValue));\n        }\n        if (changes.pivotMode) {\n            columnApi.setPivotMode(ComponentUtil.toBoolean(changes.pivotMode.currentValue));\n        }\n        if (changes.groupRemoveSingleChildren) {\n            api.setGroupRemoveSingleChildren(ComponentUtil.toBoolean(changes.groupRemoveSingleChildren.currentValue));\n        }\n        if (changes.suppressRowDrag) {\n            api.setSuppressRowDrag(ComponentUtil.toBoolean(changes.suppressRowDrag.currentValue));\n        }\n        if (changes.suppressMoveWhenRowDragging) {\n            api.setSuppressMoveWhenRowDragging(ComponentUtil.toBoolean(changes.suppressMoveWhenRowDragging.currentValue));\n        }\n        if (changes.suppressRowClickSelection) {\n            api.setSuppressRowClickSelection(ComponentUtil.toBoolean(changes.suppressRowClickSelection.currentValue));\n        }\n        if (changes.gridAutoHeight) {\n            api.setGridAutoHeight(ComponentUtil.toBoolean(changes.gridAutoHeight.currentValue));\n        }\n        if (changes.suppressClipboardPaste) {\n            api.setSuppressClipboardPaste(ComponentUtil.toBoolean(changes.suppressClipboardPaste.currentValue));\n        }\n        if (changes.sideBar) {\n            api.setSideBar(changes.sideBar.currentValue);\n        }\n        // copy changes into an event for dispatch\n        var event = {\n            type: Events.EVENT_COMPONENT_STATE_CHANGED,\n            api: gridOptions.api,\n            columnApi: gridOptions.columnApi\n        };\n        _.iterateObject(changes, function (key, value) {\n            event[key] = value;\n        });\n        api.dispatchEvent(event);\n    };\n    ComponentUtil.toBoolean = function (value) {\n        if (typeof value === 'boolean') {\n            return value;\n        }\n        else if (typeof value === 'string') {\n            // for boolean, compare to empty String to allow attributes appearing with\n            // no value to be treated as 'true'\n            return value.toUpperCase() === 'TRUE' || value == '';\n        }\n        else {\n            return false;\n        }\n    };\n    ComponentUtil.toNumber = function (value) {\n        if (typeof value === 'number') {\n            return value;\n        }\n        else if (typeof value === 'string') {\n            return Number(value);\n        }\n        else {\n            return undefined;\n        }\n    };\n    // all the events are populated in here AFTER this class (at the bottom of the file).\n    ComponentUtil.EVENTS = [];\n    ComponentUtil.STRING_PROPERTIES = PropertyKeys.STRING_PROPERTIES;\n    ComponentUtil.OBJECT_PROPERTIES = PropertyKeys.OBJECT_PROPERTIES;\n    ComponentUtil.ARRAY_PROPERTIES = PropertyKeys.ARRAY_PROPERTIES;\n    ComponentUtil.NUMBER_PROPERTIES = PropertyKeys.NUMBER_PROPERTIES;\n    ComponentUtil.BOOLEAN_PROPERTIES = PropertyKeys.BOOLEAN_PROPERTIES;\n    ComponentUtil.FUNCTION_PROPERTIES = PropertyKeys.FUNCTION_PROPERTIES;\n    ComponentUtil.ALL_PROPERTIES = PropertyKeys.ALL_PROPERTIES;\n    return ComponentUtil;\n}());\nComponentUtil.EVENTS = _.values(Events);\nfunction checkForDeprecated(changes) {\n    if (changes.rowDeselected || changes.onRowDeselected) {\n        console.warn('ag-grid: as of v3.4 rowDeselected no longer exists. Please check the docs.');\n    }\n}\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$8 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar BeanStub = /** @class */ (function () {\n    function BeanStub() {\n        var _this = this;\n        this.destroyFunctions = [];\n        this.destroyed = false;\n        this.getContext = function () { return _this.context; };\n        this.isAlive = function () { return !_this.destroyed; };\n    }\n    // this was a test constructor niall built, when active, it prints after 5 seconds all beans/components that are\n    // not destroyed. to use, create a new grid, then api.destroy() before 5 seconds. then anything that gets printed\n    // points to a bean or component that was not properly disposed of.\n    // constructor() {\n    //     setTimeout(()=> {\n    //         if (this.isAlive()) {\n    //             let prototype: any = Object.getPrototypeOf(this);\n    //             const constructor: any = prototype.constructor;\n    //             const constructorString = constructor.toString();\n    //             const beanName = constructorString.substring(9, constructorString.indexOf(\"(\"));\n    //             console.log('is alive ' + beanName);\n    //         }\n    //     }, 5000);\n    // }\n    // CellComp and GridComp and override this because they get the FrameworkOverrides from the Beans bean\n    BeanStub.prototype.getFrameworkOverrides = function () {\n        return this.frameworkOverrides;\n    };\n    BeanStub.prototype.destroy = function () {\n        // let prototype: any = Object.getPrototypeOf(this);\n        // const constructor: any = prototype.constructor;\n        // const constructorString = constructor.toString();\n        // const beanName = constructorString.substring(9, constructorString.indexOf(\"(\"));\n        this.destroyFunctions.forEach(function (func) { return func(); });\n        this.destroyFunctions.length = 0;\n        this.destroyed = true;\n        this.dispatchEvent({ type: BeanStub.EVENT_DESTROYED });\n    };\n    BeanStub.prototype.addEventListener = function (eventType, listener) {\n        if (!this.localEventService) {\n            this.localEventService = new EventService();\n        }\n        this.localEventService.addEventListener(eventType, listener);\n    };\n    BeanStub.prototype.removeEventListener = function (eventType, listener) {\n        if (this.localEventService) {\n            this.localEventService.removeEventListener(eventType, listener);\n        }\n    };\n    BeanStub.prototype.dispatchEventAsync = function (event) {\n        var _this = this;\n        window.setTimeout(function () { return _this.dispatchEvent(event); }, 0);\n    };\n    BeanStub.prototype.dispatchEvent = function (event) {\n        if (this.localEventService) {\n            this.localEventService.dispatchEvent(event);\n        }\n    };\n    BeanStub.prototype.addDestroyableEventListener = function (object, event, listener) {\n        var _this = this;\n        if (this.destroyed) {\n            return;\n        }\n        if (object instanceof HTMLElement) {\n            _.addSafePassiveEventListener(this.getFrameworkOverrides(), object, event, listener);\n        }\n        else {\n            object.addEventListener(event, listener);\n        }\n        var destroyFunc = function () {\n            object.removeEventListener(event, listener);\n            _this.destroyFunctions = _this.destroyFunctions.filter(function (fn) { return fn !== destroyFunc; });\n            return null;\n        };\n        this.destroyFunctions.push(destroyFunc);\n        return destroyFunc;\n    };\n    BeanStub.prototype.addDestroyFunc = function (func) {\n        // if we are already destroyed, we execute the func now\n        if (this.isAlive()) {\n            this.destroyFunctions.push(func);\n        }\n        else {\n            func();\n        }\n    };\n    BeanStub.prototype.wireDependentBean = function (bean, context) {\n        if (bean.destroy) {\n            this.addDestroyFunc(bean.destroy.bind(bean));\n        }\n        return this.wireBean(bean, context);\n    };\n    BeanStub.prototype.wireBean = function (bean, context) {\n        (context || this.getContext()).wireBean(bean);\n        return bean;\n    };\n    BeanStub.EVENT_DESTROYED = 'destroyed';\n    __decorate$8([\n        Autowired('context')\n    ], BeanStub.prototype, \"context\", void 0);\n    __decorate$8([\n        Autowired('frameworkOverrides')\n    ], BeanStub.prototype, \"frameworkOverrides\", void 0);\n    __decorate$8([\n        PreDestroy\n    ], BeanStub.prototype, \"destroy\", null);\n    return BeanStub;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$9 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar compIdSequence = new NumberSequence();\nvar Component = /** @class */ (function (_super) {\n    __extends(Component, _super);\n    function Component(template) {\n        var _this = _super.call(this) || this;\n        _this.childComponents = [];\n        _this.annotatedEventListeners = [];\n        // if false, then CSS class \"ag-hidden\" is applied, which sets \"display: none\"\n        _this.displayed = true;\n        // if false, then CSS class \"ag-invisible\" is applied, which sets \"visibility: hidden\"\n        _this.visible = true;\n        // unique id for this row component. this is used for getting a reference to the HTML dom.\n        // we cannot use the RowNode id as this is not unique (due to animation, old rows can be lying\n        // around as we create a new rowComp instance for the same row node).\n        _this.compId = compIdSequence.next();\n        if (template) {\n            _this.setTemplate(template);\n        }\n        return _this;\n    }\n    Component.prototype.getCompId = function () {\n        return this.compId;\n    };\n    // for registered components only, eg creates AgCheckbox instance from ag-checkbox HTML tag\n    Component.prototype.createChildComponentsFromTags = function (parentNode, paramsMap) {\n        var _this = this;\n        // we MUST take a copy of the list first, as the 'swapComponentForNode' adds comments into the DOM\n        // which messes up the traversal order of the children.\n        var childNodeList = _.copyNodeList(parentNode.childNodes);\n        _.forEach(childNodeList, function (childNode) {\n            if (!(childNode instanceof HTMLElement)) {\n                return;\n            }\n            var childComp = _this.getContext().createComponentFromElement(childNode, function (childComp) {\n                // copy over all attributes, including css classes, so any attributes user put on the tag\n                // wll be carried across\n                _this.copyAttributesFromNode(childNode, childComp.getGui());\n            }, paramsMap);\n            if (childComp) {\n                if (childComp.addItems && childNode.children.length) {\n                    _this.createChildComponentsFromTags(childNode);\n                    // converting from HTMLCollection to Array\n                    var items = Array.prototype.slice.call(childNode.children);\n                    childComp.addItems(items);\n                }\n                // replace the tag (eg ag-checkbox) with the proper HTMLElement (eg 'div') in the dom\n                _this.swapComponentForNode(childComp, parentNode, childNode);\n            }\n            else if (childNode.childNodes) {\n                _this.createChildComponentsFromTags(childNode);\n            }\n        });\n    };\n    Component.prototype.copyAttributesFromNode = function (source, dest) {\n        _.iterateNamedNodeMap(source.attributes, function (name, value) { return dest.setAttribute(name, value); });\n    };\n    Component.prototype.swapComponentForNode = function (newComponent, parentNode, childNode) {\n        var eComponent = newComponent.getGui();\n        parentNode.replaceChild(eComponent, childNode);\n        parentNode.insertBefore(document.createComment(childNode.nodeName), eComponent);\n        this.childComponents.push(newComponent);\n        this.swapInComponentForQuerySelectors(newComponent, childNode);\n    };\n    Component.prototype.swapInComponentForQuerySelectors = function (newComponent, childNode) {\n        var thisNoType = this;\n        this.iterateOverQuerySelectors(function (querySelector) {\n            if (thisNoType[querySelector.attributeName] === childNode) {\n                thisNoType[querySelector.attributeName] = newComponent;\n            }\n        });\n    };\n    Component.prototype.iterateOverQuerySelectors = function (action) {\n        var thisPrototype = Object.getPrototypeOf(this);\n        while (thisPrototype != null) {\n            var metaData = thisPrototype.__agComponentMetaData;\n            var currentProtoName = (thisPrototype.constructor).name;\n            if (metaData && metaData[currentProtoName] && metaData[currentProtoName].querySelectors) {\n                _.forEach(metaData[currentProtoName].querySelectors, function (querySelector) { return action(querySelector); });\n            }\n            thisPrototype = Object.getPrototypeOf(thisPrototype);\n        }\n    };\n    Component.prototype.setTemplate = function (template, paramsMap) {\n        var eGui = _.loadTemplate(template);\n        this.setTemplateFromElement(eGui, paramsMap);\n    };\n    Component.prototype.setTemplateFromElement = function (element, paramsMap) {\n        this.eGui = element;\n        this.eGui.__agComponent = this;\n        this.addAnnotatedEventListeners();\n        this.wireQuerySelectors();\n        // context will not be available when user sets template in constructor\n        if (!!this.getContext()) {\n            this.createChildComponentsFromTags(this.getGui(), paramsMap);\n        }\n    };\n    Component.prototype.createChildComponentsPreConstruct = function () {\n        // ui exists if user sets template in constructor. when this happens, we have to wait for the context\n        // to be autoWired first before we can create child components.\n        if (!!this.getGui()) {\n            this.createChildComponentsFromTags(this.getGui());\n        }\n    };\n    Component.prototype.wireQuerySelectors = function () {\n        var _this = this;\n        if (!this.eGui) {\n            return;\n        }\n        var thisNoType = this;\n        this.iterateOverQuerySelectors(function (querySelector) {\n            var resultOfQuery = _this.eGui.querySelector(querySelector.querySelector);\n            if (resultOfQuery) {\n                thisNoType[querySelector.attributeName] = resultOfQuery.__agComponent || resultOfQuery;\n            }\n        });\n    };\n    Component.prototype.addAnnotatedEventListeners = function () {\n        var _this = this;\n        this.removeAnnotatedEventListeners();\n        if (!this.eGui) {\n            return;\n        }\n        var listenerMethods = this.getAgComponentMetaData('listenerMethods');\n        if (_.missingOrEmpty(listenerMethods)) {\n            return;\n        }\n        if (!this.annotatedEventListeners) {\n            this.annotatedEventListeners = [];\n        }\n        _.forEach(listenerMethods, function (eventListener) {\n            var listener = _this[eventListener.methodName].bind(_this);\n            _this.eGui.addEventListener(eventListener.eventName, listener);\n            _this.annotatedEventListeners.push({ eventName: eventListener.eventName, listener: listener });\n        });\n    };\n    Component.prototype.getAgComponentMetaData = function (key) {\n        var res = [];\n        var thisProto = Object.getPrototypeOf(this);\n        while (thisProto != null) {\n            var metaData = thisProto.__agComponentMetaData;\n            var currentProtoName = (thisProto.constructor).name;\n            // IE does not support Function.prototype.name, so we need to extract\n            // the name using a RegEx\n            // from: https://matt.scharley.me/2012/03/monkey-patch-name-ie.html\n            if (currentProtoName === undefined) {\n                var funcNameRegex = /function\\s([^(]{1,})\\(/;\n                var results = funcNameRegex.exec(thisProto.constructor.toString());\n                if (results && results.length > 1) {\n                    currentProtoName = results[1].trim();\n                }\n            }\n            if (metaData && metaData[currentProtoName] && metaData[currentProtoName][key]) {\n                res = res.concat(metaData[currentProtoName][key]);\n            }\n            thisProto = Object.getPrototypeOf(thisProto);\n        }\n        return res;\n    };\n    Component.prototype.removeAnnotatedEventListeners = function () {\n        var _this = this;\n        if (!this.annotatedEventListeners || !this.eGui) {\n            return;\n        }\n        _.forEach(this.annotatedEventListeners, function (e) { return _this.eGui.removeEventListener(e.eventName, e.listener); });\n        this.annotatedEventListeners = [];\n    };\n    Component.prototype.getGui = function () {\n        return this.eGui;\n    };\n    Component.prototype.getFocusableElement = function () {\n        return this.eGui;\n    };\n    Component.prototype.setParentComponent = function (component) {\n        this.parentComponent = component;\n    };\n    Component.prototype.getParentComponent = function () {\n        return this.parentComponent;\n    };\n    // this method is for older code, that wants to provide the gui element,\n    // it is not intended for this to be in ag-Stack\n    Component.prototype.setGui = function (eGui) {\n        this.eGui = eGui;\n    };\n    Component.prototype.queryForHtmlElement = function (cssSelector) {\n        return this.eGui.querySelector(cssSelector);\n    };\n    Component.prototype.queryForHtmlInputElement = function (cssSelector) {\n        return this.eGui.querySelector(cssSelector);\n    };\n    Component.prototype.appendChild = function (newChild, container) {\n        if (!container) {\n            container = this.eGui;\n        }\n        if (_.isNodeOrElement(newChild)) {\n            container.appendChild(newChild);\n        }\n        else {\n            var childComponent = newChild;\n            container.appendChild(childComponent.getGui());\n            this.childComponents.push(childComponent);\n        }\n    };\n    Component.prototype.addFeature = function (feature, context) {\n        this.wireDependentBean(feature, context);\n    };\n    Component.prototype.isDisplayed = function () {\n        return this.displayed;\n    };\n    Component.prototype.setVisible = function (visible) {\n        if (visible !== this.visible) {\n            this.visible = visible;\n            _.setVisible(this.eGui, visible);\n        }\n    };\n    Component.prototype.setDisplayed = function (displayed) {\n        if (displayed !== this.displayed) {\n            this.displayed = displayed;\n            _.setDisplayed(this.eGui, displayed);\n            var event_1 = {\n                type: Component.EVENT_DISPLAYED_CHANGED,\n                visible: this.displayed\n            };\n            this.dispatchEvent(event_1);\n        }\n    };\n    Component.prototype.destroy = function () {\n        _.forEach(this.childComponents, function (childComponent) {\n            if (childComponent && childComponent.destroy) {\n                childComponent.destroy();\n            }\n        });\n        this.childComponents.length = 0;\n        this.removeAnnotatedEventListeners();\n        _super.prototype.destroy.call(this);\n    };\n    Component.prototype.addGuiEventListener = function (event, listener) {\n        var _this = this;\n        this.eGui.addEventListener(event, listener);\n        this.addDestroyFunc(function () { return _this.eGui.removeEventListener(event, listener); });\n    };\n    Component.prototype.addCssClass = function (className) {\n        _.addCssClass(this.eGui, className);\n    };\n    Component.prototype.removeCssClass = function (className) {\n        _.removeCssClass(this.eGui, className);\n    };\n    Component.prototype.addOrRemoveCssClass = function (className, addOrRemove) {\n        _.addOrRemoveCssClass(this.eGui, className, addOrRemove);\n    };\n    Component.prototype.getAttribute = function (key) {\n        var eGui = this.eGui;\n        return eGui ? eGui.getAttribute(key) : null;\n    };\n    Component.prototype.getRefElement = function (refName) {\n        return this.queryForHtmlElement(\"[ref=\\\"\" + refName + \"\\\"]\");\n    };\n    Component.EVENT_DISPLAYED_CHANGED = 'displayedChanged';\n    __decorate$9([\n        PreConstruct\n    ], Component.prototype, \"createChildComponentsPreConstruct\", null);\n    return Component;\n}(BeanStub));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$1 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar PopupComponent = /** @class */ (function (_super) {\n    __extends$1(PopupComponent, _super);\n    function PopupComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PopupComponent.prototype.isPopup = function () {\n        return true;\n    };\n    PopupComponent.prototype.setParentComponent = function (container) {\n        _.addCssClass(container.getGui(), 'ag-has-popup');\n        _super.prototype.setParentComponent.call(this, container);\n    };\n    PopupComponent.prototype.destroy = function () {\n        var parentComp = this.parentComponent;\n        var hasParent = parentComp && parentComp.isAlive();\n        if (hasParent) {\n            _.removeCssClass(parentComp.getGui(), 'ag-has-popup');\n        }\n        _super.prototype.destroy.call(this);\n    };\n    return PopupComponent;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nfunction QuerySelector(selector) {\n    return querySelectorFunc.bind(this, selector);\n}\nfunction RefSelector(ref) {\n    return querySelectorFunc.bind(this, \"[ref=\" + ref + \"]\");\n}\nfunction querySelectorFunc(selector, classPrototype, methodOrAttributeName, index) {\n    if (selector === null) {\n        console.error(\"ag-Grid: QuerySelector selector should not be null\");\n        return;\n    }\n    if (typeof index === \"number\") {\n        console.error(\"ag-Grid: QuerySelector should be on an attribute\");\n        return;\n    }\n    addToObjectProps(classPrototype, 'querySelectors', {\n        attributeName: methodOrAttributeName,\n        querySelector: selector\n    });\n}\n// think we should take this out, put property bindings on the\nfunction Listener(eventName) {\n    return listenerFunc.bind(this, eventName);\n}\nfunction listenerFunc(eventName, target, methodName) {\n    if (eventName === null) {\n        console.error(\"ag-Grid: EventListener eventName should not be null\");\n        return;\n    }\n    addToObjectProps(target, 'listenerMethods', {\n        methodName: methodName,\n        eventName: eventName\n    });\n}\nfunction addToObjectProps(target, key, value) {\n    // it's an attribute on the class\n    var props = getOrCreateProps$1(target, target.constructor.name);\n    if (!props[key]) {\n        props[key] = [];\n    }\n    props[key].push(value);\n}\nfunction getOrCreateProps$1(target, instanceName) {\n    if (!target.__agComponentMetaData) {\n        target.__agComponentMetaData = {};\n    }\n    if (!target.__agComponentMetaData[instanceName]) {\n        target.__agComponentMetaData[instanceName] = {};\n    }\n    return target.__agComponentMetaData[instanceName];\n}\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$2 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$a = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar TextCellEditor = /** @class */ (function (_super) {\n    __extends$2(TextCellEditor, _super);\n    function TextCellEditor() {\n        return _super.call(this, TextCellEditor.TEMPLATE) || this;\n    }\n    TextCellEditor.prototype.init = function (params) {\n        this.params = params;\n        var eInput = this.eInput;\n        var startValue;\n        // cellStartedEdit is only false if we are doing fullRow editing\n        if (params.cellStartedEdit) {\n            this.focusAfterAttached = true;\n            var keyPressBackspaceOrDelete = params.keyPress === Constants.KEY_BACKSPACE\n                || params.keyPress === Constants.KEY_DELETE;\n            if (keyPressBackspaceOrDelete) {\n                startValue = '';\n            }\n            else if (params.charPress) {\n                startValue = params.charPress;\n            }\n            else {\n                startValue = this.getStartValue(params);\n                if (params.keyPress !== Constants.KEY_F2) {\n                    this.highlightAllOnFocus = true;\n                }\n            }\n        }\n        else {\n            this.focusAfterAttached = false;\n            startValue = this.getStartValue(params);\n        }\n        if (_.exists(startValue)) {\n            eInput.setValue(startValue, true);\n        }\n        this.addDestroyableEventListener(eInput.getGui(), 'keydown', function (event) {\n            var pageUp = event.keyCode === Constants.KEY_PAGE_UP;\n            var pageDown = event.keyCode === Constants.KEY_PAGE_DOWN;\n            if (pageUp || pageDown) {\n                event.preventDefault();\n            }\n        });\n    };\n    TextCellEditor.prototype.afterGuiAttached = function () {\n        if (!this.focusAfterAttached) {\n            return;\n        }\n        var eInput = this.eInput;\n        // Added for AG-3238. We can't remove this explicit focus() because Chrome requires an input\n        // to be focused before setSelectionRange will work. But it triggers a bug in Safari where\n        // explicitly focusing then blurring an empty field will cause the parent container to scroll.\n        if (!_.isBrowserSafari()) {\n            eInput.getFocusableElement().focus();\n        }\n        var inputEl = eInput.getInputElement();\n        if (this.highlightAllOnFocus) {\n            inputEl.select();\n        }\n        else {\n            // when we started editing, we want the caret at the end, not the start.\n            // this comes into play in two scenarios: a) when user hits F2 and b)\n            // when user hits a printable character, then on IE (and only IE) the caret\n            // was placed after the first character, thus 'apply' would end up as 'pplea'\n            var value = eInput.getValue();\n            var len = (_.exists(value) && value.length) || 0;\n            if (len) {\n                inputEl.setSelectionRange(len, len);\n            }\n        }\n    };\n    // gets called when tabbing trough cells and in full row edit mode\n    TextCellEditor.prototype.focusIn = function () {\n        var eInput = this.eInput;\n        var focusEl = eInput.getFocusableElement();\n        var inputEl = eInput.getInputElement();\n        focusEl.focus();\n        inputEl.select();\n    };\n    TextCellEditor.prototype.focusOut = function () {\n        var inputEl = this.eInput.getInputElement();\n        if (_.isBrowserIE()) {\n            inputEl.setSelectionRange(0, 0);\n        }\n    };\n    TextCellEditor.prototype.getValue = function () {\n        var eInput = this.eInput;\n        return this.params.parseValue(eInput.getValue());\n    };\n    TextCellEditor.prototype.getStartValue = function (params) {\n        var formatValue = params.useFormatter || params.column.getColDef().refData;\n        return formatValue ? params.formatValue(params.value) : params.value;\n    };\n    TextCellEditor.prototype.isPopup = function () {\n        return false;\n    };\n    TextCellEditor.TEMPLATE = '<div class=\"ag-cell-edit-wrapper\"><ag-input-text-field class=\"ag-cell-editor\" ref=\"eInput\"></ag-input-text-field></div>';\n    __decorate$a([\n        RefSelector('eInput')\n    ], TextCellEditor.prototype, \"eInput\", void 0);\n    return TextCellEditor;\n}(PopupComponent));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/** Provides sync access to async component. Date component can be lazy created - this class encapsulates\n * this by keeping value locally until DateComp has loaded, then passing DateComp the value. */\nvar DateCompWrapper = /** @class */ (function () {\n    function DateCompWrapper(userComponentFactory, dateComponentParams, eParent) {\n        var _this = this;\n        this.alive = true;\n        userComponentFactory.newDateComponent(dateComponentParams).then(function (dateComp) {\n            // because async, check the filter still exists after component comes back\n            if (!_this.alive) {\n                if (dateComp.destroy) {\n                    dateComp.destroy();\n                }\n                return;\n            }\n            _this.dateComp = dateComp;\n            eParent.appendChild(dateComp.getGui());\n            if (dateComp.afterGuiAttached) {\n                dateComp.afterGuiAttached();\n            }\n            if (_this.tempValue) {\n                dateComp.setDate(_this.tempValue);\n            }\n        });\n    }\n    DateCompWrapper.prototype.destroy = function () {\n        this.alive = false;\n        if (this.dateComp && this.dateComp.destroy) {\n            this.dateComp.destroy();\n        }\n    };\n    DateCompWrapper.prototype.getDate = function () {\n        return this.dateComp ? this.dateComp.getDate() : this.tempValue;\n    };\n    DateCompWrapper.prototype.setDate = function (value) {\n        if (this.dateComp) {\n            this.dateComp.setDate(value);\n        }\n        else {\n            this.tempValue = value;\n        }\n    };\n    DateCompWrapper.prototype.setInputPlaceholder = function (placeholder) {\n        if (this.dateComp && this.dateComp.setInputPlaceholder) {\n            this.dateComp.setInputPlaceholder(placeholder);\n        }\n    };\n    return DateCompWrapper;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/* Common logic for options, used by both filters and floating filters. */\nvar OptionsFactory = /** @class */ (function () {\n    function OptionsFactory() {\n        this.customFilterOptions = {};\n    }\n    OptionsFactory.prototype.init = function (params, defaultOptions) {\n        this.filterOptions = params.filterOptions ? params.filterOptions : defaultOptions;\n        this.mapCustomOptions();\n        this.selectDefaultItem(params);\n    };\n    OptionsFactory.prototype.getFilterOptions = function () {\n        return this.filterOptions;\n    };\n    OptionsFactory.prototype.mapCustomOptions = function () {\n        var _this = this;\n        if (!this.filterOptions) {\n            return;\n        }\n        this.filterOptions.forEach(function (filterOption) {\n            if (typeof filterOption === 'string') {\n                return;\n            }\n            if (!filterOption.displayKey) {\n                console.warn(\"ag-Grid: ignoring FilterOptionDef as it doesn't contain a 'displayKey'\");\n                return;\n            }\n            if (!filterOption.displayName) {\n                console.warn(\"ag-Grid: ignoring FilterOptionDef as it doesn't contain a 'displayName'\");\n                return;\n            }\n            if (!filterOption.test) {\n                console.warn(\"ag-Grid: ignoring FilterOptionDef as it doesn't contain a 'test'\");\n                return;\n            }\n            _this.customFilterOptions[filterOption.displayKey] = filterOption;\n        });\n    };\n    OptionsFactory.prototype.selectDefaultItem = function (params) {\n        if (params.defaultOption) {\n            this.defaultOption = params.defaultOption;\n        }\n        else if (this.filterOptions.length >= 1) {\n            var firstFilterOption = this.filterOptions[0];\n            if (typeof firstFilterOption === 'string') {\n                this.defaultOption = firstFilterOption;\n            }\n            else if (firstFilterOption.displayKey) {\n                this.defaultOption = firstFilterOption.displayKey;\n            }\n            else {\n                console.warn(\"ag-Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'\");\n            }\n        }\n        else {\n            console.warn('ag-Grid: no filter options for filter');\n        }\n    };\n    OptionsFactory.prototype.getDefaultOption = function () {\n        return this.defaultOption;\n    };\n    OptionsFactory.prototype.getCustomOption = function (name) {\n        return this.customFilterOptions[name];\n    };\n    return OptionsFactory;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$3 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$b = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Contains common logic to all provided filters (apply button, clear button, etc).\n * All the filters that come with ag-Grid extend this class. User filters do not\n * extend this class.\n */\nvar ProvidedFilter = /** @class */ (function (_super) {\n    __extends$3(ProvidedFilter, _super);\n    function ProvidedFilter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.applyActive = false;\n        _this.hidePopup = null;\n        // after the user hits 'apply' the model gets copied to here. this is then the model that we use for\n        // all filtering. so if user changes UI but doesn't hit apply, then the UI will be out of sync with this model.\n        // this is what we want, as the UI should only become the 'active' filter once it's applied. when apply is\n        // inactive, this model will be in sync (following the debounce ms). if the UI is not a valid filter\n        // (eg the value is missing so nothing to filter on, or for set filter all checkboxes are checked so filter\n        // not active) then this appliedModel will be null/undefined.\n        _this.appliedModel = null;\n        return _this;\n    }\n    /** @deprecated */\n    ProvidedFilter.prototype.onFilterChanged = function () {\n        console.warn(\"ag-Grid: you should not call onFilterChanged() directly on the filter, please call\\n        gridApi.onFilterChanged() instead. onFilterChanged is not part of the exposed filter interface (it was\\n        a method that existed on an old version of the filters that was not intended for public use.\");\n        this.providedFilterParams.filterChangedCallback();\n    };\n    ProvidedFilter.prototype.isFilterActive = function () {\n        // filter is active if we have a valid applied model\n        return !!this.appliedModel;\n    };\n    ProvidedFilter.prototype.postConstruct = function () {\n        var templateString = /* html */ \"\\n            <div>\\n                <div class=\\\"ag-filter-body-wrapper ag-\" + this.getCssIdentifier() + \"-body-wrapper\\\" ref=\\\"eFilterBodyWrapper\\\">\\n                    \" + this.createBodyTemplate() + \"\\n                </div>\\n            </div>\";\n        this.setTemplate(templateString);\n    };\n    ProvidedFilter.prototype.init = function (params) {\n        this.setParams(params);\n        this.resetUiToDefaults(true);\n        this.updateUiVisibility();\n        this.setupOnBtApplyDebounce();\n    };\n    ProvidedFilter.prototype.setParams = function (params) {\n        this.providedFilterParams = params;\n        if (params.newRowsAction === ProvidedFilter.NEW_ROWS_ACTION_KEEP) {\n            this.newRowsActionKeep = true;\n        }\n        else if (params.newRowsAction === ProvidedFilter.NEW_ROWS_ACTION_CLEAR) {\n            this.newRowsActionKeep = false;\n        }\n        else {\n            // the default for SSRM and IRM is 'keep', for CSRM and VRM the default is 'clear'\n            var rowModelType = this.rowModel.getType();\n            var modelsForKeep = [Constants.ROW_MODEL_TYPE_SERVER_SIDE, Constants.ROW_MODEL_TYPE_INFINITE];\n            this.newRowsActionKeep = modelsForKeep.indexOf(rowModelType) >= 0;\n        }\n        this.applyActive = ProvidedFilter.isUseApplyButton(params);\n        this.createButtonPanel(params);\n    };\n    ProvidedFilter.prototype.createButtonPanel = function (params) {\n        var _this = this;\n        var clearActive = params.clearButton === true;\n        var resetActive = params.resetButton === true;\n        var anyButtonVisible = this.applyActive || clearActive || resetActive;\n        if (anyButtonVisible) {\n            var translate = this.gridOptionsWrapper.getLocaleTextFunc();\n            var eButtonsPanel_1 = document.createElement('div');\n            _.addCssClass(eButtonsPanel_1, 'ag-filter-apply-panel');\n            var addButton = function (text, clickListener) {\n                var button = _.loadTemplate(/* html */ \"<button type=\\\"button\\\" class=\\\"ag-standard-button ag-filter-apply-panel-button\\\">\" + text + \"</button>\");\n                eButtonsPanel_1.appendChild(button);\n                _this.addDestroyableEventListener(button, 'click', clickListener);\n            };\n            if (clearActive) {\n                addButton(translate('clearFilter', 'Clear Filter'), function () { return _this.onBtClear(); });\n            }\n            if (resetActive) {\n                addButton(translate('resetFilter', 'Reset Filter'), function () { return _this.onBtReset(); });\n            }\n            if (this.applyActive) {\n                addButton(translate('applyFilter', 'Apply Filter'), function () { return _this.onBtApply(); });\n            }\n            this.eFilterBodyWrapper.parentElement.appendChild(eButtonsPanel_1);\n        }\n    };\n    // subclasses can override this to provide alternative debounce defaults\n    ProvidedFilter.prototype.getDefaultDebounceMs = function () {\n        return 0;\n    };\n    ProvidedFilter.prototype.setupOnBtApplyDebounce = function () {\n        var debounceMs = ProvidedFilter.getDebounceMs(this.providedFilterParams, this.getDefaultDebounceMs());\n        this.onBtApplyDebounce = _.debounce(this.onBtApply.bind(this), debounceMs);\n    };\n    ProvidedFilter.prototype.getModel = function () {\n        return this.appliedModel;\n    };\n    ProvidedFilter.prototype.setModel = function (model) {\n        if (model) {\n            this.setModelIntoUi(model);\n        }\n        else {\n            this.resetUiToDefaults();\n        }\n        this.updateUiVisibility();\n        // we set the model from the gui, rather than the provided model,\n        // so the model is consistent. eg handling of null/undefined will be the same,\n        // of if model is case insensitive, then casing is removed.\n        this.applyModel();\n    };\n    ProvidedFilter.prototype.onBtClear = function () {\n        this.resetUiToDefaults();\n        this.updateUiVisibility();\n        this.onUiChanged();\n    };\n    ProvidedFilter.prototype.onBtReset = function () {\n        this.onBtClear();\n        this.onBtApply();\n    };\n    // returns true if the new model is different to the old model\n    ProvidedFilter.prototype.applyModel = function () {\n        var oldAppliedModel = this.appliedModel;\n        this.appliedModel = this.getModelFromUi();\n        // models can be same if user pasted same content into text field, or maybe just changed the case\n        // and it's a case insensitive filter\n        return !this.areModelsEqual(this.appliedModel, oldAppliedModel);\n    };\n    ProvidedFilter.prototype.onBtApply = function (afterFloatingFilter, afterDataChange) {\n        if (afterFloatingFilter === void 0) { afterFloatingFilter = false; }\n        if (afterDataChange === void 0) { afterDataChange = false; }\n        if (this.applyModel()) {\n            // the floating filter uses 'afterFloatingFilter' info, so it doesn't refresh after filter changed if change\n            // came from floating filter\n            this.providedFilterParams.filterChangedCallback({ afterFloatingFilter: afterFloatingFilter, afterDataChange: afterDataChange });\n        }\n        var _a = this.providedFilterParams, closeOnApply = _a.closeOnApply, applyButton = _a.applyButton, resetButton = _a.resetButton;\n        if (closeOnApply && !afterFloatingFilter && this.hidePopup && (applyButton || resetButton)) {\n            this.hidePopup();\n            this.hidePopup = null;\n        }\n    };\n    ProvidedFilter.prototype.onNewRowsLoaded = function () {\n        if (!this.newRowsActionKeep) {\n            this.resetUiToDefaults();\n            this.appliedModel = null;\n        }\n    };\n    // called by set filter\n    ProvidedFilter.prototype.isNewRowsActionKeep = function () {\n        return this.newRowsActionKeep;\n    };\n    ProvidedFilter.prototype.onUiChanged = function (afterFloatingFilter) {\n        if (afterFloatingFilter === void 0) { afterFloatingFilter = false; }\n        this.updateUiVisibility();\n        this.providedFilterParams.filterModifiedCallback();\n        if (afterFloatingFilter) {\n            // floating filter changes are always applied immediately\n            this.onBtApply(true);\n        }\n        else if (!this.applyActive) {\n            // if no apply button, we apply (but debounce for time delay)\n            this.onBtApplyDebounce();\n        }\n    };\n    ProvidedFilter.prototype.afterGuiAttached = function (params) {\n        this.hidePopup = params.hidePopup;\n    };\n    // static, as used by floating filter also\n    ProvidedFilter.getDebounceMs = function (params, debounceDefault) {\n        var applyActive = ProvidedFilter.isUseApplyButton(params);\n        if (applyActive) {\n            if (params.debounceMs != null) {\n                console.warn('ag-Grid: debounceMs is ignored when applyButton = true');\n            }\n            return 0;\n        }\n        return params.debounceMs != null ? params.debounceMs : debounceDefault;\n    };\n    // static, as used by floating filter also\n    ProvidedFilter.isUseApplyButton = function (params) {\n        if (params.apply && !params.applyButton) {\n            console.warn('ag-Grid: as of ag-Grid v21, filterParams.apply is now filterParams.applyButton, please change to applyButton');\n            params.applyButton = true;\n        }\n        return params.applyButton === true;\n    };\n    ProvidedFilter.prototype.destroy = function () {\n        this.hidePopup = null;\n        _super.prototype.destroy.call(this);\n    };\n    ProvidedFilter.NEW_ROWS_ACTION_KEEP = 'keep';\n    ProvidedFilter.NEW_ROWS_ACTION_CLEAR = 'clear';\n    __decorate$b([\n        RefSelector('eFilterBodyWrapper')\n    ], ProvidedFilter.prototype, \"eFilterBodyWrapper\", void 0);\n    __decorate$b([\n        Autowired('gridOptionsWrapper')\n    ], ProvidedFilter.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$b([\n        Autowired('rowModel')\n    ], ProvidedFilter.prototype, \"rowModel\", void 0);\n    __decorate$b([\n        PostConstruct\n    ], ProvidedFilter.prototype, \"postConstruct\", null);\n    return ProvidedFilter;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$4 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$c = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ConditionPosition;\n(function (ConditionPosition) {\n    ConditionPosition[ConditionPosition[\"One\"] = 0] = \"One\";\n    ConditionPosition[ConditionPosition[\"Two\"] = 1] = \"Two\";\n})(ConditionPosition || (ConditionPosition = {}));\nvar DEFAULT_TRANSLATIONS = {\n    loadingOoo: 'Loading...',\n    empty: 'Choose One',\n    equals: 'Equals',\n    notEqual: 'Not equal',\n    lessThan: 'Less than',\n    greaterThan: 'Greater than',\n    inRange: 'In range',\n    lessThanOrEqual: 'Less than or equals',\n    greaterThanOrEqual: 'Greater than or equals',\n    filterOoo: 'Filter...',\n    inRangeStart: 'From',\n    inRangeEnd: 'To',\n    contains: 'Contains',\n    notContains: 'Not contains',\n    startsWith: 'Starts with',\n    endsWith: 'Ends with',\n    searchOoo: 'Search...',\n    selectAll: 'Select All',\n    applyFilter: 'Apply Filter',\n    clearFilter: 'Clear Filter',\n    andCondition: 'AND',\n    orCondition: 'OR'\n};\n/**\n * Every filter with a dropdown where the user can specify a comparing type against the filter values\n */\nvar SimpleFilter = /** @class */ (function (_super) {\n    __extends$4(SimpleFilter, _super);\n    function SimpleFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // returns true if this type requires a 'from' field, eg any filter that requires at least one text value\n    SimpleFilter.prototype.showValueFrom = function (type) {\n        return !this.doesFilterHaveHiddenInput(type) && type !== SimpleFilter.EMPTY;\n    };\n    // returns true if this type requires a 'to' field, currently only 'range' returns true\n    SimpleFilter.prototype.showValueTo = function (type) {\n        return type === SimpleFilter.IN_RANGE;\n    };\n    // floating filter calls this when user applies filter from floating filter\n    SimpleFilter.prototype.onFloatingFilterChanged = function (type, value) {\n        this.setTypeFromFloatingFilter(type);\n        this.setValueFromFloatingFilter(value);\n        this.onUiChanged(true);\n    };\n    SimpleFilter.prototype.setTypeFromFloatingFilter = function (type) {\n        this.eType1.setValue(type);\n        this.eType2.setValue(this.optionsFactory.getDefaultOption());\n        this.eJoinOperatorAnd.setValue(true);\n    };\n    SimpleFilter.prototype.getModelFromUi = function () {\n        if (!this.isConditionUiComplete(ConditionPosition.One)) {\n            return null;\n        }\n        if (this.isAllowTwoConditions() && this.isConditionUiComplete(ConditionPosition.Two)) {\n            return {\n                filterType: this.getFilterType(),\n                operator: this.getJoinOperator(),\n                condition1: this.createCondition(ConditionPosition.One),\n                condition2: this.createCondition(ConditionPosition.Two)\n            };\n        }\n        return this.createCondition(ConditionPosition.One);\n    };\n    SimpleFilter.prototype.getCondition1Type = function () {\n        return this.eType1.getValue();\n    };\n    SimpleFilter.prototype.getCondition2Type = function () {\n        return this.eType2.getValue();\n    };\n    SimpleFilter.prototype.getJoinOperator = function () {\n        return this.eJoinOperatorOr.getValue() === true ? 'OR' : 'AND';\n    };\n    SimpleFilter.prototype.areModelsEqual = function (a, b) {\n        // both are missing\n        if (!a && !b) {\n            return true;\n        }\n        // one is missing, other present\n        if ((!a && b) || (a && !b)) {\n            return false;\n        }\n        // one is combined, the other is not\n        var aIsSimple = !a.operator;\n        var bIsSimple = !b.operator;\n        var oneSimpleOneCombined = (!aIsSimple && bIsSimple) || (aIsSimple && !bIsSimple);\n        if (oneSimpleOneCombined) {\n            return false;\n        }\n        var res;\n        // otherwise both present, so compare\n        if (aIsSimple) {\n            var aSimple = a;\n            var bSimple = b;\n            res = this.areSimpleModelsEqual(aSimple, bSimple);\n        }\n        else {\n            var aCombined = a;\n            var bCombined = b;\n            res = aCombined.operator === bCombined.operator\n                && this.areSimpleModelsEqual(aCombined.condition1, bCombined.condition1)\n                && this.areSimpleModelsEqual(aCombined.condition2, bCombined.condition2);\n        }\n        return res;\n    };\n    SimpleFilter.prototype.setModelIntoUi = function (model) {\n        var isCombined = model.operator;\n        if (isCombined) {\n            var combinedModel = model;\n            var orChecked = combinedModel.operator === 'OR';\n            this.eJoinOperatorAnd.setValue(!orChecked);\n            this.eJoinOperatorOr.setValue(orChecked);\n            this.eType1.setValue(combinedModel.condition1.type);\n            this.eType2.setValue(combinedModel.condition2.type);\n            this.setConditionIntoUi(combinedModel.condition1, ConditionPosition.One);\n            this.setConditionIntoUi(combinedModel.condition2, ConditionPosition.Two);\n        }\n        else {\n            var simpleModel = model;\n            this.eJoinOperatorAnd.setValue(true);\n            this.eJoinOperatorOr.setValue(false);\n            this.eType1.setValue(simpleModel.type);\n            this.eType2.setValue(this.optionsFactory.getDefaultOption());\n            this.setConditionIntoUi(simpleModel, ConditionPosition.One);\n            this.setConditionIntoUi(null, ConditionPosition.Two);\n        }\n    };\n    SimpleFilter.prototype.doesFilterPass = function (params) {\n        var model = this.getModel();\n        var isCombined = model.operator;\n        if (isCombined) {\n            var combinedModel = model;\n            var firstResult = this.individualConditionPasses(params, combinedModel.condition1);\n            var secondResult = this.individualConditionPasses(params, combinedModel.condition2);\n            if (combinedModel.operator === 'AND') {\n                return firstResult && secondResult;\n            }\n            return firstResult || secondResult;\n        }\n        var simpleModel = model;\n        var result = this.individualConditionPasses(params, simpleModel);\n        return result;\n    };\n    SimpleFilter.prototype.setParams = function (params) {\n        _super.prototype.setParams.call(this, params);\n        this.optionsFactory = new OptionsFactory();\n        this.optionsFactory.init(params, this.getDefaultFilterOptions());\n        this.allowTwoConditions = !params.suppressAndOrCondition;\n        this.putOptionsIntoDropdown();\n        this.addChangedListeners();\n    };\n    SimpleFilter.prototype.putOptionsIntoDropdown = function () {\n        var _this = this;\n        var filterOptions = this.optionsFactory.getFilterOptions();\n        filterOptions.forEach(function (option) {\n            var createOption = function () {\n                var key = (typeof option === 'string') ? option : option.displayKey;\n                var localName = _this.translate(key);\n                return {\n                    value: key,\n                    text: localName\n                };\n            };\n            _this.eType1.addOption(createOption());\n            _this.eType2.addOption(createOption());\n        });\n        var readOnly = filterOptions.length <= 1;\n        this.eType1.setDisabled(readOnly);\n        this.eType2.setDisabled(readOnly);\n    };\n    SimpleFilter.prototype.isAllowTwoConditions = function () {\n        return this.allowTwoConditions;\n    };\n    SimpleFilter.prototype.createBodyTemplate = function () {\n        return /* html */ \"\\n            <ag-select class=\\\"ag-filter-select\\\" ref=\\\"eOptions1\\\"></ag-select>\\n            \" + this.createValueTemplate(ConditionPosition.One) + \"\\n            <div class=\\\"ag-filter-condition\\\" ref=\\\"eJoinOperatorPanel\\\">\\n               <ag-radio-button ref=\\\"eJoinOperatorAnd\\\" class=\\\"ag-filter-condition-operator ag-filter-condition-operator-and\\\"></ag-radio-button>\\n               <ag-radio-button ref=\\\"eJoinOperatorOr\\\" class=\\\"ag-filter-condition-operator ag-filter-condition-operator-or\\\"></ag-radio-button>\\n            </div>\\n            <ag-select class=\\\"ag-filter-select\\\" ref=\\\"eOptions2\\\"></ag-select>\\n            \" + this.createValueTemplate(ConditionPosition.Two);\n    };\n    SimpleFilter.prototype.getCssIdentifier = function () {\n        return 'simple-filter';\n    };\n    SimpleFilter.prototype.updateUiVisibility = function () {\n        var firstConditionComplete = this.isConditionUiComplete(ConditionPosition.One);\n        var showSecondFilter = this.allowTwoConditions && firstConditionComplete;\n        _.setDisplayed(this.eCondition2Body, showSecondFilter);\n        _.setDisplayed(this.eType2.getGui(), showSecondFilter);\n        _.setDisplayed(this.eJoinOperatorPanel, showSecondFilter);\n    };\n    SimpleFilter.prototype.resetUiToDefaults = function (silent) {\n        var uniqueGroupId = 'ag-simple-filter-and-or-' + this.getCompId();\n        var translate = this.gridOptionsWrapper.getLocaleTextFunc();\n        var defaultOption = this.optionsFactory.getDefaultOption();\n        this.eType1.setValue(defaultOption, silent);\n        this.eType2.setValue(defaultOption, silent);\n        this.eJoinOperatorAnd\n            .setValue(true, silent)\n            .setName(uniqueGroupId)\n            .setLabel(translate('andCondition', 'AND'));\n        this.eJoinOperatorOr\n            .setValue(false, silent)\n            .setName(uniqueGroupId)\n            .setLabel(translate('orCondition', 'OR'));\n    };\n    SimpleFilter.prototype.translate = function (toTranslate) {\n        var translate = this.gridOptionsWrapper.getLocaleTextFunc();\n        var defaultTranslation = DEFAULT_TRANSLATIONS[toTranslate];\n        if (!defaultTranslation && this.optionsFactory.getCustomOption(toTranslate)) {\n            defaultTranslation = this.optionsFactory.getCustomOption(toTranslate).displayName;\n        }\n        return translate(toTranslate, defaultTranslation);\n    };\n    SimpleFilter.prototype.addChangedListeners = function () {\n        var _this = this;\n        var listener = function () { return _this.onUiChanged(); };\n        this.eType1.onValueChange(listener);\n        this.eType2.onValueChange(listener);\n        this.eJoinOperatorOr.onValueChange(listener);\n        this.eJoinOperatorAnd.onValueChange(listener);\n    };\n    SimpleFilter.prototype.doesFilterHaveHiddenInput = function (filterType) {\n        var customFilterOption = this.optionsFactory.getCustomOption(filterType);\n        return customFilterOption && customFilterOption.hideFilterInput;\n    };\n    SimpleFilter.EMPTY = 'empty';\n    SimpleFilter.EQUALS = 'equals';\n    SimpleFilter.NOT_EQUAL = 'notEqual';\n    SimpleFilter.LESS_THAN = 'lessThan';\n    SimpleFilter.LESS_THAN_OR_EQUAL = 'lessThanOrEqual';\n    SimpleFilter.GREATER_THAN = 'greaterThan';\n    SimpleFilter.GREATER_THAN_OR_EQUAL = 'greaterThanOrEqual';\n    SimpleFilter.IN_RANGE = 'inRange';\n    SimpleFilter.CONTAINS = 'contains';\n    SimpleFilter.NOT_CONTAINS = 'notContains';\n    SimpleFilter.STARTS_WITH = 'startsWith';\n    SimpleFilter.ENDS_WITH = 'endsWith';\n    __decorate$c([\n        RefSelector('eOptions1')\n    ], SimpleFilter.prototype, \"eType1\", void 0);\n    __decorate$c([\n        RefSelector('eOptions2')\n    ], SimpleFilter.prototype, \"eType2\", void 0);\n    __decorate$c([\n        RefSelector('eJoinOperatorAnd')\n    ], SimpleFilter.prototype, \"eJoinOperatorAnd\", void 0);\n    __decorate$c([\n        RefSelector('eJoinOperatorOr')\n    ], SimpleFilter.prototype, \"eJoinOperatorOr\", void 0);\n    __decorate$c([\n        RefSelector('eCondition2Body')\n    ], SimpleFilter.prototype, \"eCondition2Body\", void 0);\n    __decorate$c([\n        RefSelector('eJoinOperatorPanel')\n    ], SimpleFilter.prototype, \"eJoinOperatorPanel\", void 0);\n    return SimpleFilter;\n}(ProvidedFilter));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$5 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar ScalarFilter = /** @class */ (function (_super) {\n    __extends$5(ScalarFilter, _super);\n    function ScalarFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ScalarFilter.prototype.setParams = function (params) {\n        _super.prototype.setParams.call(this, params);\n        this.scalarFilterParams = params;\n        this.checkDeprecatedParams();\n    };\n    ScalarFilter.prototype.checkDeprecatedParams = function () {\n        if (this.scalarFilterParams.nullComparator) {\n            console.warn('ag-Grid: Since v21.0, the property filterParams.nullComparator is deprecated. ' +\n                'Please use filterParams.includeBlanksInEquals, filterParams.includeBlanksInLessThan and ' +\n                'filterParams.includeBlanksInGreaterThan instead.');\n            this.scalarFilterParams.includeBlanksInEquals = this.scalarFilterParams.nullComparator.equals;\n            this.scalarFilterParams.includeBlanksInLessThan = this.scalarFilterParams.nullComparator.lessThan;\n            this.scalarFilterParams.includeBlanksInGreaterThan = this.scalarFilterParams.nullComparator.greaterThan;\n        }\n    };\n    ScalarFilter.prototype.nullComparator = function (selectedOption, filterValue, gridValue) {\n        if (gridValue == null) {\n            switch (selectedOption) {\n                case ScalarFilter.EMPTY:\n                    return 0;\n                case ScalarFilter.EQUALS:\n                    return this.scalarFilterParams.includeBlanksInEquals ? 0 : 1;\n                case ScalarFilter.NOT_EQUAL:\n                    return this.scalarFilterParams.includeBlanksInEquals ? 1 : 0;\n                case ScalarFilter.GREATER_THAN:\n                case ScalarFilter.GREATER_THAN_OR_EQUAL:\n                    return this.scalarFilterParams.includeBlanksInGreaterThan ? 1 : -1;\n                case ScalarFilter.LESS_THAN:\n                case ScalarFilter.LESS_THAN_OR_EQUAL:\n                    return this.scalarFilterParams.includeBlanksInLessThan ? -1 : 1;\n            }\n        }\n        return this.comparator()(filterValue, gridValue);\n    };\n    ScalarFilter.prototype.individualConditionPasses = function (params, filterModel) {\n        var cellValue = this.scalarFilterParams.valueGetter(params.node);\n        var range = this.mapRangeFromModel(filterModel);\n        var filterValue = range.from;\n        var filterValueTo = range.to;\n        var filterType = filterModel.type;\n        var customFilterOption = this.optionsFactory.getCustomOption(filterType);\n        if (customFilterOption) {\n            // only execute the custom filter if a value exists or a value isn't required, i.e. input is hidden\n            if (filterValue != null || customFilterOption.hideFilterInput) {\n                return customFilterOption.test(filterValue, cellValue);\n            }\n        }\n        var compareResult = this.nullComparator(filterType, filterValue, cellValue);\n        switch (filterType) {\n            case ScalarFilter.EQUALS:\n                return compareResult === 0;\n            case ScalarFilter.NOT_EQUAL:\n                return compareResult !== 0;\n            case ScalarFilter.GREATER_THAN:\n                return compareResult > 0;\n            case ScalarFilter.GREATER_THAN_OR_EQUAL:\n                return compareResult >= 0;\n            case ScalarFilter.LESS_THAN:\n                return compareResult < 0;\n            case ScalarFilter.LESS_THAN_OR_EQUAL:\n                return compareResult <= 0;\n            case ScalarFilter.IN_RANGE: {\n                var compareToResult = this.nullComparator(filterType, filterValueTo, cellValue);\n                return this.scalarFilterParams.inRangeInclusive ?\n                    compareResult >= 0 && compareToResult <= 0 :\n                    compareResult > 0 && compareToResult < 0;\n            }\n            default:\n                throw new Error('Unexpected type of filter: ' + filterType);\n        }\n    };\n    return ScalarFilter;\n}(SimpleFilter));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$6 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$d = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar DateFilter = /** @class */ (function (_super) {\n    __extends$6(DateFilter, _super);\n    function DateFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DateFilter.prototype.mapRangeFromModel = function (filterModel) {\n        // unlike the other filters, we do two things here:\n        // 1) allow for different attribute names (same as done for other filters) (eg the 'from' and 'to'\n        //    are in different locations in Date and Number filter models)\n        // 2) convert the type (because Date filter uses Dates, however model is 'string')\n        //\n        // NOTE: The conversion of string to date also removes the timezone - i.e. when user picks\n        //       a date from the UI, it will have timezone info in it. This is lost when creating\n        //       the model. When we recreate the date again here, it's without a timezone.\n        return {\n            from: _.parseDateTimeFromString(filterModel.dateFrom),\n            to: _.parseDateTimeFromString(filterModel.dateTo)\n        };\n    };\n    DateFilter.prototype.setValueFromFloatingFilter = function (value) {\n        if (value != null) {\n            var dateFrom = _.parseDateTimeFromString(value);\n            this.dateCondition1FromComp.setDate(dateFrom);\n        }\n        else {\n            this.dateCondition1FromComp.setDate(null);\n        }\n        this.dateCondition1ToComp.setDate(null);\n        this.dateCondition2FromComp.setDate(null);\n        this.dateCondition2ToComp.setDate(null);\n    };\n    DateFilter.prototype.setConditionIntoUi = function (model, position) {\n        var _a = model ?\n            [_.parseDateTimeFromString(model.dateFrom), _.parseDateTimeFromString(model.dateTo)] :\n            [null, null], dateFrom = _a[0], dateTo = _a[1];\n        var _b = this.getFromToComponents(position), compFrom = _b[0], compTo = _b[1];\n        compFrom.setDate(dateFrom);\n        compTo.setDate(dateTo);\n    };\n    DateFilter.prototype.resetUiToDefaults = function (silent) {\n        _super.prototype.resetUiToDefaults.call(this, silent);\n        this.dateCondition1FromComp.setDate(null);\n        this.dateCondition1ToComp.setDate(null);\n        this.dateCondition2FromComp.setDate(null);\n        this.dateCondition2ToComp.setDate(null);\n    };\n    DateFilter.prototype.comparator = function () {\n        return this.dateFilterParams.comparator ? this.dateFilterParams.comparator : this.defaultComparator.bind(this);\n    };\n    DateFilter.prototype.defaultComparator = function (filterDate, cellValue) {\n        // The default comparator assumes that the cellValue is a date\n        var cellAsDate = cellValue;\n        if (cellValue == null || cellAsDate < filterDate) {\n            return -1;\n        }\n        if (cellAsDate > filterDate) {\n            return 1;\n        }\n        return 0;\n    };\n    DateFilter.prototype.setParams = function (params) {\n        _super.prototype.setParams.call(this, params);\n        this.dateFilterParams = params;\n        this.createDateComponents();\n    };\n    DateFilter.prototype.createDateComponents = function () {\n        var _this = this;\n        // params to pass to all four date comps\n        var dateComponentParams = {\n            onDateChanged: function () { return _this.onUiChanged(); },\n            filterParams: this.dateFilterParams\n        };\n        this.dateCondition1FromComp = new DateCompWrapper(this.userComponentFactory, dateComponentParams, this.eCondition1PanelFrom);\n        this.dateCondition1ToComp = new DateCompWrapper(this.userComponentFactory, dateComponentParams, this.eCondition1PanelTo);\n        this.dateCondition2FromComp = new DateCompWrapper(this.userComponentFactory, dateComponentParams, this.eCondition2PanelFrom);\n        this.dateCondition2ToComp = new DateCompWrapper(this.userComponentFactory, dateComponentParams, this.eCondition2PanelTo);\n        this.addDestroyFunc(function () {\n            _this.dateCondition1FromComp.destroy();\n            _this.dateCondition1ToComp.destroy();\n            _this.dateCondition2FromComp.destroy();\n            _this.dateCondition2ToComp.destroy();\n        });\n    };\n    DateFilter.prototype.getDefaultFilterOptions = function () {\n        return DateFilter.DEFAULT_FILTER_OPTIONS;\n    };\n    DateFilter.prototype.createValueTemplate = function (position) {\n        var pos = position === ConditionPosition.One ? '1' : '2';\n        return /* html */ \"\\n            <div class=\\\"ag-filter-body\\\" ref=\\\"eCondition\" + pos + \"Body\\\">\\n                <div class=\\\"ag-filter-from ag-filter-date-from\\\" ref=\\\"eCondition\" + pos + \"PanelFrom\\\">\\n                </div>\\n                <div class=\\\"ag-filter-to ag-filter-date-to\\\" ref=\\\"eCondition\" + pos + \"PanelTo\\\">\\n                </div>\\n            </div>\";\n    };\n    DateFilter.prototype.isConditionUiComplete = function (position) {\n        var positionOne = position === ConditionPosition.One;\n        var option = positionOne ? this.getCondition1Type() : this.getCondition2Type();\n        if (option === SimpleFilter.EMPTY) {\n            return false;\n        }\n        if (this.doesFilterHaveHiddenInput(option)) {\n            return true;\n        }\n        var _a = this.getFromToComponents(position), compFrom = _a[0], compTo = _a[1];\n        return compFrom.getDate() != null && (option !== SimpleFilter.IN_RANGE || compTo.getDate() != null);\n    };\n    DateFilter.prototype.areSimpleModelsEqual = function (aSimple, bSimple) {\n        return aSimple.dateFrom === bSimple.dateFrom\n            && aSimple.dateTo === bSimple.dateTo\n            && aSimple.type === bSimple.type;\n    };\n    // needed for creating filter model\n    DateFilter.prototype.getFilterType = function () {\n        return DateFilter.FILTER_TYPE;\n    };\n    DateFilter.prototype.createCondition = function (position) {\n        var positionOne = position === ConditionPosition.One;\n        var type = positionOne ? this.getCondition1Type() : this.getCondition2Type();\n        var _a = this.getFromToComponents(position), compFrom = _a[0], compTo = _a[1];\n        var dateFrom = compFrom.getDate();\n        var dateTo = compTo.getDate();\n        return {\n            dateFrom: _.serialiseDate(dateFrom) + \" \" + _.serialiseTime(dateFrom),\n            dateTo: _.serialiseDate(dateTo) + \" \" + _.serialiseTime(dateTo),\n            type: type,\n            filterType: DateFilter.FILTER_TYPE\n        };\n    };\n    DateFilter.prototype.resetPlaceholder = function () {\n        var translate = this.gridOptionsWrapper.getLocaleTextFunc();\n        var placeholder = translate('dateFormatOoo', 'yyyy-mm-dd');\n        this.dateCondition1FromComp.setInputPlaceholder(placeholder);\n        this.dateCondition1ToComp.setInputPlaceholder(placeholder);\n        this.dateCondition2FromComp.setInputPlaceholder(placeholder);\n        this.dateCondition2ToComp.setInputPlaceholder(placeholder);\n    };\n    DateFilter.prototype.updateUiVisibility = function () {\n        _super.prototype.updateUiVisibility.call(this);\n        this.resetPlaceholder();\n        var condition1Type = this.getCondition1Type();\n        _.setDisplayed(this.eCondition1PanelFrom, this.showValueFrom(condition1Type));\n        _.setDisplayed(this.eCondition1PanelTo, this.showValueTo(condition1Type));\n        var condition2Type = this.getCondition2Type();\n        _.setDisplayed(this.eCondition2PanelFrom, this.showValueFrom(condition2Type));\n        _.setDisplayed(this.eCondition2PanelTo, this.showValueTo(condition2Type));\n    };\n    DateFilter.prototype.getFromToComponents = function (position) {\n        return position === ConditionPosition.One ?\n            [this.dateCondition1FromComp, this.dateCondition1ToComp] :\n            [this.dateCondition2FromComp, this.dateCondition2ToComp];\n    };\n    DateFilter.FILTER_TYPE = 'date';\n    DateFilter.DEFAULT_FILTER_OPTIONS = [\n        ScalarFilter.EQUALS,\n        ScalarFilter.GREATER_THAN,\n        ScalarFilter.LESS_THAN,\n        ScalarFilter.NOT_EQUAL,\n        ScalarFilter.IN_RANGE\n    ];\n    __decorate$d([\n        RefSelector('eCondition1PanelFrom')\n    ], DateFilter.prototype, \"eCondition1PanelFrom\", void 0);\n    __decorate$d([\n        RefSelector('eCondition1PanelTo')\n    ], DateFilter.prototype, \"eCondition1PanelTo\", void 0);\n    __decorate$d([\n        RefSelector('eCondition2PanelFrom')\n    ], DateFilter.prototype, \"eCondition2PanelFrom\", void 0);\n    __decorate$d([\n        RefSelector('eCondition2PanelTo')\n    ], DateFilter.prototype, \"eCondition2PanelTo\", void 0);\n    __decorate$d([\n        Autowired('userComponentFactory')\n    ], DateFilter.prototype, \"userComponentFactory\", void 0);\n    return DateFilter;\n}(ScalarFilter));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar TouchListener = /** @class */ (function () {\n    function TouchListener(eElement, preventMouseClick) {\n        var _this = this;\n        if (preventMouseClick === void 0) { preventMouseClick = false; }\n        this.destroyFuncs = [];\n        this.touching = false;\n        this.eventService = new EventService();\n        this.eElement = eElement;\n        this.preventMouseClick = preventMouseClick;\n        var startListener = this.onTouchStart.bind(this);\n        var moveListener = this.onTouchMove.bind(this);\n        var endListener = this.onTouchEnd.bind(this);\n        this.eElement.addEventListener(\"touchstart\", startListener, { passive: true });\n        this.eElement.addEventListener(\"touchmove\", moveListener, { passive: true });\n        // we set passive=false, as we want to prevent default on this event\n        this.eElement.addEventListener(\"touchend\", endListener, { passive: false });\n        this.destroyFuncs.push(function () {\n            _this.eElement.removeEventListener(\"touchstart\", startListener, { passive: true });\n            _this.eElement.removeEventListener(\"touchmove\", moveListener, { passive: true });\n            _this.eElement.removeEventListener(\"touchend\", endListener, { passive: false });\n        });\n    }\n    TouchListener.prototype.getActiveTouch = function (touchList) {\n        for (var i = 0; i < touchList.length; i++) {\n            var matches = touchList[i].identifier === this.touchStart.identifier;\n            if (matches) {\n                return touchList[i];\n            }\n        }\n        return null;\n    };\n    TouchListener.prototype.addEventListener = function (eventType, listener) {\n        this.eventService.addEventListener(eventType, listener);\n    };\n    TouchListener.prototype.removeEventListener = function (eventType, listener) {\n        this.eventService.removeEventListener(eventType, listener);\n    };\n    TouchListener.prototype.onTouchStart = function (touchEvent) {\n        var _this = this;\n        // only looking at one touch point at any time\n        if (this.touching) {\n            return;\n        }\n        this.touchStart = touchEvent.touches[0];\n        this.touching = true;\n        this.moved = false;\n        var touchStartCopy = this.touchStart;\n        window.setTimeout(function () {\n            var touchesMatch = _this.touchStart === touchStartCopy;\n            if (_this.touching && touchesMatch && !_this.moved) {\n                _this.moved = true;\n                var event_1 = {\n                    type: TouchListener.EVENT_LONG_TAP,\n                    touchStart: _this.touchStart,\n                    touchEvent: touchEvent\n                };\n                _this.eventService.dispatchEvent(event_1);\n            }\n        }, 500);\n    };\n    TouchListener.prototype.onTouchMove = function (touchEvent) {\n        if (!this.touching) {\n            return;\n        }\n        var touch = this.getActiveTouch(touchEvent.touches);\n        if (!touch) {\n            return;\n        }\n        var eventIsFarAway = !_.areEventsNear(touch, this.touchStart, 4);\n        if (eventIsFarAway) {\n            this.moved = true;\n        }\n    };\n    TouchListener.prototype.onTouchEnd = function (touchEvent) {\n        if (!this.touching) {\n            return;\n        }\n        if (!this.moved) {\n            var event_2 = {\n                type: TouchListener.EVENT_TAP,\n                touchStart: this.touchStart\n            };\n            this.eventService.dispatchEvent(event_2);\n            this.checkForDoubleTap();\n        }\n        // stops the tap from also been processed as a mouse click\n        if (this.preventMouseClick) {\n            touchEvent.preventDefault();\n        }\n        this.touching = false;\n    };\n    TouchListener.prototype.checkForDoubleTap = function () {\n        var now = new Date().getTime();\n        if (this.lastTapTime && this.lastTapTime > 0) {\n            // if previous tap, see if duration is short enough to be considered double tap\n            var interval = now - this.lastTapTime;\n            if (interval > TouchListener.DOUBLE_TAP_MILLIS) {\n                // dispatch double tap event\n                var event_3 = {\n                    type: TouchListener.EVENT_DOUBLE_TAP,\n                    touchStart: this.touchStart\n                };\n                this.eventService.dispatchEvent(event_3);\n                // this stops a tripple tap ending up as two double taps\n                this.lastTapTime = null;\n            }\n            else {\n                this.lastTapTime = now;\n            }\n        }\n        else {\n            this.lastTapTime = now;\n        }\n    };\n    TouchListener.prototype.destroy = function () {\n        this.destroyFuncs.forEach(function (func) { return func(); });\n    };\n    TouchListener.EVENT_TAP = \"tap\";\n    TouchListener.EVENT_DOUBLE_TAP = \"doubleTap\";\n    TouchListener.EVENT_LONG_TAP = \"longTap\";\n    TouchListener.DOUBLE_TAP_MILLIS = 500;\n    return TouchListener;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$7 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$e = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar HeaderComp = /** @class */ (function (_super) {\n    __extends$7(HeaderComp, _super);\n    function HeaderComp() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.lastMovingChanged = 0;\n        return _this;\n    }\n    HeaderComp.prototype.init = function (params) {\n        var template = _.firstExistingValue(params.template, HeaderComp.TEMPLATE);\n        // take account of any newlines & whitespace before/after the actual template\n        template = template && template.trim ? template.trim() : template;\n        this.setTemplate(template);\n        this.params = params;\n        this.setupTap();\n        this.setupIcons(params.column);\n        this.setupMenu();\n        this.setupSort();\n        this.setupFilterIcon();\n        this.setupText(params.displayName);\n    };\n    HeaderComp.prototype.setupText = function (displayName) {\n        var displayNameSanitised = _.escape(displayName);\n        if (this.eText) {\n            this.eText.innerHTML = displayNameSanitised;\n        }\n    };\n    HeaderComp.prototype.setupIcons = function (column) {\n        this.addInIcon('sortAscending', this.eSortAsc, column);\n        this.addInIcon('sortDescending', this.eSortDesc, column);\n        this.addInIcon('sortUnSort', this.eSortNone, column);\n        this.addInIcon('menu', this.eMenu, column);\n        this.addInIcon('filter', this.eFilter, column);\n    };\n    HeaderComp.prototype.addInIcon = function (iconName, eParent, column) {\n        if (eParent == null) {\n            return;\n        }\n        var eIcon = _.createIconNoSpan(iconName, this.gridOptionsWrapper, column);\n        eParent.appendChild(eIcon);\n    };\n    HeaderComp.prototype.setupTap = function () {\n        var _this = this;\n        var options = this.gridOptionsWrapper;\n        if (options.isSuppressTouch()) {\n            return;\n        }\n        var touchListener = new TouchListener(this.getGui(), true);\n        var suppressMenuHide = options.isSuppressMenuHide();\n        var tapMenuButton = suppressMenuHide && _.exists(this.eMenu);\n        var menuTouchListener = tapMenuButton ? new TouchListener(this.eMenu, true) : touchListener;\n        if (this.params.enableMenu) {\n            var eventType = tapMenuButton ? 'EVENT_TAP' : 'EVENT_LONG_TAP';\n            var showMenuFn = function (event) {\n                options.getApi().showColumnMenuAfterMouseClick(_this.params.column, event.touchStart);\n            };\n            this.addDestroyableEventListener(menuTouchListener, TouchListener[eventType], showMenuFn);\n        }\n        if (this.params.enableSorting) {\n            var tapListener = function (event) {\n                var target = event.touchStart.target;\n                // When suppressMenuHide is true, a tap on the menu icon will bubble up\n                // to the header container, in that case we should not sort\n                if (suppressMenuHide && _this.eMenu.contains(target)) {\n                    return;\n                }\n                _this.sortController.progressSort(_this.params.column, false, \"uiColumnSorted\");\n            };\n            this.addDestroyableEventListener(touchListener, TouchListener.EVENT_TAP, tapListener);\n        }\n        // if tapMenuButton is true `touchListener` and `menuTouchListener` are different\n        // so we need to make sure to destroy both listeners here\n        this.addDestroyFunc(function () { return touchListener.destroy(); });\n        if (tapMenuButton) {\n            this.addDestroyFunc(function () { return menuTouchListener.destroy(); });\n        }\n    };\n    HeaderComp.prototype.setupMenu = function () {\n        var _this = this;\n        // if no menu provided in template, do nothing\n        if (!this.eMenu) {\n            return;\n        }\n        // we don't show the menu if on an iPad/iPhone, as the user cannot have a pointer device\n        // Note: If suppressMenuHide is set to true the menu will be displayed, and if suppressMenuHide\n        // is false (default) user will need to use longpress to display the menu.\n        var suppressMenuHide = this.gridOptionsWrapper.isSuppressMenuHide();\n        var hideShowMenu = !this.params.enableMenu || (_.isIOSUserAgent() && !suppressMenuHide);\n        if (hideShowMenu) {\n            _.removeFromParent(this.eMenu);\n            return;\n        }\n        this.addDestroyableEventListener(this.eMenu, 'click', function () { return _this.showMenu(_this.eMenu); });\n        if (!suppressMenuHide) {\n            this.eMenu.style.opacity = '0';\n        }\n        var style = this.eMenu.style;\n        style.transition = 'opacity 0.2s, border 0.2s';\n        style['-webkit-transition'] = 'opacity 0.2s, border 0.2s';\n    };\n    HeaderComp.prototype.setMouseOverParent = function (overParent) {\n        if (!this.gridOptionsWrapper.isSuppressMenuHide()) {\n            this.eMenu.style.opacity = overParent ? '1' : '0';\n        }\n    };\n    HeaderComp.prototype.showMenu = function (eventSource) {\n        this.menuFactory.showMenuAfterButtonClick(this.params.column, eventSource);\n    };\n    HeaderComp.prototype.removeSortIcons = function () {\n        _.removeFromParent(this.eSortAsc);\n        _.removeFromParent(this.eSortDesc);\n        _.removeFromParent(this.eSortNone);\n        _.removeFromParent(this.eSortOrder);\n    };\n    HeaderComp.prototype.setupSort = function () {\n        var _this = this;\n        var enableSorting = this.params.enableSorting;\n        if (!enableSorting) {\n            this.removeSortIcons();\n            return;\n        }\n        var sortUsingCtrl = this.gridOptionsWrapper.isMultiSortKeyCtrl();\n        // keep track of last time the moving changed flag was set\n        this.addDestroyableEventListener(this.params.column, Column.EVENT_MOVING_CHANGED, function () {\n            _this.lastMovingChanged = new Date().getTime();\n        });\n        // add the event on the header, so when clicked, we do sorting\n        if (this.eLabel) {\n            this.addDestroyableEventListener(this.eLabel, 'click', function (event) {\n                // sometimes when moving a column via dragging, this was also firing a clicked event.\n                // here is issue raised by user: https://ag-grid.zendesk.com/agent/tickets/1076\n                // this check stops sort if a) column is moving or b) column moved less than 200ms ago (so caters for race condition)\n                var moving = _this.params.column.isMoving();\n                var nowTime = new Date().getTime();\n                // typically there is <2ms if moving flag was set recently, as it would be done in same VM turn\n                var movedRecently = (nowTime - _this.lastMovingChanged) < 50;\n                var columnMoving = moving || movedRecently;\n                if (!columnMoving) {\n                    var multiSort = sortUsingCtrl ? (event.ctrlKey || event.metaKey) : event.shiftKey;\n                    _this.params.progressSort(multiSort);\n                }\n            });\n        }\n        this.addDestroyableEventListener(this.params.column, Column.EVENT_SORT_CHANGED, this.onSortChanged.bind(this));\n        this.onSortChanged();\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_SORT_CHANGED, this.setMultiSortOrder.bind(this));\n        this.setMultiSortOrder();\n    };\n    HeaderComp.prototype.onSortChanged = function () {\n        _.addOrRemoveCssClass(this.getGui(), 'ag-header-cell-sorted-asc', this.params.column.isSortAscending());\n        _.addOrRemoveCssClass(this.getGui(), 'ag-header-cell-sorted-desc', this.params.column.isSortDescending());\n        _.addOrRemoveCssClass(this.getGui(), 'ag-header-cell-sorted-none', this.params.column.isSortNone());\n        if (this.eSortAsc) {\n            _.addOrRemoveCssClass(this.eSortAsc, 'ag-hidden', !this.params.column.isSortAscending());\n        }\n        if (this.eSortDesc) {\n            _.addOrRemoveCssClass(this.eSortDesc, 'ag-hidden', !this.params.column.isSortDescending());\n        }\n        if (this.eSortNone) {\n            var alwaysHideNoSort = !this.params.column.getColDef().unSortIcon && !this.gridOptionsWrapper.isUnSortIcon();\n            _.addOrRemoveCssClass(this.eSortNone, 'ag-hidden', alwaysHideNoSort || !this.params.column.isSortNone());\n        }\n    };\n    // we listen here for global sort events, NOT column sort events, as we want to do this\n    // when sorting has been set on all column (if we listened just for our col (where we\n    // set the asc / desc icons) then it's possible other cols are yet to get their sorting state.\n    HeaderComp.prototype.setMultiSortOrder = function () {\n        if (!this.eSortOrder) {\n            return;\n        }\n        var col = this.params.column;\n        var allColumnsWithSorting = this.sortController.getColumnsWithSortingOrdered();\n        var indexThisCol = allColumnsWithSorting.indexOf(col);\n        var moreThanOneColSorting = allColumnsWithSorting.length > 1;\n        var showIndex = col.isSorting() && moreThanOneColSorting;\n        _.setDisplayed(this.eSortOrder, showIndex);\n        if (indexThisCol >= 0) {\n            this.eSortOrder.innerHTML = (indexThisCol + 1).toString();\n        }\n        else {\n            _.clearElement(this.eSortOrder);\n        }\n    };\n    HeaderComp.prototype.setupFilterIcon = function () {\n        if (!this.eFilter) {\n            return;\n        }\n        this.addDestroyableEventListener(this.params.column, Column.EVENT_FILTER_CHANGED, this.onFilterChanged.bind(this));\n        this.onFilterChanged();\n    };\n    HeaderComp.prototype.onFilterChanged = function () {\n        var filterPresent = this.params.column.isFilterActive();\n        _.addOrRemoveCssClass(this.eFilter, 'ag-hidden', !filterPresent);\n    };\n    HeaderComp.TEMPLATE = '<div class=\"ag-cell-label-container\" role=\"presentation\">' +\n        '  <span ref=\"eMenu\" class=\"ag-header-icon ag-header-cell-menu-button\" aria-hidden=\"true\"></span>' +\n        '  <div ref=\"eLabel\" class=\"ag-header-cell-label\" role=\"presentation\" unselectable=\"on\">' +\n        '    <span ref=\"eText\" class=\"ag-header-cell-text\" role=\"columnheader\" unselectable=\"on\"></span>' +\n        '    <span ref=\"eFilter\" class=\"ag-header-icon ag-header-label-icon ag-filter-icon\" aria-hidden=\"true\"></span>' +\n        '    <span ref=\"eSortOrder\" class=\"ag-header-icon ag-header-label-icon ag-sort-order\" aria-hidden=\"true\"></span>' +\n        '    <span ref=\"eSortAsc\" class=\"ag-header-icon ag-header-label-icon ag-sort-ascending-icon\" aria-hidden=\"true\"></span>' +\n        '    <span ref=\"eSortDesc\" class=\"ag-header-icon ag-header-label-icon ag-sort-descending-icon\" aria-hidden=\"true\"></span>' +\n        '    <span ref=\"eSortNone\" class=\"ag-header-icon ag-header-label-icon ag-sort-none-icon\" aria-hidden=\"true\"></span>' +\n        '  </div>' +\n        '</div>';\n    __decorate$e([\n        Autowired('gridOptionsWrapper')\n    ], HeaderComp.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$e([\n        Autowired('sortController')\n    ], HeaderComp.prototype, \"sortController\", void 0);\n    __decorate$e([\n        Autowired('menuFactory')\n    ], HeaderComp.prototype, \"menuFactory\", void 0);\n    __decorate$e([\n        Autowired('eventService')\n    ], HeaderComp.prototype, \"eventService\", void 0);\n    __decorate$e([\n        RefSelector('eFilter')\n    ], HeaderComp.prototype, \"eFilter\", void 0);\n    __decorate$e([\n        RefSelector('eSortAsc')\n    ], HeaderComp.prototype, \"eSortAsc\", void 0);\n    __decorate$e([\n        RefSelector('eSortDesc')\n    ], HeaderComp.prototype, \"eSortDesc\", void 0);\n    __decorate$e([\n        RefSelector('eSortNone')\n    ], HeaderComp.prototype, \"eSortNone\", void 0);\n    __decorate$e([\n        RefSelector('eSortOrder')\n    ], HeaderComp.prototype, \"eSortOrder\", void 0);\n    __decorate$e([\n        RefSelector('eMenu')\n    ], HeaderComp.prototype, \"eMenu\", void 0);\n    __decorate$e([\n        RefSelector('eLabel')\n    ], HeaderComp.prototype, \"eLabel\", void 0);\n    __decorate$e([\n        RefSelector('eText')\n    ], HeaderComp.prototype, \"eText\", void 0);\n    return HeaderComp;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$8 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$f = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar HeaderGroupComp = /** @class */ (function (_super) {\n    __extends$8(HeaderGroupComp, _super);\n    function HeaderGroupComp() {\n        return _super.call(this, HeaderGroupComp.TEMPLATE) || this;\n    }\n    HeaderGroupComp.prototype.init = function (params) {\n        this.params = params;\n        this.setupLabel();\n        this.addGroupExpandIcon();\n        this.setupExpandIcons();\n    };\n    HeaderGroupComp.prototype.setupExpandIcons = function () {\n        var _this = this;\n        this.addInIcon(\"columnGroupOpened\", \"agOpened\");\n        this.addInIcon(\"columnGroupClosed\", \"agClosed\");\n        var expandAction = function (event) {\n            if (_.isStopPropagationForAgGrid(event)) {\n                return;\n            }\n            var newExpandedValue = !_this.params.columnGroup.isExpanded();\n            _this.columnController.setColumnGroupOpened(_this.params.columnGroup.getOriginalColumnGroup(), newExpandedValue, \"uiColumnExpanded\");\n        };\n        this.addTouchAndClickListeners(this.eCloseIcon, expandAction);\n        this.addTouchAndClickListeners(this.eOpenIcon, expandAction);\n        var stopPropagationAction = function (event) {\n            _.stopPropagationForAgGrid(event);\n        };\n        // adding stopPropagation to the double click for the icons prevents double click action happening\n        // when the icons are clicked. if the icons are double clicked, then the groups should open and\n        // then close again straight away. if we also listened to double click, then the group would open,\n        // close, then open, which is not what we want. double click should only action if the user double\n        // clicks outside of the icons.\n        this.addDestroyableEventListener(this.eCloseIcon, \"dblclick\", stopPropagationAction);\n        this.addDestroyableEventListener(this.eOpenIcon, \"dblclick\", stopPropagationAction);\n        this.addDestroyableEventListener(this.getGui(), \"dblclick\", expandAction);\n        this.updateIconVisibility();\n        var originalColumnGroup = this.params.columnGroup.getOriginalColumnGroup();\n        this.addDestroyableEventListener(originalColumnGroup, OriginalColumnGroup.EVENT_EXPANDED_CHANGED, this.updateIconVisibility.bind(this));\n        this.addDestroyableEventListener(originalColumnGroup, OriginalColumnGroup.EVENT_EXPANDABLE_CHANGED, this.updateIconVisibility.bind(this));\n    };\n    HeaderGroupComp.prototype.addTouchAndClickListeners = function (eElement, action) {\n        var touchListener = new TouchListener(eElement);\n        this.addDestroyableEventListener(touchListener, TouchListener.EVENT_TAP, action);\n        this.addDestroyFunc(function () { return touchListener.destroy(); });\n        this.addDestroyableEventListener(eElement, \"click\", action);\n    };\n    HeaderGroupComp.prototype.updateIconVisibility = function () {\n        var columnGroup = this.params.columnGroup;\n        if (columnGroup.isExpandable()) {\n            var expanded = this.params.columnGroup.isExpanded();\n            _.setDisplayed(this.eOpenIcon, expanded);\n            _.setDisplayed(this.eCloseIcon, !expanded);\n        }\n        else {\n            _.setDisplayed(this.eOpenIcon, false);\n            _.setDisplayed(this.eCloseIcon, false);\n        }\n    };\n    HeaderGroupComp.prototype.addInIcon = function (iconName, refName) {\n        var eIcon = _.createIconNoSpan(iconName, this.gridOptionsWrapper, null);\n        this.getRefElement(refName).appendChild(eIcon);\n    };\n    HeaderGroupComp.prototype.addGroupExpandIcon = function () {\n        if (!this.params.columnGroup.isExpandable()) {\n            _.setDisplayed(this.eOpenIcon, false);\n            _.setDisplayed(this.eCloseIcon, false);\n            return;\n        }\n    };\n    HeaderGroupComp.prototype.setupLabel = function () {\n        // no renderer, default text render\n        var displayName = this.params.displayName;\n        if (_.exists(displayName)) {\n            var displayNameSanitised = _.escape(displayName);\n            this.getRefElement(\"agLabel\").innerHTML = displayNameSanitised;\n        }\n    };\n    HeaderGroupComp.TEMPLATE = \"<div class=\\\"ag-header-group-cell-label\\\" ref=\\\"agContainer\\\" role=\\\"presentation\\\">\" +\n        \"<span ref=\\\"agLabel\\\" class=\\\"ag-header-group-text\\\" role=\\\"columnheader\\\"></span>\" +\n        \"<span ref=\\\"agOpened\\\" class=\\\"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded\\\"></span>\" +\n        \"<span ref=\\\"agClosed\\\" class=\\\"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed\\\"></span>\" +\n        \"</div>\";\n    __decorate$f([\n        Autowired(\"columnController\")\n    ], HeaderGroupComp.prototype, \"columnController\", void 0);\n    __decorate$f([\n        Autowired(\"gridOptionsWrapper\")\n    ], HeaderGroupComp.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$f([\n        RefSelector(\"agOpened\")\n    ], HeaderGroupComp.prototype, \"eOpenIcon\", void 0);\n    __decorate$f([\n        RefSelector(\"agClosed\")\n    ], HeaderGroupComp.prototype, \"eCloseIcon\", void 0);\n    return HeaderGroupComp;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$g = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar RowNode = /** @class */ (function () {\n    function RowNode() {\n        /** Children mapped by the pivot columns */\n        this.childrenMapped = {};\n        /** True by default - can be overridden via gridOptions.isRowSelectable(rowNode) */\n        this.selectable = true;\n        /** Used by sorting service - to give deterministic sort to groups. Previously we\n         * just id for this, however id is a string and had slower sorting compared to numbers. */\n        this.__objectId = RowNode.OBJECT_ID_SEQUENCE++;\n        /** True when nodes with the same id are being removed and added as part of the same batch transaction */\n        this.alreadyRendered = false;\n        this.highlighted = null;\n        this.selected = false;\n    }\n    RowNode.prototype.setData = function (data) {\n        var oldData = this.data;\n        this.data = data;\n        this.valueCache.onDataChanged();\n        this.updateDataOnDetailNode();\n        this.checkRowSelectable();\n        var event = this.createDataChangedEvent(data, oldData, false);\n        this.dispatchLocalEvent(event);\n    };\n    // when we are doing master / detail, the detail node is lazy created, but then kept around.\n    // so if we show / hide the detail, the same detail rowNode is used. so we need to keep the data\n    // in sync, otherwise expand/collapse of the detail would still show the old values.\n    RowNode.prototype.updateDataOnDetailNode = function () {\n        if (this.detailNode) {\n            this.detailNode.data = this.data;\n        }\n    };\n    RowNode.prototype.createDataChangedEvent = function (newData, oldData, update) {\n        return {\n            type: RowNode.EVENT_DATA_CHANGED,\n            node: this,\n            oldData: oldData,\n            newData: newData,\n            update: update\n        };\n    };\n    RowNode.prototype.createLocalRowEvent = function (type) {\n        return {\n            type: type,\n            node: this\n        };\n    };\n    // similar to setRowData, however it is expected that the data is the same data item. this\n    // is intended to be used with Redux type stores, where the whole data can be changed. we are\n    // guaranteed that the data is the same entity (so grid doesn't need to worry about the id of the\n    // underlying data changing, hence doesn't need to worry about selection). the grid, upon receiving\n    // dataChanged event, will refresh the cells rather than rip them all out (so user can show transitions).\n    RowNode.prototype.updateData = function (data) {\n        var oldData = this.data;\n        this.data = data;\n        this.updateDataOnDetailNode();\n        this.checkRowSelectable();\n        this.updateDataOnDetailNode();\n        var event = this.createDataChangedEvent(data, oldData, true);\n        this.dispatchLocalEvent(event);\n    };\n    RowNode.prototype.getRowIndexString = function () {\n        if (this.rowPinned === Constants.PINNED_TOP) {\n            return 't-' + this.rowIndex;\n        }\n        else if (this.rowPinned === Constants.PINNED_BOTTOM) {\n            return 'b-' + this.rowIndex;\n        }\n        return this.rowIndex.toString();\n    };\n    RowNode.prototype.createDaemonNode = function () {\n        var oldNode = new RowNode();\n        this.context.wireBean(oldNode);\n        // just copy the id and data, this is enough for the node to be used\n        // in the selection controller (the selection controller is the only\n        // place where daemon nodes can live).\n        oldNode.id = this.id;\n        oldNode.data = this.data;\n        oldNode.daemon = true;\n        oldNode.selected = this.selected;\n        oldNode.level = this.level;\n        return oldNode;\n    };\n    RowNode.prototype.setDataAndId = function (data, id) {\n        var oldNode = _.exists(this.id) ? this.createDaemonNode() : null;\n        var oldData = this.data;\n        this.data = data;\n        this.updateDataOnDetailNode();\n        this.setId(id);\n        this.selectionController.syncInRowNode(this, oldNode);\n        this.checkRowSelectable();\n        var event = this.createDataChangedEvent(data, oldData, false);\n        this.dispatchLocalEvent(event);\n    };\n    RowNode.prototype.checkRowSelectable = function () {\n        var isRowSelectableFunc = this.gridOptionsWrapper.getIsRowSelectableFunc();\n        var shouldInvokeIsRowSelectable = isRowSelectableFunc && _.exists(this);\n        this.setRowSelectable(shouldInvokeIsRowSelectable ? isRowSelectableFunc(this) : true);\n    };\n    RowNode.prototype.setRowSelectable = function (newVal) {\n        if (this.selectable !== newVal) {\n            this.selectable = newVal;\n            if (this.eventService) {\n                this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_SELECTABLE_CHANGED));\n            }\n        }\n    };\n    RowNode.prototype.setId = function (id) {\n        // see if user is providing the id's\n        var getRowNodeId = this.gridOptionsWrapper.getRowNodeIdFunc();\n        if (getRowNodeId) {\n            // if user is providing the id's, then we set the id only after the data has been set.\n            // this is important for virtual pagination and viewport, where empty rows exist.\n            if (this.data) {\n                this.id = getRowNodeId(this.data);\n            }\n            else {\n                // this can happen if user has set blank into the rowNode after the row previously\n                // having data. this happens in virtual page row model, when data is delete and\n                // the page is refreshed.\n                this.id = undefined;\n            }\n        }\n        else {\n            this.id = id;\n        }\n    };\n    RowNode.prototype.isPixelInRange = function (pixel) {\n        return pixel >= this.rowTop && pixel < (this.rowTop + this.rowHeight);\n    };\n    RowNode.prototype.clearRowTop = function () {\n        this.oldRowTop = this.rowTop;\n        this.setRowTop(null);\n    };\n    RowNode.prototype.setFirstChild = function (firstChild) {\n        if (this.firstChild === firstChild) {\n            return;\n        }\n        this.firstChild = firstChild;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_FIRST_CHILD_CHANGED));\n        }\n    };\n    RowNode.prototype.setLastChild = function (lastChild) {\n        if (this.lastChild === lastChild) {\n            return;\n        }\n        this.lastChild = lastChild;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_LAST_CHILD_CHANGED));\n        }\n    };\n    RowNode.prototype.setChildIndex = function (childIndex) {\n        if (this.childIndex === childIndex) {\n            return;\n        }\n        this.childIndex = childIndex;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_CHILD_INDEX_CHANGED));\n        }\n    };\n    RowNode.prototype.setRowTop = function (rowTop) {\n        if (this.rowTop === rowTop) {\n            return;\n        }\n        this.rowTop = rowTop;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_TOP_CHANGED));\n        }\n    };\n    RowNode.prototype.setDragging = function (dragging) {\n        if (this.dragging === dragging) {\n            return;\n        }\n        this.dragging = dragging;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_DRAGGING_CHANGED));\n        }\n    };\n    RowNode.prototype.setHighlighted = function (highlighted) {\n        if (highlighted === this.highlighted) {\n            return;\n        }\n        this.highlighted = highlighted;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HIGHLIGHT_CHANGED));\n        }\n    };\n    RowNode.prototype.setAllChildrenCount = function (allChildrenCount) {\n        if (this.allChildrenCount === allChildrenCount) {\n            return;\n        }\n        this.allChildrenCount = allChildrenCount;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED));\n        }\n    };\n    RowNode.prototype.setRowHeight = function (rowHeight, estimated) {\n        if (estimated === void 0) { estimated = false; }\n        this.rowHeight = rowHeight;\n        this.rowHeightEstimated = estimated;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_HEIGHT_CHANGED));\n        }\n    };\n    RowNode.prototype.setRowIndex = function (rowIndex) {\n        this.rowIndex = rowIndex;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_ROW_INDEX_CHANGED));\n        }\n    };\n    RowNode.prototype.setUiLevel = function (uiLevel) {\n        if (this.uiLevel === uiLevel) {\n            return;\n        }\n        this.uiLevel = uiLevel;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_UI_LEVEL_CHANGED));\n        }\n    };\n    RowNode.prototype.setExpanded = function (expanded) {\n        if (this.expanded === expanded) {\n            return;\n        }\n        this.expanded = expanded;\n        if (this.eventService) {\n            this.eventService.dispatchEvent(this.createLocalRowEvent(RowNode.EVENT_EXPANDED_CHANGED));\n        }\n        var event = this.createGlobalRowEvent(Events.EVENT_ROW_GROUP_OPENED);\n        this.mainEventService.dispatchEvent(event);\n        if (this.gridOptionsWrapper.isGroupIncludeFooter()) {\n            this.gridApi.redrawRows({ rowNodes: [this] });\n        }\n    };\n    RowNode.prototype.createGlobalRowEvent = function (type) {\n        return {\n            type: type,\n            node: this,\n            data: this.data,\n            rowIndex: this.rowIndex,\n            rowPinned: this.rowPinned,\n            context: this.gridOptionsWrapper.getContext(),\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi()\n        };\n    };\n    RowNode.prototype.dispatchLocalEvent = function (event) {\n        if (this.eventService) {\n            this.eventService.dispatchEvent(event);\n        }\n    };\n    // we also allow editing the value via the editors. when it is done via\n    // the editors, no 'cell changed' event gets fired, as it's assumed that\n    // the cell knows about the change given it's in charge of the editing.\n    // this method is for the client to call, so the cell listens for the change\n    // event, and also flashes the cell when the change occurs.\n    RowNode.prototype.setDataValue = function (colKey, newValue) {\n        var column = this.columnController.getPrimaryColumn(colKey);\n        var oldValue = this.valueService.getValue(column, this);\n        this.valueService.setValue(this, column, newValue);\n        this.dispatchCellChangedEvent(column, newValue, oldValue);\n    };\n    RowNode.prototype.setGroupValue = function (colKey, newValue) {\n        var column = this.columnController.getGridColumn(colKey);\n        if (_.missing(this.groupData)) {\n            this.groupData = {};\n        }\n        var columnId = column.getColId();\n        var oldValue = this.groupData[columnId];\n        if (oldValue === newValue) {\n            return;\n        }\n        this.groupData[columnId] = newValue;\n        this.dispatchCellChangedEvent(column, newValue, oldValue);\n    };\n    // sets the data for an aggregation\n    RowNode.prototype.setAggData = function (newAggData) {\n        var _this = this;\n        // find out all keys that could potentially change\n        var colIds = _.getAllKeysInObjects([this.aggData, newAggData]);\n        var oldAggData = this.aggData;\n        this.aggData = newAggData;\n        // if no event service, nobody has registered for events, so no need fire event\n        if (this.eventService) {\n            colIds.forEach(function (colId) {\n                var column = _this.columnController.getGridColumn(colId);\n                var value = _this.aggData ? _this.aggData[colId] : undefined;\n                var oldValue = oldAggData ? oldAggData[colId] : undefined;\n                _this.dispatchCellChangedEvent(column, value, oldValue);\n            });\n        }\n    };\n    RowNode.prototype.hasChildren = function () {\n        // we need to return true when this.group=true, as this is used by server side row model\n        // (as children are lazy loaded and stored in a cache anyway). otherwise we return true\n        // if children exist.\n        return this.group || (this.childrenAfterGroup && this.childrenAfterGroup.length > 0);\n    };\n    RowNode.prototype.isEmptyRowGroupNode = function () {\n        return this.group && _.missingOrEmpty(this.childrenAfterGroup);\n    };\n    RowNode.prototype.dispatchCellChangedEvent = function (column, newValue, oldValue) {\n        var cellChangedEvent = {\n            type: RowNode.EVENT_CELL_CHANGED,\n            node: this,\n            column: column,\n            newValue: newValue,\n            oldValue: oldValue\n        };\n        this.dispatchLocalEvent(cellChangedEvent);\n    };\n    RowNode.prototype.resetQuickFilterAggregateText = function () {\n        this.quickFilterAggregateText = null;\n    };\n    RowNode.prototype.isExpandable = function () {\n        return this.hasChildren() || this.master;\n    };\n    RowNode.prototype.isSelected = function () {\n        // for footers, we just return what our sibling selected state is, as cannot select a footer\n        if (this.footer) {\n            return this.sibling.isSelected();\n        }\n        return this.selected;\n    };\n    RowNode.prototype.depthFirstSearch = function (callback) {\n        if (this.childrenAfterGroup) {\n            this.childrenAfterGroup.forEach(function (child) { return child.depthFirstSearch(callback); });\n        }\n        callback(this);\n    };\n    // + rowController.updateGroupsInSelection()\n    // + selectionController.calculatedSelectedForAllGroupNodes()\n    RowNode.prototype.calculateSelectedFromChildren = function () {\n        var atLeastOneSelected = false;\n        var atLeastOneDeSelected = false;\n        var atLeastOneMixed = false;\n        var newSelectedValue;\n        if (this.childrenAfterGroup) {\n            for (var i = 0; i < this.childrenAfterGroup.length; i++) {\n                var child = this.childrenAfterGroup[i];\n                // skip non-selectable nodes to prevent inconsistent selection values\n                if (!child.selectable) {\n                    continue;\n                }\n                var childState = child.isSelected();\n                switch (childState) {\n                    case true:\n                        atLeastOneSelected = true;\n                        break;\n                    case false:\n                        atLeastOneDeSelected = true;\n                        break;\n                    default:\n                        atLeastOneMixed = true;\n                        break;\n                }\n            }\n        }\n        if (atLeastOneMixed) {\n            newSelectedValue = undefined;\n        }\n        else if (atLeastOneSelected && !atLeastOneDeSelected) {\n            newSelectedValue = true;\n        }\n        else if (!atLeastOneSelected && atLeastOneDeSelected) {\n            newSelectedValue = false;\n        }\n        else {\n            newSelectedValue = undefined;\n        }\n        this.selectThisNode(newSelectedValue);\n    };\n    RowNode.prototype.setSelectedInitialValue = function (selected) {\n        this.selected = selected;\n    };\n    RowNode.prototype.setSelected = function (newValue, clearSelection, suppressFinishActions) {\n        if (clearSelection === void 0) { clearSelection = false; }\n        if (suppressFinishActions === void 0) { suppressFinishActions = false; }\n        this.setSelectedParams({\n            newValue: newValue,\n            clearSelection: clearSelection,\n            suppressFinishActions: suppressFinishActions,\n            rangeSelect: false\n        });\n    };\n    RowNode.prototype.isRowPinned = function () {\n        return this.rowPinned === Constants.PINNED_TOP || this.rowPinned === Constants.PINNED_BOTTOM;\n    };\n    // to make calling code more readable, this is the same method as setSelected except it takes names parameters\n    RowNode.prototype.setSelectedParams = function (params) {\n        var groupSelectsChildren = this.gridOptionsWrapper.isGroupSelectsChildren();\n        var newValue = params.newValue === true;\n        var clearSelection = params.clearSelection === true;\n        var suppressFinishActions = params.suppressFinishActions === true;\n        var rangeSelect = params.rangeSelect === true;\n        // groupSelectsFiltered only makes sense when group selects children\n        var groupSelectsFiltered = groupSelectsChildren && (params.groupSelectsFiltered === true);\n        if (this.id === undefined) {\n            console.warn('ag-Grid: cannot select node until id for node is known');\n            return 0;\n        }\n        if (this.rowPinned) {\n            console.warn('ag-Grid: cannot select pinned rows');\n            return 0;\n        }\n        // if we are a footer, we don't do selection, just pass the info\n        // to the sibling (the parent of the group)\n        if (this.footer) {\n            var count = this.sibling.setSelectedParams(params);\n            return count;\n        }\n        if (rangeSelect) {\n            var newRowClicked = this.selectionController.getLastSelectedNode() !== this;\n            var allowMultiSelect = this.gridOptionsWrapper.isRowSelectionMulti();\n            if (newRowClicked && allowMultiSelect) {\n                return this.doRowRangeSelection();\n            }\n        }\n        var updatedCount = 0;\n        // when groupSelectsFiltered, then this node may end up intermediate despite\n        // trying to set it to true / false. this group will be calculated further on\n        // down when we call calculatedSelectedForAllGroupNodes(). we need to skip it\n        // here, otherwise the updatedCount would include it.\n        var skipThisNode = groupSelectsFiltered && this.group;\n        if (!skipThisNode) {\n            var thisNodeWasSelected = this.selectThisNode(newValue);\n            if (thisNodeWasSelected) {\n                updatedCount++;\n            }\n        }\n        if (groupSelectsChildren && this.group) {\n            updatedCount += this.selectChildNodes(newValue, groupSelectsFiltered);\n        }\n        // clear other nodes if not doing multi select\n        if (!suppressFinishActions) {\n            var clearOtherNodes = newValue && (clearSelection || !this.gridOptionsWrapper.isRowSelectionMulti());\n            if (clearOtherNodes) {\n                updatedCount += this.selectionController.clearOtherNodes(this);\n            }\n            // only if we selected something, then update groups and fire events\n            if (updatedCount > 0) {\n                this.selectionController.updateGroupsFromChildrenSelections();\n                // this is the very end of the 'action node', so we are finished all the updates,\n                // include any parent / child changes that this method caused\n                var event_1 = {\n                    type: Events.EVENT_SELECTION_CHANGED,\n                    api: this.gridApi,\n                    columnApi: this.columnApi\n                };\n                this.mainEventService.dispatchEvent(event_1);\n            }\n            // so if user next does shift-select, we know where to start the selection from\n            if (newValue) {\n                this.selectionController.setLastSelectedNode(this);\n            }\n        }\n        return updatedCount;\n    };\n    // selects all rows between this node and the last selected node (or the top if this is the first selection).\n    // not to be mixed up with 'cell range selection' where you drag the mouse, this is row range selection, by\n    // holding down 'shift'.\n    RowNode.prototype.doRowRangeSelection = function () {\n        var groupsSelectChildren = this.gridOptionsWrapper.isGroupSelectsChildren();\n        var lastSelectedNode = this.selectionController.getLastSelectedNode();\n        var nodesToSelect = this.rowModel.getNodesInRangeForSelection(this, lastSelectedNode);\n        var updatedCount = 0;\n        nodesToSelect.forEach(function (rowNode) {\n            if (rowNode.group && groupsSelectChildren) {\n                return;\n            }\n            var nodeWasSelected = rowNode.selectThisNode(true);\n            if (nodeWasSelected) {\n                updatedCount++;\n            }\n        });\n        this.selectionController.updateGroupsFromChildrenSelections();\n        var event = {\n            type: Events.EVENT_SELECTION_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.mainEventService.dispatchEvent(event);\n        return updatedCount;\n    };\n    RowNode.prototype.isParentOfNode = function (potentialParent) {\n        var parentNode = this.parent;\n        while (parentNode) {\n            if (parentNode === potentialParent) {\n                return true;\n            }\n            parentNode = parentNode.parent;\n        }\n        return false;\n    };\n    RowNode.prototype.selectThisNode = function (newValue) {\n        if (!this.selectable || this.selected === newValue) {\n            return false;\n        }\n        this.selected = newValue;\n        if (this.eventService) {\n            this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_ROW_SELECTED));\n        }\n        var event = this.createGlobalRowEvent(Events.EVENT_ROW_SELECTED);\n        this.mainEventService.dispatchEvent(event);\n        return true;\n    };\n    RowNode.prototype.selectChildNodes = function (newValue, groupSelectsFiltered) {\n        var children = groupSelectsFiltered ? this.childrenAfterFilter : this.childrenAfterGroup;\n        if (_.missing(children)) {\n            return;\n        }\n        var updatedCount = 0;\n        for (var i = 0; i < children.length; i++) {\n            updatedCount += children[i].setSelectedParams({\n                newValue: newValue,\n                clearSelection: false,\n                suppressFinishActions: true,\n                groupSelectsFiltered: groupSelectsFiltered\n            });\n        }\n        return updatedCount;\n    };\n    RowNode.prototype.addEventListener = function (eventType, listener) {\n        if (!this.eventService) {\n            this.eventService = new EventService();\n        }\n        this.eventService.addEventListener(eventType, listener);\n    };\n    RowNode.prototype.removeEventListener = function (eventType, listener) {\n        this.eventService.removeEventListener(eventType, listener);\n    };\n    RowNode.prototype.onMouseEnter = function () {\n        this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_MOUSE_ENTER));\n    };\n    RowNode.prototype.onMouseLeave = function () {\n        this.dispatchLocalEvent(this.createLocalRowEvent(RowNode.EVENT_MOUSE_LEAVE));\n    };\n    RowNode.prototype.getFirstChildOfFirstChild = function (rowGroupColumn) {\n        var currentRowNode = this;\n        var isCandidate = true;\n        var foundFirstChildPath = false;\n        var nodeToSwapIn;\n        // if we are hiding groups, then if we are the first child, of the first child,\n        // all the way up to the column we are interested in, then we show the group cell.\n        while (isCandidate && !foundFirstChildPath) {\n            var parentRowNode = currentRowNode.parent;\n            var firstChild = _.exists(parentRowNode) && currentRowNode.firstChild;\n            if (firstChild) {\n                if (parentRowNode.rowGroupColumn === rowGroupColumn) {\n                    foundFirstChildPath = true;\n                    nodeToSwapIn = parentRowNode;\n                }\n            }\n            else {\n                isCandidate = false;\n            }\n            currentRowNode = parentRowNode;\n        }\n        return foundFirstChildPath ? nodeToSwapIn : null;\n    };\n    RowNode.prototype.isFullWidthCell = function () {\n        var isFullWidthCellFunc = this.gridOptionsWrapper.getIsFullWidthCellFunc();\n        return isFullWidthCellFunc ? isFullWidthCellFunc(this) : false;\n    };\n    RowNode.OBJECT_ID_SEQUENCE = 0;\n    RowNode.EVENT_ROW_SELECTED = 'rowSelected';\n    RowNode.EVENT_DATA_CHANGED = 'dataChanged';\n    RowNode.EVENT_CELL_CHANGED = 'cellChanged';\n    RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED = 'allChildrenCountChanged';\n    RowNode.EVENT_MOUSE_ENTER = 'mouseEnter';\n    RowNode.EVENT_MOUSE_LEAVE = 'mouseLeave';\n    RowNode.EVENT_HEIGHT_CHANGED = 'heightChanged';\n    RowNode.EVENT_TOP_CHANGED = 'topChanged';\n    RowNode.EVENT_FIRST_CHILD_CHANGED = 'firstChildChanged';\n    RowNode.EVENT_LAST_CHILD_CHANGED = 'lastChildChanged';\n    RowNode.EVENT_CHILD_INDEX_CHANGED = 'childIndexChanged';\n    RowNode.EVENT_ROW_INDEX_CHANGED = 'rowIndexChanged';\n    RowNode.EVENT_EXPANDED_CHANGED = 'expandedChanged';\n    RowNode.EVENT_SELECTABLE_CHANGED = 'selectableChanged';\n    RowNode.EVENT_UI_LEVEL_CHANGED = 'uiLevelChanged';\n    RowNode.EVENT_HIGHLIGHT_CHANGED = 'rowHighlightChanged';\n    RowNode.EVENT_DRAGGING_CHANGED = 'draggingChanged';\n    __decorate$g([\n        Autowired('eventService')\n    ], RowNode.prototype, \"mainEventService\", void 0);\n    __decorate$g([\n        Autowired('gridOptionsWrapper')\n    ], RowNode.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$g([\n        Autowired('selectionController')\n    ], RowNode.prototype, \"selectionController\", void 0);\n    __decorate$g([\n        Autowired('columnController')\n    ], RowNode.prototype, \"columnController\", void 0);\n    __decorate$g([\n        Autowired('valueService')\n    ], RowNode.prototype, \"valueService\", void 0);\n    __decorate$g([\n        Autowired('rowModel')\n    ], RowNode.prototype, \"rowModel\", void 0);\n    __decorate$g([\n        Autowired('context')\n    ], RowNode.prototype, \"context\", void 0);\n    __decorate$g([\n        Autowired('valueCache')\n    ], RowNode.prototype, \"valueCache\", void 0);\n    __decorate$g([\n        Autowired('columnApi')\n    ], RowNode.prototype, \"columnApi\", void 0);\n    __decorate$g([\n        Autowired('gridApi')\n    ], RowNode.prototype, \"gridApi\", void 0);\n    return RowNode;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$9 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$h = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AgAbstractLabel = /** @class */ (function (_super) {\n    __extends$9(AgAbstractLabel, _super);\n    function AgAbstractLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.labelSeparator = '';\n        _this.labelAlignment = 'left';\n        _this.config = {};\n        _this.label = '';\n        return _this;\n    }\n    AgAbstractLabel.prototype.postConstruct = function () {\n        _.addCssClass(this.getGui(), 'ag-labeled');\n        _.addCssClass(this.eLabel, 'ag-label');\n        var _a = this.config, labelSeparator = _a.labelSeparator, label = _a.label, labelWidth = _a.labelWidth, labelAlignment = _a.labelAlignment;\n        if (labelSeparator != null) {\n            this.setLabelSeparator(labelSeparator);\n        }\n        if (label != null) {\n            this.setLabel(label);\n        }\n        if (labelWidth != null) {\n            this.setLabelWidth(labelWidth);\n        }\n        this.setLabelAlignment(labelAlignment || this.labelAlignment);\n        this.refreshLabel();\n    };\n    AgAbstractLabel.prototype.refreshLabel = function () {\n        this.eLabel.innerText = this.label + this.labelSeparator;\n        _.addOrRemoveCssClass(this.eLabel, 'ag-hidden', this.label === '');\n    };\n    AgAbstractLabel.prototype.setLabelSeparator = function (labelSeparator) {\n        if (this.labelSeparator === labelSeparator) {\n            return this;\n        }\n        this.labelSeparator = labelSeparator;\n        if (this.label != null) {\n            this.refreshLabel();\n        }\n        return this;\n    };\n    AgAbstractLabel.prototype.setLabel = function (label) {\n        if (this.label === label) {\n            return this;\n        }\n        this.label = label;\n        this.refreshLabel();\n        return this;\n    };\n    AgAbstractLabel.prototype.setLabelAlignment = function (alignment) {\n        var eGui = this.getGui();\n        _.addOrRemoveCssClass(eGui, 'ag-label-align-left', alignment === 'left');\n        _.addOrRemoveCssClass(eGui, 'ag-label-align-right', alignment === 'right');\n        _.addOrRemoveCssClass(eGui, 'ag-label-align-top', alignment === 'top');\n        return this;\n    };\n    AgAbstractLabel.prototype.setLabelWidth = function (width) {\n        if (this.label == null) {\n            return this;\n        }\n        _.setElementWidth(this.eLabel, width);\n        return this;\n    };\n    __decorate$h([\n        PostConstruct\n    ], AgAbstractLabel.prototype, \"postConstruct\", null);\n    return AgAbstractLabel;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$a = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar AgAbstractField = /** @class */ (function (_super) {\n    __extends$a(AgAbstractField, _super);\n    function AgAbstractField() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.disabled = false;\n        return _this;\n    }\n    AgAbstractField.prototype.postConstruct = function () {\n        _super.prototype.postConstruct.call(this);\n        _.addCssClass(this.getGui(), this.className);\n    };\n    AgAbstractField.prototype.onValueChange = function (callbackFn) {\n        var _this = this;\n        this.addDestroyableEventListener(this, AgAbstractField.EVENT_CHANGED, function () {\n            callbackFn(_this.getValue());\n        });\n        return this;\n    };\n    AgAbstractField.prototype.getWidth = function () {\n        return this.getGui().clientWidth;\n    };\n    AgAbstractField.prototype.setWidth = function (width) {\n        _.setFixedWidth(this.getGui(), width);\n        return this;\n    };\n    AgAbstractField.prototype.getValue = function () {\n        return this.value;\n    };\n    AgAbstractField.prototype.setValue = function (value, silent) {\n        if (this.value === value) {\n            return this;\n        }\n        this.value = value;\n        if (!silent) {\n            this.dispatchEvent({ type: AgAbstractField.EVENT_CHANGED });\n        }\n        return this;\n    };\n    AgAbstractField.prototype.setDisabled = function (disabled) {\n        disabled = !!disabled;\n        var eGui = this.getGui();\n        if (disabled) {\n            eGui.setAttribute('disabled', 'true');\n        }\n        _.addOrRemoveCssClass(eGui, 'ag-disabled', disabled);\n        this.disabled = disabled;\n        return this;\n    };\n    AgAbstractField.prototype.isDisabled = function () {\n        return !!this.disabled;\n    };\n    AgAbstractField.EVENT_CHANGED = 'valueChange';\n    return AgAbstractField;\n}(AgAbstractLabel));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$b = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$i = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AgAbstractInputField = /** @class */ (function (_super) {\n    __extends$b(AgAbstractInputField, _super);\n    function AgAbstractInputField() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.config = {};\n        _this.TEMPLATE = \"\\n        <div role=\\\"presentation\\\">\\n            <label ref=\\\"eLabel\\\" class=\\\"ag-input-field-label\\\"></label>\\n            <div ref=\\\"eWrapper\\\" class=\\\"ag-wrapper ag-input-wrapper\\\" role=\\\"presentation\\\">\\n                <%displayField% ref=\\\"eInput\\\" class=\\\"ag-input-field-input\\\"></%displayField%>\\n            </div>\\n        </div>\";\n        return _this;\n    }\n    AgAbstractInputField.prototype.postConstruct = function () {\n        _super.prototype.postConstruct.call(this);\n        this.setInputType();\n        _.addCssClass(this.eLabel, this.className + \"-label\");\n        _.addCssClass(this.eWrapper, this.className + \"-input-wrapper\");\n        _.addCssClass(this.eInput, this.className + \"-input\");\n        _.addCssClass(this.getGui(), 'ag-input-field');\n        var inputId = this.eInput.id ? this.eInput.id : \"ag-input-id-\" + this.getCompId();\n        this.eLabel.htmlFor = inputId;\n        this.eInput.id = inputId;\n        var _a = this.config, width = _a.width, value = _a.value;\n        if (width != null) {\n            this.setWidth(width);\n        }\n        if (value != null) {\n            this.setValue(value);\n        }\n        this.addInputListeners();\n    };\n    AgAbstractInputField.prototype.addInputListeners = function () {\n        var _this = this;\n        this.addDestroyableEventListener(this.eInput, 'input', function (e) {\n            var value = e.target.value;\n            _this.setValue(value);\n        });\n    };\n    AgAbstractInputField.prototype.setInputType = function () {\n        if (this.inputType) {\n            this.eInput.setAttribute('type', this.inputType);\n        }\n    };\n    AgAbstractInputField.prototype.getInputElement = function () {\n        return this.eInput;\n    };\n    AgAbstractInputField.prototype.setInputWidth = function (width) {\n        _.setElementWidth(this.eWrapper, width);\n        return this;\n    };\n    AgAbstractInputField.prototype.setInputName = function (name) {\n        this.getInputElement().setAttribute('name', name);\n        return this;\n    };\n    AgAbstractInputField.prototype.getFocusableElement = function () {\n        return this.eInput;\n    };\n    AgAbstractInputField.prototype.setMaxLength = function (length) {\n        var eInput = this.eInput;\n        eInput.maxLength = length;\n        return this;\n    };\n    AgAbstractInputField.prototype.setInputPlaceholder = function (placeholder) {\n        var eInput = this.eInput;\n        if (placeholder) {\n            eInput.setAttribute('placeholder', placeholder);\n        }\n        else {\n            eInput.removeAttribute('placeholder');\n        }\n        return this;\n    };\n    AgAbstractInputField.prototype.setDisabled = function (disabled) {\n        if (disabled) {\n            this.eInput.setAttribute('disabled', 'true');\n        }\n        else {\n            this.eInput.removeAttribute('disabled');\n        }\n        return _super.prototype.setDisabled.call(this, disabled);\n    };\n    __decorate$i([\n        RefSelector('eLabel')\n    ], AgAbstractInputField.prototype, \"eLabel\", void 0);\n    __decorate$i([\n        RefSelector('eWrapper')\n    ], AgAbstractInputField.prototype, \"eWrapper\", void 0);\n    __decorate$i([\n        RefSelector('eInput')\n    ], AgAbstractInputField.prototype, \"eInput\", void 0);\n    return AgAbstractInputField;\n}(AgAbstractField));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$c = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$j = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AgCheckbox = /** @class */ (function (_super) {\n    __extends$c(AgCheckbox, _super);\n    function AgCheckbox() {\n        var _this = _super.call(this) || this;\n        _this.className = 'ag-checkbox';\n        _this.displayTag = 'input';\n        _this.inputType = 'checkbox';\n        _this.labelAlignment = 'right';\n        _this.selected = false;\n        _this.readOnly = false;\n        _this.passive = false;\n        _this.setTemplate(_this.TEMPLATE.replace(/%displayField%/g, _this.displayTag));\n        return _this;\n    }\n    AgCheckbox.prototype.addInputListeners = function () {\n        this.addDestroyableEventListener(this.eInput, 'click', this.onCheckboxClick.bind(this));\n    };\n    AgCheckbox.prototype.getNextValue = function () {\n        return this.selected === undefined ? true : !this.selected;\n    };\n    AgCheckbox.prototype.setPassive = function (passive) {\n        this.passive = passive;\n    };\n    AgCheckbox.prototype.isReadOnly = function () {\n        return this.readOnly;\n    };\n    AgCheckbox.prototype.setReadOnly = function (readOnly) {\n        _.addOrRemoveCssClass(this.eWrapper, 'ag-disabled', readOnly);\n        this.eInput.disabled = readOnly;\n        this.readOnly = readOnly;\n    };\n    AgCheckbox.prototype.setDisabled = function (disabled) {\n        _.addOrRemoveCssClass(this.eWrapper, 'ag-disabled', disabled);\n        return _super.prototype.setDisabled.call(this, disabled);\n    };\n    AgCheckbox.prototype.toggle = function () {\n        var nextValue = this.getNextValue();\n        if (this.passive) {\n            this.dispatchChange(nextValue);\n        }\n        else {\n            this.setValue(nextValue);\n        }\n    };\n    AgCheckbox.prototype.getValue = function () {\n        return this.isSelected();\n    };\n    AgCheckbox.prototype.setValue = function (value, silent) {\n        this.refreshSelectedClass(value);\n        this.setSelected(value, silent);\n        return this;\n    };\n    AgCheckbox.prototype.setName = function (name) {\n        var input = this.getInputElement();\n        input.name = name;\n        return this;\n    };\n    AgCheckbox.prototype.isSelected = function () {\n        return this.selected;\n    };\n    AgCheckbox.prototype.setSelected = function (selected, silent) {\n        if (this.isSelected() === selected) {\n            return;\n        }\n        this.selected = typeof selected === 'boolean' ? selected : undefined;\n        this.eInput.checked = this.selected;\n        this.eInput.indeterminate = this.selected === undefined;\n        if (!silent) {\n            this.dispatchChange(this.selected);\n        }\n    };\n    AgCheckbox.prototype.dispatchChange = function (selected, event) {\n        this.dispatchEvent({ type: AgCheckbox.EVENT_CHANGED, selected: selected, event: event });\n        var input = this.getInputElement();\n        var checkboxChangedEvent = {\n            type: Events.EVENT_CHECKBOX_CHANGED,\n            id: input.id,\n            name: input.name,\n            selected: selected\n        };\n        this.eventService.dispatchEvent(checkboxChangedEvent);\n    };\n    AgCheckbox.prototype.onCheckboxClick = function (e) {\n        this.selected = e.target.checked;\n        this.refreshSelectedClass(this.selected);\n        this.dispatchChange(this.selected, e);\n    };\n    AgCheckbox.prototype.refreshSelectedClass = function (value) {\n        _.addOrRemoveCssClass(this.eWrapper, 'ag-checked', value === true);\n        _.addOrRemoveCssClass(this.eWrapper, 'ag-indeterminate', value == null);\n    };\n    __decorate$j([\n        Autowired('gridOptionsWrapper')\n    ], AgCheckbox.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$j([\n        Autowired('eventService')\n    ], AgCheckbox.prototype, \"eventService\", void 0);\n    return AgCheckbox;\n}(AgAbstractInputField));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$d = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$k = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar CheckboxSelectionComponent = /** @class */ (function (_super) {\n    __extends$d(CheckboxSelectionComponent, _super);\n    function CheckboxSelectionComponent() {\n        return _super.call(this, \"<div class=\\\"ag-selection-checkbox\\\"><ag-checkbox role=\\\"presentation\\\" ref=\\\"eCheckbox\\\"></ag-checkbox></div>\") || this;\n    }\n    CheckboxSelectionComponent.prototype.onDataChanged = function () {\n        // when rows are loaded for the second time, this can impact the selection, as a row\n        // could be loaded as already selected (if user scrolls down, and then up again).\n        this.onSelectionChanged();\n    };\n    CheckboxSelectionComponent.prototype.onSelectableChanged = function () {\n        this.showOrHideSelect();\n    };\n    CheckboxSelectionComponent.prototype.onSelectionChanged = function () {\n        var state = this.rowNode.isSelected();\n        this.eCheckbox.setValue(state, true);\n    };\n    CheckboxSelectionComponent.prototype.onCheckedClicked = function () {\n        var groupSelectsFiltered = this.gridOptionsWrapper.isGroupSelectsFiltered();\n        var updatedCount = this.rowNode.setSelectedParams({ newValue: false, groupSelectsFiltered: groupSelectsFiltered });\n        return updatedCount;\n    };\n    CheckboxSelectionComponent.prototype.onUncheckedClicked = function (event) {\n        var groupSelectsFiltered = this.gridOptionsWrapper.isGroupSelectsFiltered();\n        var updatedCount = this.rowNode.setSelectedParams({ newValue: true, rangeSelect: event.shiftKey, groupSelectsFiltered: groupSelectsFiltered });\n        return updatedCount;\n    };\n    CheckboxSelectionComponent.prototype.init = function (params) {\n        var _this = this;\n        this.rowNode = params.rowNode;\n        this.column = params.column;\n        this.onSelectionChanged();\n        // we don't want the row clicked event to fire when selecting the checkbox, otherwise the row\n        // would possibly get selected twice\n        this.addGuiEventListener('click', function (event) { return _.stopPropagationForAgGrid(event); });\n        // likewise we don't want double click on this icon to open a group\n        this.addGuiEventListener('dblclick', function (event) { return _.stopPropagationForAgGrid(event); });\n        this.addDestroyableEventListener(this.eCheckbox, AgCheckbox.EVENT_CHANGED, function (params) {\n            if (params.selected) {\n                _this.onUncheckedClicked(params.event || {});\n            }\n            else {\n                _this.onCheckedClicked();\n            }\n        });\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_ROW_SELECTED, this.onSelectionChanged.bind(this));\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_DATA_CHANGED, this.onDataChanged.bind(this));\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_SELECTABLE_CHANGED, this.onSelectableChanged.bind(this));\n        this.isRowSelectableFunc = this.gridOptionsWrapper.getIsRowSelectableFunc();\n        var checkboxVisibleIsDynamic = this.isRowSelectableFunc || this.checkboxCallbackExists();\n        if (checkboxVisibleIsDynamic) {\n            this.addDestroyableEventListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.showOrHideSelect.bind(this));\n            this.showOrHideSelect();\n        }\n    };\n    CheckboxSelectionComponent.prototype.showOrHideSelect = function () {\n        // if the isRowSelectable() is not provided the row node is selectable by default\n        var selectable = this.rowNode.selectable;\n        // checkboxSelection callback is deemed a legacy solution however we will still consider it's result.\n        // If selectable, then also check the colDef callback. if not selectable, this it short circuits - no need\n        // to call the colDef callback.\n        if (selectable && this.checkboxCallbackExists()) {\n            selectable = this.column.isCellCheckboxSelection(this.rowNode);\n        }\n        // show checkbox if both conditions are true\n        this.setDisplayed(selectable);\n    };\n    CheckboxSelectionComponent.prototype.checkboxCallbackExists = function () {\n        // column will be missing if groupUseEntireRow=true\n        var colDef = this.column ? this.column.getColDef() : null;\n        return colDef && typeof colDef.checkboxSelection === 'function';\n    };\n    __decorate$k([\n        Autowired('gridOptionsWrapper')\n    ], CheckboxSelectionComponent.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$k([\n        Autowired('eventService')\n    ], CheckboxSelectionComponent.prototype, \"eventService\", void 0);\n    __decorate$k([\n        RefSelector('eCheckbox')\n    ], CheckboxSelectionComponent.prototype, \"eCheckbox\", void 0);\n    return CheckboxSelectionComponent;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar DateComponent = {\n    propertyName: 'dateComponent',\n    isCellRenderer: function () { return false; }\n};\nvar HeaderComponent = {\n    propertyName: 'headerComponent',\n    isCellRenderer: function () { return false; },\n};\nvar HeaderGroupComponent = {\n    propertyName: 'headerGroupComponent',\n    isCellRenderer: function () { return false; },\n};\nvar GroupRowInnerRendererComponent = {\n    propertyName: 'groupRowInnerRenderer',\n    isCellRenderer: function () { return true; },\n};\nvar CellRendererComponent = {\n    propertyName: 'cellRenderer',\n    isCellRenderer: function () { return true; },\n};\nvar PinnedRowCellRendererComponent = {\n    propertyName: 'pinnedRowCellRenderer',\n    isCellRenderer: function () { return true; },\n};\nvar CellEditorComponent = {\n    propertyName: 'cellEditor',\n    isCellRenderer: function () { return false; },\n};\nvar InnerRendererComponent = {\n    propertyName: 'innerRenderer',\n    isCellRenderer: function () { return true; },\n};\nvar LoadingOverlayComponent = {\n    propertyName: 'loadingOverlayComponent',\n    isCellRenderer: function () { return false; },\n};\nvar NoRowsOverlayComponent = {\n    propertyName: 'noRowsOverlayComponent',\n    isCellRenderer: function () { return false; },\n};\nvar TooltipComponent = {\n    propertyName: 'tooltipComponent',\n    isCellRenderer: function () { return false; },\n};\nvar FilterComponent = {\n    propertyName: 'filter',\n    isCellRenderer: function () { return false; },\n};\nvar FloatingFilterComponent = {\n    propertyName: 'floatingFilterComponent',\n    isCellRenderer: function () { return false; },\n};\nvar ToolPanelComponent = {\n    propertyName: 'toolPanel',\n    isCellRenderer: function () { return false; },\n};\nvar StatusPanelComponent = {\n    propertyName: 'statusPanel',\n    isCellRenderer: function () { return false; },\n};\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$l = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ComponentSource;\n(function (ComponentSource) {\n    ComponentSource[ComponentSource[\"DEFAULT\"] = 0] = \"DEFAULT\";\n    ComponentSource[ComponentSource[\"REGISTERED_BY_NAME\"] = 1] = \"REGISTERED_BY_NAME\";\n    ComponentSource[ComponentSource[\"HARDCODED\"] = 2] = \"HARDCODED\";\n})(ComponentSource || (ComponentSource = {}));\nvar UserComponentFactory = /** @class */ (function () {\n    function UserComponentFactory() {\n    }\n    UserComponentFactory.prototype.newDateComponent = function (params) {\n        return this.createAndInitUserComponent(this.gridOptions, params, DateComponent, 'agDateInput');\n    };\n    UserComponentFactory.prototype.newHeaderComponent = function (params) {\n        return this.createAndInitUserComponent(params.column.getColDef(), params, HeaderComponent, 'agColumnHeader');\n    };\n    UserComponentFactory.prototype.newHeaderGroupComponent = function (params) {\n        return this.createAndInitUserComponent(params.columnGroup.getColGroupDef(), params, HeaderGroupComponent, 'agColumnGroupHeader');\n    };\n    UserComponentFactory.prototype.newFullWidthGroupRowInnerCellRenderer = function (params) {\n        return this.createAndInitUserComponent(this.gridOptions, params, GroupRowInnerRendererComponent, null, true);\n    };\n    // this one is unusual, as it can be LoadingCellRenderer, DetailCellRenderer, FullWidthCellRenderer or GroupRowRenderer.\n    // so we have to pass the type in.\n    UserComponentFactory.prototype.newFullWidthCellRenderer = function (params, cellRendererType, cellRendererName) {\n        return this.createAndInitUserComponent(null, params, {\n            propertyName: cellRendererType,\n            isCellRenderer: function () { return true; }\n        }, cellRendererName);\n    };\n    UserComponentFactory.prototype.newCellRenderer = function (target, params, isPinned) {\n        if (isPinned === void 0) { isPinned = false; }\n        return this.createAndInitUserComponent(target, params, isPinned ? PinnedRowCellRendererComponent : CellRendererComponent, null, true);\n    };\n    UserComponentFactory.prototype.newCellEditor = function (colDef, params) {\n        return this.createAndInitUserComponent(colDef, params, CellEditorComponent, 'agCellEditor');\n    };\n    UserComponentFactory.prototype.newInnerCellRenderer = function (target, params) {\n        return this.createAndInitUserComponent(target, params, InnerRendererComponent, null);\n    };\n    UserComponentFactory.prototype.newLoadingOverlayComponent = function (params) {\n        return this.createAndInitUserComponent(this.gridOptions, params, LoadingOverlayComponent, 'agLoadingOverlay');\n    };\n    UserComponentFactory.prototype.newNoRowsOverlayComponent = function (params) {\n        return this.createAndInitUserComponent(this.gridOptions, params, NoRowsOverlayComponent, 'agNoRowsOverlay');\n    };\n    UserComponentFactory.prototype.newTooltipComponent = function (params) {\n        return this.createAndInitUserComponent(params.colDef, params, TooltipComponent, 'agTooltipComponent');\n    };\n    UserComponentFactory.prototype.newFilterComponent = function (colDef, params, defaultFilter, modifyParamsCallback) {\n        return this.createAndInitUserComponent(colDef, params, FilterComponent, defaultFilter, false, modifyParamsCallback);\n    };\n    UserComponentFactory.prototype.newSetFilterCellRenderer = function (target, params) {\n        return this.createAndInitUserComponent(target, params, CellRendererComponent, null, true);\n    };\n    UserComponentFactory.prototype.newFloatingFilterComponent = function (colDef, params, defaultFloatingFilter) {\n        return this.createAndInitUserComponent(colDef, params, FloatingFilterComponent, defaultFloatingFilter, true);\n    };\n    UserComponentFactory.prototype.newToolPanelComponent = function (toolPanelDef, params) {\n        return this.createAndInitUserComponent(toolPanelDef, params, ToolPanelComponent);\n    };\n    UserComponentFactory.prototype.newStatusPanelComponent = function (def, params) {\n        return this.createAndInitUserComponent(def, params, StatusPanelComponent);\n    };\n    /**\n     * This method creates a component given everything needed to guess what sort of component needs to be instantiated\n     * It takes\n     *  @param definitionObject: This is the context for which this component needs to be created, it can be gridOptions\n     *      (global) or columnDef mostly.\n     *  @param paramsFromGrid: Params to be passed to the component and passed by ag-Grid. This will get merged with any params\n     *      specified by the user in the configuration\n     *  @param propertyName: The name of the property used in ag-grid as a convention to refer to the component, it can be:\n     *      'floatingFilter', 'cellRenderer', is used to find if the user is specifying a custom component\n     *  @param defaultComponentName: The actual name of the component to instantiate, this is usually the same as propertyName, but in\n     *      some cases is not, like floatingFilter, if it is the same is not necessary to specify\n     *  @param optional: Handy method to tell if this should return a component ALWAYS. if that is the case, but there is no\n     *      component found, it throws an error, by default all components are MANDATORY\n     *  @param modifyParamsCallback: A chance to customise the params passed to the init method. It receives what the current\n     *  params are and the component that init is about to get called for\n     */\n    UserComponentFactory.prototype.createAndInitUserComponent = function (definitionObject, paramsFromGrid, componentType, defaultComponentName, \n    // optional items are: FloatingFilter, CellComp (for cellRenderer)\n    optional, \n    // used by FilterManager only\n    modifyParamsCallback) {\n        if (optional === void 0) { optional = false; }\n        if (!definitionObject) {\n            definitionObject = this.gridOptions;\n        }\n        // Create the component instance\n        var componentAndParams = this.createComponentInstance(definitionObject, componentType, paramsFromGrid, defaultComponentName, optional);\n        if (!componentAndParams) {\n            return null;\n        }\n        var componentInstance = componentAndParams.componentInstance;\n        // Wire the component and call the init method with the correct params\n        var params = this.createFinalParams(definitionObject, componentType.propertyName, paramsFromGrid, componentAndParams.paramsFromSelector);\n        this.addReactHacks(params);\n        // give caller chance to set any params that depend on the componentInstance (need here as the\n        // componentInstance was not available when createUserComponent was called)\n        var paramsAfterCallback = modifyParamsCallback ? modifyParamsCallback(params, componentInstance) : params;\n        var deferredInit = this.initComponent(componentInstance, paramsAfterCallback);\n        if (deferredInit == null) {\n            // const p = new Promise<A>(resolve => {\n            //     setTimeout( ()=> {\n            //         resolve(componentInstance);\n            //     }, 1000);\n            // });\n            // return p;\n            return Promise.resolve(componentInstance);\n        }\n        else {\n            var asPromise = deferredInit;\n            return asPromise.map(function (_) { return componentInstance; });\n        }\n    };\n    UserComponentFactory.prototype.addReactHacks = function (params) {\n        // a temporary fix for AG-1574\n        // AG-1715 raised to do a wider ranging refactor to improve this\n        var agGridReact = this.context.getBean('agGridReact');\n        if (agGridReact) {\n            params.agGridReact = _.cloneObject(agGridReact);\n        }\n        // AG-1716 - directly related to AG-1574 and AG-1715\n        var frameworkComponentWrapper = this.context.getBean('frameworkComponentWrapper');\n        if (frameworkComponentWrapper) {\n            params.frameworkComponentWrapper = frameworkComponentWrapper;\n        }\n    };\n    /**\n     * This method creates a component given everything needed to guess what sort of component needs to be instantiated\n     * It takes\n     *  @param clazz: The class to instantiate,\n     *  @param agGridParams: Params to be passed to the component and passed by ag-Grid. This will get merged with any params\n     *      specified by the user in the configuration\n     *  @param modifyParamsCallback: A chance to customise the params passed to the init method. It receives what the current\n     *  params are and the component that init is about to get called for\n     */\n    UserComponentFactory.prototype.createUserComponentFromConcreteClass = function (clazz, agGridParams) {\n        var internalComponent = new clazz();\n        this.initComponent(internalComponent, agGridParams);\n        return internalComponent;\n    };\n    /**\n     * This method returns the underlying representation of the component to be created. ie for Javascript the\n     * underlying function where we should be calling new into. In case of the frameworks, the framework class\n     * object that represents the component to be created.\n     *\n     * This method is handy for different reasons, for example if you want to check if a component has a particular\n     * method implemented without having to create the component, just by inspecting the source component\n     *\n     * It takes\n     *  @param definitionObject: This is the context for which this component needs to be created, it can be gridOptions\n     *      (global) or columnDef mostly.\n     *  @param propertyName: The name of the property used in ag-grid as a convention to refer to the component, it can be:\n     *      'floatingFilter', 'cellRenderer', is used to find if the user is specifying a custom component\n     *  @param params: Params to be passed to the dynamic component function in case it needs to be\n     *      invoked\n     *  @param defaultComponentName: The name of the component to load if there is no component specified\n     */\n    UserComponentFactory.prototype.lookupComponentClassDef = function (definitionObject, propertyName, params, defaultComponentName) {\n        if (params === void 0) { params = null; }\n        /**\n         * There are five things that can happen when resolving a component.\n         *  a) HardcodedFwComponent: That holder[propertyName]Framework has associated a Framework native component\n         *  b) HardcodedJsComponent: That holder[propertyName] has associate a JS component\n         *  c) hardcodedJsFunction: That holder[propertyName] has associate a JS function\n         *  d) hardcodedNameComponent: That holder[propertyName] has associate a string that represents a component to load\n         *  e) That none of the three previous are specified, then we need to use the DefaultRegisteredComponent\n         */\n        var hardcodedNameComponent = null;\n        var HardcodedJsComponent = null;\n        var hardcodedJsFunction = null;\n        var HardcodedFwComponent = null;\n        var componentSelectorFunc;\n        if (definitionObject != null) {\n            var componentPropertyValue = definitionObject[propertyName];\n            // for filters only, we allow 'true' for the component, which means default filter to be used\n            var usingDefaultComponent = componentPropertyValue === true;\n            if (componentPropertyValue != null && !usingDefaultComponent) {\n                if (typeof componentPropertyValue === 'string') {\n                    hardcodedNameComponent = componentPropertyValue;\n                }\n                else if (typeof componentPropertyValue === 'boolean') ;\n                else if (this.agComponentUtils.doesImplementIComponent(componentPropertyValue)) {\n                    HardcodedJsComponent = componentPropertyValue;\n                }\n                else {\n                    hardcodedJsFunction = componentPropertyValue;\n                }\n            }\n            HardcodedFwComponent = definitionObject[propertyName + \"Framework\"];\n            componentSelectorFunc = definitionObject[propertyName + \"Selector\"];\n        }\n        /**\n         * Since we allow many types of flavors for specifying the components, let's make sure this is not an illegal\n         * combination\n         */\n        if ((HardcodedJsComponent && HardcodedFwComponent) ||\n            (hardcodedNameComponent && HardcodedFwComponent) ||\n            (hardcodedJsFunction && HardcodedFwComponent)) {\n            throw Error(\"ag-grid: you are trying to specify: \" + propertyName + \" twice as a component.\");\n        }\n        if (HardcodedFwComponent && !this.frameworkComponentWrapper) {\n            throw Error(\"ag-grid: you are specifying a framework component but you are not using a framework version of ag-grid for : \" + propertyName);\n        }\n        if (componentSelectorFunc && (hardcodedNameComponent || HardcodedJsComponent || hardcodedJsFunction || HardcodedFwComponent)) {\n            throw Error(\"ag-grid: you can't specify both, the selector and the component of ag-grid for : \" + propertyName);\n        }\n        /**\n         * At this stage we are guaranteed to either have,\n         * DEPRECATED\n         * - A unique HardcodedFwComponent\n         * - A unique HardcodedJsComponent\n         * - A unique hardcodedJsFunction\n         * BY NAME- FAVOURED APPROACH\n         * - A unique hardcodedNameComponent\n         * - None of the previous, hence we revert to: RegisteredComponent\n         */\n        if (HardcodedFwComponent) {\n            // console.warn(`ag-grid: Since version 12.1.0 specifying a component directly is deprecated, you should register the component by name`);\n            // console.warn(`${HardcodedFwComponent}`);\n            return {\n                componentFromFramework: true,\n                component: HardcodedFwComponent,\n                source: ComponentSource.HARDCODED,\n                paramsFromSelector: null\n            };\n        }\n        if (HardcodedJsComponent) {\n            // console.warn(`ag-grid: Since version 12.1.0 specifying a component directly is deprecated, you should register the component by name`);\n            // console.warn(`${HardcodedJsComponent}`);\n            return {\n                componentFromFramework: false,\n                component: HardcodedJsComponent,\n                source: ComponentSource.HARDCODED,\n                paramsFromSelector: null\n            };\n        }\n        if (hardcodedJsFunction) {\n            // console.warn(`ag-grid: Since version 12.1.0 specifying a function directly is deprecated, you should register the component by name`);\n            // console.warn(`${hardcodedJsFunction}`);\n            return this.agComponentUtils.adaptFunction(propertyName, hardcodedJsFunction, false, ComponentSource.HARDCODED);\n        }\n        var selectorResult = componentSelectorFunc ? componentSelectorFunc(params) : null;\n        var componentNameToUse;\n        if (selectorResult && selectorResult.component) {\n            componentNameToUse = selectorResult.component;\n        }\n        else if (hardcodedNameComponent) {\n            componentNameToUse = hardcodedNameComponent;\n        }\n        else {\n            componentNameToUse = defaultComponentName;\n        }\n        if (!componentNameToUse) {\n            return null;\n        }\n        var registeredCompClassDef = this.lookupFromRegisteredComponents(propertyName, componentNameToUse);\n        if (!registeredCompClassDef) {\n            return null;\n        }\n        return {\n            componentFromFramework: registeredCompClassDef.componentFromFramework,\n            component: registeredCompClassDef.component,\n            source: registeredCompClassDef.source,\n            paramsFromSelector: selectorResult ? selectorResult.params : null\n        };\n    };\n    UserComponentFactory.prototype.lookupFromRegisteredComponents = function (propertyName, componentNameOpt) {\n        var componentName = componentNameOpt != null ? componentNameOpt : propertyName;\n        var registeredComponent = this.userComponentRegistry.retrieve(componentName);\n        if (registeredComponent == null) {\n            return null;\n        }\n        //If it is a FW it has to be registered as a component\n        if (registeredComponent.componentFromFramework) {\n            return {\n                component: registeredComponent.component,\n                componentFromFramework: true,\n                source: ComponentSource.REGISTERED_BY_NAME,\n                paramsFromSelector: null\n            };\n        }\n        //If it is JS it may be a function or a component\n        if (this.agComponentUtils.doesImplementIComponent(registeredComponent.component)) {\n            return {\n                component: registeredComponent.component,\n                componentFromFramework: false,\n                source: (registeredComponent.source == RegisteredComponentSource.REGISTERED) ? ComponentSource.REGISTERED_BY_NAME : ComponentSource.DEFAULT,\n                paramsFromSelector: null\n            };\n        }\n        // This is a function\n        return this.agComponentUtils.adaptFunction(propertyName, registeredComponent.component, registeredComponent.componentFromFramework, (registeredComponent.source == RegisteredComponentSource.REGISTERED) ? ComponentSource.REGISTERED_BY_NAME : ComponentSource.DEFAULT);\n    };\n    /**\n     * Useful to check what would be the resultant params for a given object\n     *  @param definitionObject: This is the context for which this component needs to be created, it can be gridOptions\n     *      (global) or columnDef mostly.\n     *  @param propertyName: The name of the property used in ag-grid as a convention to refer to the component, it can be:\n     *      'floatingFilter', 'cellRenderer', is used to find if the user is specifying a custom component\n     *  @param paramsFromGrid: Params to be passed to the component and passed by ag-Grid. This will get merged with any params\n     *      specified by the user in the configuration\n     * @returns {TParams} It merges the user agGridParams with the actual params specified by the user.\n     */\n    UserComponentFactory.prototype.createFinalParams = function (definitionObject, propertyName, paramsFromGrid, paramsFromSelector) {\n        if (paramsFromSelector === void 0) { paramsFromSelector = null; }\n        var params = {};\n        _.mergeDeep(params, paramsFromGrid);\n        var userParams = definitionObject ? definitionObject[propertyName + \"Params\"] : null;\n        if (userParams != null) {\n            if (typeof userParams === 'function') {\n                _.mergeDeep(params, userParams(paramsFromGrid));\n            }\n            else if (typeof userParams === 'object') {\n                _.mergeDeep(params, userParams);\n            }\n        }\n        _.mergeDeep(params, paramsFromSelector);\n        return params;\n    };\n    UserComponentFactory.prototype.createComponentInstance = function (holder, componentType, paramsForSelector, defaultComponentName, optional) {\n        var propertyName = componentType.propertyName;\n        var componentToUse = this.lookupComponentClassDef(holder, propertyName, paramsForSelector, defaultComponentName);\n        var missing = !componentToUse || !componentToUse.component;\n        if (missing) {\n            // to help the user, we print out the name they are looking for, rather than the default name.\n            // i don't know why the default name was originally printed out (that doesn't help the user)\n            var overrideName = holder ? holder[propertyName] : defaultComponentName;\n            var nameToReport = overrideName ? overrideName : defaultComponentName;\n            if (!optional) {\n                console.error(\"Could not find component \" + nameToReport + \", did you forget to configure this component?\");\n            }\n            return null;\n        }\n        var componentInstance;\n        if (componentToUse.componentFromFramework) {\n            // Using framework component\n            var FrameworkComponentRaw = componentToUse.component;\n            var thisComponentConfig = this.componentMetadataProvider.retrieve(propertyName);\n            componentInstance = this.frameworkComponentWrapper.wrap(FrameworkComponentRaw, thisComponentConfig.mandatoryMethodList, thisComponentConfig.optionalMethodList, componentType, defaultComponentName);\n        }\n        else {\n            // Using plain JavaScript component\n            componentInstance = new componentToUse.component();\n        }\n        return { componentInstance: componentInstance, paramsFromSelector: componentToUse.paramsFromSelector };\n    };\n    UserComponentFactory.prototype.initComponent = function (component, params) {\n        this.context.wireBean(component);\n        if (component.init == null) {\n            return;\n        }\n        return component.init(params);\n    };\n    __decorate$l([\n        Autowired(\"gridOptions\")\n    ], UserComponentFactory.prototype, \"gridOptions\", void 0);\n    __decorate$l([\n        Autowired(\"context\")\n    ], UserComponentFactory.prototype, \"context\", void 0);\n    __decorate$l([\n        Autowired(\"agComponentUtils\")\n    ], UserComponentFactory.prototype, \"agComponentUtils\", void 0);\n    __decorate$l([\n        Autowired(\"componentMetadataProvider\")\n    ], UserComponentFactory.prototype, \"componentMetadataProvider\", void 0);\n    __decorate$l([\n        Autowired(\"userComponentRegistry\")\n    ], UserComponentFactory.prototype, \"userComponentRegistry\", void 0);\n    __decorate$l([\n        Optional(\"frameworkComponentWrapper\")\n    ], UserComponentFactory.prototype, \"frameworkComponentWrapper\", void 0);\n    UserComponentFactory = __decorate$l([\n        Bean('userComponentFactory')\n    ], UserComponentFactory);\n    return UserComponentFactory;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$e = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$m = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar GroupCellRenderer = /** @class */ (function (_super) {\n    __extends$e(GroupCellRenderer, _super);\n    function GroupCellRenderer() {\n        return _super.call(this, GroupCellRenderer.TEMPLATE) || this;\n    }\n    GroupCellRenderer.prototype.init = function (params) {\n        this.params = params;\n        if (this.gridOptionsWrapper.isGroupIncludeTotalFooter()) {\n            this.assignBlankValueToGroupFooterCell(params);\n        }\n        var embeddedRowMismatch = this.isEmbeddedRowMismatch();\n        // This allows for empty strings to appear as groups since\n        // it will only return for null or undefined.\n        var nullValue = params.value == null;\n        var skipCell = false;\n        // if the groupCellRenderer is inside of a footer and groupHideOpenParents is true\n        // we should only display the groupCellRenderer if the current column is the rowGroupedColumn\n        if (this.gridOptionsWrapper.isGroupIncludeFooter() && this.gridOptionsWrapper.isGroupHideOpenParents()) {\n            var node = params.node;\n            if (node.footer) {\n                var showRowGroup = params.colDef && params.colDef.showRowGroup;\n                var rowGroupColumnId = node.rowGroupColumn && node.rowGroupColumn.getColId();\n                skipCell = showRowGroup !== rowGroupColumnId;\n            }\n        }\n        this.cellIsBlank = embeddedRowMismatch || nullValue || skipCell;\n        if (this.cellIsBlank) {\n            return;\n        }\n        this.setupDragOpenParents();\n        this.addExpandAndContract();\n        this.addCheckboxIfNeeded();\n        this.addValueElement();\n        this.setupIndent();\n    };\n    GroupCellRenderer.prototype.assignBlankValueToGroupFooterCell = function (params) {\n        // this is not ideal, but it was the only way we could get footer working for the root node\n        if (!params.value && params.node.level == -1) {\n            params.value = '';\n        }\n    };\n    // if we are doing embedded full width rows, we only show the renderer when\n    // in the body, or if pinning in the pinned section, or if pinning and RTL,\n    // in the right section. otherwise we would have the cell repeated in each section.\n    GroupCellRenderer.prototype.isEmbeddedRowMismatch = function () {\n        if (!this.params.fullWidth || !this.gridOptionsWrapper.isEmbedFullWidthRows()) {\n            return false;\n        }\n        var pinnedLeftCell = this.params.pinned === Constants.PINNED_LEFT;\n        var pinnedRightCell = this.params.pinned === Constants.PINNED_RIGHT;\n        var bodyCell = !pinnedLeftCell && !pinnedRightCell;\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            if (this.columnController.isPinningLeft()) {\n                return !pinnedRightCell;\n            }\n            return !bodyCell;\n        }\n        if (this.columnController.isPinningLeft()) {\n            return !pinnedLeftCell;\n        }\n        return !bodyCell;\n    };\n    GroupCellRenderer.prototype.setIndent = function () {\n        if (this.gridOptionsWrapper.isGroupHideOpenParents()) {\n            return;\n        }\n        var params = this.params;\n        var rowNode = params.node;\n        var paddingCount = rowNode.uiLevel;\n        var userProvidedPaddingPixelsTheDeprecatedWay = params.padding >= 0;\n        if (userProvidedPaddingPixelsTheDeprecatedWay) {\n            this.setPaddingDeprecatedWay(paddingCount, params.padding);\n            return;\n        }\n        if (this.indentClass) {\n            this.removeCssClass(this.indentClass);\n        }\n        this.indentClass = 'ag-row-group-indent-' + paddingCount;\n        this.addCssClass(this.indentClass);\n    };\n    GroupCellRenderer.prototype.setPaddingDeprecatedWay = function (paddingCount, padding) {\n        _.doOnce(function () { return console.warn('ag-Grid: since v14.2, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the ag-Grid documentation page for Themes, in particular the property $row-group-indent-size.'); }, 'groupCellRenderer->doDeprecatedWay');\n        var paddingPx = paddingCount * padding;\n        var eGui = this.getGui();\n        var paddingSide = this.gridOptionsWrapper.isEnableRtl() ? 'paddingRight' : 'paddingLeft';\n        eGui.style[paddingSide] = paddingPx + \"px\";\n    };\n    GroupCellRenderer.prototype.setupIndent = function () {\n        // only do this if an indent - as this overwrites the padding that\n        // the theme set, which will make things look 'not aligned' for the\n        // first group level.\n        var node = this.params.node;\n        var suppressPadding = this.params.suppressPadding;\n        if (!suppressPadding) {\n            this.addDestroyableEventListener(node, RowNode.EVENT_UI_LEVEL_CHANGED, this.setIndent.bind(this));\n            this.setIndent();\n        }\n    };\n    GroupCellRenderer.prototype.addValueElement = function () {\n        var params = this.params;\n        var rowNode = this.displayedGroup;\n        if (rowNode.footer) {\n            this.createFooterCell();\n        }\n        else if (rowNode.hasChildren() ||\n            _.get(params.colDef, 'cellRendererParams.innerRenderer', null) ||\n            _.get(params.colDef, 'cellRendererParams.innerRendererFramework', null)) {\n            this.createGroupCell();\n            if (rowNode.hasChildren()) {\n                this.addChildCount();\n            }\n        }\n        else {\n            this.createLeafCell();\n        }\n    };\n    GroupCellRenderer.prototype.createFooterCell = function () {\n        var footerValueGetter = this.params.footerValueGetter;\n        var footerValue;\n        if (footerValueGetter) {\n            // params is same as we were given, except we set the value as the item to display\n            var paramsClone = _.cloneObject(this.params);\n            paramsClone.value = this.params.value;\n            if (typeof footerValueGetter === 'function') {\n                footerValue = footerValueGetter(paramsClone);\n            }\n            else if (typeof footerValueGetter === 'string') {\n                footerValue = this.expressionService.evaluate(footerValueGetter, paramsClone);\n            }\n            else {\n                console.warn('ag-Grid: footerValueGetter should be either a function or a string (expression)');\n            }\n        }\n        else {\n            footerValue = 'Total ' + this.params.value;\n        }\n        this.eValue.innerHTML = footerValue;\n    };\n    GroupCellRenderer.prototype.createGroupCell = function () {\n        var _this = this;\n        var params = this.params;\n        var rowGroupColumn = this.displayedGroup.rowGroupColumn;\n        // we try and use the cellRenderer of the column used for the grouping if we can\n        var columnToUse = rowGroupColumn ? rowGroupColumn : params.column;\n        var groupName = this.params.value;\n        var valueFormatted = columnToUse ?\n            this.valueFormatterService.formatValue(columnToUse, params.node, params.scope, groupName) : null;\n        params.valueFormatted = valueFormatted;\n        var rendererPromise;\n        rendererPromise = params.fullWidth\n            ? this.useFullWidth(params)\n            : this.useInnerRenderer(this.params.colDef.cellRendererParams, columnToUse.getColDef(), params);\n        // retain a reference to the created renderer - we'll use this later for cleanup (in destroy)\n        if (rendererPromise) {\n            rendererPromise.then(function (value) {\n                _this.innerCellRenderer = value;\n            });\n        }\n    };\n    GroupCellRenderer.prototype.useInnerRenderer = function (groupCellRendererParams, groupedColumnDef, // the column this group row is for, eg 'Country'\n    params) {\n        var _this = this;\n        // when grouping, the normal case is we use the cell renderer of the grouped column. eg if grouping by country\n        // and then rating, we will use the country cell renderer for each country group row and likewise the rating\n        // cell renderer for each rating group row.\n        //\n        // however if the user has innerCellRenderer defined, this gets preference and we don't use cell renderers\n        // of the grouped columns.\n        //\n        // so we check and use in the following order:\n        //\n        // 1) thisColDef.cellRendererParams.innerRenderer of the column showing the groups (eg auto group column)\n        // 2) groupedColDef.cellRenderer of the grouped column\n        // 3) groupedColDef.cellRendererParams.innerRenderer\n        var cellRendererPromise = null;\n        // we check if cell renderer provided for the group cell renderer, eg colDef.cellRendererParams.innerRenderer\n        var groupInnerRendererClass = this.userComponentFactory\n            .lookupComponentClassDef(groupCellRendererParams, \"innerRenderer\");\n        if (groupInnerRendererClass && groupInnerRendererClass.component != null\n            && groupInnerRendererClass.source != ComponentSource.DEFAULT) {\n            // use the renderer defined in cellRendererParams.innerRenderer\n            cellRendererPromise = this.userComponentFactory.newInnerCellRenderer(groupCellRendererParams, params);\n        }\n        else {\n            // otherwise see if we can use the cellRenderer of the column we are grouping by\n            var groupColumnRendererClass = this.userComponentFactory\n                .lookupComponentClassDef(groupedColumnDef, \"cellRenderer\");\n            if (groupColumnRendererClass &&\n                groupColumnRendererClass.source != ComponentSource.DEFAULT) {\n                // Only if the original column is using a specific renderer, it it is a using a DEFAULT one ignore it\n                cellRendererPromise = this.userComponentFactory.newCellRenderer(groupedColumnDef, params);\n            }\n            else if (groupColumnRendererClass &&\n                groupColumnRendererClass.source == ComponentSource.DEFAULT &&\n                (_.get(groupedColumnDef, 'cellRendererParams.innerRenderer', null))) {\n                // EDGE CASE - THIS COMES FROM A COLUMN WHICH HAS BEEN GROUPED DYNAMICALLY, THAT HAS AS RENDERER 'group'\n                // AND HAS A INNER CELL RENDERER\n                cellRendererPromise = this.userComponentFactory.newInnerCellRenderer(groupedColumnDef.cellRendererParams, params);\n            }\n            else {\n                // This forces the retrieval of the default plain cellRenderer that just renders the values.\n                cellRendererPromise = this.userComponentFactory.newCellRenderer({}, params);\n            }\n        }\n        if (cellRendererPromise != null) {\n            cellRendererPromise.then(function (rendererToUse) {\n                if (rendererToUse == null) {\n                    _this.eValue.innerText = params.valueFormatted != null ? params.valueFormatted : params.value;\n                    return;\n                }\n                _.bindCellRendererToHtmlElement(cellRendererPromise, _this.eValue);\n            });\n        }\n        else {\n            this.eValue.innerText = params.valueFormatted != null ? params.valueFormatted : params.value;\n        }\n        return cellRendererPromise;\n    };\n    GroupCellRenderer.prototype.useFullWidth = function (params) {\n        var cellRendererPromise = this.userComponentFactory.newFullWidthGroupRowInnerCellRenderer(params);\n        if (cellRendererPromise != null) {\n            _.bindCellRendererToHtmlElement(cellRendererPromise, this.eValue);\n        }\n        else {\n            this.eValue.innerText = params.valueFormatted != null ? params.valueFormatted : params.value;\n        }\n        return cellRendererPromise;\n    };\n    GroupCellRenderer.prototype.addChildCount = function () {\n        // only include the child count if it's included, eg if user doing custom aggregation,\n        // then this could be left out, or set to -1, ie no child count\n        if (this.params.suppressCount) {\n            return;\n        }\n        this.addDestroyableEventListener(this.displayedGroup, RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED, this.updateChildCount.bind(this));\n        // filtering changes the child count, so need to cater for it\n        this.updateChildCount();\n    };\n    GroupCellRenderer.prototype.updateChildCount = function () {\n        var allChildrenCount = this.displayedGroup.allChildrenCount;\n        this.eChildCount.innerHTML = allChildrenCount >= 0 ? \"(\" + allChildrenCount + \")\" : \"\";\n    };\n    GroupCellRenderer.prototype.createLeafCell = function () {\n        if (_.exists(this.params.value)) {\n            this.eValue.innerText = this.params.valueFormatted ? this.params.valueFormatted : this.params.value;\n        }\n    };\n    GroupCellRenderer.prototype.isUserWantsSelected = function () {\n        var paramsCheckbox = this.params.checkbox;\n        if (typeof paramsCheckbox === 'function') {\n            return paramsCheckbox(this.params);\n        }\n        return paramsCheckbox === true;\n    };\n    GroupCellRenderer.prototype.addCheckboxIfNeeded = function () {\n        var rowNode = this.displayedGroup;\n        var checkboxNeeded = this.isUserWantsSelected() &&\n            // footers cannot be selected\n            !rowNode.footer &&\n            // pinned rows cannot be selected\n            !rowNode.rowPinned &&\n            // details cannot be selected\n            !rowNode.detail;\n        if (checkboxNeeded) {\n            var cbSelectionComponent_1 = new CheckboxSelectionComponent();\n            this.getContext().wireBean(cbSelectionComponent_1);\n            cbSelectionComponent_1.init({ rowNode: rowNode, column: this.params.column });\n            this.eCheckbox.appendChild(cbSelectionComponent_1.getGui());\n            this.addDestroyFunc(function () { return cbSelectionComponent_1.destroy(); });\n        }\n        _.addOrRemoveCssClass(this.eCheckbox, 'ag-invisible', !checkboxNeeded);\n    };\n    GroupCellRenderer.prototype.addExpandAndContract = function () {\n        var params = this.params;\n        var eGroupCell = params.eGridCell;\n        var eExpandedIcon = _.createIconNoSpan('groupExpanded', this.gridOptionsWrapper, null);\n        var eContractedIcon = _.createIconNoSpan('groupContracted', this.gridOptionsWrapper, null);\n        this.eExpanded.appendChild(eExpandedIcon);\n        this.eContracted.appendChild(eContractedIcon);\n        this.addDestroyableEventListener(this.eExpanded, 'click', this.onExpandClicked.bind(this));\n        this.addDestroyableEventListener(this.eContracted, 'click', this.onExpandClicked.bind(this));\n        // expand / contract as the user hits enter\n        this.addDestroyableEventListener(eGroupCell, 'keydown', this.onKeyDown.bind(this));\n        this.addDestroyableEventListener(params.node, RowNode.EVENT_EXPANDED_CHANGED, this.showExpandAndContractIcons.bind(this));\n        this.showExpandAndContractIcons();\n        // because we don't show the expand / contract when there are no children, we need to check every time\n        // the number of children change.\n        this.addDestroyableEventListener(this.displayedGroup, RowNode.EVENT_ALL_CHILDREN_COUNT_CHANGED, this.onAllChildrenCountChanged.bind(this));\n        // if editing groups, then double click is to start editing\n        if (!this.gridOptionsWrapper.isEnableGroupEdit() && this.isExpandable() && !params.suppressDoubleClickExpand) {\n            this.addDestroyableEventListener(eGroupCell, 'dblclick', this.onCellDblClicked.bind(this));\n        }\n    };\n    GroupCellRenderer.prototype.onAllChildrenCountChanged = function () {\n        // maybe if no children now, we should hide the expand / contract icons\n        this.showExpandAndContractIcons();\n        // if we have no children, this impacts the indent\n        this.setIndent();\n    };\n    GroupCellRenderer.prototype.onKeyDown = function (event) {\n        var enterKeyPressed = _.isKeyPressed(event, Constants.KEY_ENTER);\n        if (!enterKeyPressed || this.params.suppressEnterExpand) {\n            return;\n        }\n        var cellEditable = this.params.column && this.params.column.isCellEditable(this.params.node);\n        if (cellEditable) {\n            return;\n        }\n        event.preventDefault();\n        this.onExpandOrContract();\n    };\n    GroupCellRenderer.prototype.setupDragOpenParents = function () {\n        var column = this.params.column;\n        var rowNode = this.params.node;\n        if (!this.gridOptionsWrapper.isGroupHideOpenParents()) {\n            this.draggedFromHideOpenParents = false;\n        }\n        else if (!rowNode.hasChildren()) {\n            // if we are here, and we are not a group, then we must of been dragged down,\n            // as otherwise the cell would be blank, and if cell is blank, this method is never called.\n            this.draggedFromHideOpenParents = true;\n        }\n        else {\n            var rowGroupColumn = rowNode.rowGroupColumn;\n            if (rowGroupColumn) {\n                // if the displayGroup column for this col matches the rowGroupColumn we grouped by for this node,\n                // then nothing was dragged down\n                this.draggedFromHideOpenParents = !column.isRowGroupDisplayed(rowGroupColumn.getId());\n            }\n            else {\n                // the only way we can end up here (no column, but a group) is if we are at the root node,\n                // which only happens when 'groupIncludeTotalFooter' is true. here, we are never dragging\n                this.draggedFromHideOpenParents = false;\n            }\n        }\n        if (this.draggedFromHideOpenParents) {\n            var pointer = rowNode.parent;\n            while (true) {\n                if (_.missing(pointer)) {\n                    break;\n                }\n                if (pointer.rowGroupColumn && column.isRowGroupDisplayed(pointer.rowGroupColumn.getId())) {\n                    this.displayedGroup = pointer;\n                    break;\n                }\n                pointer = pointer.parent;\n            }\n        }\n        // if we didn't find a displayed group, set it to the row node\n        if (_.missing(this.displayedGroup)) {\n            this.displayedGroup = rowNode;\n        }\n    };\n    GroupCellRenderer.prototype.onExpandClicked = function (mouseEvent) {\n        if (_.isStopPropagationForAgGrid(mouseEvent)) {\n            return;\n        }\n        // so if we expand a node, it does not also get selected.\n        _.stopPropagationForAgGrid(mouseEvent);\n        this.onExpandOrContract();\n    };\n    GroupCellRenderer.prototype.onCellDblClicked = function (mouseEvent) {\n        if (_.isStopPropagationForAgGrid(mouseEvent)) {\n            return;\n        }\n        // we want to avoid acting on double click events on the expand / contract icon,\n        // as that icons already has expand / collapse functionality on it. otherwise if\n        // the icon was double clicked, we would get 'click', 'click', 'dblclick' which\n        // is open->close->open, however double click should be open->close only.\n        var targetIsExpandIcon = _.isElementInEventPath(this.eExpanded, mouseEvent)\n            || _.isElementInEventPath(this.eContracted, mouseEvent);\n        if (!targetIsExpandIcon) {\n            this.onExpandOrContract();\n        }\n    };\n    GroupCellRenderer.prototype.onExpandOrContract = function () {\n        // must use the displayedGroup, so if data was dragged down, we expand the parent, not this row\n        var rowNode = this.displayedGroup;\n        rowNode.setExpanded(!rowNode.expanded);\n    };\n    GroupCellRenderer.prototype.isExpandable = function () {\n        var rowNode = this.params.node;\n        var reducedLeafNode = this.columnController.isPivotMode() && rowNode.leafGroup;\n        return this.draggedFromHideOpenParents ||\n            (rowNode.isExpandable() && !rowNode.footer && !reducedLeafNode);\n    };\n    GroupCellRenderer.prototype.showExpandAndContractIcons = function () {\n        var rowNode = this.params.node;\n        if (this.isExpandable()) {\n            // if expandable, show one based on expand state.\n            // if we were dragged down, means our parent is always expanded\n            var expanded = this.draggedFromHideOpenParents ? true : rowNode.expanded;\n            _.setDisplayed(this.eContracted, !expanded);\n            _.setDisplayed(this.eExpanded, expanded);\n        }\n        else {\n            // it not expandable, show neither\n            _.setDisplayed(this.eExpanded, false);\n            _.setDisplayed(this.eContracted, false);\n        }\n        var displayedGroup = this.displayedGroup;\n        // compensation padding for leaf nodes, so there is blank space instead of the expand icon\n        var pivotModeAndLeafGroup = this.columnController.isPivotMode() && displayedGroup.leafGroup;\n        var notExpandable = !displayedGroup.isExpandable();\n        var addLeafIndentClass = displayedGroup.footer || notExpandable || pivotModeAndLeafGroup;\n        this.addOrRemoveCssClass('ag-row-group', !addLeafIndentClass);\n        this.addOrRemoveCssClass('ag-row-group-leaf-indent', addLeafIndentClass);\n    };\n    GroupCellRenderer.prototype.destroy = function () {\n        if (this.innerCellRenderer && this.innerCellRenderer.destroy) {\n            this.innerCellRenderer.destroy();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    GroupCellRenderer.prototype.refresh = function () {\n        return false;\n    };\n    GroupCellRenderer.TEMPLATE = '<span class=\"ag-cell-wrapper\">' +\n        '<span class=\"ag-group-expanded\" ref=\"eExpanded\"></span>' +\n        '<span class=\"ag-group-contracted\" ref=\"eContracted\"></span>' +\n        '<span class=\"ag-group-checkbox ag-invisible\" ref=\"eCheckbox\"></span>' +\n        '<span class=\"ag-group-value\" ref=\"eValue\"></span>' +\n        '<span class=\"ag-group-child-count\" ref=\"eChildCount\"></span>' +\n        '</span>';\n    __decorate$m([\n        Autowired('gridOptionsWrapper')\n    ], GroupCellRenderer.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$m([\n        Autowired('expressionService')\n    ], GroupCellRenderer.prototype, \"expressionService\", void 0);\n    __decorate$m([\n        Autowired('valueFormatterService')\n    ], GroupCellRenderer.prototype, \"valueFormatterService\", void 0);\n    __decorate$m([\n        Autowired('columnController')\n    ], GroupCellRenderer.prototype, \"columnController\", void 0);\n    __decorate$m([\n        Autowired('userComponentFactory')\n    ], GroupCellRenderer.prototype, \"userComponentFactory\", void 0);\n    __decorate$m([\n        RefSelector('eExpanded')\n    ], GroupCellRenderer.prototype, \"eExpanded\", void 0);\n    __decorate$m([\n        RefSelector('eContracted')\n    ], GroupCellRenderer.prototype, \"eContracted\", void 0);\n    __decorate$m([\n        RefSelector('eCheckbox')\n    ], GroupCellRenderer.prototype, \"eCheckbox\", void 0);\n    __decorate$m([\n        RefSelector('eValue')\n    ], GroupCellRenderer.prototype, \"eValue\", void 0);\n    __decorate$m([\n        RefSelector('eChildCount')\n    ], GroupCellRenderer.prototype, \"eChildCount\", void 0);\n    return GroupCellRenderer;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$f = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$n = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ARROW_UP = '\\u2191';\nvar ARROW_DOWN = '\\u2193';\nvar AnimateShowChangeCellRenderer = /** @class */ (function (_super) {\n    __extends$f(AnimateShowChangeCellRenderer, _super);\n    function AnimateShowChangeCellRenderer() {\n        var _this = _super.call(this, AnimateShowChangeCellRenderer.TEMPLATE) || this;\n        _this.refreshCount = 0;\n        return _this;\n    }\n    AnimateShowChangeCellRenderer.prototype.init = function (params) {\n        // this.params = params;\n        this.eValue = this.queryForHtmlElement('.ag-value-change-value');\n        this.eDelta = this.queryForHtmlElement('.ag-value-change-delta');\n        this.refresh(params);\n    };\n    AnimateShowChangeCellRenderer.prototype.showDelta = function (params, delta) {\n        var absDelta = Math.abs(delta);\n        var valueFormatted = params.formatValue(absDelta);\n        var valueToUse = _.exists(valueFormatted) ? valueFormatted : absDelta;\n        var deltaUp = (delta >= 0);\n        if (deltaUp) {\n            this.eDelta.innerHTML = ARROW_UP + valueToUse;\n        }\n        else {\n            // because negative, use ABS to remove sign\n            this.eDelta.innerHTML = ARROW_DOWN + valueToUse;\n        }\n        _.addOrRemoveCssClass(this.eDelta, 'ag-value-change-delta-up', deltaUp);\n        _.addOrRemoveCssClass(this.eDelta, 'ag-value-change-delta-down', !deltaUp);\n    };\n    AnimateShowChangeCellRenderer.prototype.setTimerToRemoveDelta = function () {\n        var _this = this;\n        // the refreshCount makes sure that if the value updates again while\n        // the below timer is waiting, then the below timer will realise it\n        // is not the most recent and will not try to remove the delta value.\n        this.refreshCount++;\n        var refreshCountCopy = this.refreshCount;\n        window.setTimeout(function () {\n            if (refreshCountCopy === _this.refreshCount) {\n                _this.hideDeltaValue();\n            }\n        }, 2000);\n    };\n    AnimateShowChangeCellRenderer.prototype.hideDeltaValue = function () {\n        _.removeCssClass(this.eValue, 'ag-value-change-value-highlight');\n        _.clearElement(this.eDelta);\n    };\n    AnimateShowChangeCellRenderer.prototype.refresh = function (params) {\n        var value = params.value;\n        if (value === this.lastValue) {\n            return;\n        }\n        if (_.exists(params.valueFormatted)) {\n            this.eValue.innerHTML = params.valueFormatted;\n        }\n        else if (_.exists(params.value)) {\n            this.eValue.innerHTML = value;\n        }\n        else {\n            _.clearElement(this.eValue);\n        }\n        // we don't show the delta if we are in the middle of a filter. see comment on FilterManager\n        // with regards processingFilterChange\n        if (this.filterManager.isSuppressFlashingCellsBecauseFiltering()) {\n            return;\n        }\n        if (typeof value === 'number' && typeof this.lastValue === 'number') {\n            var delta = value - this.lastValue;\n            this.showDelta(params, delta);\n        }\n        // highlight the current value, but only if it's not new, otherwise it\n        // would get highlighted first time the value is shown\n        if (this.lastValue) {\n            _.addCssClass(this.eValue, 'ag-value-change-value-highlight');\n        }\n        this.setTimerToRemoveDelta();\n        this.lastValue = value;\n        return true;\n    };\n    AnimateShowChangeCellRenderer.TEMPLATE = '<span>' +\n        '<span class=\"ag-value-change-delta\"></span>' +\n        '<span class=\"ag-value-change-value\"></span>' +\n        '</span>';\n    __decorate$n([\n        Autowired('filterManager')\n    ], AnimateShowChangeCellRenderer.prototype, \"filterManager\", void 0);\n    return AnimateShowChangeCellRenderer;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$g = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$o = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AnimateSlideCellRenderer = /** @class */ (function (_super) {\n    __extends$g(AnimateSlideCellRenderer, _super);\n    function AnimateSlideCellRenderer() {\n        var _this = _super.call(this, AnimateSlideCellRenderer.TEMPLATE) || this;\n        _this.refreshCount = 0;\n        _this.eCurrent = _this.queryForHtmlElement('.ag-value-slide-current');\n        return _this;\n    }\n    AnimateSlideCellRenderer.prototype.init = function (params) {\n        this.params = params;\n        this.refresh(params);\n    };\n    AnimateSlideCellRenderer.prototype.addSlideAnimation = function () {\n        var _this = this;\n        this.refreshCount++;\n        // below we keep checking this, and stop working on the animation\n        // if it no longer matches - this means another animation has started\n        // and this one is stale.\n        var refreshCountCopy = this.refreshCount;\n        // if old animation, remove it\n        if (this.ePrevious) {\n            this.getGui().removeChild(this.ePrevious);\n        }\n        this.ePrevious = _.loadTemplate('<span class=\"ag-value-slide-previous ag-value-slide-out\"></span>');\n        this.ePrevious.innerHTML = this.eCurrent.innerHTML;\n        this.getGui().insertBefore(this.ePrevious, this.eCurrent);\n        // having timeout of 0 allows use to skip to the next css turn,\n        // so we know the previous css classes have been applied. so the\n        // complex set of setTimeout below creates the animation\n        window.setTimeout(function () {\n            if (refreshCountCopy !== _this.refreshCount) {\n                return;\n            }\n            _.addCssClass(_this.ePrevious, 'ag-value-slide-out-end');\n        }, 50);\n        window.setTimeout(function () {\n            if (refreshCountCopy !== _this.refreshCount) {\n                return;\n            }\n            _this.getGui().removeChild(_this.ePrevious);\n            _this.ePrevious = null;\n        }, 3000);\n    };\n    AnimateSlideCellRenderer.prototype.refresh = function (params) {\n        var value = params.value;\n        if (_.missing(value)) {\n            value = '';\n        }\n        if (value === this.lastValue) {\n            return;\n        }\n        // we don't show the delta if we are in the middle of a filter. see comment on FilterManager\n        // with regards processingFilterChange\n        if (this.filterManager.isSuppressFlashingCellsBecauseFiltering()) {\n            return;\n        }\n        this.addSlideAnimation();\n        this.lastValue = value;\n        if (_.exists(params.valueFormatted)) {\n            this.eCurrent.innerHTML = params.valueFormatted;\n        }\n        else if (_.exists(params.value)) {\n            this.eCurrent.innerHTML = value;\n        }\n        else {\n            _.clearElement(this.eCurrent);\n        }\n        return true;\n    };\n    AnimateSlideCellRenderer.TEMPLATE = '<span>' +\n        '<span class=\"ag-value-slide-current\"></span>' +\n        '</span>';\n    __decorate$o([\n        Autowired('filterManager')\n    ], AnimateSlideCellRenderer.prototype, \"filterManager\", void 0);\n    return AnimateSlideCellRenderer;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$h = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$p = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar LoadingCellRenderer = /** @class */ (function (_super) {\n    __extends$h(LoadingCellRenderer, _super);\n    function LoadingCellRenderer() {\n        return _super.call(this, LoadingCellRenderer.TEMPLATE) || this;\n    }\n    LoadingCellRenderer.prototype.init = function (params) {\n        var eLoadingIcon = _.createIconNoSpan('groupLoading', this.gridOptionsWrapper, null);\n        this.eLoadingIcon.appendChild(eLoadingIcon);\n        var localeTextFunc = this.gridOptionsWrapper.getLocaleTextFunc();\n        this.eLoadingText.innerText = localeTextFunc('loadingOoo', 'Loading');\n    };\n    LoadingCellRenderer.prototype.refresh = function (params) {\n        return false;\n    };\n    LoadingCellRenderer.TEMPLATE = \"<div class=\\\"ag-loading\\\">\\n            <span class=\\\"ag-loading-icon\\\" ref=\\\"eLoadingIcon\\\"></span>\\n            <span class=\\\"ag-loading-text\\\" ref=\\\"eLoadingText\\\"></span>\\n        </div>\";\n    __decorate$p([\n        Autowired('gridOptionsWrapper')\n    ], LoadingCellRenderer.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$p([\n        RefSelector('eLoadingIcon')\n    ], LoadingCellRenderer.prototype, \"eLoadingIcon\", void 0);\n    __decorate$p([\n        RefSelector('eLoadingText')\n    ], LoadingCellRenderer.prototype, \"eLoadingText\", void 0);\n    return LoadingCellRenderer;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$i = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$q = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar SelectCellEditor = /** @class */ (function (_super) {\n    __extends$i(SelectCellEditor, _super);\n    function SelectCellEditor() {\n        return _super.call(this, '<div class=\"ag-cell-edit-wrapper\"><ag-select class=\"ag-cell-editor\" ref=\"eSelect\"></ag-select></div>') || this;\n    }\n    SelectCellEditor.prototype.init = function (params) {\n        var _this = this;\n        this.focusAfterAttached = params.cellStartedEdit;\n        if (_.missing(params.values)) {\n            console.warn('ag-Grid: no values found for select cellEditor');\n            return;\n        }\n        params.values.forEach(function (value) {\n            var option = { value: value };\n            var valueFormatted = _this.valueFormatterService.formatValue(params.column, null, null, value);\n            var valueFormattedExits = valueFormatted !== null && valueFormatted !== undefined;\n            option.text = valueFormattedExits ? valueFormatted : value;\n            _this.eSelect.addOption(option);\n        });\n        this.eSelect.setValue(params.value, true);\n        // we don't want to add this if full row editing, otherwise selecting will stop the\n        // full row editing.\n        if (!this.gridOptionsWrapper.isFullRowEdit()) {\n            this.eSelect.onValueChange(function () { return params.stopEditing(); });\n        }\n    };\n    SelectCellEditor.prototype.afterGuiAttached = function () {\n        if (this.focusAfterAttached) {\n            this.eSelect.getFocusableElement().focus();\n        }\n    };\n    SelectCellEditor.prototype.focusIn = function () {\n        this.eSelect.getFocusableElement().focus();\n    };\n    SelectCellEditor.prototype.getValue = function () {\n        return this.eSelect.getValue();\n    };\n    SelectCellEditor.prototype.isPopup = function () {\n        return false;\n    };\n    __decorate$q([\n        Autowired('gridOptionsWrapper')\n    ], SelectCellEditor.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$q([\n        Autowired('valueFormatterService')\n    ], SelectCellEditor.prototype, \"valueFormatterService\", void 0);\n    __decorate$q([\n        RefSelector('eSelect')\n    ], SelectCellEditor.prototype, \"eSelect\", void 0);\n    return SelectCellEditor;\n}(PopupComponent));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$j = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar PopupTextCellEditor = /** @class */ (function (_super) {\n    __extends$j(PopupTextCellEditor, _super);\n    function PopupTextCellEditor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PopupTextCellEditor.prototype.isPopup = function () {\n        return true;\n    };\n    return PopupTextCellEditor;\n}(TextCellEditor));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$k = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar PopupSelectCellEditor = /** @class */ (function (_super) {\n    __extends$k(PopupSelectCellEditor, _super);\n    function PopupSelectCellEditor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PopupSelectCellEditor.prototype.isPopup = function () {\n        return true;\n    };\n    return PopupSelectCellEditor;\n}(SelectCellEditor));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$l = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$r = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar LargeTextCellEditor = /** @class */ (function (_super) {\n    __extends$l(LargeTextCellEditor, _super);\n    function LargeTextCellEditor() {\n        return _super.call(this, LargeTextCellEditor.TEMPLATE) || this;\n    }\n    LargeTextCellEditor.prototype.init = function (params) {\n        this.params = params;\n        this.focusAfterAttached = params.cellStartedEdit;\n        this.eTextArea\n            .setMaxLength(params.maxLength || 200)\n            .setCols(params.cols || 60)\n            .setRows(params.rows || 10);\n        if (_.exists(params.value)) {\n            this.eTextArea.setValue(params.value.toString(), true);\n        }\n        this.addGuiEventListener('keydown', this.onKeyDown.bind(this));\n    };\n    LargeTextCellEditor.prototype.onKeyDown = function (event) {\n        var key = event.which || event.keyCode;\n        if (key == Constants.KEY_LEFT ||\n            key == Constants.KEY_UP ||\n            key == Constants.KEY_RIGHT ||\n            key == Constants.KEY_DOWN ||\n            (event.shiftKey && key == Constants.KEY_ENTER)) { // shift+enter allows for newlines\n            event.stopPropagation();\n        }\n    };\n    LargeTextCellEditor.prototype.afterGuiAttached = function () {\n        if (this.focusAfterAttached) {\n            this.eTextArea.getFocusableElement().focus();\n        }\n    };\n    LargeTextCellEditor.prototype.getValue = function () {\n        return this.params.parseValue(this.eTextArea.getValue());\n    };\n    LargeTextCellEditor.TEMPLATE = \"<div class=\\\"ag-large-text\\\" tabindex=\\\"0\\\">\\n            <ag-input-text-area ref=\\\"eTextArea\\\" class=\\\"ag-large-text-input\\\"></ag-input-text-area>\\n        </div>\";\n    __decorate$r([\n        RefSelector(\"eTextArea\")\n    ], LargeTextCellEditor.prototype, \"eTextArea\", void 0);\n    return LargeTextCellEditor;\n}(PopupComponent));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$m = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$s = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar NumberFilter = /** @class */ (function (_super) {\n    __extends$m(NumberFilter, _super);\n    function NumberFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NumberFilter.prototype.mapRangeFromModel = function (filterModel) {\n        return {\n            from: filterModel.filter,\n            to: filterModel.filterTo\n        };\n    };\n    NumberFilter.prototype.getDefaultDebounceMs = function () {\n        return 500;\n    };\n    NumberFilter.prototype.resetUiToDefaults = function (silent) {\n        _super.prototype.resetUiToDefaults.call(this, silent);\n        var fields = [this.eValueFrom1, this.eValueFrom2, this.eValueTo1, this.eValueTo2];\n        fields.forEach(function (field) { return field.setValue(null, silent); });\n        this.resetPlaceholder();\n    };\n    NumberFilter.prototype.setConditionIntoUi = function (model, position) {\n        var positionOne = position === ConditionPosition.One;\n        var eValueFrom = positionOne ? this.eValueFrom1 : this.eValueFrom2;\n        var eValueTo = positionOne ? this.eValueTo1 : this.eValueTo2;\n        eValueFrom.setValue(model ? ('' + model.filter) : null);\n        eValueTo.setValue(model ? ('' + model.filterTo) : null);\n    };\n    NumberFilter.prototype.setValueFromFloatingFilter = function (value) {\n        this.eValueFrom1.setValue(value);\n        this.eValueFrom2.setValue(null);\n        this.eValueTo1.setValue(null);\n        this.eValueTo2.setValue(null);\n    };\n    NumberFilter.prototype.comparator = function () {\n        return function (left, right) {\n            if (left === right) {\n                return 0;\n            }\n            if (left < right) {\n                return 1;\n            }\n            return -1;\n        };\n    };\n    NumberFilter.prototype.setParams = function (params) {\n        _super.prototype.setParams.call(this, params);\n        this.addValueChangedListeners();\n    };\n    NumberFilter.prototype.addValueChangedListeners = function () {\n        var _this = this;\n        var listener = function () { return _this.onUiChanged(); };\n        this.eValueFrom1.onValueChange(listener);\n        this.eValueFrom2.onValueChange(listener);\n        this.eValueTo1.onValueChange(listener);\n        this.eValueTo2.onValueChange(listener);\n    };\n    NumberFilter.prototype.resetPlaceholder = function () {\n        var translate = this.translate.bind(this);\n        var isRange1 = this.getCondition1Type() === ScalarFilter.IN_RANGE;\n        var isRange2 = this.getCondition2Type() === ScalarFilter.IN_RANGE;\n        this.eValueFrom1.setInputPlaceholder(translate(isRange1 ? 'inRangeStart' : 'filterOoo'));\n        this.eValueTo1.setInputPlaceholder(translate(isRange1 ? 'inRangeEnd' : 'filterOoo'));\n        this.eValueFrom2.setInputPlaceholder(translate(isRange2 ? 'inRangeStart' : 'filterOoo'));\n        this.eValueTo2.setInputPlaceholder(translate(isRange2 ? 'inRangeEnd' : 'filterOoo'));\n    };\n    NumberFilter.prototype.afterGuiAttached = function (params) {\n        _super.prototype.afterGuiAttached.call(this, params);\n        this.resetPlaceholder();\n        this.eValueFrom1.getInputElement().focus();\n    };\n    NumberFilter.prototype.getDefaultFilterOptions = function () {\n        return NumberFilter.DEFAULT_FILTER_OPTIONS;\n    };\n    NumberFilter.prototype.createValueTemplate = function (position) {\n        var positionOne = position === ConditionPosition.One;\n        var pos = positionOne ? '1' : '2';\n        return \"<div class=\\\"ag-filter-body\\\" ref=\\\"eCondition\" + pos + \"Body\\\" role=\\\"presentation\\\">\\n                    <ag-input-number-field class=\\\"ag-filter-from ag-filter-filter\\\" ref=\\\"eValueFrom\" + pos + \"\\\"></ag-input-number-field>\\n                    <ag-input-number-field class=\\\"ag-filter-to ag-filter-filter\\\" ref=\\\"eValueTo\" + pos + \"\\\"></ag-input-number-field>\\n                </div>\";\n    };\n    NumberFilter.prototype.isConditionUiComplete = function (position) {\n        var positionOne = position === ConditionPosition.One;\n        var option = positionOne ? this.getCondition1Type() : this.getCondition2Type();\n        var eValue = positionOne ? this.eValueFrom1 : this.eValueFrom2;\n        var eValueTo = positionOne ? this.eValueTo1 : this.eValueTo2;\n        var value = this.stringToFloat(eValue.getValue());\n        var valueTo = this.stringToFloat(eValueTo.getValue());\n        if (option === SimpleFilter.EMPTY) {\n            return false;\n        }\n        if (this.doesFilterHaveHiddenInput(option)) {\n            return true;\n        }\n        if (option === SimpleFilter.IN_RANGE) {\n            return value != null && valueTo != null;\n        }\n        return value != null;\n    };\n    NumberFilter.prototype.areSimpleModelsEqual = function (aSimple, bSimple) {\n        return aSimple.filter === bSimple.filter\n            && aSimple.filterTo === bSimple.filterTo\n            && aSimple.type === bSimple.type;\n    };\n    // needed for creating filter model\n    NumberFilter.prototype.getFilterType = function () {\n        return NumberFilter.FILTER_TYPE;\n    };\n    NumberFilter.prototype.stringToFloat = function (value) {\n        if (typeof value === \"number\") {\n            return value;\n        }\n        var filterText = _.makeNull(value);\n        if (filterText && filterText.trim() === '') {\n            filterText = null;\n        }\n        var newFilter;\n        if (filterText !== null && filterText !== undefined) {\n            newFilter = parseFloat(filterText);\n        }\n        else {\n            newFilter = null;\n        }\n        return newFilter;\n    };\n    NumberFilter.prototype.createCondition = function (position) {\n        var positionOne = position === ConditionPosition.One;\n        var type = positionOne ? this.getCondition1Type() : this.getCondition2Type();\n        var eValue = positionOne ? this.eValueFrom1 : this.eValueFrom2;\n        var value = this.stringToFloat(eValue.getValue());\n        var eValueTo = positionOne ? this.eValueTo1 : this.eValueTo2;\n        var valueTo = this.stringToFloat(eValueTo.getValue());\n        var model = {\n            filterType: NumberFilter.FILTER_TYPE,\n            type: type\n        };\n        if (!this.doesFilterHaveHiddenInput(type)) {\n            model.filter = value;\n            model.filterTo = valueTo; // FIX - should only populate this when filter choice has 'to' option\n        }\n        return model;\n    };\n    NumberFilter.prototype.updateUiVisibility = function () {\n        _super.prototype.updateUiVisibility.call(this);\n        this.resetPlaceholder();\n        var showFrom1 = this.showValueFrom(this.getCondition1Type());\n        _.setDisplayed(this.eValueFrom1.getGui(), showFrom1);\n        var showTo1 = this.showValueTo(this.getCondition1Type());\n        _.setDisplayed(this.eValueTo1.getGui(), showTo1);\n        var showFrom2 = this.showValueFrom(this.getCondition2Type());\n        _.setDisplayed(this.eValueFrom2.getGui(), showFrom2);\n        var showTo2 = this.showValueTo(this.getCondition2Type());\n        _.setDisplayed(this.eValueTo2.getGui(), showTo2);\n    };\n    NumberFilter.FILTER_TYPE = 'number';\n    NumberFilter.DEFAULT_FILTER_OPTIONS = [\n        ScalarFilter.EQUALS,\n        ScalarFilter.NOT_EQUAL,\n        ScalarFilter.LESS_THAN,\n        ScalarFilter.LESS_THAN_OR_EQUAL,\n        ScalarFilter.GREATER_THAN,\n        ScalarFilter.GREATER_THAN_OR_EQUAL,\n        ScalarFilter.IN_RANGE\n    ];\n    __decorate$s([\n        RefSelector('eValueFrom1')\n    ], NumberFilter.prototype, \"eValueFrom1\", void 0);\n    __decorate$s([\n        RefSelector('eValueFrom2')\n    ], NumberFilter.prototype, \"eValueFrom2\", void 0);\n    __decorate$s([\n        RefSelector('eValueTo1')\n    ], NumberFilter.prototype, \"eValueTo1\", void 0);\n    __decorate$s([\n        RefSelector('eValueTo2')\n    ], NumberFilter.prototype, \"eValueTo2\", void 0);\n    return NumberFilter;\n}(ScalarFilter));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$n = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$t = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar LoadingOverlayComponent$1 = /** @class */ (function (_super) {\n    __extends$n(LoadingOverlayComponent, _super);\n    function LoadingOverlayComponent() {\n        return _super.call(this) || this;\n    }\n    LoadingOverlayComponent.prototype.init = function (params) {\n        var template = this.gridOptionsWrapper.getOverlayLoadingTemplate() ?\n            this.gridOptionsWrapper.getOverlayLoadingTemplate() : LoadingOverlayComponent.DEFAULT_LOADING_OVERLAY_TEMPLATE;\n        var localeTextFunc = this.gridOptionsWrapper.getLocaleTextFunc();\n        var localisedTemplate = template.replace('[LOADING...]', localeTextFunc('loadingOoo', 'Loading...'));\n        this.setTemplate(localisedTemplate);\n    };\n    LoadingOverlayComponent.DEFAULT_LOADING_OVERLAY_TEMPLATE = '<span class=\"ag-overlay-loading-center\">[LOADING...]</span>';\n    __decorate$t([\n        Autowired('gridOptionsWrapper')\n    ], LoadingOverlayComponent.prototype, \"gridOptionsWrapper\", void 0);\n    return LoadingOverlayComponent;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$o = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$u = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar NoRowsOverlayComponent$1 = /** @class */ (function (_super) {\n    __extends$o(NoRowsOverlayComponent, _super);\n    function NoRowsOverlayComponent() {\n        return _super.call(this) || this;\n    }\n    NoRowsOverlayComponent.prototype.init = function (params) {\n        var template = this.gridOptionsWrapper.getOverlayNoRowsTemplate() ?\n            this.gridOptionsWrapper.getOverlayNoRowsTemplate() : NoRowsOverlayComponent.DEFAULT_NO_ROWS_TEMPLATE;\n        var localeTextFunc = this.gridOptionsWrapper.getLocaleTextFunc();\n        var localisedTemplate = template.replace('[NO_ROWS_TO_SHOW]', localeTextFunc('noRowsToShow', 'No Rows To Show'));\n        this.setTemplate(localisedTemplate);\n    };\n    NoRowsOverlayComponent.DEFAULT_NO_ROWS_TEMPLATE = '<span class=\"ag-overlay-no-rows-center\">[NO_ROWS_TO_SHOW]</span>';\n    __decorate$u([\n        Autowired('gridOptionsWrapper')\n    ], NoRowsOverlayComponent.prototype, \"gridOptionsWrapper\", void 0);\n    return NoRowsOverlayComponent;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$p = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar TooltipComponent$1 = /** @class */ (function (_super) {\n    __extends$p(TooltipComponent, _super);\n    function TooltipComponent() {\n        return _super.call(this, /* html */ \"<div class=\\\"ag-tooltip\\\"></div>\") || this;\n    }\n    // will need to type params\n    TooltipComponent.prototype.init = function (params) {\n        var value = params.value;\n        this.getGui().innerHTML = value;\n    };\n    return TooltipComponent;\n}(PopupComponent));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$q = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$v = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar DefaultDateComponent = /** @class */ (function (_super) {\n    __extends$q(DefaultDateComponent, _super);\n    function DefaultDateComponent() {\n        return _super.call(this, /* html */ \"\\n            <div class=\\\"ag-filter-filter\\\">\\n                <ag-input-text-field class=\\\"ag-date-filter\\\" ref=\\\"eDateInput\\\"></ag-input-text-field>\\n            </div>\") || this;\n    }\n    DefaultDateComponent.prototype.init = function (params) {\n        var _this = this;\n        if (this.shouldUseBrowserDatePicker(params)) {\n            if (_.isBrowserIE()) {\n                console.warn('ag-grid: browserDatePicker is specified to true, but it is not supported in IE 11, reverting to plain text date picker');\n            }\n            else {\n                this.eDateInput.getInputElement().type = 'date';\n            }\n        }\n        this.listener = params.onDateChanged;\n        this.addDestroyableEventListener(this.eDateInput.getInputElement(), 'input', function (e) {\n            if (e.target !== document.activeElement) {\n                return;\n            }\n            _this.listener();\n        });\n    };\n    DefaultDateComponent.prototype.getDate = function () {\n        return _.parseDateTimeFromString(this.eDateInput.getValue());\n    };\n    DefaultDateComponent.prototype.setDate = function (date) {\n        this.eDateInput.setValue(_.serialiseDate(date));\n    };\n    DefaultDateComponent.prototype.setInputPlaceholder = function (placeholder) {\n        this.eDateInput.setInputPlaceholder(placeholder);\n    };\n    DefaultDateComponent.prototype.shouldUseBrowserDatePicker = function (params) {\n        if (params.filterParams && params.filterParams.browserDatePicker != null) {\n            return params.filterParams.browserDatePicker;\n        }\n        else {\n            return _.isBrowserChrome() || _.isBrowserFirefox();\n        }\n    };\n    __decorate$v([\n        RefSelector('eDateInput')\n    ], DefaultDateComponent.prototype, \"eDateInput\", void 0);\n    return DefaultDateComponent;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$r = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar SimpleFloatingFilter = /** @class */ (function (_super) {\n    __extends$r(SimpleFloatingFilter, _super);\n    function SimpleFloatingFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SimpleFloatingFilter.prototype.getDefaultDebounceMs = function () {\n        return 0;\n    };\n    // used by:\n    // 1) NumberFloatingFilter & TextFloatingFilter: Always, for both when editable and read only.\n    // 2) DateFloatingFilter: Only when read only (as we show text rather than a date picker when read only)\n    SimpleFloatingFilter.prototype.getTextFromModel = function (model) {\n        if (!model) {\n            return null;\n        }\n        var isCombined = model.operator;\n        if (isCombined) {\n            var combinedModel = model;\n            var con1Str = this.conditionToString(combinedModel.condition1);\n            var con2Str = this.conditionToString(combinedModel.condition2);\n            return con1Str + \" \" + combinedModel.operator + \" \" + con2Str;\n        }\n        else {\n            var condition = model;\n            return this.conditionToString(condition);\n        }\n    };\n    SimpleFloatingFilter.prototype.isEventFromFloatingFilter = function (event) {\n        return event && event.afterFloatingFilter;\n    };\n    SimpleFloatingFilter.prototype.getLastType = function () {\n        return this.lastType;\n    };\n    SimpleFloatingFilter.prototype.setLastTypeFromModel = function (model) {\n        // if no model provided by the parent filter use default\n        if (!model) {\n            this.lastType = this.optionsFactory.getDefaultOption();\n            return;\n        }\n        var isCombined = model.operator;\n        var condition;\n        if (isCombined) {\n            var combinedModel = model;\n            condition = combinedModel.condition1;\n        }\n        else {\n            condition = model;\n        }\n        this.lastType = condition.type;\n    };\n    SimpleFloatingFilter.prototype.canWeEditAfterModelFromParentFilter = function (model) {\n        if (!model) {\n            // if no model, then we can edit as long as the lastType is something we can edit, as this\n            // is the type we will provide to the parent filter if the user decides to use the floating filter.\n            return this.isTypeEditable(this.lastType);\n        }\n        // never allow editing if the filter is combined (ie has two parts)\n        var isCombined = model.operator;\n        if (isCombined) {\n            return false;\n        }\n        var simpleModel = model;\n        return this.isTypeEditable(simpleModel.type);\n    };\n    SimpleFloatingFilter.prototype.init = function (params) {\n        this.optionsFactory = new OptionsFactory();\n        this.optionsFactory.init(params.filterParams, this.getDefaultFilterOptions());\n        this.lastType = this.optionsFactory.getDefaultOption();\n        // we are editable if:\n        // 1) there is a type (user has configured filter wrong if not type)\n        //  AND\n        // 2) the default type is not 'in range'\n        var editable = this.isTypeEditable(this.lastType);\n        this.setEditable(editable);\n    };\n    SimpleFloatingFilter.prototype.doesFilterHaveHiddenInput = function (filterType) {\n        var customFilterOption = this.optionsFactory.getCustomOption(filterType);\n        return customFilterOption && customFilterOption.hideFilterInput;\n    };\n    SimpleFloatingFilter.prototype.isTypeEditable = function (type) {\n        return !this.doesFilterHaveHiddenInput(type) &&\n            type\n            && type !== SimpleFilter.IN_RANGE\n            && type !== SimpleFilter.EMPTY;\n    };\n    return SimpleFloatingFilter;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$s = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$w = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar DateFloatingFilter = /** @class */ (function (_super) {\n    __extends$s(DateFloatingFilter, _super);\n    function DateFloatingFilter() {\n        return _super.call(this, /* html */ \"\\n            <div class=\\\"ag-floating-filter-input\\\" role=\\\"presentation\\\">\\n                <ag-input-text-field ref=\\\"eReadOnlyText\\\"></ag-input-text-field>\\n                <div ref=\\\"eDateWrapper\\\" style=\\\"display: flex; overflow: hidden;\\\"></div>\\n            </div>\") || this;\n    }\n    DateFloatingFilter.prototype.getDefaultFilterOptions = function () {\n        return DateFilter.DEFAULT_FILTER_OPTIONS;\n    };\n    DateFloatingFilter.prototype.conditionToString = function (condition) {\n        if (condition.type === SimpleFilter.IN_RANGE) {\n            return condition.dateFrom + \"-\" + condition.dateTo;\n        }\n        // cater for when the type doesn't need a value\n        if (condition.dateFrom != null) {\n            return \"\" + condition.dateFrom;\n        }\n        return \"\" + condition.type;\n    };\n    DateFloatingFilter.prototype.init = function (params) {\n        _super.prototype.init.call(this, params);\n        this.params = params;\n        this.createDateComponent();\n        this.eReadOnlyText.setDisabled(true);\n    };\n    DateFloatingFilter.prototype.setEditable = function (editable) {\n        _.setDisplayed(this.eDateWrapper, editable);\n        _.setDisplayed(this.eReadOnlyText.getGui(), !editable);\n    };\n    DateFloatingFilter.prototype.onParentModelChanged = function (model, event) {\n        // We don't want to update the floating filter if the floating filter caused the change,\n        // because the UI is already in sync. if we didn't do this, the UI would behave strangely\n        // as it would be updating as the user is typing\n        if (this.isEventFromFloatingFilter(event)) {\n            return;\n        }\n        _super.prototype.setLastTypeFromModel.call(this, model);\n        var allowEditing = this.canWeEditAfterModelFromParentFilter(model);\n        this.setEditable(allowEditing);\n        if (allowEditing) {\n            if (model) {\n                var dateModel = model;\n                this.dateComp.setDate(_.parseDateTimeFromString(dateModel.dateFrom));\n            }\n            else {\n                this.dateComp.setDate(null);\n            }\n            this.eReadOnlyText.setValue('');\n        }\n        else {\n            this.eReadOnlyText.setValue(this.getTextFromModel(model));\n            this.dateComp.setDate(null);\n        }\n    };\n    DateFloatingFilter.prototype.onDateChanged = function () {\n        var _this = this;\n        var filterValueDate = this.dateComp.getDate();\n        var filterValueText = _.serialiseDate(filterValueDate) + \" \" + _.serialiseTime(filterValueDate);\n        this.params.parentFilterInstance(function (filterInstance) {\n            if (filterInstance) {\n                var simpleFilter = filterInstance;\n                simpleFilter.onFloatingFilterChanged(_this.getLastType(), filterValueText);\n            }\n        });\n    };\n    DateFloatingFilter.prototype.createDateComponent = function () {\n        var _this = this;\n        var debounceMs = ProvidedFilter.getDebounceMs(this.params.filterParams, this.getDefaultDebounceMs());\n        var dateComponentParams = {\n            onDateChanged: _.debounce(this.onDateChanged.bind(this), debounceMs),\n            filterParams: this.params.column.getColDef().filterParams\n        };\n        this.dateComp = new DateCompWrapper(this.userComponentFactory, dateComponentParams, this.eDateWrapper);\n        this.addDestroyFunc(function () { return _this.dateComp.destroy(); });\n    };\n    __decorate$w([\n        Autowired('userComponentFactory')\n    ], DateFloatingFilter.prototype, \"userComponentFactory\", void 0);\n    __decorate$w([\n        RefSelector('eReadOnlyText')\n    ], DateFloatingFilter.prototype, \"eReadOnlyText\", void 0);\n    __decorate$w([\n        RefSelector('eDateWrapper')\n    ], DateFloatingFilter.prototype, \"eDateWrapper\", void 0);\n    return DateFloatingFilter;\n}(SimpleFloatingFilter));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$t = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$x = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar TextFilter = /** @class */ (function (_super) {\n    __extends$t(TextFilter, _super);\n    function TextFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TextFilter.prototype.getDefaultDebounceMs = function () {\n        return 500;\n    };\n    TextFilter.prototype.getValue = function (inputField) {\n        var val = inputField.getValue();\n        val = makeNull(val);\n        if (val && val.trim() === '') {\n            val = null;\n        }\n        return val;\n    };\n    TextFilter.prototype.addValueChangedListeners = function () {\n        var _this = this;\n        var listener = function () { return _this.onUiChanged(); };\n        this.eValue1.onValueChange(listener);\n        this.eValue2.onValueChange(listener);\n    };\n    TextFilter.prototype.setParams = function (params) {\n        _super.prototype.setParams.call(this, params);\n        this.textFilterParams = params;\n        this.comparator = this.textFilterParams.textCustomComparator || TextFilter.DEFAULT_COMPARATOR;\n        this.formatter = this.textFilterParams.textFormatter ||\n            (this.textFilterParams.caseSensitive == true\n                ? TextFilter.DEFAULT_FORMATTER\n                : TextFilter.DEFAULT_LOWERCASE_FORMATTER);\n        this.addValueChangedListeners();\n    };\n    TextFilter.prototype.setConditionIntoUi = function (model, position) {\n        var positionOne = position === ConditionPosition.One;\n        var eValue = positionOne ? this.eValue1 : this.eValue2;\n        eValue.setValue(model ? model.filter : null);\n    };\n    TextFilter.prototype.createCondition = function (position) {\n        var positionOne = position === ConditionPosition.One;\n        var type = positionOne ? this.getCondition1Type() : this.getCondition2Type();\n        var eValue = positionOne ? this.eValue1 : this.eValue2;\n        var value = this.getValue(eValue);\n        var model = {\n            filterType: TextFilter.FILTER_TYPE,\n            type: type\n        };\n        if (!this.doesFilterHaveHiddenInput(type)) {\n            model.filter = value;\n        }\n        return model;\n    };\n    TextFilter.prototype.getFilterType = function () {\n        return TextFilter.FILTER_TYPE;\n    };\n    TextFilter.prototype.areSimpleModelsEqual = function (aSimple, bSimple) {\n        return aSimple.filter === bSimple.filter && aSimple.type === bSimple.type;\n    };\n    TextFilter.prototype.resetUiToDefaults = function (silent) {\n        _super.prototype.resetUiToDefaults.call(this, silent);\n        var fields = [this.eValue1, this.eValue2];\n        fields.forEach(function (field) { return field.setValue(null, silent); });\n        this.resetPlaceholder();\n    };\n    TextFilter.prototype.resetPlaceholder = function () {\n        var translate = this.translate.bind(this);\n        var placeholder = translate('filterOoo', 'Filter...');\n        var fields = [this.eValue1, this.eValue2];\n        fields.forEach(function (field) { return field.setInputPlaceholder(placeholder); });\n    };\n    TextFilter.prototype.setValueFromFloatingFilter = function (value) {\n        this.eValue1.setValue(value);\n        this.eValue2.setValue(null);\n    };\n    TextFilter.prototype.getDefaultFilterOptions = function () {\n        return TextFilter.DEFAULT_FILTER_OPTIONS;\n    };\n    TextFilter.prototype.createValueTemplate = function (position) {\n        var pos = position === ConditionPosition.One ? '1' : '2';\n        return /* html */ \"\\n            <div class=\\\"ag-filter-body\\\" ref=\\\"eCondition\" + pos + \"Body\\\" role=\\\"presentation\\\">\\n                <ag-input-text-field class=\\\"ag-filter-filter\\\" ref=\\\"eValue\" + pos + \"\\\"></ag-input-text-field>\\n            </div>\";\n    };\n    TextFilter.prototype.updateUiVisibility = function () {\n        _super.prototype.updateUiVisibility.call(this);\n        var showValue1 = this.showValueFrom(this.getCondition1Type());\n        setDisplayed(this.eValue1.getGui(), showValue1);\n        var showValue2 = this.showValueFrom(this.getCondition2Type());\n        setDisplayed(this.eValue2.getGui(), showValue2);\n    };\n    TextFilter.prototype.afterGuiAttached = function (params) {\n        _super.prototype.afterGuiAttached.call(this, params);\n        this.resetPlaceholder();\n        this.eValue1.getInputElement().focus();\n    };\n    TextFilter.prototype.isConditionUiComplete = function (position) {\n        var positionOne = position === ConditionPosition.One;\n        var option = positionOne ? this.getCondition1Type() : this.getCondition2Type();\n        if (option === SimpleFilter.EMPTY) {\n            return false;\n        }\n        if (this.doesFilterHaveHiddenInput(option)) {\n            return true;\n        }\n        return this.getValue(positionOne ? this.eValue1 : this.eValue2) != null;\n    };\n    TextFilter.prototype.individualConditionPasses = function (params, filterModel) {\n        var filterText = filterModel.filter;\n        var filterOption = filterModel.type;\n        var cellValue = this.textFilterParams.valueGetter(params.node);\n        var cellValueFormatted = this.formatter(cellValue);\n        var customFilterOption = this.optionsFactory.getCustomOption(filterOption);\n        if (customFilterOption) {\n            // only execute the custom filter if a value exists or a value isn't required, i.e. input is hidden\n            if (filterText != null || customFilterOption.hideFilterInput) {\n                return customFilterOption.test(filterText, cellValueFormatted);\n            }\n        }\n        if (cellValue == null) {\n            return filterOption === SimpleFilter.NOT_EQUAL || filterOption === SimpleFilter.NOT_CONTAINS;\n        }\n        var filterTextFormatted = this.formatter(filterText);\n        return this.comparator(filterOption, cellValueFormatted, filterTextFormatted);\n    };\n    TextFilter.FILTER_TYPE = 'text';\n    TextFilter.DEFAULT_FILTER_OPTIONS = [\n        SimpleFilter.CONTAINS,\n        SimpleFilter.NOT_CONTAINS,\n        SimpleFilter.EQUALS,\n        SimpleFilter.NOT_EQUAL,\n        SimpleFilter.STARTS_WITH,\n        SimpleFilter.ENDS_WITH\n    ];\n    TextFilter.DEFAULT_FORMATTER = function (from) { return from; };\n    TextFilter.DEFAULT_LOWERCASE_FORMATTER = function (from) {\n        return from == null ? null : from.toString().toLowerCase();\n    };\n    TextFilter.DEFAULT_COMPARATOR = function (filter, value, filterText) {\n        switch (filter) {\n            case TextFilter.CONTAINS:\n                return value.indexOf(filterText) >= 0;\n            case TextFilter.NOT_CONTAINS:\n                return value.indexOf(filterText) === -1;\n            case TextFilter.EQUALS:\n                return value === filterText;\n            case TextFilter.NOT_EQUAL:\n                return value != filterText;\n            case TextFilter.STARTS_WITH:\n                return value.indexOf(filterText) === 0;\n            case TextFilter.ENDS_WITH:\n                var index = value.lastIndexOf(filterText);\n                return index >= 0 && index === (value.length - filterText.length);\n            default:\n                // should never happen\n                console.warn('invalid filter type ' + filter);\n                return false;\n        }\n    };\n    __decorate$x([\n        RefSelector('eValue1')\n    ], TextFilter.prototype, \"eValue1\", void 0);\n    __decorate$x([\n        RefSelector('eValue2')\n    ], TextFilter.prototype, \"eValue2\", void 0);\n    return TextFilter;\n}(SimpleFilter));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$u = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$y = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar TextInputFloatingFilter = /** @class */ (function (_super) {\n    __extends$u(TextInputFloatingFilter, _super);\n    function TextInputFloatingFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TextInputFloatingFilter.prototype.postConstruct = function () {\n        this.setTemplate(/* html */ \"\\n            <div class=\\\"ag-floating-filter-input\\\" role=\\\"presentation\\\">\\n                <ag-input-text-field ref=\\\"eFloatingFilterInput\\\"></ag-input-text-field>\\n            </div>\");\n    };\n    TextInputFloatingFilter.prototype.getDefaultDebounceMs = function () {\n        return 500;\n    };\n    TextInputFloatingFilter.prototype.onParentModelChanged = function (model, event) {\n        // we don't want to update the floating filter if the floating filter caused the change.\n        // as if it caused the change, the ui is already in sync. if we didn't do this, the UI\n        // would behave strange as it would be updating as the user is typing\n        if (this.isEventFromFloatingFilter(event)) {\n            return;\n        }\n        this.setLastTypeFromModel(model);\n        var modelString = this.getTextFromModel(model);\n        this.eFloatingFilterInput.setValue(modelString);\n        var editable = this.canWeEditAfterModelFromParentFilter(model);\n        this.setEditable(editable);\n    };\n    TextInputFloatingFilter.prototype.init = function (params) {\n        _super.prototype.init.call(this, params);\n        this.params = params;\n        this.applyActive = ProvidedFilter.isUseApplyButton(this.params.filterParams);\n        var debounceMs = ProvidedFilter.getDebounceMs(this.params.filterParams, this.getDefaultDebounceMs());\n        var toDebounce = debounce(this.syncUpWithParentFilter.bind(this), debounceMs);\n        var filterGui = this.eFloatingFilterInput.getGui();\n        this.addDestroyableEventListener(filterGui, 'input', toDebounce);\n        this.addDestroyableEventListener(filterGui, 'keypress', toDebounce);\n        this.addDestroyableEventListener(filterGui, 'keydown', toDebounce);\n        var columnDef = params.column.getDefinition();\n        if (columnDef.filterParams &&\n            columnDef.filterParams.filterOptions &&\n            columnDef.filterParams.filterOptions.length === 1 &&\n            columnDef.filterParams.filterOptions[0] === 'inRange') {\n            this.eFloatingFilterInput.setDisabled(true);\n        }\n    };\n    TextInputFloatingFilter.prototype.syncUpWithParentFilter = function (e) {\n        var _this = this;\n        var value = this.eFloatingFilterInput.getValue();\n        var enterKeyPressed = isKeyPressed(e, Constants.KEY_ENTER);\n        if (this.applyActive && !enterKeyPressed) {\n            return;\n        }\n        this.params.parentFilterInstance(function (filterInstance) {\n            if (filterInstance) {\n                var simpleFilter = filterInstance;\n                simpleFilter.onFloatingFilterChanged(_this.getLastType(), value);\n            }\n        });\n    };\n    TextInputFloatingFilter.prototype.setEditable = function (editable) {\n        this.eFloatingFilterInput.setDisabled(!editable);\n    };\n    __decorate$y([\n        RefSelector('eFloatingFilterInput')\n    ], TextInputFloatingFilter.prototype, \"eFloatingFilterInput\", void 0);\n    __decorate$y([\n        PostConstruct\n    ], TextInputFloatingFilter.prototype, \"postConstruct\", null);\n    return TextInputFloatingFilter;\n}(SimpleFloatingFilter));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$v = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar NumberFloatingFilter = /** @class */ (function (_super) {\n    __extends$v(NumberFloatingFilter, _super);\n    function NumberFloatingFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    NumberFloatingFilter.prototype.getDefaultFilterOptions = function () {\n        return NumberFilter.DEFAULT_FILTER_OPTIONS;\n    };\n    NumberFloatingFilter.prototype.conditionToString = function (condition) {\n        var isRange = condition.type == SimpleFilter.IN_RANGE;\n        if (isRange) {\n            return condition.filter + \"-\" + condition.filterTo;\n        }\n        // cater for when the type doesn't need a value\n        if (condition.filter != null) {\n            return \"\" + condition.filter;\n        }\n        return \"\" + condition.type;\n    };\n    return NumberFloatingFilter;\n}(TextInputFloatingFilter));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$w = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar TextFloatingFilter = /** @class */ (function (_super) {\n    __extends$w(TextFloatingFilter, _super);\n    function TextFloatingFilter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TextFloatingFilter.prototype.conditionToString = function (condition) {\n        // it's not possible to have 'in range' for string, so no need to check for it.\n        // also cater for when the type doesn't need a value\n        if (condition.filter != null) {\n            return \"\" + condition.filter;\n        }\n        else {\n            return \"\" + condition.type;\n        }\n    };\n    TextFloatingFilter.prototype.getDefaultFilterOptions = function () {\n        return TextFilter.DEFAULT_FILTER_OPTIONS;\n    };\n    return TextFloatingFilter;\n}(TextInputFloatingFilter));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$z = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar RegisteredComponentSource;\n(function (RegisteredComponentSource) {\n    RegisteredComponentSource[RegisteredComponentSource[\"DEFAULT\"] = 0] = \"DEFAULT\";\n    RegisteredComponentSource[RegisteredComponentSource[\"REGISTERED\"] = 1] = \"REGISTERED\";\n})(RegisteredComponentSource || (RegisteredComponentSource = {}));\nvar UserComponentRegistry = /** @class */ (function () {\n    function UserComponentRegistry() {\n        this.agGridDefaults = {\n            //date\n            agDateInput: DefaultDateComponent,\n            //header\n            agColumnHeader: HeaderComp,\n            agColumnGroupHeader: HeaderGroupComp,\n            //floating filters\n            agTextColumnFloatingFilter: TextFloatingFilter,\n            agNumberColumnFloatingFilter: NumberFloatingFilter,\n            agDateColumnFloatingFilter: DateFloatingFilter,\n            // renderers\n            agAnimateShowChangeCellRenderer: AnimateShowChangeCellRenderer,\n            agAnimateSlideCellRenderer: AnimateSlideCellRenderer,\n            agGroupCellRenderer: GroupCellRenderer,\n            agGroupRowRenderer: GroupCellRenderer,\n            agLoadingCellRenderer: LoadingCellRenderer,\n            //editors\n            agCellEditor: TextCellEditor,\n            agTextCellEditor: TextCellEditor,\n            agSelectCellEditor: SelectCellEditor,\n            agPopupTextCellEditor: PopupTextCellEditor,\n            agPopupSelectCellEditor: PopupSelectCellEditor,\n            agLargeTextCellEditor: LargeTextCellEditor,\n            //filter\n            agTextColumnFilter: TextFilter,\n            agNumberColumnFilter: NumberFilter,\n            agDateColumnFilter: DateFilter,\n            //overlays\n            agLoadingOverlay: LoadingOverlayComponent$1,\n            agNoRowsOverlay: NoRowsOverlayComponent$1,\n            // tooltips\n            agTooltipComponent: TooltipComponent$1\n        };\n        this.agDeprecatedNames = {\n            set: {\n                newComponentName: 'agSetColumnFilter',\n                propertyHolder: 'filter'\n            },\n            text: {\n                newComponentName: 'agTextColumnFilter',\n                propertyHolder: 'filter'\n            },\n            number: {\n                newComponentName: 'agNumberColumnFilter',\n                propertyHolder: 'filter'\n            },\n            date: {\n                newComponentName: 'agDateColumnFilter',\n                propertyHolder: 'filter'\n            },\n            group: {\n                newComponentName: 'agGroupCellRenderer',\n                propertyHolder: 'cellRenderer'\n            },\n            animateShowChange: {\n                newComponentName: 'agAnimateShowChangeCellRenderer',\n                propertyHolder: 'cellRenderer'\n            },\n            animateSlide: {\n                newComponentName: 'agAnimateSlideCellRenderer',\n                propertyHolder: 'cellRenderer'\n            },\n            select: {\n                newComponentName: 'agSelectCellEditor',\n                propertyHolder: 'cellEditor'\n            },\n            largeText: {\n                newComponentName: 'agLargeTextCellEditor',\n                propertyHolder: 'cellEditor'\n            },\n            popupSelect: {\n                newComponentName: 'agPopupSelectCellEditor',\n                propertyHolder: 'cellEditor'\n            },\n            popupText: {\n                newComponentName: 'agPopupTextCellEditor',\n                propertyHolder: 'cellEditor'\n            },\n            richSelect: {\n                newComponentName: 'agRichSelectCellEditor',\n                propertyHolder: 'cellEditor'\n            },\n            headerComponent: {\n                newComponentName: 'agColumnHeader',\n                propertyHolder: 'headerComponent'\n            }\n        };\n        this.jsComponents = {};\n        this.frameworkComponents = {};\n    }\n    UserComponentRegistry.prototype.init = function () {\n        var _this = this;\n        if (this.gridOptions.components != null) {\n            Object.keys(this.gridOptions.components).forEach(function (it) {\n                _this.registerComponent(it, _this.gridOptions.components[it]);\n            });\n        }\n        if (this.gridOptions.frameworkComponents != null) {\n            Object.keys(this.gridOptions.frameworkComponents).forEach(function (it) {\n                _this.registerFwComponent(it, _this.gridOptions.frameworkComponents[it]);\n            });\n        }\n    };\n    UserComponentRegistry.prototype.registerDefaultComponent = function (rawName, component) {\n        var name = this.translateIfDeprecated(rawName);\n        if (this.agGridDefaults[name]) {\n            console.error(\"Trying to overwrite a default component. You should call registerComponent\");\n            return;\n        }\n        this.agGridDefaults[name] = component;\n    };\n    UserComponentRegistry.prototype.registerComponent = function (rawName, component) {\n        var name = this.translateIfDeprecated(rawName);\n        if (this.frameworkComponents[name]) {\n            console.error(\"Trying to register a component that you have already registered for frameworks: \" + name);\n            return;\n        }\n        this.jsComponents[name] = component;\n    };\n    /**\n     * B the business interface (ie IHeader)\n     * A the agGridComponent interface (ie IHeaderComp). The final object acceptable by ag-grid\n     */\n    UserComponentRegistry.prototype.registerFwComponent = function (rawName, component) {\n        var name = this.translateIfDeprecated(rawName);\n        if (this.jsComponents[name]) {\n            console.error(\"Trying to register a component that you have already registered for plain javascript: \" + name);\n            return;\n        }\n        this.frameworkComponents[name] = component;\n    };\n    /**\n     * B the business interface (ie IHeader)\n     * A the agGridComponent interface (ie IHeaderComp). The final object acceptable by ag-grid\n     */\n    UserComponentRegistry.prototype.retrieve = function (rawName) {\n        var name = this.translateIfDeprecated(rawName);\n        if (this.frameworkComponents[name]) {\n            return {\n                componentFromFramework: true,\n                component: this.frameworkComponents[name],\n                source: RegisteredComponentSource.REGISTERED\n            };\n        }\n        if (this.jsComponents[name]) {\n            return {\n                componentFromFramework: false,\n                component: this.jsComponents[name],\n                source: RegisteredComponentSource.REGISTERED\n            };\n        }\n        if (this.agGridDefaults[name]) {\n            return this.agGridDefaults[name] ?\n                {\n                    componentFromFramework: false,\n                    component: this.agGridDefaults[name],\n                    source: RegisteredComponentSource.DEFAULT\n                } :\n                null;\n        }\n        if (Object.keys(this.agGridDefaults).indexOf(name) < 0) {\n            console.warn(\"ag-Grid: Looking for component [\" + name + \"] but it wasn't found.\");\n        }\n        return null;\n    };\n    UserComponentRegistry.prototype.translateIfDeprecated = function (raw) {\n        var deprecatedInfo = this.agDeprecatedNames[raw];\n        if (deprecatedInfo != null) {\n            _.doOnce(function () {\n                console.warn(\"ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename \" + deprecatedInfo.propertyHolder + \":\" + raw + \" to \" + deprecatedInfo.propertyHolder + \":\" + deprecatedInfo.newComponentName);\n            }, 'DEPRECATE_COMPONENT_' + raw);\n            return deprecatedInfo.newComponentName;\n        }\n        return raw;\n    };\n    __decorate$z([\n        Autowired('gridOptions')\n    ], UserComponentRegistry.prototype, \"gridOptions\", void 0);\n    __decorate$z([\n        Autowired('context')\n    ], UserComponentRegistry.prototype, \"context\", void 0);\n    __decorate$z([\n        PostConstruct\n    ], UserComponentRegistry.prototype, \"init\", null);\n    UserComponentRegistry = __decorate$z([\n        Bean('userComponentRegistry')\n    ], UserComponentRegistry);\n    return UserComponentRegistry;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n// when doing transactions, or change detection, and grouping is present\n// in the data, there is no need for the ClientSideRowModel to update each\n// group after an update, ony parts that were impacted by the change.\n// this class keeps track of all groups that were impacted by a transaction.\n// the the different CSRM operations (filter, sort etc) use the forEach method\n// to visit each group that was changed.\nvar ChangedPath = /** @class */ (function () {\n    function ChangedPath(keepingColumns, rootNode) {\n        // whether changed path is active of not. it is active when a) doing\n        // a transaction update or b) doing change detection. if we are doing\n        // a CSRM refresh for other reasons (after sort or filter, or user calling\n        // setRowData() without delta mode) then we are not active. we are also\n        // marked as not active if secondary columns change in pivot (as this impacts\n        // aggregations)\n        this.active = true;\n        // for each node in the change path, we also store which columns need\n        // to be re-aggregated.\n        this.nodeIdsToColumns = {};\n        // for quick lookup, all items in the change path are mapped by nodeId\n        this.mapToItems = {};\n        this.keepingColumns = keepingColumns;\n        this.pathRoot = {\n            rowNode: rootNode,\n            children: null\n        };\n        this.mapToItems[rootNode.id] = this.pathRoot;\n    }\n    // can be set inactive by:\n    // a) ClientSideRowModel, if no transactions or\n    // b) PivotService, if secondary columns changed\n    ChangedPath.prototype.setInactive = function () {\n        this.active = false;\n    };\n    ChangedPath.prototype.isActive = function () {\n        return this.active;\n    };\n    ChangedPath.prototype.depthFirstSearchChangedPath = function (pathItem, callback) {\n        if (pathItem.children) {\n            for (var i = 0; i < pathItem.children.length; i++) {\n                this.depthFirstSearchChangedPath(pathItem.children[i], callback);\n            }\n        }\n        callback(pathItem.rowNode);\n    };\n    ChangedPath.prototype.depthFirstSearchEverything = function (rowNode, callback, traverseEverything) {\n        if (rowNode.childrenAfterGroup) {\n            for (var i = 0; i < rowNode.childrenAfterGroup.length; i++) {\n                var childNode = rowNode.childrenAfterGroup[i];\n                if (childNode.childrenAfterGroup) {\n                    this.depthFirstSearchEverything(rowNode.childrenAfterGroup[i], callback, traverseEverything);\n                }\n                else if (traverseEverything) {\n                    callback(childNode);\n                }\n            }\n        }\n        callback(rowNode);\n    };\n    // traverseLeafNodes -> used when NOT doing changed path, ie traversing everything. the callback\n    // will be called for child nodes in addition to parent nodes.\n    ChangedPath.prototype.forEachChangedNodeDepthFirst = function (callback, traverseLeafNodes) {\n        if (traverseLeafNodes === void 0) { traverseLeafNodes = false; }\n        if (this.active) {\n            // if we are active, then use the change path to callback\n            // only for updated groups\n            this.depthFirstSearchChangedPath(this.pathRoot, callback);\n        }\n        else {\n            // we are not active, so callback for everything, walk the entire path\n            this.depthFirstSearchEverything(this.pathRoot.rowNode, callback, traverseLeafNodes);\n        }\n    };\n    ChangedPath.prototype.executeFromRootNode = function (callback) {\n        callback(this.pathRoot.rowNode);\n    };\n    ChangedPath.prototype.createPathItems = function (rowNode) {\n        var pointer = rowNode;\n        var newEntryCount = 0;\n        while (!this.mapToItems[pointer.id]) {\n            var newEntry = {\n                rowNode: pointer,\n                children: null\n            };\n            this.mapToItems[pointer.id] = newEntry;\n            newEntryCount++;\n            pointer = pointer.parent;\n        }\n        return newEntryCount;\n    };\n    ChangedPath.prototype.populateColumnsMap = function (rowNode, columns) {\n        var _this = this;\n        if (!this.keepingColumns || !columns) {\n            return;\n        }\n        var pointer = rowNode;\n        while (pointer) {\n            // if columns, add the columns in all the way to parent, merging\n            // in any other columns that might be there already\n            if (!this.nodeIdsToColumns[pointer.id]) {\n                this.nodeIdsToColumns[pointer.id] = {};\n            }\n            columns.forEach(function (col) { return _this.nodeIdsToColumns[pointer.id][col.getId()] = true; });\n            pointer = pointer.parent;\n        }\n    };\n    ChangedPath.prototype.linkPathItems = function (rowNode, newEntryCount) {\n        var pointer = rowNode;\n        for (var i = 0; i < newEntryCount; i++) {\n            var thisItem = this.mapToItems[pointer.id];\n            var parentItem = this.mapToItems[pointer.parent.id];\n            if (!parentItem.children) {\n                parentItem.children = [];\n            }\n            parentItem.children.push(thisItem);\n            pointer = pointer.parent;\n        }\n    };\n    // called by\n    // 1) change detection (provides cols) and\n    // 2) groupStage if doing transaction update (doesn't provide cols)\n    ChangedPath.prototype.addParentNode = function (rowNode, columns) {\n        if (!rowNode || rowNode.isRowPinned()) {\n            return;\n        }\n        // we cannot do  both steps below in the same loop as\n        // the second loop has a dependency on the first loop.\n        // ie the hierarchy cannot be stitched up yet because\n        // we don't have it built yet\n        // create the new PathItem objects.\n        var newEntryCount = this.createPathItems(rowNode);\n        // link in the node items\n        this.linkPathItems(rowNode, newEntryCount);\n        // update columns\n        this.populateColumnsMap(rowNode, columns);\n    };\n    ChangedPath.prototype.canSkip = function (rowNode) {\n        return this.active && !this.mapToItems[rowNode.id];\n    };\n    ChangedPath.prototype.getValueColumnsForNode = function (rowNode, valueColumns) {\n        if (!this.keepingColumns) {\n            return valueColumns;\n        }\n        var colsForThisNode = this.nodeIdsToColumns[rowNode.id];\n        var result = valueColumns.filter(function (col) { return colsForThisNode[col.getId()]; });\n        return result;\n    };\n    ChangedPath.prototype.getNotValueColumnsForNode = function (rowNode, valueColumns) {\n        if (!this.keepingColumns) {\n            return null;\n        }\n        var colsForThisNode = this.nodeIdsToColumns[rowNode.id];\n        var result = valueColumns.filter(function (col) { return !colsForThisNode[col.getId()]; });\n        return result;\n    };\n    return ChangedPath;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$A = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param$4 = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar SelectionController = /** @class */ (function () {\n    function SelectionController() {\n        this.events = [];\n    }\n    SelectionController.prototype.setBeans = function (loggerFactory) {\n        this.logger = loggerFactory.create('SelectionController');\n        this.reset();\n        if (this.gridOptionsWrapper.isRowModelDefault()) {\n            this.events.push(this.eventService.addEventListener(Events.EVENT_ROW_DATA_CHANGED, this.reset.bind(this)));\n        }\n        else {\n            this.logger.log('dont know what to do here');\n        }\n    };\n    SelectionController.prototype.init = function () {\n        this.groupSelectsChildren = this.gridOptionsWrapper.isGroupSelectsChildren();\n        this.events.push(this.eventService.addEventListener(Events.EVENT_ROW_SELECTED, this.onRowSelected.bind(this)));\n    };\n    SelectionController.prototype.destroy = function () {\n        if (this.events.length) {\n            this.events.forEach(function (func) { return func(); });\n        }\n        this.events = [];\n    };\n    SelectionController.prototype.setLastSelectedNode = function (rowNode) {\n        this.lastSelectedNode = rowNode;\n    };\n    SelectionController.prototype.getLastSelectedNode = function () {\n        return this.lastSelectedNode;\n    };\n    SelectionController.prototype.getSelectedNodes = function () {\n        var selectedNodes = [];\n        _.iterateObject(this.selectedNodes, function (key, rowNode) {\n            if (rowNode) {\n                selectedNodes.push(rowNode);\n            }\n        });\n        return selectedNodes;\n    };\n    SelectionController.prototype.getSelectedRows = function () {\n        var selectedRows = [];\n        _.iterateObject(this.selectedNodes, function (key, rowNode) {\n            if (rowNode && rowNode.data) {\n                selectedRows.push(rowNode.data);\n            }\n        });\n        return selectedRows;\n    };\n    SelectionController.prototype.removeGroupsFromSelection = function () {\n        var _this = this;\n        _.iterateObject(this.selectedNodes, function (key, rowNode) {\n            if (rowNode && rowNode.group) {\n                _this.selectedNodes[rowNode.id] = undefined;\n            }\n        });\n    };\n    // should only be called if groupSelectsChildren=true\n    SelectionController.prototype.updateGroupsFromChildrenSelections = function (changedPath) {\n        // we only do this when group selection state depends on selected children\n        if (!this.gridOptionsWrapper.isGroupSelectsChildren()) {\n            return;\n        }\n        // also only do it if CSRM (code should never allow this anyway)\n        if (this.rowModel.getType() !== Constants.ROW_MODEL_TYPE_CLIENT_SIDE) {\n            return;\n        }\n        var clientSideRowModel = this.rowModel;\n        var rootNode = clientSideRowModel.getRootNode();\n        if (!changedPath) {\n            changedPath = new ChangedPath(true, rootNode);\n            changedPath.setInactive();\n        }\n        changedPath.forEachChangedNodeDepthFirst(function (rowNode) {\n            if (rowNode !== rootNode) {\n                rowNode.calculateSelectedFromChildren();\n            }\n        });\n        // clientSideRowModel.getTopLevelNodes()!.forEach((rowNode: RowNode) => {\n        //     rowNode.depthFirstSearch((node) => {\n        //         if (node.group) {\n        //         }\n        //     });\n        // });\n    };\n    SelectionController.prototype.getNodeForIdIfSelected = function (id) {\n        return this.selectedNodes[id];\n    };\n    SelectionController.prototype.clearOtherNodes = function (rowNodeToKeepSelected) {\n        var _this = this;\n        var groupsToRefresh = {};\n        var updatedCount = 0;\n        _.iterateObject(this.selectedNodes, function (key, otherRowNode) {\n            if (otherRowNode && otherRowNode.id !== rowNodeToKeepSelected.id) {\n                var rowNode = _this.selectedNodes[otherRowNode.id];\n                updatedCount += rowNode.setSelectedParams({\n                    newValue: false,\n                    clearSelection: false,\n                    suppressFinishActions: true\n                });\n                if (_this.groupSelectsChildren && otherRowNode.parent) {\n                    groupsToRefresh[otherRowNode.parent.id] = otherRowNode.parent;\n                }\n            }\n        });\n        _.iterateObject(groupsToRefresh, function (key, group) {\n            group.calculateSelectedFromChildren();\n        });\n        return updatedCount;\n    };\n    SelectionController.prototype.onRowSelected = function (event) {\n        var rowNode = event.node;\n        // we do not store the group rows when the groups select children\n        if (this.groupSelectsChildren && rowNode.group) {\n            return;\n        }\n        if (rowNode.isSelected()) {\n            this.selectedNodes[rowNode.id] = rowNode;\n        }\n        else {\n            this.selectedNodes[rowNode.id] = undefined;\n        }\n    };\n    SelectionController.prototype.syncInRowNode = function (rowNode, oldNode) {\n        this.syncInOldRowNode(rowNode, oldNode);\n        this.syncInNewRowNode(rowNode);\n    };\n    // if the id has changed for the node, then this means the rowNode\n    // is getting used for a different data item, which breaks\n    // our selectedNodes, as the node now is mapped by the old id\n    // which is inconsistent. so to keep the old node as selected,\n    // we swap in the clone (with the old id and old data). this means\n    // the oldNode is effectively a daemon we keep a reference to,\n    // so if client calls api.getSelectedNodes(), it gets the daemon\n    // in the result. when the client un-selects, the reference to the\n    // daemon is removed. the daemon, because it's an oldNode, is not\n    // used by the grid for rendering, it's a copy of what the node used\n    // to be like before the id was changed.\n    SelectionController.prototype.syncInOldRowNode = function (rowNode, oldNode) {\n        var oldNodeHasDifferentId = _.exists(oldNode) && (rowNode.id !== oldNode.id);\n        if (oldNodeHasDifferentId) {\n            var oldNodeSelected = _.exists(this.selectedNodes[oldNode.id]);\n            if (oldNodeSelected) {\n                this.selectedNodes[oldNode.id] = oldNode;\n            }\n        }\n    };\n    SelectionController.prototype.syncInNewRowNode = function (rowNode) {\n        if (_.exists(this.selectedNodes[rowNode.id])) {\n            rowNode.setSelectedInitialValue(true);\n            this.selectedNodes[rowNode.id] = rowNode;\n        }\n        else {\n            rowNode.setSelectedInitialValue(false);\n        }\n    };\n    SelectionController.prototype.reset = function () {\n        this.logger.log('reset');\n        this.selectedNodes = {};\n        this.lastSelectedNode = null;\n    };\n    // returns a list of all nodes at 'best cost' - a feature to be used\n    // with groups / trees. if a group has all it's children selected,\n    // then the group appears in the result, but not the children.\n    // Designed for use with 'children' as the group selection type,\n    // where groups don't actually appear in the selection normally.\n    SelectionController.prototype.getBestCostNodeSelection = function () {\n        if (this.rowModel.getType() !== Constants.ROW_MODEL_TYPE_CLIENT_SIDE) {\n            console.warn('getBestCostNodeSelection is only available when using normal row model');\n            return;\n        }\n        var clientSideRowModel = this.rowModel;\n        var topLevelNodes = clientSideRowModel.getTopLevelNodes();\n        if (topLevelNodes === null) {\n            console.warn('selectAll not available doing rowModel=virtual');\n            return;\n        }\n        var result = [];\n        // recursive function, to find the selected nodes\n        function traverse(nodes) {\n            for (var i = 0, l = nodes.length; i < l; i++) {\n                var node = nodes[i];\n                if (node.isSelected()) {\n                    result.push(node);\n                }\n                else {\n                    // if not selected, then if it's a group, and the group\n                    // has children, continue to search for selections\n                    if (node.group && node.children) {\n                        traverse(node.children);\n                    }\n                }\n            }\n        }\n        traverse(topLevelNodes);\n        return result;\n    };\n    SelectionController.prototype.setRowModel = function (rowModel) {\n        this.rowModel = rowModel;\n    };\n    SelectionController.prototype.isEmpty = function () {\n        var count = 0;\n        _.iterateObject(this.selectedNodes, function (nodeId, rowNode) {\n            if (rowNode) {\n                count++;\n            }\n        });\n        return count === 0;\n    };\n    SelectionController.prototype.deselectAllRowNodes = function (justFiltered) {\n        if (justFiltered === void 0) { justFiltered = false; }\n        var callback = function (rowNode) { return rowNode.selectThisNode(false); };\n        var rowModelClientSide = this.rowModel.getType() === Constants.ROW_MODEL_TYPE_CLIENT_SIDE;\n        if (justFiltered) {\n            if (!rowModelClientSide) {\n                console.error('ag-Grid: selecting just filtered only works with In Memory Row Model');\n                return;\n            }\n            var clientSideRowModel = this.rowModel;\n            clientSideRowModel.forEachNodeAfterFilter(callback);\n        }\n        else {\n            _.iterateObject(this.selectedNodes, function (id, rowNode) {\n                // remember the reference can be to null, as we never 'delete' from the map\n                if (rowNode) {\n                    callback(rowNode);\n                }\n            });\n            // this clears down the map (whereas above only sets the items in map to 'undefined')\n            this.reset();\n        }\n        // the above does not clean up the parent rows if they are selected\n        if (rowModelClientSide && this.groupSelectsChildren) {\n            this.updateGroupsFromChildrenSelections();\n        }\n        var event = {\n            type: Events.EVENT_SELECTION_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    SelectionController.prototype.selectAllRowNodes = function (justFiltered) {\n        if (justFiltered === void 0) { justFiltered = false; }\n        if (this.rowModel.getType() !== Constants.ROW_MODEL_TYPE_CLIENT_SIDE) {\n            throw new Error(\"selectAll only available with normal row model, ie not \" + this.rowModel.getType());\n        }\n        var clientSideRowModel = this.rowModel;\n        var callback = function (rowNode) { return rowNode.selectThisNode(true); };\n        if (justFiltered) {\n            clientSideRowModel.forEachNodeAfterFilter(callback);\n        }\n        else {\n            clientSideRowModel.forEachNode(callback);\n        }\n        // the above does not clean up the parent rows if they are selected\n        if (this.rowModel.getType() === Constants.ROW_MODEL_TYPE_CLIENT_SIDE && this.groupSelectsChildren) {\n            this.updateGroupsFromChildrenSelections();\n        }\n        var event = {\n            type: Events.EVENT_SELECTION_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    /**\n     * @method\n     * @deprecated\n     */\n    SelectionController.prototype.selectNode = function (rowNode, tryMulti) {\n        if (rowNode) {\n            rowNode.setSelectedParams({ newValue: true, clearSelection: !tryMulti });\n        }\n    };\n    /**\n     * @method\n     * @deprecated\n     */\n    SelectionController.prototype.deselectIndex = function (rowIndex) {\n        var node = this.rowModel.getRow(rowIndex);\n        this.deselectNode(node);\n    };\n    /**\n     * @method\n     * @deprecated\n     */\n    SelectionController.prototype.deselectNode = function (rowNode) {\n        if (rowNode) {\n            rowNode.setSelectedParams({ newValue: false, clearSelection: false });\n        }\n    };\n    /**\n     * @method\n     * @deprecated\n     */\n    SelectionController.prototype.selectIndex = function (index, tryMulti) {\n        var node = this.rowModel.getRow(index);\n        this.selectNode(node, tryMulti);\n    };\n    __decorate$A([\n        Autowired('eventService')\n    ], SelectionController.prototype, \"eventService\", void 0);\n    __decorate$A([\n        Autowired('rowModel')\n    ], SelectionController.prototype, \"rowModel\", void 0);\n    __decorate$A([\n        Autowired('gridOptionsWrapper')\n    ], SelectionController.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$A([\n        Autowired('columnApi')\n    ], SelectionController.prototype, \"columnApi\", void 0);\n    __decorate$A([\n        Autowired('gridApi')\n    ], SelectionController.prototype, \"gridApi\", void 0);\n    __decorate$A([\n        __param$4(0, Qualifier('loggerFactory'))\n    ], SelectionController.prototype, \"setBeans\", null);\n    __decorate$A([\n        PostConstruct\n    ], SelectionController.prototype, \"init\", null);\n    __decorate$A([\n        PreDestroy\n    ], SelectionController.prototype, \"destroy\", null);\n    SelectionController = __decorate$A([\n        Bean('selectionController')\n    ], SelectionController);\n    return SelectionController;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$B = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ColumnApi = /** @class */ (function () {\n    function ColumnApi() {\n    }\n    ColumnApi.prototype.sizeColumnsToFit = function (gridWidth) {\n        // AG-3403 validate that gridWidth is provided because this method has the same name as\n        // a method on the grid API that takes no arguments, and it's easy to confuse the two\n        if (typeof gridWidth === \"undefined\") {\n            console.error('ag-Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)');\n        }\n        this.columnController.sizeColumnsToFit(gridWidth, 'api');\n    };\n    ColumnApi.prototype.setColumnGroupOpened = function (group, newValue) { this.columnController.setColumnGroupOpened(group, newValue, 'api'); };\n    ColumnApi.prototype.getColumnGroup = function (name, instanceId) { return this.columnController.getColumnGroup(name, instanceId); };\n    ColumnApi.prototype.getOriginalColumnGroup = function (name) { return this.columnController.getOriginalColumnGroup(name); };\n    ColumnApi.prototype.getDisplayNameForColumn = function (column, location) { return this.columnController.getDisplayNameForColumn(column, location) || ''; };\n    ColumnApi.prototype.getDisplayNameForColumnGroup = function (columnGroup, location) { return this.columnController.getDisplayNameForColumnGroup(columnGroup, location) || ''; };\n    ColumnApi.prototype.getColumn = function (key) { return this.columnController.getPrimaryColumn(key); };\n    ColumnApi.prototype.setColumnState = function (columnState) { return this.columnController.setColumnState(columnState, false, 'api'); };\n    ColumnApi.prototype.getColumnState = function () { return this.columnController.getColumnState(); };\n    ColumnApi.prototype.resetColumnState = function () { this.columnController.resetColumnState(false, 'api'); };\n    ColumnApi.prototype.getColumnGroupState = function () { return this.columnController.getColumnGroupState(); };\n    ColumnApi.prototype.setColumnGroupState = function (stateItems) { this.columnController.setColumnGroupState(stateItems, 'api'); };\n    ColumnApi.prototype.resetColumnGroupState = function () { this.columnController.resetColumnGroupState('api'); };\n    ColumnApi.prototype.isPinning = function () { return this.columnController.isPinningLeft() || this.columnController.isPinningRight(); };\n    ColumnApi.prototype.isPinningLeft = function () { return this.columnController.isPinningLeft(); };\n    ColumnApi.prototype.isPinningRight = function () { return this.columnController.isPinningRight(); };\n    ColumnApi.prototype.getDisplayedColAfter = function (col) { return this.columnController.getDisplayedColAfter(col); };\n    ColumnApi.prototype.getDisplayedColBefore = function (col) { return this.columnController.getDisplayedColBefore(col); };\n    ColumnApi.prototype.setColumnVisible = function (key, visible) { this.columnController.setColumnVisible(key, visible, 'api'); };\n    ColumnApi.prototype.setColumnsVisible = function (keys, visible) { this.columnController.setColumnsVisible(keys, visible, 'api'); };\n    ColumnApi.prototype.setColumnPinned = function (key, pinned) { this.columnController.setColumnPinned(key, pinned, 'api'); };\n    ColumnApi.prototype.setColumnsPinned = function (keys, pinned) { this.columnController.setColumnsPinned(keys, pinned, 'api'); };\n    ColumnApi.prototype.getAllColumns = function () { return this.columnController.getAllPrimaryColumns(); };\n    ColumnApi.prototype.getAllGridColumns = function () { return this.columnController.getAllGridColumns(); };\n    ColumnApi.prototype.getDisplayedLeftColumns = function () { return this.columnController.getDisplayedLeftColumns(); };\n    ColumnApi.prototype.getDisplayedCenterColumns = function () { return this.columnController.getDisplayedCenterColumns(); };\n    ColumnApi.prototype.getDisplayedRightColumns = function () { return this.columnController.getDisplayedRightColumns(); };\n    ColumnApi.prototype.getAllDisplayedColumns = function () { return this.columnController.getAllDisplayedColumns(); };\n    ColumnApi.prototype.getAllDisplayedVirtualColumns = function () { return this.columnController.getAllDisplayedVirtualColumns(); };\n    ColumnApi.prototype.moveColumn = function (key, toIndex) {\n        if (typeof key === 'number') {\n            // moveColumn used to take indexes, so this is advising user who hasn't moved to new method name\n            console.warn('ag-Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead');\n            this.columnController.moveColumnByIndex(key, toIndex, 'api');\n        }\n        else {\n            this.columnController.moveColumn(key, toIndex, 'api');\n        }\n    };\n    ColumnApi.prototype.moveColumnByIndex = function (fromIndex, toIndex) { this.columnController.moveColumnByIndex(fromIndex, toIndex, 'api'); };\n    ColumnApi.prototype.moveColumns = function (columnsToMoveKeys, toIndex) { this.columnController.moveColumns(columnsToMoveKeys, toIndex, 'api'); };\n    ColumnApi.prototype.moveRowGroupColumn = function (fromIndex, toIndex) { this.columnController.moveRowGroupColumn(fromIndex, toIndex); };\n    ColumnApi.prototype.setColumnAggFunc = function (column, aggFunc) { this.columnController.setColumnAggFunc(column, aggFunc); };\n    ColumnApi.prototype.setColumnWidth = function (key, newWidth, finished) {\n        if (finished === void 0) { finished = true; }\n        this.columnController.setColumnWidths([{ key: key, newWidth: newWidth }], false, finished);\n    };\n    ColumnApi.prototype.setColumnWidths = function (columnWidths, finished) {\n        if (finished === void 0) { finished = true; }\n        this.columnController.setColumnWidths(columnWidths, false, finished);\n    };\n    ColumnApi.prototype.setPivotMode = function (pivotMode) { this.columnController.setPivotMode(pivotMode); };\n    ColumnApi.prototype.isPivotMode = function () { return this.columnController.isPivotMode(); };\n    ColumnApi.prototype.getSecondaryPivotColumn = function (pivotKeys, valueColKey) { return this.columnController.getSecondaryPivotColumn(pivotKeys, valueColKey); };\n    ColumnApi.prototype.setValueColumns = function (colKeys) { this.columnController.setValueColumns(colKeys, 'api'); };\n    ColumnApi.prototype.getValueColumns = function () { return this.columnController.getValueColumns(); };\n    ColumnApi.prototype.removeValueColumn = function (colKey) { this.columnController.removeValueColumn(colKey, 'api'); };\n    ColumnApi.prototype.removeValueColumns = function (colKeys) { this.columnController.removeValueColumns(colKeys, 'api'); };\n    ColumnApi.prototype.addValueColumn = function (colKey) { this.columnController.addValueColumn(colKey, 'api'); };\n    ColumnApi.prototype.addValueColumns = function (colKeys) { this.columnController.addValueColumns(colKeys, 'api'); };\n    ColumnApi.prototype.setRowGroupColumns = function (colKeys) { this.columnController.setRowGroupColumns(colKeys, 'api'); };\n    ColumnApi.prototype.removeRowGroupColumn = function (colKey) { this.columnController.removeRowGroupColumn(colKey, 'api'); };\n    ColumnApi.prototype.removeRowGroupColumns = function (colKeys) { this.columnController.removeRowGroupColumns(colKeys, 'api'); };\n    ColumnApi.prototype.addRowGroupColumn = function (colKey) { this.columnController.addRowGroupColumn(colKey, 'api'); };\n    ColumnApi.prototype.addRowGroupColumns = function (colKeys) { this.columnController.addRowGroupColumns(colKeys, 'api'); };\n    ColumnApi.prototype.getRowGroupColumns = function () { return this.columnController.getRowGroupColumns(); };\n    ColumnApi.prototype.setPivotColumns = function (colKeys) { this.columnController.setPivotColumns(colKeys, 'api'); };\n    ColumnApi.prototype.removePivotColumn = function (colKey) { this.columnController.removePivotColumn(colKey, 'api'); };\n    ColumnApi.prototype.removePivotColumns = function (colKeys) { this.columnController.removePivotColumns(colKeys, 'api'); };\n    ColumnApi.prototype.addPivotColumn = function (colKey) { this.columnController.addPivotColumn(colKey, 'api'); };\n    ColumnApi.prototype.addPivotColumns = function (colKeys) { this.columnController.addPivotColumns(colKeys, 'api'); };\n    ColumnApi.prototype.getPivotColumns = function () { return this.columnController.getPivotColumns(); };\n    ColumnApi.prototype.getLeftDisplayedColumnGroups = function () { return this.columnController.getLeftDisplayedColumnGroups(); };\n    ColumnApi.prototype.getCenterDisplayedColumnGroups = function () { return this.columnController.getCenterDisplayedColumnGroups(); };\n    ColumnApi.prototype.getRightDisplayedColumnGroups = function () { return this.columnController.getRightDisplayedColumnGroups(); };\n    ColumnApi.prototype.getAllDisplayedColumnGroups = function () { return this.columnController.getAllDisplayedColumnGroups(); };\n    ColumnApi.prototype.autoSizeColumn = function (key, skipHeader) { return this.columnController.autoSizeColumn(key, skipHeader, 'api'); };\n    ColumnApi.prototype.autoSizeColumns = function (keys, skipHeader) { return this.columnController.autoSizeColumns(keys, skipHeader, 'api'); };\n    ColumnApi.prototype.autoSizeAllColumns = function (skipHeader) { this.columnController.autoSizeAllColumns(skipHeader, 'api'); };\n    ColumnApi.prototype.setSecondaryColumns = function (colDefs) { this.columnController.setSecondaryColumns(colDefs, 'api'); };\n    ColumnApi.prototype.getSecondaryColumns = function () { return this.columnController.getSecondaryColumns(); };\n    ColumnApi.prototype.getPrimaryColumns = function () { return this.columnController.getAllPrimaryColumns(); };\n    // below goes through deprecated items, prints message to user, then calls the new version of the same method\n    ColumnApi.prototype.columnGroupOpened = function (group, newValue) {\n        console.error('ag-Grid: columnGroupOpened no longer exists, use setColumnGroupOpened');\n        this.setColumnGroupOpened(group, newValue);\n    };\n    ColumnApi.prototype.hideColumns = function (colIds, hide) {\n        console.error('ag-Grid: hideColumns is deprecated, use setColumnsVisible');\n        this.columnController.setColumnsVisible(colIds, !hide, 'api');\n    };\n    ColumnApi.prototype.hideColumn = function (colId, hide) {\n        console.error('ag-Grid: hideColumn is deprecated, use setColumnVisible');\n        this.columnController.setColumnVisible(colId, !hide, 'api');\n    };\n    ColumnApi.prototype.setState = function (columnState) {\n        console.error('ag-Grid: setState is deprecated, use setColumnState');\n        return this.setColumnState(columnState);\n    };\n    ColumnApi.prototype.getState = function () {\n        console.error('ag-Grid: getState is deprecated, use getColumnState');\n        return this.getColumnState();\n    };\n    ColumnApi.prototype.resetState = function () {\n        console.error('ag-Grid: resetState is deprecated, use resetColumnState');\n        this.resetColumnState();\n    };\n    ColumnApi.prototype.getAggregationColumns = function () {\n        console.error('ag-Grid: getAggregationColumns is deprecated, use getValueColumns');\n        return this.columnController.getValueColumns();\n    };\n    ColumnApi.prototype.removeAggregationColumn = function (colKey) {\n        console.error('ag-Grid: removeAggregationColumn is deprecated, use removeValueColumn');\n        this.columnController.removeValueColumn(colKey, 'api');\n    };\n    ColumnApi.prototype.removeAggregationColumns = function (colKeys) {\n        console.error('ag-Grid: removeAggregationColumns is deprecated, use removeValueColumns');\n        this.columnController.removeValueColumns(colKeys, 'api');\n    };\n    ColumnApi.prototype.addAggregationColumn = function (colKey) {\n        console.error('ag-Grid: addAggregationColumn is deprecated, use addValueColumn');\n        this.columnController.addValueColumn(colKey, 'api');\n    };\n    ColumnApi.prototype.addAggregationColumns = function (colKeys) {\n        console.error('ag-Grid: addAggregationColumns is deprecated, use addValueColumns');\n        this.columnController.addValueColumns(colKeys, 'api');\n    };\n    ColumnApi.prototype.setColumnAggFunction = function (column, aggFunc) {\n        console.error('ag-Grid: setColumnAggFunction is deprecated, use setColumnAggFunc');\n        this.columnController.setColumnAggFunc(column, aggFunc, 'api');\n    };\n    ColumnApi.prototype.getDisplayNameForCol = function (column) {\n        console.error('ag-Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn');\n        return this.getDisplayNameForColumn(column, null);\n    };\n    __decorate$B([\n        Autowired('columnController')\n    ], ColumnApi.prototype, \"columnController\", void 0);\n    ColumnApi = __decorate$B([\n        Bean('columnApi')\n    ], ColumnApi);\n    return ColumnApi;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n(function (CellRangeType) {\n    CellRangeType[CellRangeType[\"VALUE\"] = 0] = \"VALUE\";\n    CellRangeType[CellRangeType[\"DIMENSION\"] = 1] = \"DIMENSION\";\n})(exports.CellRangeType || (exports.CellRangeType = {}));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$C = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n(function (DragSourceType) {\n    DragSourceType[DragSourceType[\"ToolPanel\"] = 0] = \"ToolPanel\";\n    DragSourceType[DragSourceType[\"HeaderCell\"] = 1] = \"HeaderCell\";\n    DragSourceType[DragSourceType[\"RowDrag\"] = 2] = \"RowDrag\";\n    DragSourceType[DragSourceType[\"ChartPanel\"] = 3] = \"ChartPanel\";\n})(exports.DragSourceType || (exports.DragSourceType = {}));\n(function (VerticalDirection) {\n    VerticalDirection[VerticalDirection[\"Up\"] = 0] = \"Up\";\n    VerticalDirection[VerticalDirection[\"Down\"] = 1] = \"Down\";\n})(exports.VerticalDirection || (exports.VerticalDirection = {}));\n(function (HorizontalDirection) {\n    HorizontalDirection[HorizontalDirection[\"Left\"] = 0] = \"Left\";\n    HorizontalDirection[HorizontalDirection[\"Right\"] = 1] = \"Right\";\n})(exports.HorizontalDirection || (exports.HorizontalDirection = {}));\nvar DragAndDropService = /** @class */ (function () {\n    function DragAndDropService() {\n        this.dragSourceAndParamsList = [];\n        this.dropTargets = [];\n    }\n    DragAndDropService_1 = DragAndDropService;\n    DragAndDropService.prototype.init = function () {\n        this.ePinnedIcon = _.createIcon('columnMovePin', this.gridOptionsWrapper, null);\n        this.eHideIcon = _.createIcon('columnMoveHide', this.gridOptionsWrapper, null);\n        this.eMoveIcon = _.createIcon('columnMoveMove', this.gridOptionsWrapper, null);\n        this.eLeftIcon = _.createIcon('columnMoveLeft', this.gridOptionsWrapper, null);\n        this.eRightIcon = _.createIcon('columnMoveRight', this.gridOptionsWrapper, null);\n        this.eGroupIcon = _.createIcon('columnMoveGroup', this.gridOptionsWrapper, null);\n        this.eAggregateIcon = _.createIcon('columnMoveValue', this.gridOptionsWrapper, null);\n        this.ePivotIcon = _.createIcon('columnMovePivot', this.gridOptionsWrapper, null);\n        this.eDropNotAllowedIcon = _.createIcon('dropNotAllowed', this.gridOptionsWrapper, null);\n    };\n    DragAndDropService.prototype.addDragSource = function (dragSource, allowTouch) {\n        if (allowTouch === void 0) { allowTouch = false; }\n        var params = {\n            eElement: dragSource.eElement,\n            dragStartPixels: dragSource.dragStartPixels,\n            onDragStart: this.onDragStart.bind(this, dragSource),\n            onDragStop: this.onDragStop.bind(this),\n            onDragging: this.onDragging.bind(this)\n        };\n        this.dragSourceAndParamsList.push({ params: params, dragSource: dragSource });\n        this.dragService.addDragSource(params, allowTouch);\n    };\n    DragAndDropService.prototype.removeDragSource = function (dragSource) {\n        var sourceAndParams = _.find(this.dragSourceAndParamsList, function (item) { return item.dragSource === dragSource; });\n        if (sourceAndParams) {\n            this.dragService.removeDragSource(sourceAndParams.params);\n            _.removeFromArray(this.dragSourceAndParamsList, sourceAndParams);\n        }\n    };\n    DragAndDropService.prototype.destroy = function () {\n        var _this = this;\n        this.dragSourceAndParamsList.forEach(function (sourceAndParams) { return _this.dragService.removeDragSource(sourceAndParams.params); });\n        this.dragSourceAndParamsList.length = 0;\n    };\n    DragAndDropService.prototype.nudge = function () {\n        if (this.dragging) {\n            this.onDragging(this.eventLastTime, true);\n        }\n    };\n    DragAndDropService.prototype.onDragStart = function (dragSource, mouseEvent) {\n        this.dragging = true;\n        this.dragSource = dragSource;\n        this.eventLastTime = mouseEvent;\n        this.dragItem = this.dragSource.getDragItem();\n        this.lastDropTarget = this.dragSource.dragSourceDropTarget;\n        if (this.dragSource.onDragStarted) {\n            this.dragSource.onDragStarted();\n        }\n        this.createGhost();\n    };\n    DragAndDropService.prototype.onDragStop = function (mouseEvent) {\n        this.eventLastTime = null;\n        this.dragging = false;\n        if (this.dragSource.onDragStopped) {\n            this.dragSource.onDragStopped();\n        }\n        if (this.lastDropTarget && this.lastDropTarget.onDragStop) {\n            var draggingEvent = this.createDropTargetEvent(this.lastDropTarget, mouseEvent, null, null, false);\n            this.lastDropTarget.onDragStop(draggingEvent);\n        }\n        this.lastDropTarget = null;\n        this.dragItem = null;\n        this.removeGhost();\n    };\n    DragAndDropService.prototype.onDragging = function (mouseEvent, fromNudge) {\n        var hDirection = this.getHorizontalDirection(mouseEvent);\n        var vDirection = this.getVerticalDirection(mouseEvent);\n        this.eventLastTime = mouseEvent;\n        this.positionGhost(mouseEvent);\n        // check if mouseEvent intersects with any of the drop targets\n        var dropTarget = _.find(this.dropTargets, this.isMouseOnDropTarget.bind(this, mouseEvent));\n        if (dropTarget !== this.lastDropTarget) {\n            this.leaveLastTargetIfExists(mouseEvent, hDirection, vDirection, fromNudge);\n            this.enterDragTargetIfExists(dropTarget, mouseEvent, hDirection, vDirection, fromNudge);\n            this.lastDropTarget = dropTarget;\n        }\n        else if (dropTarget && dropTarget.onDragging) {\n            var draggingEvent = this.createDropTargetEvent(dropTarget, mouseEvent, hDirection, vDirection, fromNudge);\n            dropTarget.onDragging(draggingEvent);\n        }\n    };\n    DragAndDropService.prototype.enterDragTargetIfExists = function (dropTarget, mouseEvent, hDirection, vDirection, fromNudge) {\n        if (!dropTarget) {\n            return;\n        }\n        if (dropTarget.onDragEnter) {\n            var dragEnterEvent = this.createDropTargetEvent(dropTarget, mouseEvent, hDirection, vDirection, fromNudge);\n            dropTarget.onDragEnter(dragEnterEvent);\n        }\n        this.setGhostIcon(dropTarget.getIconName ? dropTarget.getIconName() : null);\n    };\n    DragAndDropService.prototype.leaveLastTargetIfExists = function (mouseEvent, hDirection, vDirection, fromNudge) {\n        if (!this.lastDropTarget) {\n            return;\n        }\n        if (this.lastDropTarget.onDragLeave) {\n            var dragLeaveEvent = this.createDropTargetEvent(this.lastDropTarget, mouseEvent, hDirection, vDirection, fromNudge);\n            this.lastDropTarget.onDragLeave(dragLeaveEvent);\n        }\n        this.setGhostIcon(null);\n    };\n    DragAndDropService.prototype.getAllContainersFromDropTarget = function (dropTarget) {\n        var containers = [dropTarget.getContainer()];\n        var secondaryContainers = dropTarget.getSecondaryContainers ? dropTarget.getSecondaryContainers() : null;\n        if (secondaryContainers) {\n            containers = containers.concat(secondaryContainers);\n        }\n        return containers;\n    };\n    // checks if the mouse is on the drop target. it checks eContainer and eSecondaryContainers\n    DragAndDropService.prototype.isMouseOnDropTarget = function (mouseEvent, dropTarget) {\n        var mouseOverTarget = false;\n        this.getAllContainersFromDropTarget(dropTarget)\n            .filter(function (eContainer) { return eContainer; }) // secondary can be missing\n            .forEach(function (eContainer) {\n            var rect = eContainer.getBoundingClientRect();\n            // if element is not visible, then width and height are zero\n            if (rect.width === 0 || rect.height === 0) {\n                return;\n            }\n            var horizontalFit = mouseEvent.clientX >= rect.left && mouseEvent.clientX <= rect.right;\n            var verticalFit = mouseEvent.clientY >= rect.top && mouseEvent.clientY <= rect.bottom;\n            if (horizontalFit && verticalFit) {\n                mouseOverTarget = true;\n            }\n        });\n        return mouseOverTarget && dropTarget.isInterestedIn(this.dragSource.type);\n    };\n    DragAndDropService.prototype.addDropTarget = function (dropTarget) {\n        this.dropTargets.push(dropTarget);\n    };\n    DragAndDropService.prototype.removeDropTarget = function (dropTarget) {\n        this.dropTargets = this.dropTargets.filter(function (target) { return target.getContainer() !== dropTarget.getContainer(); });\n    };\n    DragAndDropService.prototype.hasExternalDropZones = function () {\n        return this.dropTargets.some(function (zones) { return zones.external; });\n    };\n    DragAndDropService.prototype.findExternalZone = function (params) {\n        var externalTargets = this.dropTargets.filter(function (target) { return target.external; });\n        return _.find(externalTargets, function (zone) { return zone.getContainer() === params.getContainer(); });\n    };\n    DragAndDropService.prototype.getHorizontalDirection = function (event) {\n        var clientX = this.eventLastTime.clientX;\n        var eClientX = event.clientX;\n        if (clientX === eClientX) {\n            return null;\n        }\n        return clientX > eClientX ? exports.HorizontalDirection.Left : exports.HorizontalDirection.Right;\n    };\n    DragAndDropService.prototype.getVerticalDirection = function (event) {\n        var clientY = this.eventLastTime.clientY;\n        var eClientY = event.clientY;\n        if (clientY === eClientY) {\n            return null;\n        }\n        return clientY > eClientY ? exports.VerticalDirection.Up : exports.VerticalDirection.Down;\n    };\n    DragAndDropService.prototype.createDropTargetEvent = function (dropTarget, event, hDirection, vDirection, fromNudge) {\n        // localise x and y to the target\n        var dropZoneTarget = dropTarget.getContainer();\n        var rect = dropZoneTarget.getBoundingClientRect();\n        var _a = this, api = _a.gridApi, columnApi = _a.columnApi, dragItem = _a.dragItem, dragSource = _a.dragSource;\n        var x = event.clientX - rect.left;\n        var y = event.clientY - rect.top;\n        return { event: event, x: x, y: y, vDirection: vDirection, hDirection: hDirection, dragSource: dragSource, fromNudge: fromNudge, dragItem: dragItem, api: api, columnApi: columnApi, dropZoneTarget: dropZoneTarget };\n    };\n    DragAndDropService.prototype.positionGhost = function (event) {\n        var ghost = this.eGhost;\n        var ghostRect = ghost.getBoundingClientRect();\n        var ghostHeight = ghostRect.height;\n        // for some reason, without the '-2', it still overlapped by 1 or 2 pixels, which\n        // then brought in scrollbars to the browser. no idea why, but putting in -2 here\n        // works around it which is good enough for me.\n        var browserWidth = _.getBodyWidth() - 2;\n        var browserHeight = _.getBodyHeight() - 2;\n        var top = event.pageY - (ghostHeight / 2);\n        var left = event.pageX - 10;\n        var usrDocument = this.gridOptionsWrapper.getDocument();\n        var windowScrollY = window.pageYOffset || usrDocument.documentElement.scrollTop;\n        var windowScrollX = window.pageXOffset || usrDocument.documentElement.scrollLeft;\n        // check ghost is not positioned outside of the browser\n        if (browserWidth > 0 && ((left + ghost.clientWidth) > (browserWidth + windowScrollX))) {\n            left = browserWidth + windowScrollX - ghost.clientWidth;\n        }\n        if (left < 0) {\n            left = 0;\n        }\n        if (browserHeight > 0 && ((top + ghost.clientHeight) > (browserHeight + windowScrollY))) {\n            top = browserHeight + windowScrollY - ghost.clientHeight;\n        }\n        if (top < 0) {\n            top = 0;\n        }\n        ghost.style.left = left + \"px\";\n        ghost.style.top = top + \"px\";\n    };\n    DragAndDropService.prototype.removeGhost = function () {\n        if (this.eGhost && this.eGhostParent) {\n            this.eGhostParent.removeChild(this.eGhost);\n        }\n        this.eGhost = null;\n    };\n    DragAndDropService.prototype.createGhost = function () {\n        this.eGhost = _.loadTemplate(DragAndDropService_1.GHOST_TEMPLATE);\n        var theme = this.environment.getTheme().theme;\n        if (theme) {\n            _.addCssClass(this.eGhost, theme);\n        }\n        this.eGhostIcon = this.eGhost.querySelector('.ag-dnd-ghost-icon');\n        this.setGhostIcon(null);\n        var eText = this.eGhost.querySelector('.ag-dnd-ghost-label');\n        var dragItemName = this.dragSource.dragItemName;\n        if (_.isFunction(dragItemName)) {\n            dragItemName = dragItemName();\n        }\n        eText.innerHTML = _.escape(dragItemName);\n        this.eGhost.style.height = '25px';\n        this.eGhost.style.top = '20px';\n        this.eGhost.style.left = '20px';\n        var usrDocument = this.gridOptionsWrapper.getDocument();\n        this.eGhostParent = usrDocument.querySelector('body');\n        if (!this.eGhostParent) {\n            console.warn('ag-Grid: could not find document body, it is needed for dragging columns');\n        }\n        else {\n            this.eGhostParent.appendChild(this.eGhost);\n        }\n    };\n    DragAndDropService.prototype.setGhostIcon = function (iconName, shake) {\n        if (shake === void 0) { shake = false; }\n        _.clearElement(this.eGhostIcon);\n        var eIcon;\n        if (!iconName) {\n            iconName = this.dragSource.defaultIconName || DragAndDropService_1.ICON_NOT_ALLOWED;\n        }\n        switch (iconName) {\n            case DragAndDropService_1.ICON_PINNED:\n                eIcon = this.ePinnedIcon;\n                break;\n            case DragAndDropService_1.ICON_MOVE:\n                eIcon = this.eMoveIcon;\n                break;\n            case DragAndDropService_1.ICON_LEFT:\n                eIcon = this.eLeftIcon;\n                break;\n            case DragAndDropService_1.ICON_RIGHT:\n                eIcon = this.eRightIcon;\n                break;\n            case DragAndDropService_1.ICON_GROUP:\n                eIcon = this.eGroupIcon;\n                break;\n            case DragAndDropService_1.ICON_AGGREGATE:\n                eIcon = this.eAggregateIcon;\n                break;\n            case DragAndDropService_1.ICON_PIVOT:\n                eIcon = this.ePivotIcon;\n                break;\n            case DragAndDropService_1.ICON_NOT_ALLOWED:\n                eIcon = this.eDropNotAllowedIcon;\n                break;\n            case DragAndDropService_1.ICON_HIDE:\n                eIcon = this.eHideIcon;\n                break;\n        }\n        _.addOrRemoveCssClass(this.eGhostIcon, 'ag-shake-left-to-right', shake);\n        if (eIcon === this.eHideIcon && this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()) {\n            return;\n        }\n        if (eIcon) {\n            this.eGhostIcon.appendChild(eIcon);\n        }\n    };\n    var DragAndDropService_1;\n    DragAndDropService.ICON_PINNED = 'pinned';\n    DragAndDropService.ICON_MOVE = 'move';\n    DragAndDropService.ICON_LEFT = 'left';\n    DragAndDropService.ICON_RIGHT = 'right';\n    DragAndDropService.ICON_GROUP = 'group';\n    DragAndDropService.ICON_AGGREGATE = 'aggregate';\n    DragAndDropService.ICON_PIVOT = 'pivot';\n    DragAndDropService.ICON_NOT_ALLOWED = 'notAllowed';\n    DragAndDropService.ICON_HIDE = 'hide';\n    DragAndDropService.GHOST_TEMPLATE = \"<div class=\\\"ag-dnd-ghost ag-unselectable\\\">\\n            <span class=\\\"ag-dnd-ghost-icon ag-shake-left-to-right\\\"></span>\\n            <div class=\\\"ag-dnd-ghost-label\\\"></div>\\n        </div>\";\n    __decorate$C([\n        Autowired('gridOptionsWrapper')\n    ], DragAndDropService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$C([\n        Autowired('dragService')\n    ], DragAndDropService.prototype, \"dragService\", void 0);\n    __decorate$C([\n        Autowired('environment')\n    ], DragAndDropService.prototype, \"environment\", void 0);\n    __decorate$C([\n        Autowired('columnApi')\n    ], DragAndDropService.prototype, \"columnApi\", void 0);\n    __decorate$C([\n        Autowired('gridApi')\n    ], DragAndDropService.prototype, \"gridApi\", void 0);\n    __decorate$C([\n        PostConstruct\n    ], DragAndDropService.prototype, \"init\", null);\n    __decorate$C([\n        PreDestroy\n    ], DragAndDropService.prototype, \"destroy\", null);\n    DragAndDropService = DragAndDropService_1 = __decorate$C([\n        Bean('dragAndDropService')\n    ], DragAndDropService);\n    return DragAndDropService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$x = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$D = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar RowDragComp = /** @class */ (function (_super) {\n    __extends$x(RowDragComp, _super);\n    function RowDragComp(rowNode, column, cellValue, beans) {\n        var _this = _super.call(this, \"<div class=\\\"ag-drag-handle ag-row-drag\\\" role=\\\"presentation\\\"></div>\") || this;\n        _this.rowNode = rowNode;\n        _this.column = column;\n        _this.cellValue = cellValue;\n        _this.beans = beans;\n        return _this;\n    }\n    RowDragComp.prototype.postConstruct = function () {\n        var eGui = this.getGui();\n        eGui.appendChild(_.createIconNoSpan('rowDrag', this.beans.gridOptionsWrapper, null));\n        this.addDragSource();\n        this.checkCompatibility();\n        var strategy = this.beans.gridOptionsWrapper.isRowDragManaged() ?\n            new ManagedVisibilityStrategy(this, this.beans, this.rowNode, this.column) :\n            new NonManagedVisibilityStrategy(this, this.beans, this.rowNode, this.column);\n        this.addFeature(strategy, this.beans.context);\n    };\n    RowDragComp.prototype.getSelectedCount = function () {\n        var multiRowEnabled = this.beans.gridOptionsWrapper.isEnableMultiRowDragging();\n        if (!multiRowEnabled) {\n            return 1;\n        }\n        var selection = this.beans.selectionController.getSelectedNodes();\n        return selection.indexOf(this.rowNode) !== -1 ? selection.length : 1;\n    };\n    // returns true if all compatibility items work out\n    RowDragComp.prototype.checkCompatibility = function () {\n        var managed = this.beans.gridOptionsWrapper.isRowDragManaged();\n        var treeData = this.beans.gridOptionsWrapper.isTreeData();\n        if (treeData && managed) {\n            _.doOnce(function () {\n                return console.warn('ag-Grid: If using row drag with tree data, you cannot have rowDragManaged=true');\n            }, 'RowDragComp.managedAndTreeData');\n        }\n    };\n    RowDragComp.prototype.addDragSource = function () {\n        var _this = this;\n        var dragItem = {\n            rowNode: this.rowNode,\n            columns: [this.column],\n            defaultTextValue: this.cellValue,\n        };\n        var rowDragText = this.column.getColDef().rowDragText;\n        var dragSource = {\n            type: exports.DragSourceType.RowDrag,\n            eElement: this.getGui(),\n            dragItemName: function () {\n                var dragItemCount = _this.getSelectedCount();\n                if (rowDragText) {\n                    return rowDragText(dragItem, dragItemCount);\n                }\n                return dragItemCount === 1 ? _this.cellValue : dragItemCount + \" rows\";\n            },\n            getDragItem: function () { return dragItem; },\n            dragStartPixels: 0\n        };\n        this.beans.dragAndDropService.addDragSource(dragSource, true);\n        this.addDestroyFunc(function () { return _this.beans.dragAndDropService.removeDragSource(dragSource); });\n    };\n    __decorate$D([\n        PostConstruct\n    ], RowDragComp.prototype, \"postConstruct\", null);\n    return RowDragComp;\n}(Component));\nvar VisibilityStrategy = /** @class */ (function (_super) {\n    __extends$x(VisibilityStrategy, _super);\n    function VisibilityStrategy(parent, rowNode, column) {\n        var _this = _super.call(this) || this;\n        _this.parent = parent;\n        _this.column = column;\n        _this.rowNode = rowNode;\n        return _this;\n    }\n    VisibilityStrategy.prototype.setDisplayedOrVisible = function (neverDisplayed) {\n        if (neverDisplayed) {\n            this.parent.setDisplayed(false);\n        }\n        else {\n            var shown = this.column.isRowDrag(this.rowNode);\n            var isShownSometimes = _.isFunction(this.column.getColDef().rowDrag);\n            // if shown sometimes, them some rows can have drag handle while other don't,\n            // so we use setVisible to keep the handles horizontally aligned (as setVisible\n            // keeps the empty space, whereas setDisplayed looses the space)\n            if (isShownSometimes) {\n                this.parent.setDisplayed(true);\n                this.parent.setVisible(shown);\n            }\n            else {\n                this.parent.setDisplayed(shown);\n            }\n        }\n    };\n    return VisibilityStrategy;\n}(BeanStub));\n// when non managed, the visibility depends on suppressRowDrag property only\nvar NonManagedVisibilityStrategy = /** @class */ (function (_super) {\n    __extends$x(NonManagedVisibilityStrategy, _super);\n    function NonManagedVisibilityStrategy(parent, beans, rowNode, column) {\n        var _this = _super.call(this, parent, rowNode, column) || this;\n        _this.beans = beans;\n        return _this;\n    }\n    NonManagedVisibilityStrategy.prototype.postConstruct = function () {\n        this.addDestroyableEventListener(this.beans.gridOptionsWrapper, 'suppressRowDrag', this.onSuppressRowDrag.bind(this));\n        // in case data changes, then we need to update visibility of drag item\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_DATA_CHANGED, this.workOutVisibility.bind(this));\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_CELL_CHANGED, this.workOutVisibility.bind(this));\n        this.workOutVisibility();\n    };\n    NonManagedVisibilityStrategy.prototype.onSuppressRowDrag = function () {\n        this.workOutVisibility();\n    };\n    NonManagedVisibilityStrategy.prototype.workOutVisibility = function () {\n        // only show the drag if both sort and filter are not present\n        var neverDisplayed = this.beans.gridOptionsWrapper.isSuppressRowDrag();\n        this.setDisplayedOrVisible(neverDisplayed);\n    };\n    __decorate$D([\n        PostConstruct\n    ], NonManagedVisibilityStrategy.prototype, \"postConstruct\", null);\n    return NonManagedVisibilityStrategy;\n}(VisibilityStrategy));\n// when managed, the visibility depends on sort, filter and row group, as well as suppressRowDrag property\nvar ManagedVisibilityStrategy = /** @class */ (function (_super) {\n    __extends$x(ManagedVisibilityStrategy, _super);\n    function ManagedVisibilityStrategy(parent, beans, rowNode, column) {\n        var _this = _super.call(this, parent, rowNode, column) || this;\n        _this.beans = beans;\n        return _this;\n    }\n    ManagedVisibilityStrategy.prototype.postConstruct = function () {\n        // we do not show the component if sort, filter or grouping is active\n        this.addDestroyableEventListener(this.beans.eventService, Events.EVENT_SORT_CHANGED, this.workOutVisibility.bind(this));\n        this.addDestroyableEventListener(this.beans.eventService, Events.EVENT_FILTER_CHANGED, this.workOutVisibility.bind(this));\n        this.addDestroyableEventListener(this.beans.eventService, Events.EVENT_COLUMN_ROW_GROUP_CHANGED, this.workOutVisibility.bind(this));\n        // in case data changes, then we need to update visibility of drag item\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_DATA_CHANGED, this.workOutVisibility.bind(this));\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_CELL_CHANGED, this.workOutVisibility.bind(this));\n        this.addDestroyableEventListener(this.beans.gridOptionsWrapper, 'suppressRowDrag', this.onSuppressRowDrag.bind(this));\n        this.workOutVisibility();\n    };\n    ManagedVisibilityStrategy.prototype.onSuppressRowDrag = function () {\n        this.workOutVisibility();\n    };\n    ManagedVisibilityStrategy.prototype.workOutVisibility = function () {\n        // only show the drag if both sort and filter are not present\n        var rowDragFeature = this.beans.gridPanel.getRowDragFeature();\n        var shouldPreventRowMove = rowDragFeature && rowDragFeature.shouldPreventRowMove();\n        var suppressRowDrag = this.beans.gridOptionsWrapper.isSuppressRowDrag();\n        var hasExternalDropZones = this.beans.dragAndDropService.hasExternalDropZones();\n        var neverDisplayed = (shouldPreventRowMove && !hasExternalDropZones) || suppressRowDrag;\n        this.setDisplayedOrVisible(neverDisplayed);\n    };\n    __decorate$D([\n        PostConstruct\n    ], ManagedVisibilityStrategy.prototype, \"postConstruct\", null);\n    return ManagedVisibilityStrategy;\n}(VisibilityStrategy));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$y = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$E = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar PopupEditorWrapper = /** @class */ (function (_super) {\n    __extends$y(PopupEditorWrapper, _super);\n    function PopupEditorWrapper(cellEditor) {\n        var _this = _super.call(this, \"<div class=\\\"ag-popup-editor\\\" tabindex=\\\"-1\\\"/>\") || this;\n        _this.getGuiCalledOnChild = false;\n        _this.cellEditor = cellEditor;\n        return _this;\n    }\n    PopupEditorWrapper.prototype.onKeyDown = function (event) {\n        if (!_.isUserSuppressingKeyboardEvent(this.gridOptionsWrapper, event, this.params.node, this.params.column, true)) {\n            this.params.onKeyDown(event);\n        }\n    };\n    PopupEditorWrapper.prototype.getGui = function () {\n        // we call getGui() on child here (rather than in the constructor)\n        // as we should wait for 'init' to be called on child first.\n        if (!this.getGuiCalledOnChild) {\n            this.appendChild(this.cellEditor.getGui());\n            this.getGuiCalledOnChild = true;\n        }\n        return _super.prototype.getGui.call(this);\n    };\n    PopupEditorWrapper.prototype.init = function (params) {\n        var _this = this;\n        this.params = params;\n        this.gridOptionsWrapper.setDomData(this.getGui(), PopupEditorWrapper.DOM_KEY_POPUP_EDITOR_WRAPPER, true);\n        this.addDestroyFunc(function () {\n            if (_this.cellEditor.destroy) {\n                _this.cellEditor.destroy();\n            }\n        });\n        this.addDestroyableEventListener(\n        // this needs to be 'super' and not 'this' as if we call 'this',\n        // it ends up called 'getGui()' on the child before 'init' was called,\n        // which is not good\n        _super.prototype.getGui.call(this), 'keydown', this.onKeyDown.bind(this));\n    };\n    PopupEditorWrapper.prototype.afterGuiAttached = function () {\n        if (this.cellEditor.afterGuiAttached) {\n            this.cellEditor.afterGuiAttached();\n        }\n    };\n    PopupEditorWrapper.prototype.getValue = function () {\n        return this.cellEditor.getValue();\n    };\n    PopupEditorWrapper.prototype.isCancelBeforeStart = function () {\n        if (this.cellEditor.isCancelBeforeStart) {\n            return this.cellEditor.isCancelBeforeStart();\n        }\n    };\n    PopupEditorWrapper.prototype.isCancelAfterEnd = function () {\n        if (this.cellEditor.isCancelAfterEnd) {\n            return this.cellEditor.isCancelAfterEnd();\n        }\n    };\n    PopupEditorWrapper.prototype.focusIn = function () {\n        if (this.cellEditor.focusIn) {\n            this.cellEditor.focusIn();\n        }\n    };\n    PopupEditorWrapper.prototype.focusOut = function () {\n        if (this.cellEditor.focusOut) {\n            this.cellEditor.focusOut();\n        }\n    };\n    PopupEditorWrapper.DOM_KEY_POPUP_EDITOR_WRAPPER = 'popupEditorWrapper';\n    __decorate$E([\n        Autowired('gridOptionsWrapper')\n    ], PopupEditorWrapper.prototype, \"gridOptionsWrapper\", void 0);\n    return PopupEditorWrapper;\n}(PopupComponent));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$z = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$F = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar DndSourceComp = /** @class */ (function (_super) {\n    __extends$z(DndSourceComp, _super);\n    function DndSourceComp(rowNode, column, cellValue, beans, eCell) {\n        var _this = _super.call(this, \"<div class=\\\"ag-drag-handle ag-row-drag\\\" draggable=\\\"true\\\"></div>\") || this;\n        _this.rowNode = rowNode;\n        _this.column = column;\n        _this.cellValue = cellValue;\n        _this.beans = beans;\n        _this.eCell = eCell;\n        return _this;\n    }\n    DndSourceComp.prototype.postConstruct = function () {\n        var eGui = this.getGui();\n        eGui.appendChild(_.createIconNoSpan('rowDrag', this.beans.gridOptionsWrapper, null));\n        this.addDragSource();\n        this.checkVisibility();\n    };\n    DndSourceComp.prototype.addDragSource = function () {\n        this.addGuiEventListener('dragstart', this.onDragStart.bind(this));\n    };\n    DndSourceComp.prototype.onDragStart = function (dragEvent) {\n        var _this = this;\n        var providedOnRowDrag = this.column.getColDef().dndSourceOnRowDrag;\n        var isIE = _.isBrowserIE();\n        if (!isIE) {\n            dragEvent.dataTransfer.setDragImage(this.eCell, 0, 0);\n        }\n        // default behaviour is to convert data to json and set into drag component\n        var defaultOnRowDrag = function () {\n            try {\n                var jsonData = JSON.stringify(_this.rowNode.data);\n                if (isIE) {\n                    dragEvent.dataTransfer.setData('text', jsonData);\n                }\n                else {\n                    dragEvent.dataTransfer.setData('application/json', jsonData);\n                    dragEvent.dataTransfer.setData('text/plain', jsonData);\n                }\n            }\n            catch (e) {\n                // if we cannot convert the data to json, then we do not set the type\n            }\n        };\n        if (providedOnRowDrag) {\n            providedOnRowDrag({ rowNode: this.rowNode, dragEvent: dragEvent });\n        }\n        else {\n            defaultOnRowDrag();\n        }\n    };\n    DndSourceComp.prototype.checkVisibility = function () {\n        var visible = this.column.isDndSource(this.rowNode);\n        this.setDisplayed(visible);\n    };\n    __decorate$F([\n        PostConstruct\n    ], DndSourceComp.prototype, \"postConstruct\", null);\n    return DndSourceComp;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$A = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$G = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar TooltipStates;\n(function (TooltipStates) {\n    TooltipStates[TooltipStates[\"NOTHING\"] = 0] = \"NOTHING\";\n    TooltipStates[TooltipStates[\"WAITING_TO_SHOW\"] = 1] = \"WAITING_TO_SHOW\";\n    TooltipStates[TooltipStates[\"SHOWING\"] = 2] = \"SHOWING\";\n})(TooltipStates || (TooltipStates = {}));\nvar TooltipFeature = /** @class */ (function (_super) {\n    __extends$A(TooltipFeature, _super);\n    function TooltipFeature(parentComp, location) {\n        var _this = _super.call(this) || this;\n        _this.DEFAULT_HIDE_TOOLTIP_TIMEOUT = 10000;\n        _this.SHOW_QUICK_TOOLTIP_DIFF = 1000;\n        _this.FADE_OUT_TOOLTIP_TIMEOUT = 1000;\n        _this.state = TooltipStates.NOTHING;\n        // when showing the tooltip, we need to make sure it's the most recent instance we request, as due to\n        // async we could request two tooltips before the first instance returns, in which case we should\n        // disregard the second instance.\n        _this.tooltipInstanceCount = 0;\n        _this.tooltipMouseTrack = false;\n        _this.parentComp = parentComp;\n        _this.location = location;\n        return _this;\n    }\n    TooltipFeature.prototype.postConstruct = function () {\n        this.tooltipShowDelay = this.gridOptionsWrapper.getTooltipShowDelay() || 2000;\n        this.tooltipMouseTrack = this.gridOptionsWrapper.isTooltipMouseTrack();\n        var el = this.parentComp.getGui();\n        this.addDestroyableEventListener(el, 'mouseenter', this.onMouseEnter.bind(this));\n        this.addDestroyableEventListener(el, 'mouseleave', this.onMouseLeave.bind(this));\n        this.addDestroyableEventListener(el, 'mousemove', this.onMouseMove.bind(this));\n        this.addDestroyableEventListener(el, 'mousedown', this.onMouseDown.bind(this));\n    };\n    TooltipFeature.prototype.destroy = function () {\n        // if this component gets destroyed while tooltip is showing, need to make sure\n        // we don't end with no mouseLeave event resulting in zombie tooltip\n        this.setToDoNothing();\n        _super.prototype.destroy.call(this);\n    };\n    TooltipFeature.prototype.onMouseEnter = function (e) {\n        // if another tooltip was hidden very recently, we only wait 200ms to show, not the normal waiting time\n        var delay = this.isLastTooltipHiddenRecently() ? 200 : this.tooltipShowDelay;\n        this.showTooltipTimeoutId = window.setTimeout(this.showTooltip.bind(this), delay);\n        this.lastMouseEvent = e;\n        this.state = TooltipStates.WAITING_TO_SHOW;\n    };\n    TooltipFeature.prototype.onMouseLeave = function () {\n        this.setToDoNothing();\n    };\n    TooltipFeature.prototype.setToDoNothing = function () {\n        if (this.state === TooltipStates.SHOWING) {\n            this.hideTooltip();\n        }\n        this.clearTimeouts();\n        this.state = TooltipStates.NOTHING;\n    };\n    TooltipFeature.prototype.onMouseMove = function (e) {\n        // there is a delay from the time we mouseOver a component and the time the\n        // tooltip is displayed, so we need to track mousemove to be able to correctly\n        // position the tooltip when showTooltip is called.\n        this.lastMouseEvent = e;\n        if (this.tooltipMouseTrack &&\n            this.state === TooltipStates.SHOWING &&\n            this.tooltipComp) {\n            this.positionTooltipUnderLastMouseEvent();\n        }\n    };\n    TooltipFeature.prototype.onMouseDown = function () {\n        this.setToDoNothing();\n    };\n    TooltipFeature.prototype.hideTooltip = function () {\n        // check if comp exists - due to async, although we asked for\n        // one, the instance may not be back yet\n        if (this.tooltipComp) {\n            this.destroyTooltipComp();\n            TooltipFeature.lastTooltipHideTime = new Date().getTime();\n        }\n        this.state = TooltipStates.NOTHING;\n    };\n    TooltipFeature.prototype.destroyTooltipComp = function () {\n        // add class to fade out the tooltip\n        _.addCssClass(this.tooltipComp.getGui(), 'ag-tooltip-hiding');\n        // make local copies of these variables, as we use them in the async function below,\n        // and we clear then to 'undefined' later, so need to take a copy before they are undefined.\n        var tooltipPopupDestroyFunc = this.tooltipPopupDestroyFunc;\n        var tooltipComp = this.tooltipComp;\n        window.setTimeout(function () {\n            tooltipPopupDestroyFunc();\n            if (tooltipComp.destroy) {\n                tooltipComp.destroy();\n            }\n        }, this.FADE_OUT_TOOLTIP_TIMEOUT);\n        this.tooltipPopupDestroyFunc = undefined;\n        this.tooltipComp = undefined;\n    };\n    TooltipFeature.prototype.isLastTooltipHiddenRecently = function () {\n        // return true if <1000ms since last time we hid a tooltip\n        var now = new Date().getTime();\n        var then = TooltipFeature.lastTooltipHideTime;\n        return (now - then) < this.SHOW_QUICK_TOOLTIP_DIFF;\n    };\n    TooltipFeature.prototype.showTooltip = function () {\n        var tooltipText = this.parentComp.getTooltipText();\n        if (!tooltipText) {\n            this.setToDoNothing();\n            return;\n        }\n        this.state = TooltipStates.SHOWING;\n        this.tooltipInstanceCount++;\n        var params = {\n            location: this.location,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            colDef: this.parentComp.getComponentHolder(),\n            column: this.parentComp.getColumn,\n            context: this.gridOptionsWrapper.getContext(),\n            rowIndex: this.parentComp.getCellPosition && this.parentComp.getCellPosition().rowIndex,\n            value: tooltipText\n        };\n        // we pass in tooltipInstanceCount so the callback knows what the count was when\n        // we requested the tooltip, so if another tooltip was requested in the mean time\n        // we disregard it\n        var callback = this.newTooltipComponentCallback.bind(this, this.tooltipInstanceCount);\n        this.userComponentFactory.newTooltipComponent(params).then(callback);\n    };\n    TooltipFeature.prototype.newTooltipComponentCallback = function (tooltipInstanceCopy, tooltipComp) {\n        var compNoLongerNeeded = this.state !== TooltipStates.SHOWING || this.tooltipInstanceCount !== tooltipInstanceCopy;\n        if (compNoLongerNeeded) {\n            if (tooltipComp.destroy) {\n                tooltipComp.destroy();\n            }\n            return;\n        }\n        var eGui = tooltipComp.getGui();\n        this.tooltipComp = tooltipComp;\n        if (!_.containsClass(eGui, 'ag-tooltip')) {\n            _.addCssClass(eGui, 'ag-tooltip-custom');\n        }\n        this.tooltipPopupDestroyFunc = this.popupService.addPopup(false, eGui, false);\n        this.positionTooltipUnderLastMouseEvent();\n        this.hideTooltipTimeoutId = window.setTimeout(this.hideTooltip.bind(this), this.DEFAULT_HIDE_TOOLTIP_TIMEOUT);\n    };\n    TooltipFeature.prototype.positionTooltipUnderLastMouseEvent = function () {\n        this.popupService.positionPopupUnderMouseEvent({\n            type: 'tooltip',\n            mouseEvent: this.lastMouseEvent,\n            ePopup: this.tooltipComp.getGui(),\n            nudgeY: 18\n        });\n    };\n    TooltipFeature.prototype.clearTimeouts = function () {\n        if (this.showTooltipTimeoutId) {\n            window.clearTimeout(this.showTooltipTimeoutId);\n            this.showTooltipTimeoutId = undefined;\n        }\n        if (this.hideTooltipTimeoutId) {\n            window.clearTimeout(this.hideTooltipTimeoutId);\n            this.hideTooltipTimeoutId = undefined;\n        }\n    };\n    __decorate$G([\n        Autowired('popupService')\n    ], TooltipFeature.prototype, \"popupService\", void 0);\n    __decorate$G([\n        Autowired('userComponentFactory')\n    ], TooltipFeature.prototype, \"userComponentFactory\", void 0);\n    __decorate$G([\n        Autowired('columnApi')\n    ], TooltipFeature.prototype, \"columnApi\", void 0);\n    __decorate$G([\n        Autowired('gridApi')\n    ], TooltipFeature.prototype, \"gridApi\", void 0);\n    __decorate$G([\n        Autowired('gridOptionsWrapper')\n    ], TooltipFeature.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$G([\n        PostConstruct\n    ], TooltipFeature.prototype, \"postConstruct\", null);\n    return TooltipFeature;\n}(BeanStub));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$B = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign$1 = (undefined && undefined.__assign) || function () {\n    __assign$1 = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign$1.apply(this, arguments);\n};\nvar CellComp = /** @class */ (function (_super) {\n    __extends$B(CellComp, _super);\n    function CellComp(scope, beans, column, rowNode, rowComp, autoHeightCell, printLayout) {\n        var _this = _super.call(this) || this;\n        _this.hasChartRange = false;\n        _this.editingCell = false;\n        _this.suppressRefreshCell = false;\n        _this.scope = null;\n        // every time we go into edit mode, or back again, this gets incremented.\n        // it's the components way of dealing with the async nature of framework components,\n        // so if a framework component takes a while to be created, we know if the object\n        // is still relevant when creating is finished. eg we could click edit / un-edit 20\n        // times before the first React edit component comes back - we should discard\n        // the first 19.\n        _this.cellEditorVersion = 0;\n        _this.cellRendererVersion = 0;\n        _this.scope = scope;\n        _this.beans = beans;\n        _this.column = column;\n        _this.rowNode = rowNode;\n        _this.rowComp = rowComp;\n        _this.autoHeightCell = autoHeightCell;\n        _this.printLayout = printLayout;\n        _this.createGridCellVo();\n        _this.rangeSelectionEnabled = _this.beans.rangeController && beans.gridOptionsWrapper.isEnableRangeSelection();\n        _this.cellFocused = _this.beans.focusController.isCellFocused(_this.cellPosition);\n        _this.firstRightPinned = _this.column.isFirstRightPinned();\n        _this.lastLeftPinned = _this.column.isLastLeftPinned();\n        if (_this.rangeSelectionEnabled && _this.beans.rangeController) {\n            var rangeController = _this.beans.rangeController;\n            _this.rangeCount = rangeController.getCellRangeCount(_this.cellPosition);\n            _this.hasChartRange = _this.getHasChartRange();\n        }\n        _this.getValueAndFormat();\n        _this.setUsingWrapper();\n        _this.chooseCellRenderer();\n        _this.setupColSpan();\n        _this.rowSpan = _this.column.getRowSpan(_this.rowNode);\n        return _this;\n    }\n    CellComp.prototype.getCreateTemplate = function () {\n        var unselectable = !this.beans.gridOptionsWrapper.isEnableCellTextSelection() ? 'unselectable=\"on\"' : '';\n        var templateParts = [];\n        var col = this.column;\n        var width = this.getCellWidth();\n        var left = this.modifyLeftForPrintLayout(this.getCellLeft());\n        var valueToRender = this.getInitialValueToRender();\n        var valueSanitised = _.get(this.column, 'colDef.template', null) ? valueToRender : _.escape(valueToRender);\n        this.tooltip = this.getToolTip();\n        var tooltipSanitised = _.escape(this.tooltip);\n        var colIdSanitised = _.escape(col.getId());\n        var wrapperStartTemplate = '';\n        var wrapperEndTemplate = '';\n        var stylesFromColDef = this.preProcessStylesFromColDef();\n        var cssClasses = this.getInitialCssClasses();\n        var stylesForRowSpanning = this.getStylesForRowSpanning();\n        var colIdxSanitised = _.escape(this.getAriaColumnIndex());\n        if (this.usingWrapper) {\n            wrapperStartTemplate = \"<div ref=\\\"eCellWrapper\\\" class=\\\"ag-cell-wrapper\\\" role=\\\"presentation\\\">\\n                <span ref=\\\"eCellValue\\\" role=\\\"gridcell\\\" aria-colindex=\\\"\" + colIdxSanitised + \"\\\" class=\\\"ag-cell-value\\\" \" + unselectable + \">\";\n            wrapperEndTemplate = '</span></div>';\n        }\n        templateParts.push(\"<div\");\n        templateParts.push(\" tabindex=\\\"-1\\\"\");\n        templateParts.push(\" \" + unselectable); // THIS IS FOR IE ONLY so text selection doesn't bubble outside of the grid\n        templateParts.push(\" role=\\\"\" + (this.usingWrapper ? 'presentation' : 'gridcell') + \"\\\"\");\n        if (!this.usingWrapper) {\n            templateParts.push(\" aria-colindex=\" + colIdxSanitised);\n        }\n        templateParts.push(\" comp-id=\\\"\" + this.getCompId() + \"\\\" \");\n        templateParts.push(\" col-id=\\\"\" + colIdSanitised + \"\\\"\");\n        templateParts.push(\" class=\\\"\" + _.escape(cssClasses.join(' ')) + \"\\\"\");\n        if (this.beans.gridOptionsWrapper.isEnableBrowserTooltips() && _.exists(tooltipSanitised)) {\n            templateParts.push(\"title=\\\"\" + tooltipSanitised + \"\\\"\");\n        }\n        templateParts.push(\" style=\\\"width: \" + Number(width) + \"px; left: \" + Number(left) + \"px; \" + _.escape(stylesFromColDef) + \" \" + _.escape(stylesForRowSpanning) + \"\\\" >\");\n        templateParts.push(wrapperStartTemplate);\n        if (_.exists(valueSanitised, true)) {\n            templateParts.push(valueSanitised);\n        }\n        templateParts.push(wrapperEndTemplate);\n        templateParts.push(\"</div>\");\n        return templateParts.join('');\n    };\n    CellComp.prototype.getStylesForRowSpanning = function () {\n        if (this.rowSpan === 1) {\n            return '';\n        }\n        var singleRowHeight = this.beans.gridOptionsWrapper.getRowHeightAsNumber();\n        var totalRowHeight = singleRowHeight * this.rowSpan;\n        return \"height: \" + totalRowHeight + \"px; z-index: 1;\";\n    };\n    CellComp.prototype.afterAttached = function () {\n        var querySelector = \"[comp-id=\\\"\" + this.getCompId() + \"\\\"]\";\n        var eGui = this.eParentRow.querySelector(querySelector);\n        this.setGui(eGui);\n        // all of these have dependencies on the eGui, so only do them after eGui is set\n        this.addDomData();\n        this.populateTemplate();\n        this.createCellRendererInstance(true);\n        this.angular1Compile();\n        this.refreshHandle();\n        if (_.exists(this.tooltip) && !this.beans.gridOptionsWrapper.isEnableBrowserTooltips()) {\n            this.addFeature(new TooltipFeature(this, 'cell'), this.beans.context);\n        }\n    };\n    CellComp.prototype.onColumnHover = function () {\n        var isHovered = this.beans.columnHoverService.isHovered(this.column);\n        _.addOrRemoveCssClass(this.getGui(), 'ag-column-hover', isHovered);\n    };\n    CellComp.prototype.onCellChanged = function (event) {\n        var eventImpactsThisCell = event.column === this.column;\n        if (eventImpactsThisCell) {\n            this.refreshCell({});\n        }\n    };\n    CellComp.prototype.getCellLeft = function () {\n        var mostLeftCol;\n        if (this.beans.gridOptionsWrapper.isEnableRtl() && this.colsSpanning) {\n            mostLeftCol = _.last(this.colsSpanning);\n        }\n        else {\n            mostLeftCol = this.column;\n        }\n        return mostLeftCol.getLeft();\n    };\n    CellComp.prototype.getCellWidth = function () {\n        if (!this.colsSpanning) {\n            return this.column.getActualWidth();\n        }\n        return this.colsSpanning.reduce(function (width, col) { return width + col.getActualWidth(); }, 0);\n    };\n    CellComp.prototype.onFlashCells = function (event) {\n        var cellId = this.beans.cellPositionUtils.createId(this.cellPosition);\n        var shouldFlash = event.cells[cellId];\n        if (shouldFlash) {\n            this.animateCell('highlight');\n        }\n    };\n    CellComp.prototype.setupColSpan = function () {\n        // if no col span is active, then we don't set it up, as it would be wasteful of CPU\n        if (_.missing(this.getComponentHolder().colSpan)) {\n            return;\n        }\n        // because we are col spanning, a reorder of the cols can change what cols we are spanning over\n        this.addDestroyableEventListener(this.beans.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayColumnsChanged.bind(this));\n        // because we are spanning over multiple cols, we check for width any time any cols width changes.\n        // this is expensive - really we should be explicitly checking only the cols we are spanning over\n        // instead of every col, however it would be tricky code to track the cols we are spanning over, so\n        // because hardly anyone will be using colSpan, am favouring this easier way for more maintainable code.\n        this.addDestroyableEventListener(this.beans.eventService, Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED, this.onWidthChanged.bind(this));\n        this.colsSpanning = this.getColSpanningList();\n    };\n    CellComp.prototype.getColSpanningList = function () {\n        var colSpan = this.column.getColSpan(this.rowNode);\n        var colsSpanning = [];\n        // if just one col, the col span is just the column we are in\n        if (colSpan === 1) {\n            colsSpanning.push(this.column);\n        }\n        else {\n            var pointer = this.column;\n            var pinned = this.column.getPinned();\n            for (var i = 0; pointer && i < colSpan; i++) {\n                colsSpanning.push(pointer);\n                pointer = this.beans.columnController.getDisplayedColAfter(pointer);\n                if (!pointer || _.missing(pointer)) {\n                    break;\n                }\n                // we do not allow col spanning to span outside of pinned areas\n                if (pinned !== pointer.getPinned()) {\n                    break;\n                }\n            }\n        }\n        return colsSpanning;\n    };\n    CellComp.prototype.onDisplayColumnsChanged = function () {\n        var colsSpanning = this.getColSpanningList();\n        if (!_.areEqual(this.colsSpanning, colsSpanning)) {\n            this.colsSpanning = colsSpanning;\n            this.onWidthChanged();\n            this.onLeftChanged(); // left changes when doing RTL\n        }\n    };\n    CellComp.prototype.getAriaColumnIndex = function () {\n        var allColumns = this.beans.columnController.getAllDisplayedColumns();\n        return (allColumns.indexOf(this.column) + 1).toString();\n    };\n    CellComp.prototype.refreshAriaIndex = function () {\n        var colIdx = this.getAriaColumnIndex();\n        var el = this.usingWrapper ? this.eCellValue : this.getGui();\n        el.setAttribute('aria-colindex', colIdx);\n    };\n    CellComp.prototype.getInitialCssClasses = function () {\n        var cssClasses = [\"ag-cell\", \"ag-cell-not-inline-editing\"];\n        // if we are putting the cell into a dummy container, to work out it's height,\n        // then we don't put the height css in, as we want cell to fit height in that case.\n        if (!this.autoHeightCell) {\n            cssClasses.push('ag-cell-auto-height');\n        }\n        var doingFocusCss = !this.beans.gridOptionsWrapper.isSuppressCellSelection();\n        if (doingFocusCss && this.cellFocused) {\n            // otherwise the class depends on the focus state\n            cssClasses.push('ag-cell-focus');\n        }\n        if (this.firstRightPinned) {\n            cssClasses.push('ag-cell-first-right-pinned');\n        }\n        if (this.lastLeftPinned) {\n            cssClasses.push('ag-cell-last-left-pinned');\n        }\n        if (this.beans.columnHoverService.isHovered(this.column)) {\n            cssClasses.push('ag-column-hover');\n        }\n        _.pushAll(cssClasses, this.preProcessClassesFromColDef());\n        _.pushAll(cssClasses, this.preProcessCellClassRules());\n        _.pushAll(cssClasses, this.getInitialRangeClasses());\n        // if using the wrapper, this class goes on the wrapper instead\n        if (!this.usingWrapper) {\n            cssClasses.push('ag-cell-value');\n        }\n        return cssClasses;\n    };\n    CellComp.prototype.getInitialValueToRender = function () {\n        // if using a cellRenderer, then render the html from the cell renderer if it exists\n        if (this.usingCellRenderer) {\n            if (typeof this.cellRendererGui === 'string') {\n                return this.cellRendererGui;\n            }\n            return '';\n        }\n        var colDef = this.getComponentHolder();\n        if (colDef.template) {\n            // template is really only used for angular 1 - as people using ng1 are used to providing templates with\n            // bindings in it. in ng2, people will hopefully want to provide components, not templates.\n            return colDef.template;\n        }\n        if (colDef.templateUrl) {\n            // likewise for templateUrl - it's for ng1 really - when we move away from ng1, we can take these out.\n            // niall was pro angular 1 when writing template and templateUrl, if writing from scratch now, would\n            // not do these, but would follow a pattern that was friendly towards components, not templates.\n            var template = this.beans.templateService.getTemplate(colDef.templateUrl, this.refreshCell.bind(this, true));\n            return template || '';\n        }\n        return this.getValueToUse();\n    };\n    CellComp.prototype.getRenderedRow = function () {\n        return this.rowComp;\n    };\n    CellComp.prototype.isSuppressNavigable = function () {\n        return this.column.isSuppressNavigable(this.rowNode);\n    };\n    CellComp.prototype.getCellRenderer = function () {\n        return this.cellRenderer;\n    };\n    CellComp.prototype.getCellEditor = function () {\n        return this.cellEditor;\n    };\n    // + stop editing {forceRefresh: true, suppressFlash: true}\n    // + event cellChanged {}\n    // + cellRenderer.params.refresh() {} -> method passes 'as is' to the cellRenderer, so params could be anything\n    // + rowComp: event dataChanged {animate: update, newData: !update}\n    // + rowComp: api refreshCells() {animate: true/false}\n    // + rowRenderer: api softRefreshView() {}\n    CellComp.prototype.refreshCell = function (params) {\n        // if we are in the middle of 'stopEditing', then we don't refresh here, as refresh gets called explicitly\n        if (this.suppressRefreshCell || this.editingCell) {\n            return;\n        }\n        var colDef = this.getComponentHolder();\n        var newData = params && params.newData;\n        var suppressFlash = (params && params.suppressFlash) || colDef.suppressCellFlash;\n        var forceRefresh = params && params.forceRefresh;\n        var oldValue = this.value;\n        // get latest value without invoking the value formatter as we may not be updating the cell\n        this.value = this.getValue();\n        // for simple values only (not objects), see if the value is the same, and if it is, skip the refresh.\n        // when never allow skipping after an edit, as after editing, we need to put the GUI back to the way\n        // if was before the edit.\n        var valuesDifferent = !this.valuesAreEqual(oldValue, this.value);\n        var dataNeedsUpdating = forceRefresh || valuesDifferent;\n        if (dataNeedsUpdating) {\n            // now invoke the value formatter as we are going to update cell\n            this.valueFormatted = this.beans.valueFormatterService.formatValue(this.column, this.rowNode, this.scope, this.value);\n            // if it's 'new data', then we don't refresh the cellRenderer, even if refresh method is available.\n            // this is because if the whole data is new (ie we are showing stock price 'BBA' now and not 'SSD')\n            // then we are not showing a movement in the stock price, rather we are showing different stock.\n            var cellRendererRefreshed = newData ? false : this.attemptCellRendererRefresh();\n            // we do the replace if not doing refresh, or if refresh was unsuccessful.\n            // the refresh can be unsuccessful if we are using a framework (eg ng2 or react) and the framework\n            // wrapper has the refresh method, but the underlying component doesn't\n            if (!cellRendererRefreshed) {\n                this.replaceContentsAfterRefresh();\n            }\n            // we don't want to flash the cells when processing a filter change, as otherwise the UI would\n            // be to busy. see comment in FilterManager with regards processingFilterChange\n            var processingFilterChange = this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();\n            var flashCell = !suppressFlash && !processingFilterChange &&\n                (this.beans.gridOptionsWrapper.isEnableCellChangeFlash() || colDef.enableCellChangeFlash);\n            if (flashCell) {\n                this.flashCell();\n            }\n            // need to check rules. note, we ignore colDef classes and styles, these are assumed to be static\n            this.postProcessStylesFromColDef();\n            this.postProcessClassesFromColDef();\n        }\n        // we can't readily determine if the data in an angularjs template has changed, so here we just update\n        // and recompile (if applicable)\n        this.updateAngular1ScopeAndCompile();\n        this.refreshToolTip();\n        // we do cellClassRules even if the value has not changed, so that users who have rules that\n        // look at other parts of the row (where the other part of the row might of changed) will work.\n        this.postProcessCellClassRules();\n    };\n    // user can also call this via API\n    CellComp.prototype.flashCell = function () {\n        this.animateCell('data-changed');\n    };\n    CellComp.prototype.animateCell = function (cssName) {\n        var fullName = \"ag-cell-\" + cssName;\n        var animationFullName = \"ag-cell-\" + cssName + \"-animation\";\n        var element = this.getGui();\n        // we want to highlight the cells, without any animation\n        _.addCssClass(element, fullName);\n        _.removeCssClass(element, animationFullName);\n        // then once that is applied, we remove the highlight with animation\n        window.setTimeout(function () {\n            _.removeCssClass(element, fullName);\n            _.addCssClass(element, animationFullName);\n            window.setTimeout(function () {\n                // and then to leave things as we got them, we remove the animation\n                _.removeCssClass(element, animationFullName);\n            }, 1000);\n        }, 500);\n    };\n    CellComp.prototype.replaceContentsAfterRefresh = function () {\n        // otherwise we rip out the cell and replace it\n        _.clearElement(this.eParentOfValue);\n        // remove old renderer component if it exists\n        if (this.cellRenderer && this.cellRenderer.destroy) {\n            this.cellRenderer.destroy();\n        }\n        this.cellRenderer = null;\n        this.cellRendererGui = null;\n        // populate\n        this.putDataIntoCellAfterRefresh();\n        this.updateAngular1ScopeAndCompile();\n    };\n    CellComp.prototype.updateAngular1ScopeAndCompile = function () {\n        if (this.beans.gridOptionsWrapper.isAngularCompileRows() && this.scope) {\n            this.scope.data = __assign$1({}, this.rowNode.data);\n            this.angular1Compile();\n        }\n    };\n    CellComp.prototype.angular1Compile = function () {\n        // if angular compiling, then need to also compile the cell again (angular compiling sucks, please wait...)\n        if (this.beans.gridOptionsWrapper.isAngularCompileRows()) {\n            var eGui = this.getGui();\n            // only compile the node if it hasn't already been done\n            // this prevents \"orphaned\" node leaks\n            if (!eGui.classList.contains('ng-scope') || eGui.childElementCount === 0) {\n                var compiledElement_1 = this.beans.$compile(eGui)(this.scope);\n                this.addDestroyFunc(function () { return compiledElement_1.remove(); });\n            }\n        }\n    };\n    CellComp.prototype.postProcessStylesFromColDef = function () {\n        var stylesToUse = this.processStylesFromColDef();\n        if (stylesToUse) {\n            _.addStylesToElement(this.getGui(), stylesToUse);\n        }\n    };\n    CellComp.prototype.preProcessStylesFromColDef = function () {\n        return _.cssStyleObjectToMarkup(this.processStylesFromColDef());\n    };\n    CellComp.prototype.processStylesFromColDef = function () {\n        var colDef = this.getComponentHolder();\n        if (colDef.cellStyle) {\n            var cssToUse = void 0;\n            if (typeof colDef.cellStyle === 'function') {\n                var cellStyleParams = {\n                    value: this.value,\n                    data: this.rowNode.data,\n                    node: this.rowNode,\n                    colDef: colDef,\n                    column: this.column,\n                    $scope: this.scope,\n                    context: this.beans.gridOptionsWrapper.getContext(),\n                    api: this.beans.gridOptionsWrapper.getApi()\n                };\n                var cellStyleFunc = colDef.cellStyle;\n                cssToUse = cellStyleFunc(cellStyleParams);\n            }\n            else {\n                cssToUse = colDef.cellStyle;\n            }\n            return cssToUse;\n        }\n    };\n    CellComp.prototype.postProcessClassesFromColDef = function () {\n        var _this = this;\n        this.processClassesFromColDef(function (className) { return _.addCssClass(_this.getGui(), className); });\n    };\n    CellComp.prototype.preProcessClassesFromColDef = function () {\n        var res = [];\n        this.processClassesFromColDef(function (className) { return res.push(className); });\n        return res;\n    };\n    CellComp.prototype.processClassesFromColDef = function (onApplicableClass) {\n        var colDef = this.getComponentHolder();\n        this.beans.stylingService.processStaticCellClasses(colDef, {\n            value: this.value,\n            data: this.rowNode.data,\n            node: this.rowNode,\n            colDef: colDef,\n            rowIndex: this.rowNode.rowIndex,\n            $scope: this.scope,\n            api: this.beans.gridOptionsWrapper.getApi(),\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            context: this.beans.gridOptionsWrapper.getContext()\n        }, onApplicableClass);\n    };\n    CellComp.prototype.putDataIntoCellAfterRefresh = function () {\n        // template gets preference, then cellRenderer, then do it ourselves\n        var colDef = this.getComponentHolder();\n        if (colDef.template) {\n            // template is really only used for angular 1 - as people using ng1 are used to providing templates with\n            // bindings in it. in ng2, people will hopefully want to provide components, not templates.\n            this.eParentOfValue.innerHTML = colDef.template;\n        }\n        else if (colDef.templateUrl) {\n            // likewise for templateUrl - it's for ng1 really - when we move away from ng1, we can take these out.\n            // niall was pro angular 1 when writing template and templateUrl, if writing from scratch now, would\n            // not do these, but would follow a pattern that was friendly towards components, not templates.\n            var template = this.beans.templateService.getTemplate(colDef.templateUrl, this.refreshCell.bind(this, true));\n            if (template) {\n                this.eParentOfValue.innerHTML = template;\n            }\n        }\n        else {\n            // we can switch from using a cell renderer back to the default if a user\n            // is using cellRendererSelect\n            this.chooseCellRenderer();\n            if (this.usingCellRenderer) {\n                this.createCellRendererInstance();\n            }\n            else {\n                var valueToUse = this.getValueToUse();\n                if (valueToUse != null) {\n                    this.eParentOfValue.innerHTML = _.escape(valueToUse);\n                }\n            }\n        }\n    };\n    CellComp.prototype.attemptCellRendererRefresh = function () {\n        if (_.missing(this.cellRenderer) || !this.cellRenderer || _.missing(this.cellRenderer.refresh)) {\n            return false;\n        }\n        // if the cell renderer has a refresh method, we call this instead of doing a refresh\n        var params = this.createCellRendererParams();\n        // take any custom params off of the user\n        var finalParams = this.beans.userComponentFactory.createFinalParams(this.getComponentHolder(), this.cellRendererType, params);\n        var result = this.cellRenderer.refresh(finalParams);\n        // NOTE on undefined: previous version of the cellRenderer.refresh() interface\n        // returned nothing, if the method existed, we assumed it refreshed. so for\n        // backwards compatibility, we assume if method exists and returns nothing,\n        // that it was successful.\n        return result === true || result === undefined;\n    };\n    CellComp.prototype.refreshToolTip = function () {\n        var newTooltip = this.getToolTip();\n        if (this.tooltip === newTooltip) {\n            return;\n        }\n        var hasNewTooltip = _.exists(newTooltip);\n        if (hasNewTooltip && this.tooltip === newTooltip.toString()) {\n            return;\n        }\n        var hadTooltip = _.exists(this.tooltip);\n        this.tooltip = newTooltip;\n        if (this.beans.gridOptionsWrapper.isEnableBrowserTooltips()) {\n            if (hasNewTooltip) {\n                this.eParentOfValue.setAttribute('title', this.tooltip);\n            }\n            else {\n                this.eParentOfValue.removeAttribute('title');\n            }\n        }\n    };\n    CellComp.prototype.valuesAreEqual = function (val1, val2) {\n        // if the user provided an equals method, use that, otherwise do simple comparison\n        var colDef = this.getComponentHolder();\n        var equalsMethod = colDef ? colDef.equals : null;\n        return equalsMethod ? equalsMethod(val1, val2) : val1 === val2;\n    };\n    CellComp.prototype.getToolTip = function () {\n        var colDef = this.getComponentHolder();\n        var data = this.rowNode.data;\n        if (colDef.tooltipField && _.exists(data)) {\n            return _.getValueUsingField(data, colDef.tooltipField, this.column.isTooltipFieldContainsDots());\n        }\n        var valueGetter = colDef.tooltipValueGetter || colDef.tooltip;\n        if (valueGetter) {\n            return valueGetter({\n                api: this.beans.gridOptionsWrapper.getApi(),\n                columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n                colDef: colDef,\n                column: this.getColumn(),\n                context: this.beans.gridOptionsWrapper.getContext(),\n                value: this.value,\n                valueFormatted: this.valueFormatted,\n                rowIndex: this.cellPosition.rowIndex,\n                node: this.rowNode,\n                data: this.rowNode.data\n            });\n        }\n        return null;\n    };\n    CellComp.prototype.getTooltipText = function (escape) {\n        if (escape === void 0) { escape = true; }\n        return escape ? _.escape(this.tooltip) : this.tooltip;\n    };\n    CellComp.prototype.processCellClassRules = function (onApplicableClass, onNotApplicableClass) {\n        var colDef = this.getComponentHolder();\n        this.beans.stylingService.processClassRules(colDef.cellClassRules, {\n            value: this.value,\n            data: this.rowNode.data,\n            node: this.rowNode,\n            colDef: colDef,\n            rowIndex: this.cellPosition.rowIndex,\n            api: this.beans.gridOptionsWrapper.getApi(),\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            $scope: this.scope,\n            context: this.beans.gridOptionsWrapper.getContext()\n        }, onApplicableClass, onNotApplicableClass);\n    };\n    CellComp.prototype.postProcessCellClassRules = function () {\n        var _this = this;\n        this.processCellClassRules(function (className) { return _.addCssClass(_this.getGui(), className); }, function (className) { return _.removeCssClass(_this.getGui(), className); });\n    };\n    CellComp.prototype.preProcessCellClassRules = function () {\n        var res = [];\n        this.processCellClassRules(function (className) { return res.push(className); }, function (_) {\n            // not catered for, if creating, no need\n            // to remove class as it was never there\n        });\n        return res;\n    };\n    // a wrapper is used when we are putting a selection checkbox in the cell with the value\n    CellComp.prototype.setUsingWrapper = function () {\n        var colDef = this.getComponentHolder();\n        // never allow selection or dragging on pinned rows\n        if (this.rowNode.rowPinned) {\n            this.usingWrapper = false;\n            this.includeSelectionComponent = false;\n            this.includeRowDraggingComponent = false;\n            this.includeDndSourceComponent = false;\n            return;\n        }\n        var cbSelectionIsFunc = typeof colDef.checkboxSelection === 'function';\n        var rowDraggableIsFunc = typeof colDef.rowDrag === 'function';\n        var dndSourceIsFunc = typeof colDef.dndSource === 'function';\n        this.includeSelectionComponent = cbSelectionIsFunc || colDef.checkboxSelection === true;\n        this.includeRowDraggingComponent = rowDraggableIsFunc || colDef.rowDrag === true;\n        this.includeDndSourceComponent = dndSourceIsFunc || colDef.dndSource === true;\n        var enableTextSelection = this.beans.gridOptionsWrapper.isEnableCellTextSelection();\n        this.usingWrapper = enableTextSelection || this.includeRowDraggingComponent || this.includeSelectionComponent || this.includeDndSourceComponent;\n    };\n    CellComp.prototype.chooseCellRenderer = function () {\n        // template gets preference, then cellRenderer, then do it ourselves\n        var colDef = this.getComponentHolder();\n        // templates are for ng1, ideally we wouldn't have these, they are ng1 support\n        // inside the core which is bad\n        if (colDef.template || colDef.templateUrl) {\n            this.usingCellRenderer = false;\n            return;\n        }\n        var params = this.createCellRendererParams();\n        var cellRenderer = this.beans.userComponentFactory.lookupComponentClassDef(colDef, 'cellRenderer', params);\n        var pinnedRowCellRenderer = this.beans.userComponentFactory.lookupComponentClassDef(colDef, 'pinnedRowCellRenderer', params);\n        if (pinnedRowCellRenderer && this.rowNode.rowPinned) {\n            this.cellRendererType = CellComp.CELL_RENDERER_TYPE_PINNED;\n            this.usingCellRenderer = true;\n        }\n        else if (cellRenderer) {\n            this.cellRendererType = CellComp.CELL_RENDERER_TYPE_NORMAL;\n            this.usingCellRenderer = true;\n        }\n        else {\n            this.usingCellRenderer = false;\n        }\n    };\n    CellComp.prototype.createCellRendererInstance = function (useTaskService) {\n        var _this = this;\n        if (useTaskService === void 0) { useTaskService = false; }\n        if (!this.usingCellRenderer) {\n            return;\n        }\n        // never use task service if angularCompileRows=true, as that assume the cell renderers\n        // are finished when the row is created. also we never use it if animation frame service\n        // is turned off.\n        // and lastly we never use it if doing auto-height, as the auto-height service checks the\n        // row height directly after the cell is created, it doesn't wait around for the tasks to complete\n        var angularCompileRows = this.beans.gridOptionsWrapper.isAngularCompileRows();\n        var suppressAnimationFrame = this.beans.gridOptionsWrapper.isSuppressAnimationFrame();\n        if (angularCompileRows || suppressAnimationFrame || this.autoHeightCell) {\n            useTaskService = false;\n        }\n        var params = this.createCellRendererParams();\n        this.cellRendererVersion++;\n        var callback = this.afterCellRendererCreated.bind(this, this.cellRendererVersion);\n        var cellRendererTypeNormal = this.cellRendererType === CellComp.CELL_RENDERER_TYPE_NORMAL;\n        this.createCellRendererFunc = function () {\n            _this.createCellRendererFunc = null;\n            // this can return null in the event that the user has switched from a renderer component to nothing, for example\n            // when using a cellRendererSelect to return a component or null depending on row data etc\n            var componentPromise = _this.beans.userComponentFactory.newCellRenderer(_this.getComponentHolder(), params, !cellRendererTypeNormal);\n            if (componentPromise) {\n                componentPromise.then(callback);\n            }\n        };\n        if (useTaskService) {\n            this.beans.taskQueue.createTask(this.createCellRendererFunc, this.rowNode.rowIndex, 'createTasksP2');\n        }\n        else {\n            this.createCellRendererFunc();\n        }\n    };\n    CellComp.prototype.afterCellRendererCreated = function (cellRendererVersion, cellRenderer) {\n        // see if daemon\n        if (!this.isAlive() || (cellRendererVersion !== this.cellRendererVersion)) {\n            if (cellRenderer.destroy) {\n                cellRenderer.destroy();\n            }\n            return;\n        }\n        this.cellRenderer = cellRenderer;\n        this.cellRendererGui = this.cellRenderer.getGui();\n        if (_.missing(this.cellRendererGui)) {\n            return;\n        }\n        // if async components, then it's possible the user started editing since this call was made\n        if (!this.editingCell) {\n            this.eParentOfValue.appendChild(this.cellRendererGui);\n        }\n    };\n    CellComp.prototype.createCellRendererParams = function () {\n        var _this = this;\n        return {\n            value: this.value,\n            valueFormatted: this.valueFormatted,\n            getValue: this.getValue.bind(this),\n            setValue: function (value) { return _this.beans.valueService.setValue(_this.rowNode, _this.column, value); },\n            formatValue: this.formatValue.bind(this),\n            data: this.rowNode.data,\n            node: this.rowNode,\n            colDef: this.getComponentHolder(),\n            column: this.column,\n            $scope: this.scope,\n            rowIndex: this.cellPosition.rowIndex,\n            api: this.beans.gridOptionsWrapper.getApi(),\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            context: this.beans.gridOptionsWrapper.getContext(),\n            refreshCell: this.refreshCell.bind(this),\n            eGridCell: this.getGui(),\n            eParentOfValue: this.eParentOfValue,\n            // these bits are not documented anywhere, so we could drop them?\n            // it was in the olden days to allow user to register for when rendered\n            // row was removed (the row comp was removed), however now that the user\n            // can provide components for cells, the destroy method gets call when this\n            // happens so no longer need to fire event.\n            addRowCompListener: this.rowComp ? this.rowComp.addEventListener.bind(this.rowComp) : null,\n            addRenderedRowListener: function (eventType, listener) {\n                console.warn('ag-Grid: since ag-Grid .v11, params.addRenderedRowListener() is now params.addRowCompListener()');\n                if (_this.rowComp) {\n                    _this.rowComp.addEventListener(eventType, listener);\n                }\n            }\n        };\n    };\n    CellComp.prototype.formatValue = function (value) {\n        var valueFormatted = this.beans.valueFormatterService.formatValue(this.column, this.rowNode, this.scope, value);\n        return valueFormatted != null ? valueFormatted : value;\n    };\n    CellComp.prototype.getValueToUse = function () {\n        return this.valueFormatted != null ? this.valueFormatted : this.value;\n    };\n    CellComp.prototype.getValueAndFormat = function () {\n        this.value = this.getValue();\n        this.valueFormatted = this.beans.valueFormatterService.formatValue(this.column, this.rowNode, this.scope, this.value);\n    };\n    CellComp.prototype.getValue = function () {\n        // if we don't check this, then the grid will render leaf groups as open even if we are not\n        // allowing the user to open leaf groups. confused? remember for pivot mode we don't allow\n        // opening leaf groups, so we have to force leafGroups to be closed in case the user expanded\n        // them via the API, or user user expanded them in the UI before turning on pivot mode\n        var lockedClosedGroup = this.rowNode.leafGroup && this.beans.columnController.isPivotMode();\n        var isOpenGroup = this.rowNode.group && this.rowNode.expanded && !this.rowNode.footer && !lockedClosedGroup;\n        // are we showing group footers\n        var groupFootersEnabled = this.beans.gridOptionsWrapper.isGroupIncludeFooter();\n        // if doing footers, we normally don't show agg data at group level when group is open\n        var groupAlwaysShowAggData = this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();\n        // if doing grouping and footers, we don't want to include the agg value\n        // in the header when the group is open\n        var ignoreAggData = (isOpenGroup && groupFootersEnabled) && !groupAlwaysShowAggData;\n        return this.beans.valueService.getValue(this.column, this.rowNode, false, ignoreAggData);\n    };\n    CellComp.prototype.onMouseEvent = function (eventName, mouseEvent) {\n        if (_.isStopPropagationForAgGrid(mouseEvent)) {\n            return;\n        }\n        switch (eventName) {\n            case 'click':\n                this.onCellClicked(mouseEvent);\n                break;\n            case 'mousedown':\n                this.onMouseDown(mouseEvent);\n                break;\n            case 'dblclick':\n                this.onCellDoubleClicked(mouseEvent);\n                break;\n            case 'mouseout':\n                this.onMouseOut(mouseEvent);\n                break;\n            case 'mouseover':\n                this.onMouseOver(mouseEvent);\n                break;\n        }\n    };\n    CellComp.prototype.dispatchCellContextMenuEvent = function (event) {\n        var colDef = this.getComponentHolder();\n        var cellContextMenuEvent = this.createEvent(event, Events.EVENT_CELL_CONTEXT_MENU);\n        this.beans.eventService.dispatchEvent(cellContextMenuEvent);\n        if (colDef.onCellContextMenu) {\n            // to make the callback async, do in a timeout\n            window.setTimeout(function () { return colDef.onCellContextMenu(cellContextMenuEvent); }, 0);\n        }\n    };\n    CellComp.prototype.createEvent = function (domEvent, eventType) {\n        var event = {\n            node: this.rowNode,\n            data: this.rowNode.data,\n            value: this.value,\n            column: this.column,\n            colDef: this.getComponentHolder(),\n            context: this.beans.gridOptionsWrapper.getContext(),\n            api: this.beans.gridApi,\n            columnApi: this.beans.columnApi,\n            rowPinned: this.rowNode.rowPinned,\n            event: domEvent,\n            type: eventType,\n            rowIndex: this.rowNode.rowIndex\n        };\n        // because we are hacking in $scope for angular 1, we have to de-reference\n        if (this.scope) {\n            event.$scope = this.scope;\n        }\n        return event;\n    };\n    CellComp.prototype.onMouseOut = function (mouseEvent) {\n        var cellMouseOutEvent = this.createEvent(mouseEvent, Events.EVENT_CELL_MOUSE_OUT);\n        this.beans.eventService.dispatchEvent(cellMouseOutEvent);\n        this.beans.columnHoverService.clearMouseOver();\n    };\n    CellComp.prototype.onMouseOver = function (mouseEvent) {\n        var cellMouseOverEvent = this.createEvent(mouseEvent, Events.EVENT_CELL_MOUSE_OVER);\n        this.beans.eventService.dispatchEvent(cellMouseOverEvent);\n        this.beans.columnHoverService.setMouseOver([this.column]);\n    };\n    CellComp.prototype.onCellDoubleClicked = function (mouseEvent) {\n        var colDef = this.getComponentHolder();\n        // always dispatch event to eventService\n        var cellDoubleClickedEvent = this.createEvent(mouseEvent, Events.EVENT_CELL_DOUBLE_CLICKED);\n        this.beans.eventService.dispatchEvent(cellDoubleClickedEvent);\n        // check if colDef also wants to handle event\n        if (typeof colDef.onCellDoubleClicked === 'function') {\n            // to make the callback async, do in a timeout\n            window.setTimeout(function () { return colDef.onCellDoubleClicked(cellDoubleClickedEvent); }, 0);\n        }\n        var editOnDoubleClick = !this.beans.gridOptionsWrapper.isSingleClickEdit()\n            && !this.beans.gridOptionsWrapper.isSuppressClickEdit();\n        if (editOnDoubleClick) {\n            this.startRowOrCellEdit();\n        }\n    };\n    // called by rowRenderer when user navigates via tab key\n    CellComp.prototype.startRowOrCellEdit = function (keyPress, charPress) {\n        if (this.beans.gridOptionsWrapper.isFullRowEdit()) {\n            this.rowComp.startRowEditing(keyPress, charPress, this);\n        }\n        else {\n            this.startEditingIfEnabled(keyPress, charPress, true);\n        }\n    };\n    CellComp.prototype.isCellEditable = function () {\n        return this.column.isCellEditable(this.rowNode);\n    };\n    // either called internally if single cell editing, or called by rowRenderer if row editing\n    CellComp.prototype.startEditingIfEnabled = function (keyPress, charPress, cellStartedEdit) {\n        if (keyPress === void 0) { keyPress = null; }\n        if (charPress === void 0) { charPress = null; }\n        if (cellStartedEdit === void 0) { cellStartedEdit = false; }\n        // don't do it if not editable\n        if (!this.isCellEditable()) {\n            return;\n        }\n        // don't do it if already editing\n        if (this.editingCell) {\n            return;\n        }\n        this.editingCell = true;\n        this.cellEditorVersion++;\n        var callback = this.afterCellEditorCreated.bind(this, this.cellEditorVersion);\n        var params = this.createCellEditorParams(keyPress, charPress, cellStartedEdit);\n        this.createCellEditor(params).then(callback);\n        // if we don't do this, and editor component is async, then there will be a period\n        // when the component isn't present and keyboard navigation won't work - so example\n        // of user hitting tab quickly (more quickly than renderers getting created) won't work\n        var cellEditorAsync = _.missing(this.cellEditor);\n        if (cellEditorAsync && cellStartedEdit) {\n            this.focusCell(true);\n        }\n    };\n    CellComp.prototype.createCellEditor = function (params) {\n        var _this = this;\n        var cellEditorPromise = this.beans.userComponentFactory.newCellEditor(this.column.getColDef(), params);\n        return cellEditorPromise.map(function (cellEditor) {\n            var isPopup = cellEditor.isPopup && cellEditor.isPopup();\n            if (!isPopup) {\n                return cellEditor;\n            }\n            if (_this.beans.gridOptionsWrapper.isFullRowEdit()) {\n                console.warn('ag-Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both ' +\n                    '- either turn off fullRowEdit, or stop using popup editors.');\n            }\n            // if a popup, then we wrap in a popup editor and return the popup\n            var popupEditorWrapper = new PopupEditorWrapper(cellEditor);\n            _this.beans.context.wireBean(popupEditorWrapper);\n            popupEditorWrapper.init(params);\n            return popupEditorWrapper;\n        });\n    };\n    CellComp.prototype.afterCellEditorCreated = function (cellEditorVersion, cellEditor) {\n        // if editingCell=false, means user cancelled the editor before component was ready.\n        // if versionMismatch, then user cancelled the edit, then started the edit again, and this\n        //   is the first editor which is now stale.\n        var versionMismatch = cellEditorVersion !== this.cellEditorVersion;\n        if (versionMismatch || !this.editingCell) {\n            if (cellEditor.destroy) {\n                cellEditor.destroy();\n            }\n            return;\n        }\n        if (cellEditor.isCancelBeforeStart && cellEditor.isCancelBeforeStart()) {\n            if (cellEditor.destroy) {\n                cellEditor.destroy();\n            }\n            this.editingCell = false;\n            return;\n        }\n        if (!cellEditor.getGui) {\n            console.warn(\"ag-Grid: cellEditor for column \" + this.column.getId() + \" is missing getGui() method\");\n            // no getGui, for React guys, see if they attached a react component directly\n            if (cellEditor.render) {\n                console.warn(\"ag-Grid: we found 'render' on the component, are you trying to set a React renderer but added it as colDef.cellEditor instead of colDef.cellEditorFmk?\");\n            }\n            if (cellEditor.destroy) {\n                cellEditor.destroy();\n            }\n            this.editingCell = false;\n            return;\n        }\n        this.cellEditor = cellEditor;\n        this.cellEditorInPopup = cellEditor.isPopup !== undefined && cellEditor.isPopup();\n        this.setInlineEditingClass();\n        if (this.cellEditorInPopup) {\n            this.addPopupCellEditor();\n        }\n        else {\n            this.addInCellEditor();\n        }\n        if (cellEditor.afterGuiAttached) {\n            cellEditor.afterGuiAttached();\n        }\n        var event = this.createEvent(null, Events.EVENT_CELL_EDITING_STARTED);\n        this.beans.eventService.dispatchEvent(event);\n    };\n    CellComp.prototype.addInCellEditor = function () {\n        _.clearElement(this.getGui());\n        if (this.cellEditor) {\n            this.getGui().appendChild(this.cellEditor.getGui());\n        }\n        this.angular1Compile();\n    };\n    CellComp.prototype.addPopupCellEditor = function () {\n        var _this = this;\n        var ePopupGui = this.cellEditor ? this.cellEditor.getGui() : null;\n        var useModelPopup = this.beans.gridOptionsWrapper.isStopEditingWhenGridLosesFocus();\n        this.hideEditorPopup = this.beans.popupService.addPopup(useModelPopup, ePopupGui, true, \n        // callback for when popup disappears\n        function () {\n            _this.onPopupEditorClosed();\n        });\n        var params = {\n            column: this.column,\n            rowNode: this.rowNode,\n            type: 'popupCellEditor',\n            eventSource: this.getGui(),\n            ePopup: ePopupGui,\n            keepWithinBounds: true\n        };\n        var position = this.cellEditor && this.cellEditor.getPopupPosition ? this.cellEditor.getPopupPosition() : 'over';\n        if (position === 'under') {\n            this.beans.popupService.positionPopupOverComponent(params);\n        }\n        else {\n            this.beans.popupService.positionPopupUnderComponent(params);\n        }\n        this.angular1Compile();\n    };\n    CellComp.prototype.onPopupEditorClosed = function () {\n        // we only call stopEditing if we are editing, as\n        // it's possible the popup called 'stop editing'\n        // before this, eg if 'enter key' was pressed on\n        // the editor.\n        if (this.editingCell) {\n            // note: this only happens when use clicks outside of the grid. if use clicks on another\n            // cell, then the editing will have already stopped on this cell\n            this.stopRowOrCellEdit();\n            // we only focus cell again if this cell is still focused. it is possible\n            // it is not focused if the user cancelled the edit by clicking on another\n            // cell outside of this one\n            if (this.beans.focusController.isCellFocused(this.cellPosition)) {\n                this.focusCell(true);\n            }\n        }\n    };\n    // if we are editing inline, then we don't have the padding in the cell (set in the themes)\n    // to allow the text editor full access to the entire cell\n    CellComp.prototype.setInlineEditingClass = function () {\n        if (!this.isAlive()) {\n            return;\n        }\n        // ag-cell-inline-editing - appears when user is inline editing\n        // ag-cell-not-inline-editing - appears when user is no inline editing\n        // ag-cell-popup-editing - appears when user is editing cell in popup (appears on the cell, not on the popup)\n        // note: one of {ag-cell-inline-editing, ag-cell-not-inline-editing} is always present, they toggle.\n        //       however {ag-cell-popup-editing} shows when popup, so you have both {ag-cell-popup-editing}\n        //       and {ag-cell-not-inline-editing} showing at the same time.\n        var editingInline = this.editingCell && !this.cellEditorInPopup;\n        var popupEditorShowing = this.editingCell && this.cellEditorInPopup;\n        _.addOrRemoveCssClass(this.getGui(), \"ag-cell-inline-editing\", editingInline);\n        _.addOrRemoveCssClass(this.getGui(), \"ag-cell-not-inline-editing\", !editingInline);\n        _.addOrRemoveCssClass(this.getGui(), \"ag-cell-popup-editing\", popupEditorShowing);\n        _.addOrRemoveCssClass(this.getGui().parentNode, \"ag-row-inline-editing\", editingInline);\n        _.addOrRemoveCssClass(this.getGui().parentNode, \"ag-row-not-inline-editing\", !editingInline);\n    };\n    CellComp.prototype.createCellEditorParams = function (keyPress, charPress, cellStartedEdit) {\n        return {\n            value: this.getValue(),\n            keyPress: keyPress,\n            charPress: charPress,\n            column: this.column,\n            colDef: this.column.getColDef(),\n            rowIndex: this.cellPosition.rowIndex,\n            node: this.rowNode,\n            data: this.rowNode.data,\n            api: this.beans.gridOptionsWrapper.getApi(),\n            cellStartedEdit: cellStartedEdit,\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            context: this.beans.gridOptionsWrapper.getContext(),\n            $scope: this.scope,\n            onKeyDown: this.onKeyDown.bind(this),\n            stopEditing: this.stopEditingAndFocus.bind(this),\n            eGridCell: this.getGui(),\n            parseValue: this.parseValue.bind(this),\n            formatValue: this.formatValue.bind(this)\n        };\n    };\n    // cell editors call this, when they want to stop for reasons other\n    // than what we pick up on. eg selecting from a dropdown ends editing.\n    CellComp.prototype.stopEditingAndFocus = function (suppressNavigateAfterEdit) {\n        if (suppressNavigateAfterEdit === void 0) { suppressNavigateAfterEdit = false; }\n        this.stopRowOrCellEdit();\n        this.focusCell(true);\n        if (!suppressNavigateAfterEdit) {\n            this.navigateAfterEdit();\n        }\n    };\n    CellComp.prototype.parseValue = function (newValue) {\n        var colDef = this.getComponentHolder();\n        var params = {\n            node: this.rowNode,\n            data: this.rowNode.data,\n            oldValue: this.value,\n            newValue: newValue,\n            colDef: colDef,\n            column: this.column,\n            api: this.beans.gridOptionsWrapper.getApi(),\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            context: this.beans.gridOptionsWrapper.getContext()\n        };\n        var valueParser = colDef.valueParser;\n        return _.exists(valueParser) ? this.beans.expressionService.evaluate(valueParser, params) : newValue;\n    };\n    CellComp.prototype.focusCell = function (forceBrowserFocus) {\n        if (forceBrowserFocus === void 0) { forceBrowserFocus = false; }\n        this.beans.focusController.setFocusedCell(this.cellPosition.rowIndex, this.column, this.rowNode.rowPinned, forceBrowserFocus);\n    };\n    CellComp.prototype.setFocusInOnEditor = function () {\n        if (this.editingCell) {\n            if (this.cellEditor && this.cellEditor.focusIn) {\n                // if the editor is present, then we just focus it\n                this.cellEditor.focusIn();\n            }\n            else {\n                // if the editor is not present, it means async cell editor (eg React fibre)\n                // and we are trying to set focus before the cell editor is present, so we\n                // focus the cell instead\n                this.focusCell(true);\n            }\n        }\n    };\n    CellComp.prototype.isEditing = function () {\n        return this.editingCell;\n    };\n    CellComp.prototype.onKeyDown = function (event) {\n        var key = event.which || event.keyCode;\n        switch (key) {\n            case Constants.KEY_ENTER:\n                this.onEnterKeyDown();\n                break;\n            case Constants.KEY_F2:\n                this.onF2KeyDown();\n                break;\n            case Constants.KEY_ESCAPE:\n                this.onEscapeKeyDown();\n                break;\n            case Constants.KEY_TAB:\n                this.onTabKeyDown(event);\n                break;\n            case Constants.KEY_BACKSPACE:\n            case Constants.KEY_DELETE:\n                this.onBackspaceOrDeleteKeyPressed(key);\n                break;\n            case Constants.KEY_DOWN:\n            case Constants.KEY_UP:\n            case Constants.KEY_RIGHT:\n            case Constants.KEY_LEFT:\n                this.onNavigationKeyPressed(event, key);\n                break;\n        }\n    };\n    CellComp.prototype.setFocusOutOnEditor = function () {\n        if (this.editingCell && this.cellEditor && this.cellEditor.focusOut) {\n            this.cellEditor.focusOut();\n        }\n    };\n    CellComp.prototype.onNavigationKeyPressed = function (event, key) {\n        if (this.editingCell) {\n            return;\n        }\n        if (event.shiftKey && this.rangeSelectionEnabled) {\n            this.onShiftRangeSelect(key);\n        }\n        else {\n            this.beans.rowRenderer.navigateToNextCell(event, key, this.cellPosition, true);\n        }\n        // if we don't prevent default, the grid will scroll with the navigation keys\n        event.preventDefault();\n    };\n    CellComp.prototype.onShiftRangeSelect = function (key) {\n        if (!this.beans.rangeController) {\n            return;\n        }\n        var endCell = this.beans.rangeController.extendLatestRangeInDirection(key);\n        if (endCell) {\n            this.beans.rowRenderer.ensureCellVisible(endCell);\n        }\n    };\n    CellComp.prototype.onTabKeyDown = function (event) {\n        this.beans.rowRenderer.onTabKeyDown(this, event);\n    };\n    CellComp.prototype.onBackspaceOrDeleteKeyPressed = function (key) {\n        if (!this.editingCell) {\n            this.startRowOrCellEdit(key);\n        }\n    };\n    CellComp.prototype.onEnterKeyDown = function () {\n        if (this.editingCell || this.rowComp.isEditing()) {\n            this.stopEditingAndFocus();\n        }\n        else {\n            if (this.beans.gridOptionsWrapper.isEnterMovesDown()) {\n                this.beans.rowRenderer.navigateToNextCell(null, Constants.KEY_DOWN, this.cellPosition, false);\n            }\n            else {\n                this.startRowOrCellEdit(Constants.KEY_ENTER);\n            }\n        }\n    };\n    CellComp.prototype.navigateAfterEdit = function () {\n        var fullRowEdit = this.beans.gridOptionsWrapper.isFullRowEdit();\n        if (fullRowEdit) {\n            return;\n        }\n        var enterMovesDownAfterEdit = this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit();\n        if (enterMovesDownAfterEdit) {\n            this.beans.rowRenderer.navigateToNextCell(null, Constants.KEY_DOWN, this.cellPosition, false);\n        }\n    };\n    CellComp.prototype.onF2KeyDown = function () {\n        if (!this.editingCell) {\n            this.startRowOrCellEdit(Constants.KEY_F2);\n        }\n    };\n    CellComp.prototype.onEscapeKeyDown = function () {\n        if (this.editingCell) {\n            this.stopRowOrCellEdit(true);\n            this.focusCell(true);\n        }\n    };\n    CellComp.prototype.onKeyPress = function (event) {\n        // check this, in case focus is on a (for example) a text field inside the cell,\n        // in which cse we should not be listening for these key pressed\n        var eventTarget = _.getTarget(event);\n        var eventOnChildComponent = eventTarget !== this.getGui();\n        if (eventOnChildComponent || this.editingCell) {\n            return;\n        }\n        var pressedChar = String.fromCharCode(event.charCode);\n        if (pressedChar === ' ') {\n            this.onSpaceKeyPressed(event);\n        }\n        else if (_.isEventFromPrintableCharacter(event)) {\n            this.startRowOrCellEdit(null, pressedChar);\n            // if we don't prevent default, then the keypress also gets applied to the text field\n            // (at least when doing the default editor), but we need to allow the editor to decide\n            // what it wants to do. we only do this IF editing was started - otherwise it messes\n            // up when the use is not doing editing, but using rendering with text fields in cellRenderer\n            // (as it would block the the user from typing into text fields).\n            event.preventDefault();\n        }\n    };\n    CellComp.prototype.onSpaceKeyPressed = function (event) {\n        var gridOptionsWrapper = this.beans.gridOptionsWrapper;\n        if (!this.editingCell && gridOptionsWrapper.isRowSelection()) {\n            var newSelection = !this.rowNode.isSelected();\n            if (newSelection || gridOptionsWrapper.isRowDeselection()) {\n                this.rowNode.setSelected(newSelection);\n            }\n        }\n        // prevent default as space key, by default, moves browser scroll down\n        event.preventDefault();\n    };\n    CellComp.prototype.onMouseDown = function (mouseEvent) {\n        var ctrlKey = mouseEvent.ctrlKey, metaKey = mouseEvent.metaKey, shiftKey = mouseEvent.shiftKey;\n        var target = mouseEvent.target;\n        var _a = this.beans, eventService = _a.eventService, rangeController = _a.rangeController;\n        // do not change the range for right-clicks inside an existing range\n        if (this.isRightClickInExistingRange(mouseEvent)) {\n            return;\n        }\n        if (!shiftKey || (rangeController && !rangeController.getCellRanges().length)) {\n            // We only need to pass true to focusCell when the browser is IE/Edge and we are trying\n            // to focus the cell itself (element with ag-cell). This should never be true if the\n            // mousedown was triggered due to a click on a cell editor for example.\n            var forceBrowserFocus = (_.isBrowserIE() || _.isBrowserEdge()) && target.classList.contains('ag-cell');\n            this.focusCell(forceBrowserFocus);\n        }\n        else {\n            // if a range is being changed, we need to make sure the focused cell does not change.\n            mouseEvent.preventDefault();\n        }\n        // if we are clicking on a checkbox, we need to make sure the cell wrapping that checkbox\n        // is focused but we don't want to change the range selection, so return here.\n        if (this.containsWidget(target)) {\n            return;\n        }\n        if (rangeController) {\n            var thisCell = this.cellPosition;\n            if (shiftKey) {\n                rangeController.extendLatestRangeToCell(thisCell);\n            }\n            else {\n                var ctrlKeyPressed = ctrlKey || metaKey;\n                rangeController.setRangeToCell(thisCell, ctrlKeyPressed);\n            }\n        }\n        eventService.dispatchEvent(this.createEvent(mouseEvent, Events.EVENT_CELL_MOUSE_DOWN));\n    };\n    CellComp.prototype.isRightClickInExistingRange = function (mouseEvent) {\n        var rangeController = this.beans.rangeController;\n        if (rangeController) {\n            var cellInRange = rangeController.isCellInAnyRange(this.getCellPosition());\n            if (cellInRange && mouseEvent.button === 2) {\n                return true;\n            }\n        }\n        return false;\n    };\n    CellComp.prototype.containsWidget = function (target) {\n        return _.isElementChildOfClass(target, 'ag-selection-checkbox', 3);\n    };\n    // returns true if on iPad and this is second 'click' event in 200ms\n    CellComp.prototype.isDoubleClickOnIPad = function () {\n        if (!_.isIOSUserAgent() || _.isEventSupported('dblclick')) {\n            return false;\n        }\n        var nowMillis = new Date().getTime();\n        var res = nowMillis - this.lastIPadMouseClickEvent < 200;\n        this.lastIPadMouseClickEvent = nowMillis;\n        return res;\n    };\n    CellComp.prototype.onCellClicked = function (mouseEvent) {\n        // iPad doesn't have double click - so we need to mimic it to enable editing for iPad.\n        if (this.isDoubleClickOnIPad()) {\n            this.onCellDoubleClicked(mouseEvent);\n            mouseEvent.preventDefault(); // if we don't do this, then iPad zooms in\n            return;\n        }\n        var _a = this.beans, eventService = _a.eventService, gridOptionsWrapper = _a.gridOptionsWrapper;\n        var cellClickedEvent = this.createEvent(mouseEvent, Events.EVENT_CELL_CLICKED);\n        eventService.dispatchEvent(cellClickedEvent);\n        var colDef = this.getComponentHolder();\n        if (colDef.onCellClicked) {\n            // to make callback async, do in a timeout\n            window.setTimeout(function () { return colDef.onCellClicked(cellClickedEvent); }, 0);\n        }\n        var editOnSingleClick = (gridOptionsWrapper.isSingleClickEdit() || colDef.singleClickEdit)\n            && !gridOptionsWrapper.isSuppressClickEdit();\n        if (editOnSingleClick) {\n            this.startRowOrCellEdit();\n        }\n    };\n    CellComp.prototype.createGridCellVo = function () {\n        this.cellPosition = {\n            rowIndex: this.rowNode.rowIndex,\n            rowPinned: this.rowNode.rowPinned,\n            column: this.column\n        };\n    };\n    CellComp.prototype.getCellPosition = function () {\n        return this.cellPosition;\n    };\n    CellComp.prototype.getParentRow = function () {\n        return this.eParentRow;\n    };\n    CellComp.prototype.setParentRow = function (eParentRow) {\n        this.eParentRow = eParentRow;\n    };\n    CellComp.prototype.getColumn = function () {\n        return this.column;\n    };\n    CellComp.prototype.getComponentHolder = function () {\n        return this.column.getColDef();\n    };\n    CellComp.prototype.detach = function () {\n        this.eParentRow.removeChild(this.getGui());\n    };\n    // if the row is also getting destroyed, then we don't need to remove from dom,\n    // as the row will also get removed, so no need to take out the cells from the row\n    // if the row is going (removing is an expensive operation, so only need to remove\n    // the top part)\n    CellComp.prototype.destroy = function () {\n        if (this.createCellRendererFunc) {\n            this.beans.taskQueue.cancelTask(this.createCellRendererFunc);\n        }\n        this.stopEditing();\n        if (this.cellRenderer && this.cellRenderer.destroy) {\n            this.cellRenderer.destroy();\n            this.cellRenderer = null;\n        }\n        if (this.selectionHandle) {\n            this.selectionHandle.destroy();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    CellComp.prototype.onLeftChanged = function () {\n        var left = this.modifyLeftForPrintLayout(this.getCellLeft());\n        this.getGui().style.left = left + 'px';\n        this.refreshAriaIndex();\n    };\n    CellComp.prototype.modifyLeftForPrintLayout = function (leftPosition) {\n        if (!this.printLayout || this.column.getPinned() === Constants.PINNED_LEFT) {\n            return leftPosition;\n        }\n        if (this.column.getPinned() === Constants.PINNED_RIGHT) {\n            var leftWidth_1 = this.beans.columnController.getPinnedLeftContainerWidth();\n            var bodyWidth = this.beans.columnController.getBodyContainerWidth();\n            return leftWidth_1 + bodyWidth + leftPosition;\n        }\n        // is in body\n        var leftWidth = this.beans.columnController.getPinnedLeftContainerWidth();\n        return leftWidth + leftPosition;\n    };\n    CellComp.prototype.onWidthChanged = function () {\n        var width = this.getCellWidth();\n        this.getGui().style.width = width + 'px';\n    };\n    CellComp.prototype.getRangeBorders = function () {\n        var _this = this;\n        var isRtl = this.beans.gridOptionsWrapper.isEnableRtl();\n        var top = false;\n        var right = false;\n        var bottom = false;\n        var left = false;\n        var thisCol = this.cellPosition.column;\n        var _a = this.beans, rangeController = _a.rangeController, columnController = _a.columnController;\n        var leftCol;\n        var rightCol;\n        if (isRtl) {\n            leftCol = columnController.getDisplayedColAfter(thisCol);\n            rightCol = columnController.getDisplayedColBefore(thisCol);\n        }\n        else {\n            leftCol = columnController.getDisplayedColBefore(thisCol);\n            rightCol = columnController.getDisplayedColAfter(thisCol);\n        }\n        var ranges = rangeController.getCellRanges().filter(function (range) { return rangeController.isCellInSpecificRange(_this.cellPosition, range); });\n        // this means we are the first column in the grid\n        if (!leftCol) {\n            left = true;\n        }\n        // this means we are the last column in the grid\n        if (!rightCol) {\n            right = true;\n        }\n        for (var i = 0; i < ranges.length; i++) {\n            if (top && right && bottom && left) {\n                break;\n            }\n            var range = ranges[i];\n            var startRow = rangeController.getRangeStartRow(range);\n            var endRow = rangeController.getRangeEndRow(range);\n            if (!top && this.beans.rowPositionUtils.sameRow(startRow, this.cellPosition)) {\n                top = true;\n            }\n            if (!bottom && this.beans.rowPositionUtils.sameRow(endRow, this.cellPosition)) {\n                bottom = true;\n            }\n            if (!left && range.columns.indexOf(leftCol) < 0) {\n                left = true;\n            }\n            if (!right && range.columns.indexOf(rightCol) < 0) {\n                right = true;\n            }\n        }\n        return { top: top, right: right, bottom: bottom, left: left };\n    };\n    CellComp.prototype.getInitialRangeClasses = function () {\n        var classes = [];\n        if (!this.rangeSelectionEnabled || !this.rangeCount) {\n            return classes;\n        }\n        classes.push('ag-cell-range-selected');\n        if (this.hasChartRange) {\n            classes.push('ag-cell-range-chart');\n        }\n        var count = Math.min(this.rangeCount, 4);\n        classes.push(\"ag-cell-range-selected-\" + count);\n        if (this.isSingleCell()) {\n            classes.push('ag-cell-range-single-cell');\n        }\n        if (this.rangeCount > 0) {\n            var borders = this.getRangeBorders();\n            if (borders.top) {\n                classes.push('ag-cell-range-top');\n            }\n            if (borders.right) {\n                classes.push('ag-cell-range-right');\n            }\n            if (borders.bottom) {\n                classes.push('ag-cell-range-bottom');\n            }\n            if (borders.left) {\n                classes.push('ag-cell-range-left');\n            }\n        }\n        if (!!this.selectionHandle) {\n            classes.push('ag-cell-range-handle');\n        }\n        return classes;\n    };\n    CellComp.prototype.onRowIndexChanged = function () {\n        // when index changes, this influences items that need the index, so we update the\n        // grid cell so they are working off the new index.\n        this.createGridCellVo();\n        // when the index of the row changes, ie means the cell may have lost or gained focus\n        this.onCellFocused();\n        // check range selection\n        this.onRangeSelectionChanged();\n    };\n    CellComp.prototype.onRangeSelectionChanged = function () {\n        var rangeController = this.beans.rangeController;\n        if (!rangeController) {\n            return;\n        }\n        var _a = this, cellPosition = _a.cellPosition, rangeCount = _a.rangeCount;\n        var newRangeCount = rangeController.getCellRangeCount(cellPosition);\n        var element = this.getGui();\n        if (rangeCount !== newRangeCount) {\n            _.addOrRemoveCssClass(element, 'ag-cell-range-selected', newRangeCount !== 0);\n            _.addOrRemoveCssClass(element, 'ag-cell-range-selected-1', newRangeCount === 1);\n            _.addOrRemoveCssClass(element, 'ag-cell-range-selected-2', newRangeCount === 2);\n            _.addOrRemoveCssClass(element, 'ag-cell-range-selected-3', newRangeCount === 3);\n            _.addOrRemoveCssClass(element, 'ag-cell-range-selected-4', newRangeCount >= 4);\n            this.rangeCount = newRangeCount;\n        }\n        var hasChartRange = this.getHasChartRange();\n        if (hasChartRange !== this.hasChartRange) {\n            this.hasChartRange = hasChartRange;\n            _.addOrRemoveCssClass(element, 'ag-cell-range-chart', this.hasChartRange);\n        }\n        this.updateRangeBorders();\n        _.addOrRemoveCssClass(element, 'ag-cell-range-single-cell', this.isSingleCell());\n        this.refreshHandle();\n    };\n    CellComp.prototype.getHasChartRange = function () {\n        var rangeController = this.beans.rangeController;\n        if (!this.rangeCount || !rangeController) {\n            return false;\n        }\n        var cellRanges = rangeController.getCellRanges();\n        return cellRanges.length > 0 && cellRanges.every(function (range) { return _.includes([exports.CellRangeType.DIMENSION, exports.CellRangeType.VALUE], range.type); });\n    };\n    CellComp.prototype.shouldHaveSelectionHandle = function () {\n        var _a = this.beans, gridOptionsWrapper = _a.gridOptionsWrapper, rangeController = _a.rangeController;\n        var cellRanges = rangeController.getCellRanges();\n        var rangesLen = cellRanges.length;\n        if (this.rangeCount < 1 || rangesLen < 1) {\n            return false;\n        }\n        var cellRange = _.last(cellRanges);\n        var cellPosition = this.getCellPosition();\n        var fillHandleIsAvailable = rangesLen === 1 &&\n            (gridOptionsWrapper.isEnableFillHandle() || gridOptionsWrapper.isEnableRangeHandle()) &&\n            !this.editingCell;\n        if (this.hasChartRange) {\n            var hasCategoryRange = cellRanges[0].type === exports.CellRangeType.DIMENSION;\n            var isCategoryCell = hasCategoryRange && rangeController.isCellInSpecificRange(cellPosition, cellRanges[0]);\n            _.addOrRemoveCssClass(this.getGui(), 'ag-cell-range-chart-category', isCategoryCell);\n            fillHandleIsAvailable = cellRange.type === exports.CellRangeType.VALUE;\n        }\n        return fillHandleIsAvailable &&\n            cellRange.endRow != null &&\n            rangeController.isContiguousRange(cellRange) &&\n            rangeController.isBottomRightCell(cellRange, cellPosition);\n    };\n    CellComp.prototype.addSelectionHandle = function () {\n        var _a = this.beans, gridOptionsWrapper = _a.gridOptionsWrapper, context = _a.context, rangeController = _a.rangeController;\n        var cellRangeType = _.last(rangeController.getCellRanges()).type;\n        var type = (gridOptionsWrapper.isEnableFillHandle() && _.missing(cellRangeType)) ? 'fill' : 'range';\n        if (this.selectionHandle && this.selectionHandle.getType() !== type) {\n            this.selectionHandle.destroy();\n            this.selectionHandle = undefined;\n        }\n        if (!this.selectionHandle) {\n            this.selectionHandle = context.createComponentFromElement(document.createElement(\"ag-\" + type + \"-handle\"));\n        }\n        this.selectionHandle.refresh(this);\n    };\n    CellComp.prototype.updateRangeBordersIfRangeCount = function () {\n        // we only need to update range borders if we are in a range\n        if (this.rangeCount > 0) {\n            this.updateRangeBorders();\n            this.refreshHandle();\n        }\n    };\n    CellComp.prototype.refreshHandle = function () {\n        if (!this.beans.rangeController) {\n            return;\n        }\n        var shouldHaveSelectionHandle = this.shouldHaveSelectionHandle();\n        if (this.selectionHandle && !shouldHaveSelectionHandle) {\n            this.selectionHandle.destroy();\n            this.selectionHandle = null;\n        }\n        if (shouldHaveSelectionHandle) {\n            this.addSelectionHandle();\n        }\n        _.addOrRemoveCssClass(this.getGui(), 'ag-cell-range-handle', !!this.selectionHandle);\n    };\n    CellComp.prototype.updateRangeBorders = function () {\n        var rangeBorders = this.getRangeBorders();\n        var isSingleCell = this.isSingleCell();\n        var isTop = !isSingleCell && rangeBorders.top;\n        var isRight = !isSingleCell && rangeBorders.right;\n        var isBottom = !isSingleCell && rangeBorders.bottom;\n        var isLeft = !isSingleCell && rangeBorders.left;\n        var element = this.getGui();\n        _.addOrRemoveCssClass(element, 'ag-cell-range-top', isTop);\n        _.addOrRemoveCssClass(element, 'ag-cell-range-right', isRight);\n        _.addOrRemoveCssClass(element, 'ag-cell-range-bottom', isBottom);\n        _.addOrRemoveCssClass(element, 'ag-cell-range-left', isLeft);\n    };\n    CellComp.prototype.onFirstRightPinnedChanged = function () {\n        var firstRightPinned = this.column.isFirstRightPinned();\n        if (this.firstRightPinned !== firstRightPinned) {\n            this.firstRightPinned = firstRightPinned;\n            _.addOrRemoveCssClass(this.getGui(), 'ag-cell-first-right-pinned', firstRightPinned);\n        }\n    };\n    CellComp.prototype.onLastLeftPinnedChanged = function () {\n        var lastLeftPinned = this.column.isLastLeftPinned();\n        if (this.lastLeftPinned !== lastLeftPinned) {\n            this.lastLeftPinned = lastLeftPinned;\n            _.addOrRemoveCssClass(this.getGui(), 'ag-cell-last-left-pinned', lastLeftPinned);\n        }\n    };\n    CellComp.prototype.populateTemplate = function () {\n        if (this.usingWrapper) {\n            this.eParentOfValue = this.getRefElement('eCellValue');\n            this.eCellWrapper = this.getRefElement('eCellWrapper');\n            this.eCellValue = this.getRefElement('eCellValue');\n            if (this.includeRowDraggingComponent) {\n                this.addRowDragging();\n            }\n            if (this.includeDndSourceComponent) {\n                this.addDndSource();\n            }\n            if (this.includeSelectionComponent) {\n                this.addSelectionCheckbox();\n            }\n        }\n        else {\n            this.eParentOfValue = this.getGui();\n        }\n    };\n    CellComp.prototype.getFrameworkOverrides = function () {\n        return this.beans.frameworkOverrides;\n    };\n    CellComp.prototype.addRowDragging = function () {\n        var pagination = this.beans.gridOptionsWrapper.isPagination();\n        var rowDragManaged = this.beans.gridOptionsWrapper.isRowDragManaged();\n        var clientSideRowModelActive = this.beans.gridOptionsWrapper.isRowModelDefault();\n        if (rowDragManaged) {\n            // row dragging only available in default row model\n            if (!clientSideRowModelActive) {\n                _.doOnce(function () { return console.warn('ag-Grid: managed row dragging is only allowed in the Client Side Row Model'); }, 'CellComp.addRowDragging');\n                return;\n            }\n            if (pagination) {\n                _.doOnce(function () { return console.warn('ag-Grid: managed row dragging is not possible when doing pagination'); }, 'CellComp.addRowDragging');\n                return;\n            }\n        }\n        var rowDraggingComp = new RowDragComp(this.rowNode, this.column, this.getValueToUse(), this.beans);\n        this.addFeature(rowDraggingComp, this.beans.context);\n        // put the checkbox in before the value\n        this.eCellWrapper.insertBefore(rowDraggingComp.getGui(), this.eParentOfValue);\n    };\n    CellComp.prototype.addDndSource = function () {\n        var dndSourceComp = new DndSourceComp(this.rowNode, this.column, this.getValueToUse(), this.beans, this.getGui());\n        this.addFeature(dndSourceComp, this.beans.context);\n        // put the checkbox in before the value\n        this.eCellWrapper.insertBefore(dndSourceComp.getGui(), this.eParentOfValue);\n    };\n    CellComp.prototype.addSelectionCheckbox = function () {\n        var cbSelectionComponent = new CheckboxSelectionComponent();\n        this.beans.context.wireBean(cbSelectionComponent);\n        var visibleFunc = this.getComponentHolder().checkboxSelection;\n        visibleFunc = typeof visibleFunc === 'function' ? visibleFunc : null;\n        cbSelectionComponent.init({ rowNode: this.rowNode, column: this.column, visibleFunc: visibleFunc });\n        this.addDestroyFunc(function () { return cbSelectionComponent.destroy(); });\n        // put the checkbox in before the value\n        this.eCellWrapper.insertBefore(cbSelectionComponent.getGui(), this.eParentOfValue);\n    };\n    CellComp.prototype.addDomData = function () {\n        var _this = this;\n        var element = this.getGui();\n        this.beans.gridOptionsWrapper.setDomData(element, CellComp.DOM_DATA_KEY_CELL_COMP, this);\n        this.addDestroyFunc(function () { return _this.beans.gridOptionsWrapper.setDomData(element, CellComp.DOM_DATA_KEY_CELL_COMP, null); });\n    };\n    CellComp.prototype.isSingleCell = function () {\n        var rangeController = this.beans.rangeController;\n        return this.rangeCount === 1 && rangeController && !rangeController.isMoreThanOneCell();\n    };\n    CellComp.prototype.onCellFocused = function (event) {\n        var cellFocused = this.beans.focusController.isCellFocused(this.cellPosition);\n        // see if we need to change the classes on this cell\n        if (cellFocused !== this.cellFocused) {\n            // if we are not doing cell selection, then the focus class does not change\n            var doingFocusCss = !this.beans.gridOptionsWrapper.isSuppressCellSelection();\n            if (doingFocusCss) {\n                _.addOrRemoveCssClass(this.getGui(), 'ag-cell-focus', cellFocused);\n            }\n            this.cellFocused = cellFocused;\n        }\n        // see if we need to force browser focus - this can happen if focus is programmatically set\n        if (cellFocused && event && event.forceBrowserFocus) {\n            var focusEl = this.getFocusableElement();\n            focusEl.focus();\n            // Fix for AG-3465 \"IE11 - After editing cell's content, selection doesn't go one cell below on enter\"\n            // IE can fail to focus the cell after the first call to focus(), and needs a second call\n            if (!document.activeElement || document.activeElement === document.body) {\n                focusEl.focus();\n            }\n        }\n        // if another cell was focused, and we are editing, then stop editing\n        var fullRowEdit = this.beans.gridOptionsWrapper.isFullRowEdit();\n        if (!cellFocused && !fullRowEdit && this.editingCell) {\n            this.stopRowOrCellEdit();\n        }\n    };\n    // pass in 'true' to cancel the editing.\n    CellComp.prototype.stopRowOrCellEdit = function (cancel) {\n        if (cancel === void 0) { cancel = false; }\n        if (this.beans.gridOptionsWrapper.isFullRowEdit()) {\n            this.rowComp.stopRowEditing(cancel);\n        }\n        else {\n            this.stopEditing(cancel);\n        }\n    };\n    CellComp.prototype.stopEditing = function (cancel) {\n        if (cancel === void 0) { cancel = false; }\n        if (!this.editingCell) {\n            return;\n        }\n        // if no cell editor, this means due to async, that the cell editor never got initialised,\n        // so we just carry on regardless as if the editing was never started.\n        if (!this.cellEditor) {\n            this.editingCell = false;\n            return;\n        }\n        var newValueExists = false;\n        var newValue;\n        var oldValue = this.getValue();\n        if (!cancel) {\n            // also have another option here to cancel after editing, so for example user could have a popup editor and\n            // it is closed by user clicking outside the editor. then the editor will close automatically (with false\n            // passed above) and we need to see if the editor wants to accept the new value.\n            var userWantsToCancel = this.cellEditor.isCancelAfterEnd && this.cellEditor.isCancelAfterEnd();\n            if (!userWantsToCancel) {\n                newValue = this.cellEditor.getValue();\n                newValueExists = true;\n            }\n        }\n        // it is important we set this after setValue() above, as otherwise the cell will flash\n        // when editing stops. the 'refresh' method checks editing, and doesn't refresh editing cells.\n        // thus it will skip the refresh on this cell until the end of this method where we call\n        // refresh directly and we suppress the flash.\n        this.editingCell = false;\n        if (this.cellEditor.destroy) {\n            this.cellEditor.destroy();\n        }\n        // important to clear this out - as parts of the code will check for\n        // this to see if an async cellEditor has yet to be created\n        this.cellEditor = null;\n        if (this.cellEditorInPopup && this.hideEditorPopup) {\n            this.hideEditorPopup();\n            this.hideEditorPopup = null;\n        }\n        else {\n            _.clearElement(this.getGui());\n            // put the cell back the way it was before editing\n            if (this.usingWrapper) {\n                // if wrapper, then put the wrapper back\n                this.getGui().appendChild(this.eCellWrapper);\n            }\n            else {\n                // if cellRenderer, then put the gui back in. if the renderer has\n                // a refresh, it will be called. however if it doesn't, then later\n                // the renderer will be destroyed and a new one will be created.\n                if (this.cellRenderer) {\n                    // we know it's a dom element (not a string) because we converted\n                    // it after the gui was attached if it was a string.\n                    var eCell = this.cellRendererGui;\n                    // can be null if cell was previously null / contained empty string,\n                    // this will result in new value not being rendered.\n                    if (eCell) {\n                        this.getGui().appendChild(eCell);\n                    }\n                }\n            }\n        }\n        this.setInlineEditingClass();\n        if (newValueExists && newValue !== oldValue) {\n            // we suppressRefreshCell because the call to rowNode.setDataValue() results in change detection\n            // getting triggered, which results in all cells getting refreshed. we do not want this refresh\n            // to happen on this call as we want to call it explicitly below. otherwise refresh gets called twice.\n            // if we only did this refresh (and not the one below) then the cell would flash and not be forced.\n            this.suppressRefreshCell = true;\n            this.rowNode.setDataValue(this.column, newValue);\n            this.suppressRefreshCell = false;\n        }\n        // we suppress the flash, as it is not correct to flash the cell the user has finished editing,\n        // the user doesn't need to flash as they were the one who did the edit, the flash is pointless\n        // (as the flash is meant to draw the user to a change that they didn't manually do themselves).\n        this.refreshCell({ forceRefresh: true, suppressFlash: true });\n        var event = this.createEvent(null, Events.EVENT_CELL_EDITING_STOPPED);\n        this.beans.eventService.dispatchEvent(event);\n    };\n    CellComp.DOM_DATA_KEY_CELL_COMP = 'cellComp';\n    CellComp.CELL_RENDERER_TYPE_NORMAL = 'cellRenderer';\n    CellComp.CELL_RENDERER_TYPE_PINNED = 'pinnedRowCellRenderer';\n    return CellComp;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$C = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign$2 = (undefined && undefined.__assign) || function () {\n    __assign$2 = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign$2.apply(this, arguments);\n};\nvar RowComp = /** @class */ (function (_super) {\n    __extends$C(RowComp, _super);\n    function RowComp(parentScope, bodyContainerComp, pinnedLeftContainerComp, pinnedRightContainerComp, fullWidthContainerComp, rowNode, beans, animateIn, useAnimationFrameForCreate, printLayout, embedFullWidth) {\n        var _this = _super.call(this) || this;\n        _this.eAllRowContainers = [];\n        _this.active = true;\n        _this.rowContainerReadyCount = 0;\n        _this.refreshNeeded = false;\n        _this.columnRefreshPending = false;\n        _this.cellComps = {};\n        // for animations, there are bits we want done in the next VM turn, to all DOM to update first.\n        // instead of each row doing a setTimeout(func,0), we put the functions here and the rowRenderer\n        // executes them all in one timeout\n        _this.createSecondPassFuncs = [];\n        // these get called before the row is destroyed - they set up the DOM for the remove animation (ie they\n        // set the DOM up for the animation), then the delayedDestroyFunctions get called when the animation is\n        // complete (ie removes from the dom).\n        _this.removeFirstPassFuncs = [];\n        // for animations, these functions get called 400ms after the row is cleared, called by the rowRenderer\n        // so each row isn't setting up it's own timeout\n        _this.removeSecondPassFuncs = [];\n        _this.initialised = false;\n        _this.elementOrderChanged = false;\n        _this.lastMouseDownOnDragger = false;\n        _this.parentScope = parentScope;\n        _this.beans = beans;\n        _this.bodyContainerComp = bodyContainerComp;\n        _this.pinnedLeftContainerComp = pinnedLeftContainerComp;\n        _this.pinnedRightContainerComp = pinnedRightContainerComp;\n        _this.fullWidthContainerComp = fullWidthContainerComp;\n        _this.rowNode = rowNode;\n        _this.rowIsEven = _this.rowNode.rowIndex % 2 === 0;\n        _this.paginationPage = _this.beans.paginationProxy.getCurrentPage();\n        _this.useAnimationFrameForCreate = useAnimationFrameForCreate;\n        _this.printLayout = printLayout;\n        _this.embedFullWidth = embedFullWidth;\n        _this.setAnimateFlags(animateIn);\n        return _this;\n    }\n    RowComp.prototype.init = function () {\n        var _this = this;\n        this.rowFocused = this.beans.focusController.isRowFocused(this.rowNode.rowIndex, this.rowNode.rowPinned);\n        this.scope = this.createChildScopeOrNull(this.rowNode.data);\n        this.setupRowContainers();\n        this.addListeners();\n        if (this.slideRowIn) {\n            this.createSecondPassFuncs.push(function () {\n                _this.onTopChanged();\n            });\n        }\n        if (this.fadeRowIn) {\n            this.createSecondPassFuncs.push(function () {\n                _this.eAllRowContainers.forEach(function (eRow) { return _.removeCssClass(eRow, 'ag-opacity-zero'); });\n            });\n        }\n    };\n    RowComp.prototype.createTemplate = function (contents, extraCssClass) {\n        if (extraCssClass === void 0) { extraCssClass = null; }\n        var templateParts = [];\n        var rowHeight = this.rowNode.rowHeight;\n        var rowClasses = this.getInitialRowClasses(extraCssClass).join(' ');\n        var rowIdSanitised = _.escape(this.rowNode.id);\n        var userRowStyles = this.preProcessStylesFromGridOptions();\n        var businessKey = this.getRowBusinessKey();\n        var businessKeySanitised = _.escape(businessKey);\n        var rowTopStyle = this.getInitialRowTopStyle();\n        var rowIdx = this.rowNode.getRowIndexString();\n        var headerRowCount = this.beans.gridPanel.headerRootComp.getHeaderRowCount();\n        templateParts.push(\"<div\");\n        templateParts.push(\" role=\\\"row\\\"\");\n        templateParts.push(\" row-index=\\\"\" + rowIdx + \"\\\" aria-rowindex=\\\"\" + (headerRowCount + this.rowNode.rowIndex + 1) + \"\\\"\");\n        templateParts.push(rowIdSanitised ? \" row-id=\\\"\" + rowIdSanitised + \"\\\"\" : \"\");\n        templateParts.push(businessKey ? \" row-business-key=\\\"\" + businessKeySanitised + \"\\\"\" : \"\");\n        templateParts.push(\" comp-id=\\\"\" + this.getCompId() + \"\\\"\");\n        templateParts.push(\" class=\\\"\" + rowClasses + \"\\\"\");\n        templateParts.push(\" style=\\\"height: \" + rowHeight + \"px; \" + rowTopStyle + \" \" + userRowStyles + \"\\\">\");\n        // add in the template for the cells\n        templateParts.push(contents);\n        templateParts.push(\"</div>\");\n        return templateParts.join('');\n    };\n    RowComp.prototype.getCellForCol = function (column) {\n        var cellComp = this.cellComps[column.getColId()];\n        return cellComp ? cellComp.getGui() : null;\n    };\n    RowComp.prototype.afterFlush = function () {\n        if (this.initialised) {\n            return;\n        }\n        this.initialised = true;\n        this.executeProcessRowPostCreateFunc();\n    };\n    RowComp.prototype.executeProcessRowPostCreateFunc = function () {\n        var func = this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();\n        if (!func) {\n            return;\n        }\n        var params = {\n            eRow: this.eBodyRow,\n            ePinnedLeftRow: this.ePinnedLeftRow,\n            ePinnedRightRow: this.ePinnedRightRow,\n            node: this.rowNode,\n            api: this.beans.gridOptionsWrapper.getApi(),\n            rowIndex: this.rowNode.rowIndex,\n            addRenderedRowListener: this.addEventListener.bind(this),\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            context: this.beans.gridOptionsWrapper.getContext()\n        };\n        func(params);\n    };\n    RowComp.prototype.getInitialRowTopStyle = function () {\n        // print layout uses normal flow layout for row positioning\n        if (this.printLayout) {\n            return '';\n        }\n        // if sliding in, we take the old row top. otherwise we just set the current row top.\n        var pixels = this.slideRowIn ? this.roundRowTopToBounds(this.rowNode.oldRowTop) : this.rowNode.rowTop;\n        var afterPaginationPixels = this.applyPaginationOffset(pixels);\n        var afterScalingPixels = this.beans.maxDivHeightScaler.getRealPixelPosition(afterPaginationPixels);\n        var isSuppressRowTransform = this.beans.gridOptionsWrapper.isSuppressRowTransform();\n        return isSuppressRowTransform ? \"top: \" + afterScalingPixels + \"px; \" : \"transform: translateY(\" + afterScalingPixels + \"px);\";\n    };\n    RowComp.prototype.getRowBusinessKey = function () {\n        var businessKeyForNodeFunc = this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();\n        if (typeof businessKeyForNodeFunc !== 'function') {\n            return;\n        }\n        return businessKeyForNodeFunc(this.rowNode);\n    };\n    RowComp.prototype.areAllContainersReady = function () {\n        return this.rowContainerReadyCount === 3;\n    };\n    RowComp.prototype.lazyCreateCells = function (cols, eRow) {\n        if (!this.active) {\n            return;\n        }\n        var cellTemplatesAndComps = this.createCells(cols);\n        eRow.innerHTML = cellTemplatesAndComps.template;\n        this.callAfterRowAttachedOnCells(cellTemplatesAndComps.cellComps, eRow);\n        this.rowContainerReadyCount++;\n        if (this.areAllContainersReady() && this.refreshNeeded) {\n            this.refreshCells();\n        }\n    };\n    RowComp.prototype.createRowContainer = function (rowContainerComp, cols, callback) {\n        var _this = this;\n        var useAnimationsFrameForCreate = this.useAnimationFrameForCreate;\n        var cellTemplatesAndComps = useAnimationsFrameForCreate ? { cellComps: [], template: '' } : this.createCells(cols);\n        var rowTemplate = this.createTemplate(cellTemplatesAndComps.template);\n        // the RowRenderer is probably inserting many rows. rather than inserting each template one\n        // at a time, the grid inserts all rows together - so the callback here is called by the\n        // rowRenderer when all RowComps are created, then all the HTML is inserted in one go,\n        // and then all the callbacks are called. this is NOT done in an animation frame.\n        rowContainerComp.appendRowTemplate(rowTemplate, function () {\n            var eRow = rowContainerComp.getRowElement(_this.getCompId());\n            _this.afterRowAttached(rowContainerComp, eRow);\n            callback(eRow);\n            if (useAnimationsFrameForCreate) {\n                _this.beans.taskQueue.createTask(_this.lazyCreateCells.bind(_this, cols, eRow), _this.rowNode.rowIndex, 'createTasksP1');\n            }\n            else {\n                _this.callAfterRowAttachedOnCells(cellTemplatesAndComps.cellComps, eRow);\n                _this.rowContainerReadyCount = 3;\n            }\n        });\n    };\n    RowComp.prototype.createChildScopeOrNull = function (data) {\n        var isAngularCompileRows = this.beans.gridOptionsWrapper.isAngularCompileRows();\n        if (!isAngularCompileRows) {\n            return null;\n        }\n        var newChildScope = this.parentScope.$new();\n        newChildScope.data = __assign$2({}, data);\n        newChildScope.rowNode = this.rowNode;\n        newChildScope.context = this.beans.gridOptionsWrapper.getContext();\n        this.addDestroyFunc(function () {\n            newChildScope.$destroy();\n            newChildScope.data = null;\n            newChildScope.rowNode = null;\n            newChildScope.context = null;\n        });\n        return newChildScope;\n    };\n    RowComp.prototype.setupRowContainers = function () {\n        var isFullWidthCell = this.rowNode.isFullWidthCell();\n        var isDetailCell = this.beans.doingMasterDetail && this.rowNode.detail;\n        var pivotMode = this.beans.columnController.isPivotMode();\n        // we only use full width for groups, not footers. it wouldn't make sense to include footers if not looking\n        // for totals. if users complain about this, then we should introduce a new property 'footerUseEntireRow'\n        // so each can be set independently (as a customer complained about footers getting full width, hence\n        // introducing this logic)\n        var isGroupRow = this.rowNode.group && !this.rowNode.footer;\n        var isFullWidthGroup = isGroupRow && this.beans.gridOptionsWrapper.isGroupUseEntireRow(pivotMode);\n        if (this.rowNode.stub) {\n            this.createFullWidthRows(RowComp.LOADING_CELL_RENDERER, RowComp.LOADING_CELL_RENDERER_COMP_NAME);\n        }\n        else if (isDetailCell) {\n            this.createFullWidthRows(RowComp.DETAIL_CELL_RENDERER, RowComp.DETAIL_CELL_RENDERER_COMP_NAME);\n        }\n        else if (isFullWidthCell) {\n            this.createFullWidthRows(RowComp.FULL_WIDTH_CELL_RENDERER, null);\n        }\n        else if (isFullWidthGroup) {\n            this.createFullWidthRows(RowComp.GROUP_ROW_RENDERER, RowComp.GROUP_ROW_RENDERER_COMP_NAME);\n        }\n        else {\n            this.setupNormalRowContainers();\n        }\n    };\n    RowComp.prototype.setupNormalRowContainers = function () {\n        var _this = this;\n        var centerCols;\n        var leftCols = [];\n        var rightCols = [];\n        if (this.printLayout) {\n            centerCols = this.beans.columnController.getAllDisplayedColumns();\n        }\n        else {\n            centerCols = this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode);\n            leftCols = this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode);\n            rightCols = this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode);\n        }\n        this.createRowContainer(this.bodyContainerComp, centerCols, function (eRow) { return _this.eBodyRow = eRow; });\n        this.createRowContainer(this.pinnedRightContainerComp, rightCols, function (eRow) { return _this.ePinnedRightRow = eRow; });\n        this.createRowContainer(this.pinnedLeftContainerComp, leftCols, function (eRow) { return _this.ePinnedLeftRow = eRow; });\n    };\n    RowComp.prototype.createFullWidthRows = function (type, name) {\n        var _this = this;\n        this.fullWidthRow = true;\n        if (this.embedFullWidth) {\n            this.createFullWidthRowContainer(this.bodyContainerComp, null, null, type, name, function (eRow) {\n                _this.eFullWidthRowBody = eRow;\n            }, function (cellRenderer) {\n                _this.fullWidthRowComponentBody = cellRenderer;\n            });\n            // printLayout doesn't put components into the pinned sections\n            if (this.printLayout) {\n                return;\n            }\n            this.createFullWidthRowContainer(this.pinnedLeftContainerComp, Constants.PINNED_LEFT, 'ag-cell-last-left-pinned', type, name, function (eRow) {\n                _this.eFullWidthRowLeft = eRow;\n            }, function (cellRenderer) {\n                _this.fullWidthRowComponentLeft = cellRenderer;\n            });\n            this.createFullWidthRowContainer(this.pinnedRightContainerComp, Constants.PINNED_RIGHT, 'ag-cell-first-right-pinned', type, name, function (eRow) {\n                _this.eFullWidthRowRight = eRow;\n            }, function (cellRenderer) {\n                _this.fullWidthRowComponentRight = cellRenderer;\n            });\n        }\n        else {\n            // otherwise we add to the fullWidth container as normal\n            // let previousFullWidth = ensureDomOrder ? this.lastPlacedElements.eFullWidth : null;\n            this.createFullWidthRowContainer(this.fullWidthContainerComp, null, null, type, name, function (eRow) {\n                _this.eFullWidthRow = eRow;\n            }, function (cellRenderer) {\n                _this.fullWidthRowComponent = cellRenderer;\n            });\n        }\n    };\n    RowComp.prototype.setAnimateFlags = function (animateIn) {\n        if (animateIn) {\n            var oldRowTopExists = _.exists(this.rowNode.oldRowTop);\n            // if the row had a previous position, we slide it in (animate row top)\n            this.slideRowIn = oldRowTopExists;\n            // if the row had no previous position, we fade it in (animate\n            this.fadeRowIn = !oldRowTopExists;\n        }\n        else {\n            this.slideRowIn = false;\n            this.fadeRowIn = false;\n        }\n    };\n    RowComp.prototype.isEditing = function () {\n        return this.editingRow;\n    };\n    RowComp.prototype.stopRowEditing = function (cancel) {\n        this.stopEditing(cancel);\n    };\n    RowComp.prototype.isFullWidth = function () {\n        return this.fullWidthRow;\n    };\n    RowComp.prototype.refreshFullWidth = function () {\n        var _this = this;\n        // returns 'true' if refresh succeeded\n        var tryRefresh = function (eRow, eCellComp, pinned) {\n            if (!eRow || !eCellComp) {\n                return true;\n            } // no refresh needed\n            // no refresh method present, so can't refresh, hard refresh needed\n            if (!eCellComp.refresh) {\n                return false;\n            }\n            var params = _this.createFullWidthParams(eRow, pinned);\n            var refreshSucceeded = eCellComp.refresh(params);\n            return refreshSucceeded;\n        };\n        var normalSuccess = tryRefresh(this.eFullWidthRow, this.fullWidthRowComponent, null);\n        var bodySuccess = tryRefresh(this.eFullWidthRowBody, this.fullWidthRowComponentBody, null);\n        var leftSuccess = tryRefresh(this.eFullWidthRowLeft, this.fullWidthRowComponentLeft, Constants.PINNED_LEFT);\n        var rightSuccess = tryRefresh(this.eFullWidthRowRight, this.fullWidthRowComponentRight, Constants.PINNED_RIGHT);\n        var allFullWidthRowsRefreshed = normalSuccess && bodySuccess && leftSuccess && rightSuccess;\n        return allFullWidthRowsRefreshed;\n    };\n    RowComp.prototype.addListeners = function () {\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_HEIGHT_CHANGED, this.onRowHeightChanged.bind(this));\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_ROW_SELECTED, this.onRowSelected.bind(this));\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_ROW_INDEX_CHANGED, this.onRowIndexChanged.bind(this));\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_TOP_CHANGED, this.onTopChanged.bind(this));\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_EXPANDED_CHANGED, this.onExpandedChanged.bind(this));\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_DATA_CHANGED, this.onRowNodeDataChanged.bind(this));\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_CELL_CHANGED, this.onRowNodeCellChanged.bind(this));\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_HIGHLIGHT_CHANGED, this.onRowNodeHighlightChanged.bind(this));\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_DRAGGING_CHANGED, this.onRowNodeDraggingChanged.bind(this));\n        var eventService = this.beans.eventService;\n        this.addDestroyableEventListener(eventService, Events.EVENT_HEIGHT_SCALE_CHANGED, this.onTopChanged.bind(this));\n        this.addDestroyableEventListener(eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n        this.addDestroyableEventListener(eventService, Events.EVENT_VIRTUAL_COLUMNS_CHANGED, this.onVirtualColumnsChanged.bind(this));\n        this.addDestroyableEventListener(eventService, Events.EVENT_COLUMN_RESIZED, this.onColumnResized.bind(this));\n        this.addDestroyableEventListener(eventService, Events.EVENT_CELL_FOCUSED, this.onCellFocusChanged.bind(this));\n        this.addDestroyableEventListener(eventService, Events.EVENT_PAGINATION_CHANGED, this.onPaginationChanged.bind(this));\n        this.addDestroyableEventListener(eventService, Events.EVENT_GRID_COLUMNS_CHANGED, this.onGridColumnsChanged.bind(this));\n        this.addDestroyableEventListener(eventService, Events.EVENT_MODEL_UPDATED, this.onModelUpdated.bind(this));\n        this.addDestroyableEventListener(eventService, Events.EVENT_COLUMN_MOVED, this.onColumnMoved.bind(this));\n        this.addListenersForCellComps();\n    };\n    RowComp.prototype.addListenersForCellComps = function () {\n        var _this = this;\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_ROW_INDEX_CHANGED, function () {\n            _this.forEachCellComp(function (cellComp) { return cellComp.onRowIndexChanged(); });\n        });\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_CELL_CHANGED, function (event) {\n            _this.forEachCellComp(function (cellComp) { return cellComp.onCellChanged(event); });\n        });\n    };\n    // when grid columns change, then all cells should be cleaned out,\n    // as the new columns could have same id as the previous columns and may conflict\n    RowComp.prototype.onGridColumnsChanged = function () {\n        this.removeRenderedCells(Object.keys(this.cellComps));\n    };\n    RowComp.prototype.onRowNodeDataChanged = function (event) {\n        // if this is an update, we want to refresh, as this will allow the user to put in a transition\n        // into the cellRenderer refresh method. otherwise this might be completely new data, in which case\n        // we will want to completely replace the cells\n        this.forEachCellComp(function (cellComp) {\n            return cellComp.refreshCell({\n                suppressFlash: !event.update,\n                newData: !event.update\n            });\n        });\n        // check for selected also, as this could be after lazy loading of the row data, in which case\n        // the id might of just gotten set inside the row and the row selected state may of changed\n        // as a result. this is what happens when selected rows are loaded in virtual pagination.\n        // - niall note - since moving to the stub component, this may no longer be true, as replacing\n        // the stub component now replaces the entire row\n        this.onRowSelected();\n        // as data has changed, then the style and class needs to be recomputed\n        this.postProcessCss();\n    };\n    RowComp.prototype.onRowNodeCellChanged = function () {\n        // as data has changed, then the style and class needs to be recomputed\n        this.postProcessCss();\n    };\n    RowComp.prototype.postProcessCss = function () {\n        this.postProcessStylesFromGridOptions();\n        this.postProcessClassesFromGridOptions();\n        this.postProcessRowClassRules();\n        this.postProcessRowDragging();\n    };\n    RowComp.prototype.onRowNodeHighlightChanged = function () {\n        var highlighted = this.rowNode.highlighted;\n        this.eAllRowContainers.forEach(function (row) {\n            _.removeCssClass(row, 'ag-row-highlight-above');\n            _.removeCssClass(row, 'ag-row-highlight-below');\n            if (highlighted) {\n                _.addCssClass(row, 'ag-row-highlight-' + highlighted);\n            }\n        });\n    };\n    RowComp.prototype.onRowNodeDraggingChanged = function () {\n        this.postProcessRowDragging();\n    };\n    RowComp.prototype.postProcessRowDragging = function () {\n        var dragging = this.rowNode.dragging;\n        this.eAllRowContainers.forEach(function (row) { return _.addOrRemoveCssClass(row, 'ag-row-dragging', dragging); });\n    };\n    RowComp.prototype.onExpandedChanged = function () {\n        var rowNode = this.rowNode;\n        this.eAllRowContainers.forEach(function (row) { return _.addOrRemoveCssClass(row, 'ag-row-group-expanded', rowNode.expanded); });\n        this.eAllRowContainers.forEach(function (row) { return _.addOrRemoveCssClass(row, 'ag-row-group-contracted', !rowNode.expanded); });\n    };\n    RowComp.prototype.onDisplayedColumnsChanged = function () {\n        if (this.fullWidthRow) {\n            return;\n        }\n        this.refreshCells();\n    };\n    RowComp.prototype.destroyFullWidthComponents = function () {\n        if (this.fullWidthRowComponent) {\n            this.beans.detailRowCompCache.addOrDestroy(this.rowNode, null, this.fullWidthRowComponent);\n            this.fullWidthRowComponent = null;\n        }\n        if (this.fullWidthRowComponentBody) {\n            this.beans.detailRowCompCache.addOrDestroy(this.rowNode, null, this.fullWidthRowComponentBody);\n            this.fullWidthRowComponent = null;\n        }\n        if (this.fullWidthRowComponentLeft) {\n            this.beans.detailRowCompCache.addOrDestroy(this.rowNode, Constants.PINNED_LEFT, this.fullWidthRowComponentLeft);\n            this.fullWidthRowComponentLeft = null;\n        }\n        if (this.fullWidthRowComponentRight) {\n            this.beans.detailRowCompCache.addOrDestroy(this.rowNode, Constants.PINNED_RIGHT, this.fullWidthRowComponentRight);\n            this.fullWidthRowComponent = null;\n        }\n    };\n    RowComp.prototype.getContainerForCell = function (pinnedType) {\n        switch (pinnedType) {\n            case Constants.PINNED_LEFT: return this.ePinnedLeftRow;\n            case Constants.PINNED_RIGHT: return this.ePinnedRightRow;\n            default: return this.eBodyRow;\n        }\n    };\n    RowComp.prototype.onVirtualColumnsChanged = function () {\n        if (this.fullWidthRow) {\n            return;\n        }\n        this.refreshCells();\n    };\n    RowComp.prototype.onColumnResized = function () {\n        if (this.fullWidthRow) {\n            return;\n        }\n        this.refreshCells();\n    };\n    RowComp.prototype.refreshCells = function () {\n        if (!this.areAllContainersReady()) {\n            this.refreshNeeded = true;\n            return;\n        }\n        var suppressAnimationFrame = this.beans.gridOptionsWrapper.isSuppressAnimationFrame();\n        var skipAnimationFrame = suppressAnimationFrame || this.printLayout;\n        if (skipAnimationFrame) {\n            this.refreshCellsInAnimationFrame();\n        }\n        else {\n            if (this.columnRefreshPending) {\n                return;\n            }\n            this.beans.taskQueue.createTask(this.refreshCellsInAnimationFrame.bind(this), this.rowNode.rowIndex, 'createTasksP1');\n        }\n    };\n    RowComp.prototype.refreshCellsInAnimationFrame = function () {\n        if (!this.active) {\n            return;\n        }\n        this.columnRefreshPending = false;\n        var centerCols;\n        var leftCols;\n        var rightCols;\n        if (this.printLayout) {\n            centerCols = this.beans.columnController.getAllDisplayedColumns();\n            leftCols = [];\n            rightCols = [];\n        }\n        else {\n            centerCols = this.beans.columnController.getAllDisplayedCenterVirtualColumnsForRow(this.rowNode);\n            leftCols = this.beans.columnController.getDisplayedLeftColumnsForRow(this.rowNode);\n            rightCols = this.beans.columnController.getDisplayedRightColumnsForRow(this.rowNode);\n        }\n        this.insertCellsIntoContainer(this.eBodyRow, centerCols);\n        this.insertCellsIntoContainer(this.ePinnedLeftRow, leftCols);\n        this.insertCellsIntoContainer(this.ePinnedRightRow, rightCols);\n        this.elementOrderChanged = false;\n        var colIdsToRemove = Object.keys(this.cellComps);\n        centerCols.forEach(function (col) { return _.removeFromArray(colIdsToRemove, col.getId()); });\n        leftCols.forEach(function (col) { return _.removeFromArray(colIdsToRemove, col.getId()); });\n        rightCols.forEach(function (col) { return _.removeFromArray(colIdsToRemove, col.getId()); });\n        // we never remove editing cells, as this would cause the cells to loose their values while editing\n        // as the grid is scrolling horizontally.\n        var eligibleToBeRemoved = colIdsToRemove.filter(this.isCellEligibleToBeRemoved.bind(this));\n        // remove old cells from gui, but we don't destroy them, we might use them again\n        this.removeRenderedCells(eligibleToBeRemoved);\n    };\n    RowComp.prototype.onColumnMoved = function () {\n        this.elementOrderChanged = true;\n    };\n    RowComp.prototype.removeRenderedCells = function (colIds) {\n        var _this = this;\n        colIds.forEach(function (key) {\n            var cellComp = _this.cellComps[key];\n            // could be old reference, ie removed cell\n            if (_.missing(cellComp)) {\n                return;\n            }\n            cellComp.detach();\n            cellComp.destroy();\n            _this.cellComps[key] = null;\n        });\n    };\n    RowComp.prototype.isCellEligibleToBeRemoved = function (indexStr) {\n        var displayedColumns = this.beans.columnController.getAllDisplayedColumns();\n        var REMOVE_CELL = true;\n        var KEEP_CELL = false;\n        var renderedCell = this.cellComps[indexStr];\n        // always remove the cell if it's not rendered or if it's in the wrong pinned location\n        if (!renderedCell || this.isCellInWrongRow(renderedCell)) {\n            return REMOVE_CELL;\n        }\n        // we want to try and keep editing and focused cells\n        var editing = renderedCell.isEditing();\n        var focused = this.beans.focusController.isCellFocused(renderedCell.getCellPosition());\n        var mightWantToKeepCell = editing || focused;\n        if (mightWantToKeepCell) {\n            var column = renderedCell.getColumn();\n            var cellStillDisplayed = displayedColumns.indexOf(column) >= 0;\n            return cellStillDisplayed ? KEEP_CELL : REMOVE_CELL;\n        }\n        return REMOVE_CELL;\n    };\n    RowComp.prototype.ensureCellInCorrectContainer = function (cellComp) {\n        // for print layout, we always put cells into centre, otherwise we put in correct pinned section\n        if (this.printLayout) {\n            return;\n        }\n        var element = cellComp.getGui();\n        var column = cellComp.getColumn();\n        var pinnedType = column.getPinned();\n        var eContainer = this.getContainerForCell(pinnedType);\n        // if in wrong container, remove it\n        var eOldContainer = cellComp.getParentRow();\n        var inWrongRow = eOldContainer !== eContainer;\n        if (inWrongRow) {\n            // take out from old row\n            if (eOldContainer) {\n                eOldContainer.removeChild(element);\n            }\n            eContainer.appendChild(element);\n            cellComp.setParentRow(eContainer);\n            this.elementOrderChanged = true;\n        }\n    };\n    RowComp.prototype.isCellInWrongRow = function (cellComp) {\n        var column = cellComp.getColumn();\n        var rowWeWant = this.getContainerForCell(column.getPinned());\n        var oldRow = cellComp.getParentRow(); // if in wrong container, remove it\n        return oldRow !== rowWeWant;\n    };\n    RowComp.prototype.insertCellsIntoContainer = function (eRow, cols) {\n        var _this = this;\n        if (!eRow) {\n            return;\n        }\n        var cellTemplates = [];\n        var newCellComps = [];\n        cols.forEach(function (col) {\n            var colId = col.getId();\n            var existingCell = _this.cellComps[colId];\n            if (existingCell) {\n                _this.ensureCellInCorrectContainer(existingCell);\n            }\n            else {\n                _this.createNewCell(col, eRow, cellTemplates, newCellComps);\n            }\n        });\n        if (cellTemplates.length > 0) {\n            _.appendHtml(eRow, cellTemplates.join(''));\n            this.callAfterRowAttachedOnCells(newCellComps, eRow);\n        }\n        if (this.elementOrderChanged && this.beans.gridOptionsWrapper.isEnsureDomOrder()) {\n            var correctChildOrder = cols.map(function (col) { return _this.getCellForCol(col); });\n            _.setDomChildOrder(eRow, correctChildOrder);\n        }\n    };\n    RowComp.prototype.addDomData = function (eRowContainer) {\n        var gow = this.beans.gridOptionsWrapper;\n        gow.setDomData(eRowContainer, RowComp.DOM_DATA_KEY_RENDERED_ROW, this);\n        this.addDestroyFunc(function () {\n            gow.setDomData(eRowContainer, RowComp.DOM_DATA_KEY_RENDERED_ROW, null);\n        });\n    };\n    RowComp.prototype.createNewCell = function (col, eContainer, cellTemplates, newCellComps) {\n        var newCellComp = new CellComp(this.scope, this.beans, col, this.rowNode, this, false, this.printLayout);\n        var cellTemplate = newCellComp.getCreateTemplate();\n        cellTemplates.push(cellTemplate);\n        newCellComps.push(newCellComp);\n        this.cellComps[col.getId()] = newCellComp;\n        newCellComp.setParentRow(eContainer);\n        this.elementOrderChanged = true;\n    };\n    RowComp.prototype.onMouseEvent = function (eventName, mouseEvent) {\n        switch (eventName) {\n            case 'dblclick':\n                this.onRowDblClick(mouseEvent);\n                break;\n            case 'click':\n                this.onRowClick(mouseEvent);\n                break;\n            case 'mousedown':\n                this.onRowMouseDown(mouseEvent);\n                break;\n        }\n    };\n    RowComp.prototype.createRowEvent = function (type, domEvent) {\n        return {\n            type: type,\n            node: this.rowNode,\n            data: this.rowNode.data,\n            rowIndex: this.rowNode.rowIndex,\n            rowPinned: this.rowNode.rowPinned,\n            context: this.beans.gridOptionsWrapper.getContext(),\n            api: this.beans.gridOptionsWrapper.getApi(),\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            event: domEvent\n        };\n    };\n    RowComp.prototype.createRowEventWithSource = function (type, domEvent) {\n        var event = this.createRowEvent(type, domEvent);\n        // when first developing this, we included the rowComp in the event.\n        // this seems very weird. so when introducing the event types, i left the 'source'\n        // out of the type, and just include the source in the two places where this event\n        // was fired (rowClicked and rowDoubleClicked). it doesn't make sense for any\n        // users to be using this, as the rowComp isn't an object we expose, so would be\n        // very surprising if a user was using it.\n        event.source = this;\n        return event;\n    };\n    RowComp.prototype.onRowDblClick = function (mouseEvent) {\n        if (_.isStopPropagationForAgGrid(mouseEvent)) {\n            return;\n        }\n        var agEvent = this.createRowEventWithSource(Events.EVENT_ROW_DOUBLE_CLICKED, mouseEvent);\n        this.beans.eventService.dispatchEvent(agEvent);\n    };\n    RowComp.prototype.onRowMouseDown = function (mouseEvent) {\n        this.lastMouseDownOnDragger = _.isElementChildOfClass(mouseEvent.target, 'ag-row-drag', 3);\n    };\n    RowComp.prototype.onRowClick = function (mouseEvent) {\n        var stop = _.isStopPropagationForAgGrid(mouseEvent) || this.lastMouseDownOnDragger;\n        if (stop) {\n            return;\n        }\n        var agEvent = this.createRowEventWithSource(Events.EVENT_ROW_CLICKED, mouseEvent);\n        this.beans.eventService.dispatchEvent(agEvent);\n        // ctrlKey for windows, metaKey for Apple\n        var multiSelectKeyPressed = mouseEvent.ctrlKey || mouseEvent.metaKey;\n        var shiftKeyPressed = mouseEvent.shiftKey;\n        if (\n        // we do not allow selecting groups by clicking (as the click here expands the group), or if it's a detail row,\n        // so return if it's a group row\n        this.rowNode.group ||\n            // this is needed so we don't unselect other rows when we click this row, eg if this row is not selectable,\n            // and we click it, the selection should not change (ie any currently selected row should stay selected)\n            !this.rowNode.selectable ||\n            // we also don't allow selection of pinned rows\n            this.rowNode.rowPinned ||\n            // if no selection method enabled, do nothing\n            !this.beans.gridOptionsWrapper.isRowSelection() ||\n            // if click selection suppressed, do nothing\n            this.beans.gridOptionsWrapper.isSuppressRowClickSelection()) {\n            return;\n        }\n        var multiSelectOnClick = this.beans.gridOptionsWrapper.isRowMultiSelectWithClick();\n        var rowDeselectionWithCtrl = this.beans.gridOptionsWrapper.isRowDeselection();\n        if (this.rowNode.isSelected()) {\n            if (multiSelectOnClick) {\n                this.rowNode.setSelectedParams({ newValue: false });\n            }\n            else if (multiSelectKeyPressed) {\n                if (rowDeselectionWithCtrl) {\n                    this.rowNode.setSelectedParams({ newValue: false });\n                }\n            }\n            else {\n                // selected with no multi key, must make sure anything else is unselected\n                this.rowNode.setSelectedParams({ newValue: true, clearSelection: true });\n            }\n        }\n        else {\n            var clearSelection = multiSelectOnClick ? false : !multiSelectKeyPressed;\n            this.rowNode.setSelectedParams({ newValue: true, clearSelection: clearSelection, rangeSelect: shiftKeyPressed });\n        }\n    };\n    RowComp.prototype.createFullWidthRowContainer = function (rowContainerComp, pinned, extraCssClass, cellRendererType, cellRendererName, eRowCallback, cellRendererCallback) {\n        var _this = this;\n        var rowTemplate = this.createTemplate('', extraCssClass);\n        rowContainerComp.appendRowTemplate(rowTemplate, function () {\n            var eRow = rowContainerComp.getRowElement(_this.getCompId());\n            var params = _this.createFullWidthParams(eRow, pinned);\n            var callback = function (cellRenderer) {\n                if (_this.isAlive()) {\n                    var gui = cellRenderer.getGui();\n                    eRow.appendChild(gui);\n                    cellRendererCallback(cellRenderer);\n                }\n                else if (cellRenderer.destroy) {\n                    cellRenderer.destroy();\n                }\n            };\n            // if doing master detail, it's possible we have a cached row comp from last time detail was displayed\n            var cachedRowComp = _this.beans.detailRowCompCache.get(_this.rowNode, pinned);\n            if (cachedRowComp) {\n                callback(cachedRowComp);\n            }\n            else {\n                var res = _this.beans.userComponentFactory.newFullWidthCellRenderer(params, cellRendererType, cellRendererName);\n                if (!res) {\n                    var masterDetailModuleLoaded = ModuleRegistry.isRegistered(exports.ModuleNames.MasterDetailModule);\n                    if (cellRendererName === 'agDetailCellRenderer' && !masterDetailModuleLoaded) {\n                        console.warn(\"ag-Grid: cell renderer agDetailCellRenderer (for master detail) not found. Did you forget to include the master detail module?\");\n                    }\n                    else {\n                        console.error(\"ag-Grid: fullWidthCellRenderer \" + cellRendererName + \" not found\");\n                    }\n                    return;\n                }\n                res.then(callback);\n            }\n            _this.afterRowAttached(rowContainerComp, eRow);\n            eRowCallback(eRow);\n            _this.angular1Compile(eRow);\n        });\n    };\n    RowComp.prototype.angular1Compile = function (element) {\n        if (!this.scope) {\n            return;\n        }\n        this.beans.$compile(element)(this.scope);\n    };\n    RowComp.prototype.createFullWidthParams = function (eRow, pinned) {\n        var params = {\n            fullWidth: true,\n            data: this.rowNode.data,\n            node: this.rowNode,\n            value: this.rowNode.key,\n            $scope: this.scope ? this.scope : this.parentScope,\n            $compile: this.beans.$compile,\n            rowIndex: this.rowNode.rowIndex,\n            api: this.beans.gridOptionsWrapper.getApi(),\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            context: this.beans.gridOptionsWrapper.getContext(),\n            // these need to be taken out, as part of 'afterAttached' now\n            eGridCell: eRow,\n            eParentOfValue: eRow,\n            pinned: pinned,\n            addRenderedRowListener: this.addEventListener.bind(this)\n        };\n        return params;\n    };\n    RowComp.prototype.getInitialRowClasses = function (extraCssClass) {\n        var classes = [];\n        var isTreeData = this.beans.gridOptionsWrapper.isTreeData();\n        var rowNode = this.rowNode;\n        if (_.exists(extraCssClass)) {\n            classes.push(extraCssClass);\n        }\n        classes.push('ag-row');\n        classes.push(this.rowFocused ? 'ag-row-focus' : 'ag-row-no-focus');\n        if (this.fadeRowIn) {\n            classes.push('ag-opacity-zero');\n        }\n        classes.push(this.rowIsEven ? 'ag-row-even' : 'ag-row-odd');\n        if (rowNode.isRowPinned()) {\n            classes.push('ag-row-pinned');\n        }\n        if (rowNode.isSelected()) {\n            classes.push('ag-row-selected');\n        }\n        if (rowNode.group) {\n            classes.push('ag-row-group');\n            // if a group, put the level of the group in\n            classes.push('ag-row-level-' + rowNode.level);\n            if (rowNode.footer) {\n                classes.push('ag-row-footer');\n            }\n        }\n        else {\n            // if a leaf, and a parent exists, put a level of the parent, else put level of 0 for top level item\n            classes.push('ag-row-level-' + (rowNode.parent ? (rowNode.parent.level + 1) : '0'));\n        }\n        if (rowNode.stub) {\n            classes.push('ag-row-loading');\n        }\n        if (this.fullWidthRow) {\n            classes.push('ag-full-width-row');\n        }\n        var addExpandedClass = isTreeData ?\n            // if doing tree data, we add the expanded classes if any children, as any node can be a parent\n            rowNode.allChildrenCount :\n            // if normal row grouping, we add expanded classes to groups only\n            rowNode.group && !rowNode.footer;\n        if (addExpandedClass) {\n            classes.push(rowNode.expanded ? 'ag-row-group-expanded' : 'ag-row-group-contracted');\n        }\n        if (rowNode.dragging) {\n            classes.push('ag-row-dragging');\n        }\n        _.pushAll(classes, this.processClassesFromGridOptions());\n        _.pushAll(classes, this.preProcessRowClassRules());\n        // we use absolute position unless we are doing print layout\n        classes.push(this.printLayout ? 'ag-row-position-relative' : 'ag-row-position-absolute');\n        this.firstRowOnPage = this.isFirstRowOnPage();\n        this.lastRowOnPage = this.isLastRowOnPage();\n        if (this.firstRowOnPage) {\n            classes.push('ag-row-first');\n        }\n        if (this.lastRowOnPage) {\n            classes.push('ag-row-last');\n        }\n        return classes;\n    };\n    RowComp.prototype.isFirstRowOnPage = function () {\n        return this.rowNode.rowIndex === this.beans.paginationProxy.getPageFirstRow();\n    };\n    RowComp.prototype.isLastRowOnPage = function () {\n        return this.rowNode.rowIndex === this.beans.paginationProxy.getPageLastRow();\n    };\n    RowComp.prototype.onModelUpdated = function () {\n        var newFirst = this.isFirstRowOnPage();\n        var newLast = this.isLastRowOnPage();\n        if (this.firstRowOnPage !== newFirst) {\n            this.firstRowOnPage = newFirst;\n            this.eAllRowContainers.forEach(function (row) { return _.addOrRemoveCssClass(row, 'ag-row-first', newFirst); });\n        }\n        if (this.lastRowOnPage !== newLast) {\n            this.lastRowOnPage = newLast;\n            this.eAllRowContainers.forEach(function (row) { return _.addOrRemoveCssClass(row, 'ag-row-last', newLast); });\n        }\n    };\n    RowComp.prototype.preProcessRowClassRules = function () {\n        var res = [];\n        this.processRowClassRules(function (className) {\n            res.push(className);\n        }, function (className) {\n            // not catered for, if creating, no need\n            // to remove class as it was never there\n        });\n        return res;\n    };\n    RowComp.prototype.processRowClassRules = function (onApplicableClass, onNotApplicableClass) {\n        this.beans.stylingService.processClassRules(this.beans.gridOptionsWrapper.rowClassRules(), {\n            value: undefined,\n            colDef: undefined,\n            data: this.rowNode.data,\n            node: this.rowNode,\n            rowIndex: this.rowNode.rowIndex,\n            api: this.beans.gridOptionsWrapper.getApi(),\n            columnApi: this.beans.gridOptionsWrapper.getColumnApi(),\n            $scope: this.scope,\n            context: this.beans.gridOptionsWrapper.getContext()\n        }, onApplicableClass, onNotApplicableClass);\n    };\n    RowComp.prototype.stopEditing = function (cancel) {\n        if (cancel === void 0) { cancel = false; }\n        this.forEachCellComp(function (renderedCell) {\n            renderedCell.stopEditing(cancel);\n        });\n        if (!this.editingRow) {\n            return;\n        }\n        if (!cancel) {\n            var event_1 = this.createRowEvent(Events.EVENT_ROW_VALUE_CHANGED);\n            this.beans.eventService.dispatchEvent(event_1);\n        }\n        this.setEditingRow(false);\n    };\n    RowComp.prototype.setEditingRow = function (value) {\n        this.editingRow = value;\n        this.eAllRowContainers.forEach(function (row) { return _.addOrRemoveCssClass(row, 'ag-row-editing', value); });\n        var event = value ?\n            this.createRowEvent(Events.EVENT_ROW_EDITING_STARTED)\n            : this.createRowEvent(Events.EVENT_ROW_EDITING_STOPPED);\n        this.beans.eventService.dispatchEvent(event);\n    };\n    RowComp.prototype.startRowEditing = function (keyPress, charPress, sourceRenderedCell) {\n        if (keyPress === void 0) { keyPress = null; }\n        if (charPress === void 0) { charPress = null; }\n        if (sourceRenderedCell === void 0) { sourceRenderedCell = null; }\n        // don't do it if already editing\n        if (this.editingRow) {\n            return;\n        }\n        this.forEachCellComp(function (renderedCell) {\n            var cellStartedEdit = renderedCell === sourceRenderedCell;\n            if (cellStartedEdit) {\n                renderedCell.startEditingIfEnabled(keyPress, charPress, cellStartedEdit);\n            }\n            else {\n                renderedCell.startEditingIfEnabled(null, null, cellStartedEdit);\n            }\n        });\n        this.setEditingRow(true);\n    };\n    RowComp.prototype.forEachCellComp = function (callback) {\n        _.iterateObject(this.cellComps, function (key, cellComp) {\n            if (!cellComp) {\n                return;\n            }\n            callback(cellComp);\n        });\n    };\n    RowComp.prototype.postProcessClassesFromGridOptions = function () {\n        var _this = this;\n        var cssClasses = this.processClassesFromGridOptions();\n        if (!cssClasses || !cssClasses.length) {\n            return;\n        }\n        cssClasses.forEach(function (classStr) {\n            _this.eAllRowContainers.forEach(function (row) { return _.addCssClass(row, classStr); });\n        });\n    };\n    RowComp.prototype.postProcessRowClassRules = function () {\n        var _this = this;\n        this.processRowClassRules(function (className) {\n            _this.eAllRowContainers.forEach(function (row) { return _.addCssClass(row, className); });\n        }, function (className) {\n            _this.eAllRowContainers.forEach(function (row) { return _.removeCssClass(row, className); });\n        });\n    };\n    RowComp.prototype.processClassesFromGridOptions = function () {\n        var res = [];\n        var process = function (rowCls) {\n            if (typeof rowCls === 'string') {\n                res.push(rowCls);\n            }\n            else if (Array.isArray(rowCls)) {\n                rowCls.forEach(function (e) { return res.push(e); });\n            }\n        };\n        // part 1 - rowClass\n        var rowClass = this.beans.gridOptionsWrapper.getRowClass();\n        if (rowClass) {\n            if (typeof rowClass === 'function') {\n                console.warn('ag-Grid: rowClass should not be a function, please use getRowClass instead');\n                return;\n            }\n            process(rowClass);\n        }\n        // part 2 - rowClassFunc\n        var rowClassFunc = this.beans.gridOptionsWrapper.getRowClassFunc();\n        if (rowClassFunc) {\n            var params = {\n                node: this.rowNode,\n                data: this.rowNode.data,\n                rowIndex: this.rowNode.rowIndex,\n                context: this.beans.gridOptionsWrapper.getContext(),\n                api: this.beans.gridOptionsWrapper.getApi()\n            };\n            var rowClassFuncResult = rowClassFunc(params);\n            process(rowClassFuncResult);\n        }\n        return res;\n    };\n    RowComp.prototype.preProcessStylesFromGridOptions = function () {\n        var rowStyles = this.processStylesFromGridOptions();\n        return _.cssStyleObjectToMarkup(rowStyles);\n    };\n    RowComp.prototype.postProcessStylesFromGridOptions = function () {\n        var rowStyles = this.processStylesFromGridOptions();\n        this.eAllRowContainers.forEach(function (row) { return _.addStylesToElement(row, rowStyles); });\n    };\n    RowComp.prototype.processStylesFromGridOptions = function () {\n        // part 1 - rowStyle\n        var rowStyle = this.beans.gridOptionsWrapper.getRowStyle();\n        if (rowStyle && typeof rowStyle === 'function') {\n            console.warn('ag-Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead');\n            return;\n        }\n        // part 1 - rowStyleFunc\n        var rowStyleFunc = this.beans.gridOptionsWrapper.getRowStyleFunc();\n        var rowStyleFuncResult;\n        if (rowStyleFunc) {\n            var params = {\n                data: this.rowNode.data,\n                node: this.rowNode,\n                api: this.beans.gridOptionsWrapper.getApi(),\n                context: this.beans.gridOptionsWrapper.getContext(),\n                $scope: this.scope\n            };\n            rowStyleFuncResult = rowStyleFunc(params);\n        }\n        return _.assign({}, rowStyle, rowStyleFuncResult);\n    };\n    RowComp.prototype.createCells = function (cols) {\n        var _this = this;\n        var templateParts = [];\n        var newCellComps = [];\n        cols.forEach(function (col) {\n            var newCellComp = new CellComp(_this.scope, _this.beans, col, _this.rowNode, _this, false, _this.printLayout);\n            var cellTemplate = newCellComp.getCreateTemplate();\n            templateParts.push(cellTemplate);\n            newCellComps.push(newCellComp);\n            _this.cellComps[col.getId()] = newCellComp;\n        });\n        var templateAndComps = {\n            template: templateParts.join(''),\n            cellComps: newCellComps\n        };\n        return templateAndComps;\n    };\n    RowComp.prototype.onRowSelected = function () {\n        var selected = this.rowNode.isSelected();\n        this.eAllRowContainers.forEach(function (row) { return _.addOrRemoveCssClass(row, 'ag-row-selected', selected); });\n    };\n    // called:\n    // + after row created for first time\n    // + after horizontal scroll, so new cells due to column virtualisation\n    RowComp.prototype.callAfterRowAttachedOnCells = function (newCellComps, eRow) {\n        var _this = this;\n        newCellComps.forEach(function (cellComp) {\n            cellComp.setParentRow(eRow);\n            cellComp.afterAttached();\n            // if we are editing the row, then the cell needs to turn\n            // into edit mode\n            if (_this.editingRow) {\n                cellComp.startEditingIfEnabled();\n            }\n        });\n    };\n    RowComp.prototype.afterRowAttached = function (rowContainerComp, eRow) {\n        var _this = this;\n        this.addDomData(eRow);\n        this.removeSecondPassFuncs.push(function () {\n            rowContainerComp.removeRowElement(eRow);\n        });\n        this.removeFirstPassFuncs.push(function () {\n            if (_.exists(_this.rowNode.rowTop)) {\n                // the row top is updated anyway, however we set it here again\n                // to something more reasonable for the animation - ie if the\n                // row top is 10000px away, the row will flash out, so this\n                // gives it a rounded value, so row animates out more slowly\n                var rowTop = _this.roundRowTopToBounds(_this.rowNode.rowTop);\n                _this.setRowTop(rowTop);\n            }\n            else {\n                _.addCssClass(eRow, 'ag-opacity-zero');\n            }\n        });\n        this.eAllRowContainers.push(eRow);\n        // adding hover functionality adds listener to this row, so we\n        // do it lazily in an animation frame\n        if (this.useAnimationFrameForCreate) {\n            this.beans.taskQueue.createTask(this.addHoverFunctionality.bind(this, eRow), this.rowNode.rowIndex, 'createTasksP2');\n        }\n        else {\n            this.addHoverFunctionality(eRow);\n        }\n    };\n    RowComp.prototype.addHoverFunctionality = function (eRow) {\n        var _this = this;\n        // because we use animation frames to do this, it's possible the row no longer exists\n        // by the time we get to add it\n        if (!this.active) {\n            return;\n        }\n        // because mouseenter and mouseleave do not propagate, we cannot listen on the gridPanel\n        // like we do for all the other mouse events.\n        // because of the pinning, we cannot simply add / remove the class based on the eRow. we\n        // have to check all eRow's (body & pinned). so the trick is if any of the rows gets a\n        // mouse hover, it sets such in the rowNode, and then all three reflect the change as\n        // all are listening for event on the row node.\n        // step 1 - add listener, to set flag on row node\n        this.addDestroyableEventListener(eRow, 'mouseenter', function () { return _this.rowNode.onMouseEnter(); });\n        this.addDestroyableEventListener(eRow, 'mouseleave', function () { return _this.rowNode.onMouseLeave(); });\n        // step 2 - listen for changes on row node (which any eRow can trigger)\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_MOUSE_ENTER, function () {\n            // if hover turned off, we don't add the class. we do this here so that if the application\n            // toggles this property mid way, we remove the hover form the last row, but we stop\n            // adding hovers from that point onwards.\n            if (!_this.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()) {\n                _.addCssClass(eRow, 'ag-row-hover');\n            }\n        });\n        this.addDestroyableEventListener(this.rowNode, RowNode.EVENT_MOUSE_LEAVE, function () {\n            _.removeCssClass(eRow, 'ag-row-hover');\n        });\n    };\n    // for animation, we don't want to animate entry or exit to a very far away pixel,\n    // otherwise the row would move so fast, it would appear to disappear. so this method\n    // moves the row closer to the viewport if it is far away, so the row slide in / out\n    // at a speed the user can see.\n    RowComp.prototype.roundRowTopToBounds = function (rowTop) {\n        var range = this.beans.gridPanel.getVScrollPosition();\n        var minPixel = this.applyPaginationOffset(range.top, true) - 100;\n        var maxPixel = this.applyPaginationOffset(range.bottom, true) + 100;\n        return Math.min(Math.max(minPixel, rowTop), maxPixel);\n    };\n    RowComp.prototype.getFrameworkOverrides = function () {\n        return this.beans.frameworkOverrides;\n    };\n    RowComp.prototype.onRowHeightChanged = function () {\n        // check for exists first - if the user is resetting the row height, then\n        // it will be null (or undefined) momentarily until the next time the flatten\n        // stage is called where the row will then update again with a new height\n        if (_.exists(this.rowNode.rowHeight)) {\n            var heightPx_1 = this.rowNode.rowHeight + \"px\";\n            this.eAllRowContainers.forEach(function (row) { return row.style.height = heightPx_1; });\n        }\n    };\n    RowComp.prototype.addEventListener = function (eventType, listener) {\n        if (eventType === 'renderedRowRemoved' || eventType === 'rowRemoved') {\n            eventType = Events.EVENT_VIRTUAL_ROW_REMOVED;\n            console.warn('ag-Grid: Since version 11, event renderedRowRemoved is now called ' + Events.EVENT_VIRTUAL_ROW_REMOVED);\n        }\n        _super.prototype.addEventListener.call(this, eventType, listener);\n    };\n    RowComp.prototype.removeEventListener = function (eventType, listener) {\n        if (eventType === 'renderedRowRemoved' || eventType === 'rowRemoved') {\n            eventType = Events.EVENT_VIRTUAL_ROW_REMOVED;\n            console.warn('ag-Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called ' + Events.EVENT_VIRTUAL_ROW_REMOVED);\n        }\n        _super.prototype.removeEventListener.call(this, eventType, listener);\n    };\n    RowComp.prototype.destroy = function (animate) {\n        if (animate === void 0) { animate = false; }\n        this.active = false;\n        // why do we have this method? shouldn't everything below be added as a destroy func beside\n        // the corresponding create logic?\n        this.destroyFullWidthComponents();\n        if (animate) {\n            this.removeFirstPassFuncs.forEach(function (func) { return func(); });\n            this.removeSecondPassFuncs.push(this.destroyContainingCells.bind(this));\n        }\n        else {\n            this.destroyContainingCells();\n            // we are not animating, so execute the second stage of removal now.\n            // we call getAndClear, so that they are only called once\n            var delayedDestroyFunctions = this.getAndClearDelayedDestroyFunctions();\n            delayedDestroyFunctions.forEach(function (func) { return func(); });\n        }\n        var event = this.createRowEvent(Events.EVENT_VIRTUAL_ROW_REMOVED);\n        this.dispatchEvent(event);\n        this.beans.eventService.dispatchEvent(event);\n        _super.prototype.destroy.call(this);\n    };\n    RowComp.prototype.destroyContainingCells = function () {\n        this.forEachCellComp(function (renderedCell) { return renderedCell.destroy(); });\n        this.destroyFullWidthComponents();\n    };\n    // we clear so that the functions are never executed twice\n    RowComp.prototype.getAndClearDelayedDestroyFunctions = function () {\n        var result = this.removeSecondPassFuncs;\n        this.removeSecondPassFuncs = [];\n        return result;\n    };\n    RowComp.prototype.onCellFocusChanged = function () {\n        var rowFocused = this.beans.focusController.isRowFocused(this.rowNode.rowIndex, this.rowNode.rowPinned);\n        if (rowFocused !== this.rowFocused) {\n            this.eAllRowContainers.forEach(function (row) { return _.addOrRemoveCssClass(row, 'ag-row-focus', rowFocused); });\n            this.eAllRowContainers.forEach(function (row) { return _.addOrRemoveCssClass(row, 'ag-row-no-focus', !rowFocused); });\n            this.rowFocused = rowFocused;\n        }\n        // if we are editing, then moving the focus out of a row will stop editing\n        if (!rowFocused && this.editingRow) {\n            this.stopEditing(false);\n        }\n    };\n    RowComp.prototype.onPaginationChanged = function () {\n        var currentPage = this.beans.paginationProxy.getCurrentPage();\n        // it is possible this row is in the new page, but the page number has changed, which means\n        // it needs to reposition itself relative to the new page\n        if (this.paginationPage !== currentPage) {\n            this.paginationPage = currentPage;\n            this.onTopChanged();\n        }\n    };\n    RowComp.prototype.onTopChanged = function () {\n        this.setRowTop(this.rowNode.rowTop);\n    };\n    // applies pagination offset, eg if on second page, and page height is 500px, then removes\n    // 500px from the top position, so a row with rowTop 600px is displayed at location 100px.\n    // reverse will take the offset away rather than add.\n    RowComp.prototype.applyPaginationOffset = function (topPx, reverse) {\n        if (reverse === void 0) { reverse = false; }\n        if (this.rowNode.isRowPinned()) {\n            return topPx;\n        }\n        var pixelOffset = this.beans.paginationProxy.getPixelOffset();\n        var multiplier = reverse ? 1 : -1;\n        return topPx + (pixelOffset * multiplier);\n    };\n    RowComp.prototype.setRowTop = function (pixels) {\n        // print layout uses normal flow layout for row positioning\n        if (this.printLayout) {\n            return;\n        }\n        // need to make sure rowTop is not null, as this can happen if the node was once\n        // visible (ie parent group was expanded) but is now not visible\n        if (_.exists(pixels)) {\n            var afterPaginationPixels = this.applyPaginationOffset(pixels);\n            var afterScalingPixels = this.beans.maxDivHeightScaler.getRealPixelPosition(afterPaginationPixels);\n            var topPx_1 = afterScalingPixels + \"px\";\n            if (this.beans.gridOptionsWrapper.isSuppressRowTransform()) {\n                this.eAllRowContainers.forEach(function (row) { return row.style.top = topPx_1; });\n            }\n            else {\n                this.eAllRowContainers.forEach(function (row) { return row.style.transform = \"translateY(\" + topPx_1 + \")\"; });\n            }\n        }\n    };\n    // we clear so that the functions are never executed twice\n    RowComp.prototype.getAndClearNextVMTurnFunctions = function () {\n        var result = this.createSecondPassFuncs;\n        this.createSecondPassFuncs = [];\n        return result;\n    };\n    RowComp.prototype.getRowNode = function () {\n        return this.rowNode;\n    };\n    RowComp.prototype.getRenderedCellForColumn = function (column) {\n        var _this = this;\n        var cellComp = this.cellComps[column.getColId()];\n        if (cellComp) {\n            return cellComp;\n        }\n        var spanList = Object.keys(this.cellComps)\n            .map(function (name) { return _this.cellComps[name]; })\n            .filter(function (cmp) { return cmp && cmp.getColSpanningList().indexOf(column) !== -1; });\n        return spanList.length ? spanList[0] : undefined;\n    };\n    RowComp.prototype.onRowIndexChanged = function () {\n        // we only bother updating if the rowIndex is present. if it is not present, it means this row\n        // is child of a group node, and the group node was closed, it's the only way to have no row index.\n        // when this happens, row is about to be de-rendered, so we don't care, rowComp is about to die!\n        if (this.rowNode.rowIndex != null) {\n            this.onCellFocusChanged();\n            this.updateRowIndexes();\n        }\n    };\n    RowComp.prototype.updateRowIndexes = function () {\n        var _this = this;\n        var rowIndexStr = this.rowNode.getRowIndexString();\n        var rowIsEven = this.rowNode.rowIndex % 2 === 0;\n        var rowIsEvenChanged = this.rowIsEven !== rowIsEven;\n        var headerRowCount = this.beans.gridPanel.headerRootComp.getHeaderRowCount();\n        if (rowIsEvenChanged) {\n            this.rowIsEven = rowIsEven;\n        }\n        this.eAllRowContainers.forEach(function (eRow) {\n            eRow.setAttribute('row-index', rowIndexStr);\n            eRow.setAttribute('aria-rowindex', (headerRowCount + _this.rowNode.rowIndex + 1).toString());\n            if (!rowIsEvenChanged) {\n                return;\n            }\n            _.addOrRemoveCssClass(eRow, 'ag-row-even', rowIsEven);\n            _.addOrRemoveCssClass(eRow, 'ag-row-odd', !rowIsEven);\n        });\n    };\n    RowComp.prototype.ensureDomOrder = function () {\n        var sides = [\n            {\n                el: this.getBodyRowElement(),\n                ct: this.bodyContainerComp\n            },\n            {\n                el: this.getPinnedLeftRowElement(),\n                ct: this.pinnedLeftContainerComp\n            }, {\n                el: this.getPinnedRightRowElement(),\n                ct: this.pinnedRightContainerComp\n            }, {\n                el: this.getFullWidthRowElement(),\n                ct: this.fullWidthContainerComp\n            }\n        ];\n        sides.forEach(function (side) {\n            if (!side.el) {\n                return;\n            }\n            side.ct.ensureDomOrder(side.el);\n        });\n    };\n    // returns the pinned left container, either the normal one, or the embedded full with one if exists\n    RowComp.prototype.getPinnedLeftRowElement = function () {\n        return this.ePinnedLeftRow ? this.ePinnedLeftRow : this.eFullWidthRowLeft;\n    };\n    // returns the pinned right container, either the normal one, or the embedded full with one if exists\n    RowComp.prototype.getPinnedRightRowElement = function () {\n        return this.ePinnedRightRow ? this.ePinnedRightRow : this.eFullWidthRowRight;\n    };\n    // returns the body container, either the normal one, or the embedded full with one if exists\n    RowComp.prototype.getBodyRowElement = function () {\n        return this.eBodyRow ? this.eBodyRow : this.eFullWidthRowBody;\n    };\n    // returns the full width container\n    RowComp.prototype.getFullWidthRowElement = function () {\n        return this.eFullWidthRow;\n    };\n    RowComp.DOM_DATA_KEY_RENDERED_ROW = 'renderedRow';\n    RowComp.FULL_WIDTH_CELL_RENDERER = 'fullWidthCellRenderer';\n    RowComp.GROUP_ROW_RENDERER = 'groupRowRenderer';\n    RowComp.GROUP_ROW_RENDERER_COMP_NAME = 'agGroupRowRenderer';\n    RowComp.LOADING_CELL_RENDERER = 'loadingCellRenderer';\n    RowComp.LOADING_CELL_RENDERER_COMP_NAME = 'agLoadingCellRenderer';\n    RowComp.DETAIL_CELL_RENDERER = 'detailCellRenderer';\n    RowComp.DETAIL_CELL_RENDERER_COMP_NAME = 'agDetailCellRenderer';\n    return RowComp;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$D = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$H = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param$5 = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar RowRenderer = /** @class */ (function (_super) {\n    __extends$D(RowRenderer, _super);\n    function RowRenderer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.destroyFuncsForColumnListeners = [];\n        // map of row ids to row objects. keeps track of which elements\n        // are rendered for which rows in the dom.\n        _this.rowCompsByIndex = {};\n        _this.floatingTopRowComps = [];\n        _this.floatingBottomRowComps = [];\n        // we only allow one refresh at a time, otherwise the internal memory structure here\n        // will get messed up. this can happen if the user has a cellRenderer, and inside the\n        // renderer they call an API method that results in another pass of the refresh,\n        // then it will be trying to draw rows in the middle of a refresh.\n        _this.refreshInProgress = false;\n        return _this;\n    }\n    RowRenderer.prototype.registerGridCore = function (gridCore) {\n        this.gridCore = gridCore;\n    };\n    RowRenderer.prototype.getGridCore = function () {\n        return this.gridCore;\n    };\n    RowRenderer.prototype.agWire = function (loggerFactory) {\n        this.logger = loggerFactory.create(\"RowRenderer\");\n    };\n    RowRenderer.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n        this.rowContainers = this.gridPanel.getRowContainers();\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_PAGINATION_CHANGED, this.onPageLoaded.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_PINNED_ROW_DATA_CHANGED, this.onPinnedRowDataChanged.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_BODY_SCROLL, this.redrawAfterScroll.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_BODY_HEIGHT_CHANGED, this.redrawAfterScroll.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_DOM_LAYOUT, this.onDomLayoutChanged.bind(this));\n        this.registerCellEventListeners();\n        this.printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        this.embedFullWidthRows = this.printLayout || this.gridOptionsWrapper.isEmbedFullWidthRows();\n        this.redrawAfterModelUpdate();\n    };\n    // in a clean design, each cell would register for each of these events. however when scrolling, all the cells\n    // registering and de-registering for events is a performance bottleneck. so we register here once and inform\n    // all active cells.\n    RowRenderer.prototype.registerCellEventListeners = function () {\n        var _this = this;\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_CELL_FOCUSED, function (event) {\n            _this.forEachCellComp(function (cellComp) { return cellComp.onCellFocused(event); });\n        });\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_FLASH_CELLS, function (event) {\n            _this.forEachCellComp(function (cellComp) { return cellComp.onFlashCells(event); });\n        });\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_COLUMN_HOVER_CHANGED, function () {\n            _this.forEachCellComp(function (cellComp) { return cellComp.onColumnHover(); });\n        });\n        // only for printLayout - because we are rendering all the cells in the same row, regardless of pinned state,\n        // then changing the width of the containers will impact left position. eg the center cols all have their\n        // left position adjusted by the width of the left pinned column, so if the pinned left column width changes,\n        // all the center cols need to be shifted to accommodate this. when in normal layout, the pinned cols are\n        // in different containers so doesn't impact.\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED, function () {\n            if (_this.printLayout) {\n                _this.forEachCellComp(function (cellComp) { return cellComp.onLeftChanged(); });\n            }\n        });\n        var rangeSelectionEnabled = this.gridOptionsWrapper.isEnableRangeSelection();\n        if (rangeSelectionEnabled) {\n            this.addDestroyableEventListener(this.eventService, Events.EVENT_RANGE_SELECTION_CHANGED, function () {\n                _this.forEachCellComp(function (cellComp) { return cellComp.onRangeSelectionChanged(); });\n            });\n            this.addDestroyableEventListener(this.eventService, Events.EVENT_COLUMN_MOVED, function () {\n                _this.forEachCellComp(function (cellComp) { return cellComp.updateRangeBordersIfRangeCount(); });\n            });\n            this.addDestroyableEventListener(this.eventService, Events.EVENT_COLUMN_PINNED, function () {\n                _this.forEachCellComp(function (cellComp) { return cellComp.updateRangeBordersIfRangeCount(); });\n            });\n            this.addDestroyableEventListener(this.eventService, Events.EVENT_COLUMN_VISIBLE, function () {\n                _this.forEachCellComp(function (cellComp) { return cellComp.updateRangeBordersIfRangeCount(); });\n            });\n        }\n        // add listeners to the grid columns\n        this.refreshListenersToColumnsForCellComps();\n        // if the grid columns change, then refresh the listeners again\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_GRID_COLUMNS_CHANGED, this.refreshListenersToColumnsForCellComps.bind(this));\n        this.addDestroyFunc(this.removeGridColumnListeners.bind(this));\n    };\n    // executes all functions in destroyFuncsForColumnListeners and then clears the list\n    RowRenderer.prototype.removeGridColumnListeners = function () {\n        this.destroyFuncsForColumnListeners.forEach(function (func) { return func(); });\n        this.destroyFuncsForColumnListeners.length = 0;\n    };\n    // this function adds listeners onto all the grid columns, which are the column that we could have cellComps for.\n    // when the grid columns change, we add listeners again. in an ideal design, each CellComp would just register to\n    // the column it belongs to on creation, however this was a bottleneck with the number of cells, so do it here\n    // once instead.\n    RowRenderer.prototype.refreshListenersToColumnsForCellComps = function () {\n        var _this = this;\n        this.removeGridColumnListeners();\n        var cols = this.columnController.getAllGridColumns();\n        if (!cols) {\n            return;\n        }\n        cols.forEach(function (col) {\n            var forEachCellWithThisCol = function (callback) {\n                _this.forEachCellComp(function (cellComp) {\n                    if (cellComp.getColumn() === col) {\n                        callback(cellComp);\n                    }\n                });\n            };\n            var leftChangedListener = function () {\n                forEachCellWithThisCol(function (cellComp) { return cellComp.onLeftChanged(); });\n            };\n            var widthChangedListener = function () {\n                forEachCellWithThisCol(function (cellComp) { return cellComp.onWidthChanged(); });\n            };\n            var firstRightPinnedChangedListener = function () {\n                forEachCellWithThisCol(function (cellComp) { return cellComp.onFirstRightPinnedChanged(); });\n            };\n            var lastLeftPinnedChangedListener = function () {\n                forEachCellWithThisCol(function (cellComp) { return cellComp.onLastLeftPinnedChanged(); });\n            };\n            col.addEventListener(Column.EVENT_LEFT_CHANGED, leftChangedListener);\n            col.addEventListener(Column.EVENT_WIDTH_CHANGED, widthChangedListener);\n            col.addEventListener(Column.EVENT_FIRST_RIGHT_PINNED_CHANGED, firstRightPinnedChangedListener);\n            col.addEventListener(Column.EVENT_LAST_LEFT_PINNED_CHANGED, lastLeftPinnedChangedListener);\n            _this.destroyFuncsForColumnListeners.push(function () {\n                col.removeEventListener(Column.EVENT_LEFT_CHANGED, leftChangedListener);\n                col.removeEventListener(Column.EVENT_WIDTH_CHANGED, widthChangedListener);\n                col.removeEventListener(Column.EVENT_FIRST_RIGHT_PINNED_CHANGED, firstRightPinnedChangedListener);\n                col.removeEventListener(Column.EVENT_LAST_LEFT_PINNED_CHANGED, lastLeftPinnedChangedListener);\n            });\n        });\n    };\n    RowRenderer.prototype.onDomLayoutChanged = function () {\n        var printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        var embedFullWidthRows = printLayout || this.gridOptionsWrapper.isEmbedFullWidthRows();\n        // if moving towards or away from print layout, means we need to destroy all rows, as rows are not laid\n        // out using absolute positioning when doing print layout\n        var destroyRows = embedFullWidthRows !== this.embedFullWidthRows || this.printLayout !== printLayout;\n        this.printLayout = printLayout;\n        this.embedFullWidthRows = embedFullWidthRows;\n        if (destroyRows) {\n            this.redrawAfterModelUpdate();\n        }\n    };\n    // for row models that have datasources, when we update the datasource, we need to force the rowRenderer\n    // to redraw all rows. otherwise the old rows from the old datasource will stay displayed.\n    RowRenderer.prototype.datasourceChanged = function () {\n        this.firstRenderedRow = 0;\n        this.lastRenderedRow = -1;\n        var rowIndexesToRemove = Object.keys(this.rowCompsByIndex);\n        this.removeRowComps(rowIndexesToRemove);\n    };\n    RowRenderer.prototype.onPageLoaded = function (refreshEvent) {\n        if (_.missing(refreshEvent)) {\n            refreshEvent = {\n                type: Events.EVENT_MODEL_UPDATED,\n                api: this.gridApi,\n                columnApi: this.columnApi,\n                animate: false,\n                keepRenderedRows: false,\n                newData: false,\n                newPage: false\n            };\n        }\n        this.onModelUpdated(refreshEvent);\n    };\n    RowRenderer.prototype.getAllCellsForColumn = function (column) {\n        var eCells = [];\n        function callback(key, rowComp) {\n            var eCell = rowComp.getCellForCol(column);\n            if (eCell) {\n                eCells.push(eCell);\n            }\n        }\n        _.iterateObject(this.rowCompsByIndex, callback);\n        _.iterateObject(this.floatingBottomRowComps, callback);\n        _.iterateObject(this.floatingTopRowComps, callback);\n        return eCells;\n    };\n    RowRenderer.prototype.refreshFloatingRowComps = function () {\n        this.refreshFloatingRows(this.floatingTopRowComps, this.pinnedRowModel.getPinnedTopRowData(), this.rowContainers.floatingTopPinnedLeft, this.rowContainers.floatingTopPinnedRight, this.rowContainers.floatingTop, this.rowContainers.floatingTopFullWidth);\n        this.refreshFloatingRows(this.floatingBottomRowComps, this.pinnedRowModel.getPinnedBottomRowData(), this.rowContainers.floatingBottomPinnedLeft, this.rowContainers.floatingBottomPinnedRight, this.rowContainers.floatingBottom, this.rowContainers.floatingBottomFullWidth);\n    };\n    RowRenderer.prototype.refreshFloatingRows = function (rowComps, rowNodes, pinnedLeftContainerComp, pinnedRightContainerComp, bodyContainerComp, fullWidthContainerComp) {\n        var _this = this;\n        rowComps.forEach(function (row) {\n            row.destroy();\n        });\n        rowComps.length = 0;\n        if (rowNodes) {\n            rowNodes.forEach(function (node) {\n                var rowComp = new RowComp(_this.$scope, bodyContainerComp, pinnedLeftContainerComp, pinnedRightContainerComp, fullWidthContainerComp, node, _this.beans, false, false, _this.printLayout, _this.embedFullWidthRows);\n                rowComp.init();\n                rowComps.push(rowComp);\n            });\n        }\n        this.flushContainers(rowComps);\n    };\n    RowRenderer.prototype.onPinnedRowDataChanged = function () {\n        // recycling rows in order to ensure cell editing is not cancelled\n        var params = {\n            recycleRows: true\n        };\n        this.redrawAfterModelUpdate(params);\n    };\n    RowRenderer.prototype.onModelUpdated = function (refreshEvent) {\n        var params = {\n            recycleRows: refreshEvent.keepRenderedRows,\n            animate: refreshEvent.animate,\n            newData: refreshEvent.newData,\n            newPage: refreshEvent.newPage,\n            // because this is a model updated event (not pinned rows), we\n            // can skip updating the pinned rows. this is needed so that if user\n            // is doing transaction updates, the pinned rows are not getting constantly\n            // trashed - or editing cells in pinned rows are not refreshed and put into read mode\n            onlyBody: true\n        };\n        this.redrawAfterModelUpdate(params);\n    };\n    // if the row nodes are not rendered, no index is returned\n    RowRenderer.prototype.getRenderedIndexesForRowNodes = function (rowNodes) {\n        var result = [];\n        if (_.missing(rowNodes)) {\n            return result;\n        }\n        _.iterateObject(this.rowCompsByIndex, function (index, renderedRow) {\n            var rowNode = renderedRow.getRowNode();\n            if (rowNodes.indexOf(rowNode) >= 0) {\n                result.push(index);\n            }\n        });\n        return result;\n    };\n    RowRenderer.prototype.redrawRows = function (rowNodes) {\n        if (!rowNodes || rowNodes.length == 0) {\n            return;\n        }\n        // we only need to be worried about rendered rows, as this method is\n        // called to what's rendered. if the row isn't rendered, we don't care\n        var indexesToRemove = this.getRenderedIndexesForRowNodes(rowNodes);\n        // remove the rows\n        this.removeRowComps(indexesToRemove);\n        // add draw them again\n        this.redrawAfterModelUpdate({\n            recycleRows: true\n        });\n    };\n    RowRenderer.prototype.getCellToRestoreFocusToAfterRefresh = function (params) {\n        var focusedCell = params.suppressKeepFocus ? null : this.focusController.getFocusCellToUseAfterRefresh();\n        if (_.missing(focusedCell)) {\n            return null;\n        }\n        // if the dom is not actually focused on a cell, then we don't try to refocus. the problem this\n        // solves is with editing - if the user is editing, eg focus is on a text field, and not on the\n        // cell itself, then the cell can be registered as having focus, however it's the text field that\n        // has the focus and not the cell div. therefore, when the refresh is finished, the grid will focus\n        // the cell, and not the textfield. that means if the user is in a text field, and the grid refreshes,\n        // the focus is lost from the text field. we do not want this.\n        var activeElement = document.activeElement;\n        var domData = this.gridOptionsWrapper.getDomData(activeElement, CellComp.DOM_DATA_KEY_CELL_COMP);\n        var elementIsNotACellDev = _.missing(domData);\n        return elementIsNotACellDev ? null : focusedCell;\n    };\n    // gets called after changes to the model.\n    RowRenderer.prototype.redrawAfterModelUpdate = function (params) {\n        if (params === void 0) { params = {}; }\n        this.getLockOnRefresh();\n        var focusedCell = this.getCellToRestoreFocusToAfterRefresh(params);\n        this.sizeContainerToPageHeight();\n        this.scrollToTopIfNewData(params);\n        // never recycle rows when print layout, we draw each row again from scratch. this is because print layout\n        // uses normal dom layout to put cells into dom - it doesn't allow reordering rows.\n        var recycleRows = !this.printLayout && params.recycleRows;\n        var animate = params.animate && this.gridOptionsWrapper.isAnimateRows();\n        var rowsToRecycle = this.binRowComps(recycleRows);\n        this.redraw(rowsToRecycle, animate);\n        if (!params.onlyBody) {\n            this.refreshFloatingRowComps();\n        }\n        this.restoreFocusedCell(focusedCell);\n        this.releaseLockOnRefresh();\n    };\n    RowRenderer.prototype.scrollToTopIfNewData = function (params) {\n        var scrollToTop = params.newData || params.newPage;\n        var suppressScrollToTop = this.gridOptionsWrapper.isSuppressScrollOnNewData();\n        if (scrollToTop && !suppressScrollToTop) {\n            this.gridPanel.scrollToTop();\n        }\n    };\n    RowRenderer.prototype.sizeContainerToPageHeight = function () {\n        var containers = [\n            this.rowContainers.body,\n            this.rowContainers.fullWidth,\n            this.rowContainers.pinnedLeft,\n            this.rowContainers.pinnedRight\n        ];\n        if (this.printLayout) {\n            containers.forEach(function (container) { return container.setHeight(null); });\n            return;\n        }\n        var containerHeight = this.paginationProxy.getCurrentPageHeight();\n        // we need at least 1 pixel for the horizontal scroll to work. so if there are now rows,\n        // we still want the scroll to be present, otherwise there would be no way to scroll the header\n        // which might be needed us user wants to access columns\n        // on the RHS - and if that was where the filter was that cause no rows to be presented, there\n        // is no way to remove the filter.\n        if (containerHeight === 0) {\n            containerHeight = 1;\n        }\n        this.maxDivHeightScaler.setModelHeight(containerHeight);\n        var realHeight = this.maxDivHeightScaler.getUiContainerHeight();\n        containers.forEach(function (container) { return container.setHeight(realHeight); });\n    };\n    RowRenderer.prototype.getLockOnRefresh = function () {\n        if (this.refreshInProgress) {\n            throw new Error(\"ag-Grid: cannot get grid to draw rows when it is in the middle of drawing rows. \" +\n                \"Your code probably called a grid API method while the grid was in the render stage. To overcome \" +\n                \"this, put the API call into a timeout, eg instead of api.refreshView(), \" +\n                \"call setTimeout(function(){api.refreshView(),0}). To see what part of your code \" +\n                \"that caused the refresh check this stacktrace.\");\n        }\n        this.refreshInProgress = true;\n    };\n    RowRenderer.prototype.releaseLockOnRefresh = function () {\n        this.refreshInProgress = false;\n    };\n    // sets the focus to the provided cell, if the cell is provided. this way, the user can call refresh without\n    // worry about the focus been lost. this is important when the user is using keyboard navigation to do edits\n    // and the cellEditor is calling 'refresh' to get other cells to update (as other cells might depend on the\n    // edited cell).\n    RowRenderer.prototype.restoreFocusedCell = function (cellPosition) {\n        if (cellPosition) {\n            this.focusController.setFocusedCell(cellPosition.rowIndex, cellPosition.column, cellPosition.rowPinned, true);\n        }\n    };\n    RowRenderer.prototype.stopEditing = function (cancel) {\n        if (cancel === void 0) { cancel = false; }\n        this.forEachRowComp(function (key, rowComp) {\n            rowComp.stopEditing(cancel);\n        });\n    };\n    RowRenderer.prototype.forEachCellComp = function (callback) {\n        this.forEachRowComp(function (key, rowComp) { return rowComp.forEachCellComp(callback); });\n    };\n    RowRenderer.prototype.forEachRowComp = function (callback) {\n        _.iterateObject(this.rowCompsByIndex, callback);\n        _.iterateObject(this.floatingTopRowComps, callback);\n        _.iterateObject(this.floatingBottomRowComps, callback);\n    };\n    RowRenderer.prototype.addRenderedRowListener = function (eventName, rowIndex, callback) {\n        var rowComp = this.rowCompsByIndex[rowIndex];\n        if (rowComp) {\n            rowComp.addEventListener(eventName, callback);\n        }\n    };\n    RowRenderer.prototype.flashCells = function (params) {\n        if (params === void 0) { params = {}; }\n        this.forEachCellCompFiltered(params.rowNodes, params.columns, function (cellComp) { return cellComp.flashCell(); });\n    };\n    RowRenderer.prototype.refreshCells = function (params) {\n        if (params === void 0) { params = {}; }\n        var refreshCellParams = {\n            forceRefresh: params.force,\n            newData: false\n        };\n        this.forEachCellCompFiltered(params.rowNodes, params.columns, function (cellComp) { return cellComp.refreshCell(refreshCellParams); });\n    };\n    RowRenderer.prototype.getCellRendererInstances = function (params) {\n        var res = [];\n        this.forEachCellCompFiltered(params.rowNodes, params.columns, function (cellComp) {\n            var cellRenderer = cellComp.getCellRenderer();\n            if (cellRenderer) {\n                res.push(cellRenderer);\n            }\n        });\n        return res;\n    };\n    RowRenderer.prototype.getCellEditorInstances = function (params) {\n        var res = [];\n        this.forEachCellCompFiltered(params.rowNodes, params.columns, function (cellComp) {\n            var cellEditor = cellComp.getCellEditor();\n            if (cellEditor) {\n                res.push(cellEditor);\n            }\n        });\n        return res;\n    };\n    RowRenderer.prototype.getEditingCells = function () {\n        var res = [];\n        this.forEachCellComp(function (cellComp) {\n            if (cellComp.isEditing()) {\n                var cellPosition = cellComp.getCellPosition();\n                res.push(cellPosition);\n            }\n        });\n        return res;\n    };\n    // calls the callback for each cellComp that match the provided rowNodes and columns. eg if one row node\n    // and two columns provided, that identifies 4 cells, so callback gets called 4 times, once for each cell.\n    RowRenderer.prototype.forEachCellCompFiltered = function (rowNodes, columns, callback) {\n        var _this = this;\n        var rowIdsMap;\n        if (_.exists(rowNodes)) {\n            rowIdsMap = {\n                top: {},\n                bottom: {},\n                normal: {}\n            };\n            rowNodes.forEach(function (rowNode) {\n                if (rowNode.rowPinned === Constants.PINNED_TOP) {\n                    rowIdsMap.top[rowNode.id] = true;\n                }\n                else if (rowNode.rowPinned === Constants.PINNED_BOTTOM) {\n                    rowIdsMap.bottom[rowNode.id] = true;\n                }\n                else {\n                    rowIdsMap.normal[rowNode.id] = true;\n                }\n            });\n        }\n        var colIdsMap;\n        if (_.exists(columns)) {\n            colIdsMap = {};\n            columns.forEach(function (colKey) {\n                var column = _this.columnController.getGridColumn(colKey);\n                if (_.exists(column)) {\n                    colIdsMap[column.getId()] = true;\n                }\n            });\n        }\n        var processRow = function (rowComp) {\n            var rowNode = rowComp.getRowNode();\n            var id = rowNode.id;\n            var floating = rowNode.rowPinned;\n            // skip this row if it is missing from the provided list\n            if (_.exists(rowIdsMap)) {\n                if (floating === Constants.PINNED_BOTTOM) {\n                    if (!rowIdsMap.bottom[id]) {\n                        return;\n                    }\n                }\n                else if (floating === Constants.PINNED_TOP) {\n                    if (!rowIdsMap.top[id]) {\n                        return;\n                    }\n                }\n                else {\n                    if (!rowIdsMap.normal[id]) {\n                        return;\n                    }\n                }\n            }\n            rowComp.forEachCellComp(function (cellComp) {\n                var colId = cellComp.getColumn().getId();\n                var excludeColFromRefresh = colIdsMap && !colIdsMap[colId];\n                if (excludeColFromRefresh) {\n                    return;\n                }\n                callback(cellComp);\n            });\n        };\n        _.iterateObject(this.rowCompsByIndex, function (index, rowComp) {\n            processRow(rowComp);\n        });\n        if (this.floatingTopRowComps) {\n            this.floatingTopRowComps.forEach(processRow);\n        }\n        if (this.floatingBottomRowComps) {\n            this.floatingBottomRowComps.forEach(processRow);\n        }\n    };\n    RowRenderer.prototype.destroy = function () {\n        var rowIndexesToRemove = Object.keys(this.rowCompsByIndex);\n        this.removeRowComps(rowIndexesToRemove);\n        _super.prototype.destroy.call(this);\n    };\n    RowRenderer.prototype.binRowComps = function (recycleRows) {\n        var _this = this;\n        var rowsToRecycle = {};\n        var indexesToRemove;\n        if (recycleRows) {\n            indexesToRemove = [];\n            _.iterateObject(this.rowCompsByIndex, function (index, rowComp) {\n                var rowNode = rowComp.getRowNode();\n                if (_.exists(rowNode.id)) {\n                    rowsToRecycle[rowNode.id] = rowComp;\n                    delete _this.rowCompsByIndex[index];\n                }\n                else {\n                    indexesToRemove.push(index);\n                }\n            });\n        }\n        else {\n            indexesToRemove = Object.keys(this.rowCompsByIndex);\n        }\n        this.removeRowComps(indexesToRemove);\n        return rowsToRecycle;\n    };\n    // takes array of row indexes\n    RowRenderer.prototype.removeRowComps = function (rowsToRemove) {\n        var _this = this;\n        // if no fromIndex then set to -1, which will refresh everything\n        // let realFromIndex = -1;\n        rowsToRemove.forEach(function (indexToRemove) {\n            var renderedRow = _this.rowCompsByIndex[indexToRemove];\n            renderedRow.destroy();\n            delete _this.rowCompsByIndex[indexToRemove];\n        });\n    };\n    // gets called when rows don't change, but viewport does, so after:\n    // 1) height of grid body changes, ie number of displayed rows has changed\n    // 2) grid scrolled to new position\n    // 3) ensure index visible (which is a scroll)\n    RowRenderer.prototype.redrawAfterScroll = function () {\n        this.getLockOnRefresh();\n        this.redraw(null, false, true);\n        this.releaseLockOnRefresh();\n    };\n    RowRenderer.prototype.removeRowCompsNotToDraw = function (indexesToDraw) {\n        // for speedy lookup, dump into map\n        var indexesToDrawMap = {};\n        indexesToDraw.forEach(function (index) { return (indexesToDrawMap[index] = true); });\n        var existingIndexes = Object.keys(this.rowCompsByIndex);\n        var indexesNotToDraw = existingIndexes.filter(function (index) { return !indexesToDrawMap[index]; });\n        this.removeRowComps(indexesNotToDraw);\n    };\n    RowRenderer.prototype.calculateIndexesToDraw = function (rowsToRecycle) {\n        var _this = this;\n        // all in all indexes in the viewport\n        var indexesToDraw = _.createArrayOfNumbers(this.firstRenderedRow, this.lastRenderedRow);\n        var checkRowToDraw = function (indexStr, rowComp) {\n            var index = Number(indexStr);\n            if (index < _this.firstRenderedRow || index > _this.lastRenderedRow) {\n                if (_this.doNotUnVirtualiseRow(rowComp)) {\n                    indexesToDraw.push(index);\n                }\n            }\n        };\n        // if we are redrawing due to scrolling change, then old rows are in this.rowCompsByIndex\n        _.iterateObject(this.rowCompsByIndex, checkRowToDraw);\n        // if we are redrawing due to model update, then old rows are in rowsToRecycle\n        _.iterateObject(rowsToRecycle, checkRowToDraw);\n        indexesToDraw.sort(function (a, b) { return a - b; });\n        return indexesToDraw;\n    };\n    RowRenderer.prototype.redraw = function (rowsToRecycle, animate, afterScroll) {\n        var _this = this;\n        if (animate === void 0) { animate = false; }\n        if (afterScroll === void 0) { afterScroll = false; }\n        this.maxDivHeightScaler.updateOffset();\n        this.workOutFirstAndLastRowsToRender();\n        // the row can already exist and be in the following:\n        // rowsToRecycle -> if model change, then the index may be different, however row may\n        //                         exist here from previous time (mapped by id).\n        // this.rowCompsByIndex -> if just a scroll, then this will contain what is currently in the viewport\n        // this is all the indexes we want, including those that already exist, so this method\n        // will end up going through each index and drawing only if the row doesn't already exist\n        var indexesToDraw = this.calculateIndexesToDraw(rowsToRecycle);\n        this.removeRowCompsNotToDraw(indexesToDraw);\n        // never animate when doing print layout - as we want to get things ready to print as quickly as possible,\n        // otherwise we risk the printer printing a row that's half faded (half way through fading in)\n        if (this.printLayout) {\n            animate = false;\n        }\n        // add in new rows\n        var nextVmTurnFunctions = [];\n        var rowComps = [];\n        indexesToDraw.forEach(function (rowIndex) {\n            var rowComp = _this.createOrUpdateRowComp(rowIndex, rowsToRecycle, animate, afterScroll);\n            if (_.exists(rowComp)) {\n                rowComps.push(rowComp);\n                _.pushAll(nextVmTurnFunctions, rowComp.getAndClearNextVMTurnFunctions());\n            }\n        });\n        this.flushContainers(rowComps);\n        _.executeNextVMTurn(nextVmTurnFunctions);\n        var useAnimationFrame = afterScroll && !this.gridOptionsWrapper.isSuppressAnimationFrame() && !this.printLayout;\n        if (useAnimationFrame) {\n            this.beans.taskQueue.addDestroyTask(this.destroyRowComps.bind(this, rowsToRecycle, animate));\n        }\n        else {\n            this.destroyRowComps(rowsToRecycle, animate);\n        }\n        this.checkAngularCompile();\n        this.gridPanel.updateRowCount();\n    };\n    RowRenderer.prototype.flushContainers = function (rowComps) {\n        _.iterateObject(this.rowContainers, function (key, rowContainerComp) {\n            if (rowContainerComp) {\n                rowContainerComp.flushRowTemplates();\n            }\n        });\n        rowComps.forEach(function (rowComp) { return rowComp.afterFlush(); });\n    };\n    RowRenderer.prototype.onDisplayedColumnsChanged = function () {\n        var pinningLeft = this.columnController.isPinningLeft();\n        var pinningRight = this.columnController.isPinningRight();\n        var atLeastOneChanged = this.pinningLeft !== pinningLeft || pinningRight !== this.pinningRight;\n        if (atLeastOneChanged) {\n            this.pinningLeft = pinningLeft;\n            this.pinningRight = pinningRight;\n            if (this.embedFullWidthRows) {\n                this.redrawFullWidthEmbeddedRows();\n            }\n        }\n    };\n    // when embedding, what gets showed in each section depends on what is pinned. eg if embedding group expand / collapse,\n    // then it should go into the pinned left area if pinning left, or the center area if not pinning.\n    RowRenderer.prototype.redrawFullWidthEmbeddedRows = function () {\n        // if either of the pinned panels has shown / hidden, then need to redraw the fullWidth bits when\n        // embedded, as what appears in each section depends on whether we are pinned or not\n        var rowsToRemove = [];\n        _.iterateObject(this.rowCompsByIndex, function (id, rowComp) {\n            if (rowComp.isFullWidth()) {\n                var rowIndex = rowComp.getRowNode().rowIndex;\n                rowsToRemove.push(rowIndex.toString());\n            }\n        });\n        this.refreshFloatingRowComps();\n        this.removeRowComps(rowsToRemove);\n        this.redrawAfterScroll();\n    };\n    RowRenderer.prototype.refreshFullWidthRows = function () {\n        var rowsToRemove = [];\n        _.iterateObject(this.rowCompsByIndex, function (id, rowComp) {\n            if (rowComp.isFullWidth()) {\n                var fullWidthRowsRefreshed = rowComp.refreshFullWidth();\n                if (!fullWidthRowsRefreshed) {\n                    var rowIndex = rowComp.getRowNode().rowIndex;\n                    rowsToRemove.push(rowIndex.toString());\n                }\n            }\n        });\n        this.removeRowComps(rowsToRemove);\n        this.redrawAfterScroll();\n    };\n    RowRenderer.prototype.createOrUpdateRowComp = function (rowIndex, rowsToRecycle, animate, afterScroll) {\n        var rowNode;\n        var rowComp = this.rowCompsByIndex[rowIndex];\n        // if no row comp, see if we can get it from the previous rowComps\n        if (!rowComp) {\n            rowNode = this.paginationProxy.getRow(rowIndex);\n            if (_.exists(rowNode) && _.exists(rowsToRecycle) && rowsToRecycle[rowNode.id] && rowNode.alreadyRendered) {\n                rowComp = rowsToRecycle[rowNode.id];\n                rowsToRecycle[rowNode.id] = null;\n            }\n        }\n        var creatingNewRowComp = !rowComp;\n        if (creatingNewRowComp) {\n            // create a new one\n            if (!rowNode) {\n                rowNode = this.paginationProxy.getRow(rowIndex);\n            }\n            if (_.exists(rowNode)) {\n                rowComp = this.createRowComp(rowNode, animate, afterScroll);\n            }\n            else {\n                // this should never happen - if somehow we are trying to create\n                // a row for a rowNode that does not exist.\n                return;\n            }\n        }\n        else {\n            // ensure row comp is in right position in DOM\n            rowComp.ensureDomOrder();\n        }\n        if (rowNode) {\n            // set node as 'alreadyRendered' to ensure we only recycle rowComps that have been rendered, this ensures\n            // we don't reuse rowComps that have been removed and then re-added in the same batch transaction.\n            rowNode.alreadyRendered = true;\n        }\n        this.rowCompsByIndex[rowIndex] = rowComp;\n        return rowComp;\n    };\n    RowRenderer.prototype.destroyRowComps = function (rowCompsMap, animate) {\n        var delayedFuncs = [];\n        _.iterateObject(rowCompsMap, function (nodeId, rowComp) {\n            // if row was used, then it's null\n            if (!rowComp) {\n                return;\n            }\n            rowComp.destroy(animate);\n            _.pushAll(delayedFuncs, rowComp.getAndClearDelayedDestroyFunctions());\n        });\n        _.executeInAWhile(delayedFuncs);\n    };\n    RowRenderer.prototype.checkAngularCompile = function () {\n        var _this = this;\n        // if we are doing angular compiling, then do digest the scope here\n        if (this.gridOptionsWrapper.isAngularCompileRows()) {\n            // we do it in a timeout, in case we are already in an apply\n            window.setTimeout(function () {\n                _this.$scope.$apply();\n            }, 0);\n        }\n    };\n    RowRenderer.prototype.workOutFirstAndLastRowsToRender = function () {\n        var _this = this;\n        var newFirst;\n        var newLast;\n        if (!this.paginationProxy.isRowsToRender()) {\n            newFirst = 0;\n            newLast = -1; // setting to -1 means nothing in range\n        }\n        else if (this.printLayout) {\n            newFirst = this.paginationProxy.getPageFirstRow();\n            newLast = this.paginationProxy.getPageLastRow();\n        }\n        else {\n            var paginationOffset = this.paginationProxy.getPixelOffset();\n            var maxDivHeightScaler = this.maxDivHeightScaler.getOffset();\n            var bodyVRange = this.gridPanel.getVScrollPosition();\n            var bodyTopPixel = bodyVRange.top;\n            var bodyBottomPixel = bodyVRange.bottom;\n            var bufferPixels = this.gridOptionsWrapper.getRowBufferInPixels();\n            var firstPixel = bodyTopPixel + paginationOffset + maxDivHeightScaler - bufferPixels;\n            var lastPixel = bodyBottomPixel + paginationOffset + maxDivHeightScaler + bufferPixels;\n            this.ensureAllRowsInRangeHaveHeightsCalculated(firstPixel, lastPixel);\n            var firstRowIndex = this.paginationProxy.getRowIndexAtPixel(firstPixel);\n            var lastRowIndex = this.paginationProxy.getRowIndexAtPixel(lastPixel);\n            var pageFirstRow = this.paginationProxy.getPageFirstRow();\n            var pageLastRow = this.paginationProxy.getPageLastRow();\n            // adjust, in case buffer extended actual size\n            if (firstRowIndex < pageFirstRow) {\n                firstRowIndex = pageFirstRow;\n            }\n            if (lastRowIndex > pageLastRow) {\n                lastRowIndex = pageLastRow;\n            }\n            newFirst = firstRowIndex;\n            newLast = lastRowIndex;\n        }\n        // sometimes user doesn't set CSS right and ends up with grid with no height and grid ends up\n        // trying to render all the rows, eg 10,000+ rows. this will kill the browser. so instead of\n        // killing the browser, we limit the number of rows. just in case some use case we didn't think\n        // of, we also have a property to not do this operation.\n        var rowLayoutNormal = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_NORMAL;\n        var suppressRowCountRestriction = this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction();\n        var rowBufferMaxSize = Math.max(this.gridOptionsWrapper.getRowBuffer(), 500);\n        if (rowLayoutNormal && !suppressRowCountRestriction) {\n            if (newLast - newFirst > rowBufferMaxSize) {\n                newLast = newFirst + rowBufferMaxSize;\n            }\n        }\n        var firstDiffers = newFirst !== this.firstRenderedRow;\n        var lastDiffers = newLast !== this.lastRenderedRow;\n        if (firstDiffers || lastDiffers) {\n            this.firstRenderedRow = newFirst;\n            this.lastRenderedRow = newLast;\n            var event_1 = {\n                type: Events.EVENT_VIEWPORT_CHANGED,\n                firstRow: newFirst,\n                lastRow: newLast,\n                api: this.gridApi,\n                columnApi: this.columnApi\n            };\n            this.eventService.dispatchEvent(event_1);\n        }\n        // only dispatch firstDataRendered if we have actually rendered some data\n        if (this.paginationProxy.isRowsToRender()) {\n            var event_2 = {\n                type: Events.EVENT_FIRST_DATA_RENDERED,\n                firstRow: newFirst,\n                lastRow: newLast,\n                api: this.gridApi,\n                columnApi: this.columnApi\n            };\n            // added a small delay here because in some scenarios this can be fired\n            // before the grid is actually rendered, causing component creation\n            // on EVENT_FIRST_DATA_RENDERED to fail.\n            window.setTimeout(function () { return _this.eventService.dispatchEventOnce(event_2); }, 50);\n        }\n    };\n    RowRenderer.prototype.ensureAllRowsInRangeHaveHeightsCalculated = function (topPixel, bottomPixel) {\n        // ensureRowHeightsVisible only works with CSRM, as it's the only row model that allows lazy row height calcs.\n        // all the other row models just hard code so the method just returns back false\n        var rowHeightsChanged = this.paginationProxy.ensureRowHeightsValid(topPixel, bottomPixel, -1, -1);\n        if (rowHeightsChanged) {\n            // if row heights have changed, we need to resize the containers the rows sit it\n            this.sizeContainerToPageHeight();\n            // we also need to update heightScaler as this has dependency of row container height\n            this.maxDivHeightScaler.updateOffset();\n        }\n    };\n    RowRenderer.prototype.getFirstVirtualRenderedRow = function () {\n        return this.firstRenderedRow;\n    };\n    RowRenderer.prototype.getLastVirtualRenderedRow = function () {\n        return this.lastRenderedRow;\n    };\n    // check that none of the rows to remove are editing or focused as:\n    // a) if editing, we want to keep them, otherwise the user will loose the context of the edit,\n    //    eg user starts editing, enters some text, then scrolls down and then up, next time row rendered\n    //    the edit is reset - so we want to keep it rendered.\n    // b) if focused, we want ot keep keyboard focus, so if user ctrl+c, it goes to clipboard,\n    //    otherwise the user can range select and drag (with focus cell going out of the viewport)\n    //    and then ctrl+c, nothing will happen if cell is removed from dom.\n    // c) if detail record of master detail, as users complained that the context of detail rows\n    //    was getting lost when detail row out of view. eg user expands to show detail row,\n    //    then manipulates the detail panel (eg sorts the detail grid), then context is lost\n    //    after detail panel is scrolled out of / into view.\n    RowRenderer.prototype.doNotUnVirtualiseRow = function (rowComp) {\n        var REMOVE_ROW = false;\n        var KEEP_ROW = true;\n        var rowNode = rowComp.getRowNode();\n        var rowHasFocus = this.focusController.isRowNodeFocused(rowNode);\n        var rowIsEditing = rowComp.isEditing();\n        var rowIsDetail = rowNode.detail;\n        var mightWantToKeepRow = rowHasFocus || rowIsEditing || rowIsDetail;\n        // if we deffo don't want to keep it,\n        if (!mightWantToKeepRow) {\n            return REMOVE_ROW;\n        }\n        // editing row, only remove if it is no longer rendered, eg filtered out or new data set.\n        // the reason we want to keep is if user is scrolling up and down, we don't want to loose\n        // the context of the editing in process.\n        var rowNodePresent = this.paginationProxy.isRowPresent(rowNode);\n        return rowNodePresent ? KEEP_ROW : REMOVE_ROW;\n    };\n    RowRenderer.prototype.createRowComp = function (rowNode, animate, afterScroll) {\n        var suppressAnimationFrame = this.gridOptionsWrapper.isSuppressAnimationFrame();\n        // we don't use animations frames for printing, so the user can put the grid into print mode\n        // and immediately print - otherwise the user would have to wait for the rows to draw in the background\n        // (via the animation frames) which is awkward to do from code.\n        // we only do the animation frames after scrolling, as this is where we want the smooth user experience.\n        // having animation frames for other times makes the grid look 'jumpy'.\n        var useAnimationFrameForCreate = afterScroll && !suppressAnimationFrame && !this.printLayout;\n        var rowComp = new RowComp(this.$scope, this.rowContainers.body, this.rowContainers.pinnedLeft, this.rowContainers.pinnedRight, this.rowContainers.fullWidth, rowNode, this.beans, animate, useAnimationFrameForCreate, this.printLayout, this.embedFullWidthRows);\n        rowComp.init();\n        return rowComp;\n    };\n    RowRenderer.prototype.getRenderedNodes = function () {\n        var renderedRows = this.rowCompsByIndex;\n        return Object.keys(renderedRows).map(function (key) { return renderedRows[key].getRowNode(); });\n    };\n    // we use index for rows, but column object for columns, as the next column (by index) might not\n    // be visible (header grouping) so it's not reliable, so using the column object instead.\n    RowRenderer.prototype.navigateToNextCell = function (event, key, currentCell, allowUserOverride) {\n        // we keep searching for a next cell until we find one. this is how the group rows get skipped\n        var nextCell = currentCell;\n        var finished = false;\n        while (!finished) {\n            // if the current cell is spanning across multiple columns, we need to move\n            // our current position to be the last cell on the right before finding the\n            // the next target.\n            if (this.gridOptionsWrapper.isEnableRtl()) {\n                if (key === Constants.KEY_LEFT) {\n                    nextCell = this.getLastCellOfColSpan(nextCell);\n                }\n            }\n            else if (key === Constants.KEY_RIGHT) {\n                nextCell = this.getLastCellOfColSpan(nextCell);\n            }\n            nextCell = this.cellNavigationService.getNextCellToFocus(key, nextCell);\n            // eg if going down, and nextCell=undefined, means we are gone past the last row\n            var hitEdgeOfGrid = _.missing(nextCell);\n            if (hitEdgeOfGrid) {\n                finished = true;\n                continue;\n            }\n            var rowNode = this.rowPositionUtils.getRowNode(nextCell);\n            // we do not allow focusing on detail rows and full width rows\n            if (rowNode.detail || rowNode.isFullWidthCell()) {\n                continue;\n            }\n            // if not a group, then we have a valid row, so quit the search\n            if (!rowNode.group) {\n                finished = true;\n                continue;\n            }\n            // full width rows cannot be focused, so if it's a group and using full width rows,\n            // we need to skip over the row\n            var pivotMode = this.columnController.isPivotMode();\n            var usingFullWidthRows = this.gridOptionsWrapper.isGroupUseEntireRow(pivotMode);\n            if (!usingFullWidthRows) {\n                finished = true;\n            }\n        }\n        // allow user to override what cell to go to next. when doing normal cell navigation (with keys)\n        // we allow this, however if processing 'enter after edit' we don't allow override\n        if (allowUserOverride) {\n            var userFunc = this.gridOptionsWrapper.getNavigateToNextCellFunc();\n            if (_.exists(userFunc)) {\n                var params = {\n                    key: key,\n                    previousCellPosition: currentCell,\n                    nextCellPosition: nextCell ? nextCell : null,\n                    event: event\n                };\n                var userCell = userFunc(params);\n                if (_.exists(userCell)) {\n                    if (userCell.floating) {\n                        _.doOnce(function () { console.warn(\"ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?\"); }, 'no floating in userCell');\n                        userCell.rowPinned = userCell.floating;\n                    }\n                    nextCell = {\n                        rowPinned: userCell.rowPinned,\n                        rowIndex: userCell.rowIndex,\n                        column: userCell.column\n                    };\n                }\n                else {\n                    nextCell = null;\n                }\n            }\n        }\n        // no next cell means we have reached a grid boundary, eg left, right, top or bottom of grid\n        if (!nextCell) {\n            return;\n        }\n        // in case we have col spanning we get the cellComp and use it to\n        // get the position. This was we always focus the first cell inside\n        // the spanning.\n        this.ensureCellVisible(nextCell); // ensureCellVisible first, to make sure nextCell is rendered\n        var cellComp = this.getComponentForCell(nextCell);\n        // not guaranteed to have a cellComp when using the SSRM as blocks are loading.\n        if (!cellComp) {\n            return;\n        }\n        nextCell = cellComp.getCellPosition();\n        // we call this again, as nextCell can be different to it's previous value due to Column Spanning\n        // (ie if cursor moving from right to left, and cell is spanning columns, then nextCell was the\n        // last column in the group, however now it's the first column in the group). if we didn't do\n        // ensureCellVisible again, then we could only be showing the last portion (last column) of the\n        // merged cells.\n        this.ensureCellVisible(nextCell);\n        this.focusController.setFocusedCell(nextCell.rowIndex, nextCell.column, nextCell.rowPinned, true);\n        if (this.rangeController) {\n            this.rangeController.setRangeToCell(nextCell);\n        }\n    };\n    RowRenderer.prototype.getLastCellOfColSpan = function (cell) {\n        var cellComp = this.getComponentForCell(cell);\n        if (!cellComp) {\n            return cell;\n        }\n        var colSpanningList = cellComp.getColSpanningList();\n        if (colSpanningList.length === 1) {\n            return cell;\n        }\n        return {\n            rowIndex: cell.rowIndex,\n            column: _.last(colSpanningList),\n            rowPinned: cell.rowPinned\n        };\n    };\n    RowRenderer.prototype.ensureCellVisible = function (gridCell) {\n        // this scrolls the row into view\n        if (_.missing(gridCell.rowPinned)) {\n            this.gridPanel.ensureIndexVisible(gridCell.rowIndex);\n        }\n        if (!gridCell.column.isPinned()) {\n            this.gridPanel.ensureColumnVisible(gridCell.column);\n        }\n        // need to nudge the scrolls for the floating items. otherwise when we set focus on a non-visible\n        // floating cell, the scrolls get out of sync\n        this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter();\n        // need to flush frames, to make sure the correct cells are rendered\n        this.animationFrameService.flushAllFrames();\n    };\n    RowRenderer.prototype.startEditingCell = function (gridCell, keyPress, charPress) {\n        var cell = this.getComponentForCell(gridCell);\n        if (cell) {\n            cell.startRowOrCellEdit(keyPress, charPress);\n        }\n    };\n    RowRenderer.prototype.getComponentForCell = function (cellPosition) {\n        var rowComponent;\n        switch (cellPosition.rowPinned) {\n            case Constants.PINNED_TOP:\n                rowComponent = this.floatingTopRowComps[cellPosition.rowIndex];\n                break;\n            case Constants.PINNED_BOTTOM:\n                rowComponent = this.floatingBottomRowComps[cellPosition.rowIndex];\n                break;\n            default:\n                rowComponent = this.rowCompsByIndex[cellPosition.rowIndex];\n                break;\n        }\n        if (!rowComponent) {\n            return null;\n        }\n        var cellComponent = rowComponent.getRenderedCellForColumn(cellPosition.column);\n        return cellComponent;\n    };\n    RowRenderer.prototype.getRowNode = function (gridRow) {\n        switch (gridRow.rowPinned) {\n            case Constants.PINNED_TOP:\n                return this.pinnedRowModel.getPinnedTopRowData()[gridRow.rowIndex];\n            case Constants.PINNED_BOTTOM:\n                return this.pinnedRowModel.getPinnedBottomRowData()[gridRow.rowIndex];\n            default:\n                return this.rowModel.getRow(gridRow.rowIndex);\n        }\n    };\n    RowRenderer.prototype.onTabKeyDown = function (previousRenderedCell, keyboardEvent) {\n        var backwards = keyboardEvent.shiftKey;\n        var success = this.moveToCellAfter(previousRenderedCell, backwards);\n        if (success) {\n            keyboardEvent.preventDefault();\n        }\n    };\n    RowRenderer.prototype.tabToNextCell = function (backwards) {\n        var focusedCell = this.focusController.getFocusedCell();\n        // if no focus, then cannot navigate\n        if (_.missing(focusedCell)) {\n            return false;\n        }\n        var renderedCell = this.getComponentForCell(focusedCell);\n        // if cell is not rendered, means user has scrolled away from the cell\n        if (_.missing(renderedCell)) {\n            return false;\n        }\n        var result = this.moveToCellAfter(renderedCell, backwards);\n        return result;\n    };\n    RowRenderer.prototype.moveToCellAfter = function (previousRenderedCell, backwards) {\n        var editing = previousRenderedCell.isEditing();\n        var res;\n        if (editing) {\n            if (this.gridOptionsWrapper.isFullRowEdit()) {\n                res = this.moveToNextEditingRow(previousRenderedCell, backwards);\n            }\n            else {\n                res = this.moveToNextEditingCell(previousRenderedCell, backwards);\n            }\n        }\n        else {\n            res = this.moveToNextCellNotEditing(previousRenderedCell, backwards);\n        }\n        return res;\n    };\n    RowRenderer.prototype.moveToNextEditingCell = function (previousRenderedCell, backwards) {\n        var gridCell = previousRenderedCell.getCellPosition();\n        // need to do this before getting next cell to edit, in case the next cell\n        // has editable function (eg colDef.editable=func() ) and it depends on the\n        // result of this cell, so need to save updates from the first edit, in case\n        // the value is referenced in the function.\n        previousRenderedCell.stopEditing();\n        // find the next cell to start editing\n        var nextRenderedCell = this.findNextCellToFocusOn(gridCell, backwards, true);\n        var foundCell = _.exists(nextRenderedCell);\n        // only prevent default if we found a cell. so if user is on last cell and hits tab, then we default\n        // to the normal tabbing so user can exit the grid.\n        if (foundCell) {\n            nextRenderedCell.startEditingIfEnabled(null, null, true);\n            nextRenderedCell.focusCell(false);\n        }\n        return foundCell;\n    };\n    RowRenderer.prototype.moveToNextEditingRow = function (previousRenderedCell, backwards) {\n        var gridCell = previousRenderedCell.getCellPosition();\n        // find the next cell to start editing\n        var nextRenderedCell = this.findNextCellToFocusOn(gridCell, backwards, true);\n        var foundCell = _.exists(nextRenderedCell);\n        // only prevent default if we found a cell. so if user is on last cell and hits tab, then we default\n        // to the normal tabbing so user can exit the grid.\n        if (foundCell) {\n            this.moveEditToNextCellOrRow(previousRenderedCell, nextRenderedCell);\n        }\n        return foundCell;\n    };\n    RowRenderer.prototype.moveToNextCellNotEditing = function (previousRenderedCell, backwards) {\n        var gridCell = previousRenderedCell.getCellPosition();\n        // find the next cell to start editing\n        var nextRenderedCell = this.findNextCellToFocusOn(gridCell, backwards, false);\n        var foundCell = _.exists(nextRenderedCell);\n        // only prevent default if we found a cell. so if user is on last cell and hits tab, then we default\n        // to the normal tabbing so user can exit the grid.\n        if (foundCell) {\n            nextRenderedCell.focusCell(true);\n        }\n        return foundCell;\n    };\n    RowRenderer.prototype.moveEditToNextCellOrRow = function (previousRenderedCell, nextRenderedCell) {\n        var pGridCell = previousRenderedCell.getCellPosition();\n        var nGridCell = nextRenderedCell.getCellPosition();\n        var rowsMatch = pGridCell.rowIndex === nGridCell.rowIndex && pGridCell.rowPinned === nGridCell.rowPinned;\n        if (rowsMatch) {\n            // same row, so we don't start / stop editing, we just move the focus along\n            previousRenderedCell.setFocusOutOnEditor();\n            nextRenderedCell.setFocusInOnEditor();\n        }\n        else {\n            var pRow = previousRenderedCell.getRenderedRow();\n            var nRow = nextRenderedCell.getRenderedRow();\n            previousRenderedCell.setFocusOutOnEditor();\n            pRow.stopEditing();\n            nRow.startRowEditing();\n            nextRenderedCell.setFocusInOnEditor();\n        }\n        nextRenderedCell.focusCell();\n    };\n    // called by the cell, when tab is pressed while editing.\n    // @return: RenderedCell when navigation successful, otherwise null\n    RowRenderer.prototype.findNextCellToFocusOn = function (gridCell, backwards, startEditing) {\n        var nextCell = gridCell;\n        while (true) {\n            if (!backwards) {\n                nextCell = this.getLastCellOfColSpan(nextCell);\n            }\n            nextCell = this.cellNavigationService.getNextTabbedCell(nextCell, backwards);\n            // allow user to override what cell to go to next\n            var userFunc = this.gridOptionsWrapper.getTabToNextCellFunc();\n            if (_.exists(userFunc)) {\n                var params = {\n                    backwards: backwards,\n                    editing: startEditing,\n                    previousCellPosition: gridCell,\n                    nextCellPosition: nextCell ? nextCell : null\n                };\n                var userCell = userFunc(params);\n                if (_.exists(userCell)) {\n                    if (userCell.floating) {\n                        _.doOnce(function () { console.warn(\"ag-Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?\"); }, 'no floating in userCell');\n                        userCell.rowPinned = userCell.floating;\n                    }\n                    nextCell = {\n                        rowIndex: userCell.rowIndex,\n                        column: userCell.column,\n                        rowPinned: userCell.rowPinned\n                    };\n                }\n                else {\n                    nextCell = null;\n                }\n            }\n            // if no 'next cell', means we have got to last cell of grid, so nothing to move to,\n            // so bottom right cell going forwards, or top left going backwards\n            if (!nextCell) {\n                return null;\n            }\n            // if editing, but cell not editable, skip cell. we do this before we do all of\n            // the 'ensure index visible' and 'flush all frames', otherwise if we are skipping\n            // a bunch of cells (eg 10 rows) then all the work on ensuring cell visible is useless\n            // (except for the last one) which causes grid to stall for a while.\n            if (startEditing) {\n                var rowNode = this.lookupRowNodeForCell(nextCell);\n                var cellIsEditable = nextCell.column.isCellEditable(rowNode);\n                if (!cellIsEditable) {\n                    continue;\n                }\n            }\n            // this scrolls the row into view\n            var cellIsNotFloating = _.missing(nextCell.rowPinned);\n            if (cellIsNotFloating) {\n                this.gridPanel.ensureIndexVisible(nextCell.rowIndex);\n            }\n            // pinned columns don't scroll, so no need to ensure index visible\n            if (!nextCell.column.isPinned()) {\n                this.gridPanel.ensureColumnVisible(nextCell.column);\n            }\n            // need to nudge the scrolls for the floating items. otherwise when we set focus on a non-visible\n            // floating cell, the scrolls get out of sync\n            this.gridPanel.horizontallyScrollHeaderCenterAndFloatingCenter();\n            // get the grid panel to flush all animation frames - otherwise the call below to get the cellComp\n            // could fail, if we just scrolled the grid (to make a cell visible) and the rendering hasn't finished.\n            this.animationFrameService.flushAllFrames();\n            // we have to call this after ensureColumnVisible - otherwise it could be a virtual column\n            // or row that is not currently in view, hence the renderedCell would not exist\n            var nextCellComp = this.getComponentForCell(nextCell);\n            // if next cell is fullWidth row, then no rendered cell,\n            // as fullWidth rows have no cells, so we skip it\n            if (_.missing(nextCellComp)) {\n                continue;\n            }\n            if (nextCellComp.isSuppressNavigable()) {\n                continue;\n            }\n            // by default, when we click a cell, it gets selected into a range, so to keep keyboard navigation\n            // consistent, we set into range here also.\n            if (this.rangeController) {\n                this.rangeController.setRangeToCell(nextCell);\n            }\n            // we successfully tabbed onto a grid cell, so return true\n            return nextCellComp;\n        }\n    };\n    RowRenderer.prototype.lookupRowNodeForCell = function (cell) {\n        if (cell.rowPinned === Constants.PINNED_TOP) {\n            return this.pinnedRowModel.getPinnedTopRow(cell.rowIndex);\n        }\n        if (cell.rowPinned === Constants.PINNED_BOTTOM) {\n            return this.pinnedRowModel.getPinnedBottomRow(cell.rowIndex);\n        }\n        return this.paginationProxy.getRow(cell.rowIndex);\n    };\n    __decorate$H([\n        Autowired(\"paginationProxy\")\n    ], RowRenderer.prototype, \"paginationProxy\", void 0);\n    __decorate$H([\n        Autowired(\"columnController\")\n    ], RowRenderer.prototype, \"columnController\", void 0);\n    __decorate$H([\n        Autowired(\"gridOptionsWrapper\")\n    ], RowRenderer.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$H([\n        Autowired(\"$scope\")\n    ], RowRenderer.prototype, \"$scope\", void 0);\n    __decorate$H([\n        Autowired(\"eventService\")\n    ], RowRenderer.prototype, \"eventService\", void 0);\n    __decorate$H([\n        Autowired(\"pinnedRowModel\")\n    ], RowRenderer.prototype, \"pinnedRowModel\", void 0);\n    __decorate$H([\n        Autowired(\"rowModel\")\n    ], RowRenderer.prototype, \"rowModel\", void 0);\n    __decorate$H([\n        Autowired(\"loggerFactory\")\n    ], RowRenderer.prototype, \"loggerFactory\", void 0);\n    __decorate$H([\n        Autowired(\"focusController\")\n    ], RowRenderer.prototype, \"focusController\", void 0);\n    __decorate$H([\n        Autowired(\"cellNavigationService\")\n    ], RowRenderer.prototype, \"cellNavigationService\", void 0);\n    __decorate$H([\n        Autowired(\"columnApi\")\n    ], RowRenderer.prototype, \"columnApi\", void 0);\n    __decorate$H([\n        Autowired(\"gridApi\")\n    ], RowRenderer.prototype, \"gridApi\", void 0);\n    __decorate$H([\n        Autowired(\"beans\")\n    ], RowRenderer.prototype, \"beans\", void 0);\n    __decorate$H([\n        Autowired(\"maxDivHeightScaler\")\n    ], RowRenderer.prototype, \"maxDivHeightScaler\", void 0);\n    __decorate$H([\n        Autowired(\"animationFrameService\")\n    ], RowRenderer.prototype, \"animationFrameService\", void 0);\n    __decorate$H([\n        Autowired(\"rowPositionUtils\")\n    ], RowRenderer.prototype, \"rowPositionUtils\", void 0);\n    __decorate$H([\n        Optional(\"rangeController\")\n    ], RowRenderer.prototype, \"rangeController\", void 0);\n    __decorate$H([\n        __param$5(0, Qualifier(\"loggerFactory\"))\n    ], RowRenderer.prototype, \"agWire\", null);\n    RowRenderer = __decorate$H([\n        Bean(\"rowRenderer\")\n    ], RowRenderer);\n    return RowRenderer;\n}(BeanStub));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar CssClassApplier = /** @class */ (function () {\n    function CssClassApplier() {\n    }\n    CssClassApplier.addHeaderClassesFromColDef = function (abstractColDef, eHeaderCell, gridOptionsWrapper, column, columnGroup) {\n        if (_.missing(abstractColDef)) {\n            return;\n        }\n        this.addColumnClassesFromCollDef(abstractColDef.headerClass, abstractColDef, eHeaderCell, gridOptionsWrapper, column, columnGroup);\n    };\n    CssClassApplier.addToolPanelClassesFromColDef = function (abstractColDef, eHeaderCell, gridOptionsWrapper, column, columnGroup) {\n        if (_.missing(abstractColDef)) {\n            return;\n        }\n        this.addColumnClassesFromCollDef(abstractColDef.toolPanelClass, abstractColDef, eHeaderCell, gridOptionsWrapper, column, columnGroup);\n    };\n    CssClassApplier.addColumnClassesFromCollDef = function (classesOrFunc, abstractColDef, eHeaderCell, gridOptionsWrapper, column, columnGroup) {\n        if (_.missing(classesOrFunc)) {\n            return;\n        }\n        var classToUse;\n        if (typeof classesOrFunc === 'function') {\n            var params = {\n                // bad naming, as colDef here can be a group or a column,\n                // however most people won't appreciate the difference,\n                // so keeping it as colDef to avoid confusion.\n                colDef: abstractColDef,\n                column: column,\n                columnGroup: columnGroup,\n                context: gridOptionsWrapper.getContext(),\n                api: gridOptionsWrapper.getApi()\n            };\n            var headerClassFunc = classesOrFunc;\n            classToUse = headerClassFunc(params);\n        }\n        else {\n            classToUse = classesOrFunc;\n        }\n        if (typeof classToUse === 'string') {\n            _.addCssClass(eHeaderCell, classToUse);\n        }\n        else if (Array.isArray(classToUse)) {\n            classToUse.forEach(function (cssClassItem) {\n                _.addCssClass(eHeaderCell, cssClassItem);\n            });\n        }\n    };\n    return CssClassApplier;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$E = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$I = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar HoverFeature = /** @class */ (function (_super) {\n    __extends$E(HoverFeature, _super);\n    function HoverFeature(columns, element) {\n        var _this = _super.call(this) || this;\n        _this.columns = columns;\n        _this.element = element;\n        return _this;\n    }\n    HoverFeature.prototype.postConstruct = function () {\n        this.addMouseHoverListeners();\n    };\n    HoverFeature.prototype.addMouseHoverListeners = function () {\n        this.addDestroyableEventListener(this.element, 'mouseout', this.onMouseOut.bind(this));\n        this.addDestroyableEventListener(this.element, 'mouseover', this.onMouseOver.bind(this));\n    };\n    HoverFeature.prototype.onMouseOut = function () {\n        this.columnHoverService.clearMouseOver();\n    };\n    HoverFeature.prototype.onMouseOver = function () {\n        this.columnHoverService.setMouseOver(this.columns);\n    };\n    __decorate$I([\n        Autowired('columnHoverService')\n    ], HoverFeature.prototype, \"columnHoverService\", void 0);\n    __decorate$I([\n        PostConstruct\n    ], HoverFeature.prototype, \"postConstruct\", null);\n    return HoverFeature;\n}(BeanStub));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$F = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar SetLeftFeature = /** @class */ (function (_super) {\n    __extends$F(SetLeftFeature, _super);\n    function SetLeftFeature(columnOrGroup, eCell, beans, colsSpanning) {\n        var _this = _super.call(this) || this;\n        _this.columnOrGroup = columnOrGroup;\n        _this.eCell = eCell;\n        _this.ariaEl = _this.eCell.querySelector('[role=columnheader]') || _this.eCell;\n        _this.colsSpanning = colsSpanning;\n        _this.beans = beans;\n        _this.printLayout = beans.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        return _this;\n    }\n    SetLeftFeature.prototype.setColsSpanning = function (colsSpanning) {\n        this.colsSpanning = colsSpanning;\n        this.onLeftChanged();\n    };\n    SetLeftFeature.prototype.getColumnOrGroup = function () {\n        if (this.beans.gridOptionsWrapper.isEnableRtl() && this.colsSpanning) {\n            return _.last(this.colsSpanning);\n        }\n        return this.columnOrGroup;\n    };\n    SetLeftFeature.prototype.init = function () {\n        this.addDestroyableEventListener(this.columnOrGroup, Column.EVENT_LEFT_CHANGED, this.onLeftChanged.bind(this));\n        this.setLeftFirstTime();\n    };\n    SetLeftFeature.prototype.setLeftFirstTime = function () {\n        var suppressMoveAnimation = this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation();\n        var oldLeftExists = _.exists(this.columnOrGroup.getOldLeft());\n        var animateColumnMove = this.beans.columnAnimationService.isActive() && oldLeftExists && !suppressMoveAnimation;\n        if (animateColumnMove) {\n            this.animateInLeft();\n        }\n        else {\n            this.onLeftChanged();\n        }\n    };\n    SetLeftFeature.prototype.animateInLeft = function () {\n        var _this = this;\n        var left = this.getColumnOrGroup().getLeft();\n        var oldLeft = this.getColumnOrGroup().getOldLeft();\n        this.setLeft(oldLeft);\n        // we must keep track of the left we want to set to, as this would otherwise lead to a race\n        // condition, if the user changed the left value many times in one VM turn, then we want to make\n        // make sure the actualLeft we set in the timeout below (in the next VM turn) is the correct left\n        // position. eg if user changes column position twice, then setLeft() below executes twice in next\n        // VM turn, but only one (the correct one) should get applied.\n        this.actualLeft = left;\n        this.beans.columnAnimationService.executeNextVMTurn(function () {\n            // test this left value is the latest one to be applied, and if not, do nothing\n            if (_this.actualLeft === left) {\n                _this.setLeft(left);\n            }\n        });\n    };\n    SetLeftFeature.prototype.onLeftChanged = function () {\n        var colOrGroup = this.getColumnOrGroup();\n        var left = colOrGroup.getLeft();\n        this.actualLeft = this.modifyLeftForPrintLayout(colOrGroup, left);\n        this.setLeft(this.actualLeft);\n    };\n    SetLeftFeature.prototype.modifyLeftForPrintLayout = function (colOrGroup, leftPosition) {\n        if (!this.printLayout) {\n            return leftPosition;\n        }\n        if (colOrGroup.getPinned() === Constants.PINNED_LEFT) {\n            return leftPosition;\n        }\n        if (colOrGroup.getPinned() === Constants.PINNED_RIGHT) {\n            var leftWidth_1 = this.beans.columnController.getPinnedLeftContainerWidth();\n            var bodyWidth = this.beans.columnController.getBodyContainerWidth();\n            return leftWidth_1 + bodyWidth + leftPosition;\n        }\n        // is in body\n        var leftWidth = this.beans.columnController.getPinnedLeftContainerWidth();\n        return leftWidth + leftPosition;\n    };\n    SetLeftFeature.prototype.setLeft = function (value) {\n        // if the value is null, then that means the column is no longer\n        // displayed. there is logic in the rendering to fade these columns\n        // out, so we don't try and change their left positions.\n        if (_.exists(value)) {\n            this.eCell.style.left = value + \"px\";\n        }\n        if (this.columnOrGroup instanceof Column) {\n            var colIndex = this.beans.columnController.getAllDisplayedColumns().indexOf(this.columnOrGroup);\n            this.ariaEl.setAttribute('aria-colindex', (colIndex + 1).toString());\n        }\n        else {\n            this.ariaEl.removeAttribute('aria-colindex');\n        }\n    };\n    return SetLeftFeature;\n}(BeanStub));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$G = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$J = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar SelectAllFeature = /** @class */ (function (_super) {\n    __extends$G(SelectAllFeature, _super);\n    function SelectAllFeature(cbSelectAll, column) {\n        var _this = _super.call(this) || this;\n        _this.cbSelectAllVisible = false;\n        _this.processingEventFromCheckbox = false;\n        _this.cbSelectAll = cbSelectAll;\n        _this.column = column;\n        var colDef = column.getColDef();\n        _this.filteredOnly = colDef ? !!colDef.headerCheckboxSelectionFilteredOnly : false;\n        return _this;\n    }\n    SelectAllFeature.prototype.postConstruct = function () {\n        this.showOrHideSelectAll();\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.showOrHideSelectAll.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_SELECTION_CHANGED, this.onSelectionChanged.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_MODEL_UPDATED, this.onModelChanged.bind(this));\n        this.addDestroyableEventListener(this.cbSelectAll, AgCheckbox.EVENT_CHANGED, this.onCbSelectAll.bind(this));\n    };\n    SelectAllFeature.prototype.showOrHideSelectAll = function () {\n        this.cbSelectAllVisible = this.isCheckboxSelection();\n        this.cbSelectAll.setDisplayed(this.cbSelectAllVisible);\n        if (this.cbSelectAllVisible) {\n            // in case user is trying this feature with the wrong model type\n            this.checkRightRowModelType();\n            // make sure checkbox is showing the right state\n            this.updateStateOfCheckbox();\n        }\n    };\n    SelectAllFeature.prototype.onModelChanged = function () {\n        if (!this.cbSelectAllVisible) {\n            return;\n        }\n        this.updateStateOfCheckbox();\n    };\n    SelectAllFeature.prototype.onSelectionChanged = function () {\n        if (!this.cbSelectAllVisible) {\n            return;\n        }\n        this.updateStateOfCheckbox();\n    };\n    SelectAllFeature.prototype.getNextCheckboxState = function (selectionCount) {\n        // if no rows, always have it unselected\n        if (selectionCount.selected === 0 && selectionCount.notSelected === 0) {\n            return false;\n        }\n        // if mix of selected and unselected, this is the tri-state\n        if (selectionCount.selected > 0 && selectionCount.notSelected > 0) {\n            return null;\n        }\n        // only selected\n        if (selectionCount.selected > 0) {\n            return true;\n        }\n        // nothing selected\n        return false;\n    };\n    SelectAllFeature.prototype.updateStateOfCheckbox = function () {\n        if (this.processingEventFromCheckbox) {\n            return;\n        }\n        this.processingEventFromCheckbox = true;\n        var selectionCount = this.getSelectionCount();\n        var allSelected = this.getNextCheckboxState(selectionCount);\n        this.cbSelectAll.setValue(allSelected);\n        this.processingEventFromCheckbox = false;\n    };\n    SelectAllFeature.prototype.getSelectionCount = function () {\n        var _this = this;\n        var selectedCount = 0;\n        var notSelectedCount = 0;\n        var callback = function (node) {\n            if (_this.gridOptionsWrapper.isGroupSelectsChildren() && node.group) {\n                return;\n            }\n            if (node.isSelected()) {\n                selectedCount++;\n            }\n            else if (!node.selectable) ;\n            else {\n                notSelectedCount++;\n            }\n        };\n        if (this.filteredOnly) {\n            this.gridApi.forEachNodeAfterFilter(callback);\n        }\n        else {\n            this.gridApi.forEachNode(callback);\n        }\n        return {\n            notSelected: notSelectedCount,\n            selected: selectedCount\n        };\n    };\n    SelectAllFeature.prototype.checkRightRowModelType = function () {\n        var rowModelType = this.rowModel.getType();\n        var rowModelMatches = rowModelType === Constants.ROW_MODEL_TYPE_CLIENT_SIDE;\n        if (!rowModelMatches) {\n            console.warn(\"ag-Grid: selectAllCheckbox is only available if using normal row model, you are using \" + rowModelType);\n        }\n    };\n    SelectAllFeature.prototype.onCbSelectAll = function () {\n        if (this.processingEventFromCheckbox) {\n            return;\n        }\n        if (!this.cbSelectAllVisible) {\n            return;\n        }\n        var value = this.cbSelectAll.getValue();\n        if (value) {\n            this.selectionController.selectAllRowNodes(this.filteredOnly);\n        }\n        else {\n            this.selectionController.deselectAllRowNodes(this.filteredOnly);\n        }\n    };\n    SelectAllFeature.prototype.isCheckboxSelection = function () {\n        var result = this.column.getColDef().headerCheckboxSelection;\n        if (typeof result === 'function') {\n            var func = result;\n            result = func({\n                column: this.column,\n                colDef: this.column.getColDef(),\n                columnApi: this.columnApi,\n                api: this.gridApi\n            });\n        }\n        if (result) {\n            if (this.gridOptionsWrapper.isRowModelServerSide()) {\n                console.warn('headerCheckboxSelection is not supported for Server Side Row Model');\n                return false;\n            }\n            if (this.gridOptionsWrapper.isRowModelInfinite()) {\n                console.warn('headerCheckboxSelection is not supported for Infinite Row Model');\n                return false;\n            }\n            if (this.gridOptionsWrapper.isRowModelViewport()) {\n                console.warn('headerCheckboxSelection is not supported for Viewport Row Model');\n                return false;\n            }\n            // otherwise the row model is compatible, so return true\n            return true;\n        }\n        return false;\n    };\n    __decorate$J([\n        Autowired('gridApi')\n    ], SelectAllFeature.prototype, \"gridApi\", void 0);\n    __decorate$J([\n        Autowired('columnApi')\n    ], SelectAllFeature.prototype, \"columnApi\", void 0);\n    __decorate$J([\n        Autowired('eventService')\n    ], SelectAllFeature.prototype, \"eventService\", void 0);\n    __decorate$J([\n        Autowired('rowModel')\n    ], SelectAllFeature.prototype, \"rowModel\", void 0);\n    __decorate$J([\n        Autowired('selectionController')\n    ], SelectAllFeature.prototype, \"selectionController\", void 0);\n    __decorate$J([\n        Autowired('gridOptionsWrapper')\n    ], SelectAllFeature.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$J([\n        PostConstruct\n    ], SelectAllFeature.prototype, \"postConstruct\", null);\n    return SelectAllFeature;\n}(BeanStub));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$H = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$K = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar HeaderWrapperComp = /** @class */ (function (_super) {\n    __extends$H(HeaderWrapperComp, _super);\n    function HeaderWrapperComp(column, dragSourceDropTarget, pinned) {\n        var _this = _super.call(this, HeaderWrapperComp.TEMPLATE) || this;\n        _this.column = column;\n        _this.dragSourceDropTarget = dragSourceDropTarget;\n        _this.pinned = pinned;\n        return _this;\n    }\n    HeaderWrapperComp.prototype.getColumn = function () {\n        return this.column;\n    };\n    HeaderWrapperComp.prototype.getComponentHolder = function () {\n        return this.column.getColDef();\n    };\n    HeaderWrapperComp.prototype.init = function () {\n        var colDef = this.getComponentHolder();\n        var displayName = this.columnController.getDisplayNameForColumn(this.column, 'header', true);\n        var enableSorting = colDef.sortable;\n        var enableMenu = this.menuFactory.isMenuEnabled(this.column) && !colDef.suppressMenu;\n        this.appendHeaderComp(displayName, enableSorting, enableMenu);\n        this.setupWidth();\n        this.setupMovingCss();\n        this.setupTooltip();\n        this.setupResize();\n        this.setupMenuClass();\n        this.setupSortableClass(enableSorting);\n        this.addColumnHoverListener();\n        this.addMouseListeners();\n        this.addFeature(new HoverFeature([this.column], this.getGui()));\n        this.addDestroyableEventListener(this.column, Column.EVENT_FILTER_ACTIVE_CHANGED, this.onFilterChanged.bind(this));\n        this.onFilterChanged();\n        this.addFeature(new SelectAllFeature(this.cbSelectAll, this.column));\n        var setLeftFeature = new SetLeftFeature(this.column, this.getGui(), this.beans);\n        setLeftFeature.init();\n        this.addDestroyFunc(setLeftFeature.destroy.bind(setLeftFeature));\n        this.addAttributes();\n        CssClassApplier.addHeaderClassesFromColDef(colDef, this.getGui(), this.gridOptionsWrapper, this.column, null);\n    };\n    HeaderWrapperComp.prototype.addColumnHoverListener = function () {\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_COLUMN_HOVER_CHANGED, this.onColumnHover.bind(this));\n        this.onColumnHover();\n    };\n    HeaderWrapperComp.prototype.onColumnHover = function () {\n        var isHovered = this.columnHoverService.isHovered(this.column);\n        _.addOrRemoveCssClass(this.getGui(), 'ag-column-hover', isHovered);\n    };\n    HeaderWrapperComp.prototype.addMouseListeners = function () {\n        var listener = this.onMouseOverOut.bind(this);\n        this.addGuiEventListener(\"mouseenter\", listener);\n        this.addGuiEventListener(\"mouseleave\", listener);\n    };\n    HeaderWrapperComp.prototype.onMouseOverOut = function (e) {\n        if (this.headerComp && this.headerComp.setMouseOverParent) {\n            this.headerComp.setMouseOverParent(e.type === \"mouseenter\");\n        }\n    };\n    HeaderWrapperComp.prototype.setupSortableClass = function (enableSorting) {\n        if (enableSorting) {\n            var element = this.getGui();\n            _.addCssClass(element, 'ag-header-cell-sortable');\n        }\n    };\n    HeaderWrapperComp.prototype.onFilterChanged = function () {\n        var filterPresent = this.column.isFilterActive();\n        _.addOrRemoveCssClass(this.getGui(), 'ag-header-cell-filtered', filterPresent);\n    };\n    HeaderWrapperComp.prototype.appendHeaderComp = function (displayName, enableSorting, enableMenu) {\n        var _this = this;\n        var params = {\n            column: this.column,\n            displayName: displayName,\n            enableSorting: enableSorting,\n            enableMenu: enableMenu,\n            showColumnMenu: function (source) {\n                _this.gridApi.showColumnMenuAfterButtonClick(_this.column, source);\n            },\n            progressSort: function (multiSort) {\n                _this.sortController.progressSort(_this.column, !!multiSort, \"uiColumnSorted\");\n            },\n            setSort: function (sort, multiSort) {\n                _this.sortController.setSortForColumn(_this.column, sort, !!multiSort, \"uiColumnSorted\");\n            },\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            context: this.gridOptionsWrapper.getContext()\n        };\n        var callback = this.afterHeaderCompCreated.bind(this, displayName);\n        this.userComponentFactory.newHeaderComponent(params).then(callback);\n    };\n    HeaderWrapperComp.prototype.afterHeaderCompCreated = function (displayName, headerComp) {\n        this.appendChild(headerComp);\n        this.setupMove(headerComp.getGui(), displayName);\n        this.headerComp = headerComp;\n    };\n    HeaderWrapperComp.prototype.onColumnMovingChanged = function () {\n        // this function adds or removes the moving css, based on if the col is moving.\n        // this is what makes the header go dark when it is been moved (gives impression to\n        // user that the column was picked up).\n        if (this.column.isMoving()) {\n            _.addCssClass(this.getGui(), 'ag-header-cell-moving');\n        }\n        else {\n            _.removeCssClass(this.getGui(), 'ag-header-cell-moving');\n        }\n    };\n    HeaderWrapperComp.prototype.setupMove = function (eHeaderCellLabel, displayName) {\n        var _this = this;\n        var colDef = this.column.getColDef();\n        var suppressMove = this.gridOptionsWrapper.isSuppressMovableColumns()\n            || this.getComponentHolder().suppressMovable\n            || colDef.lockPosition;\n        if (suppressMove &&\n            !colDef.enableRowGroup &&\n            !colDef.enablePivot) {\n            return;\n        }\n        if (eHeaderCellLabel) {\n            var dragSource_1 = {\n                type: exports.DragSourceType.HeaderCell,\n                eElement: eHeaderCellLabel,\n                defaultIconName: DragAndDropService.ICON_HIDE,\n                getDragItem: function () { return _this.createDragItem(); },\n                dragItemName: displayName,\n                dragSourceDropTarget: this.dragSourceDropTarget,\n                onDragStarted: function () { return !suppressMove && _this.column.setMoving(true, \"uiColumnMoved\"); },\n                onDragStopped: function () { return !suppressMove && _this.column.setMoving(false, \"uiColumnMoved\"); }\n            };\n            this.dragAndDropService.addDragSource(dragSource_1, true);\n            this.addDestroyFunc(function () { return _this.dragAndDropService.removeDragSource(dragSource_1); });\n        }\n    };\n    HeaderWrapperComp.prototype.createDragItem = function () {\n        var visibleState = {};\n        visibleState[this.column.getId()] = this.column.isVisible();\n        return {\n            columns: [this.column],\n            visibleState: visibleState\n        };\n    };\n    HeaderWrapperComp.prototype.setupResize = function () {\n        var _this = this;\n        var colDef = this.getComponentHolder();\n        // if no eResize in template, do nothing\n        if (!this.eResize) {\n            return;\n        }\n        if (!this.column.isResizable()) {\n            _.removeFromParent(this.eResize);\n            return;\n        }\n        var finishedWithResizeFunc = this.horizontalResizeService.addResizeBar({\n            eResizeBar: this.eResize,\n            onResizeStart: this.onResizeStart.bind(this),\n            onResizing: this.onResizing.bind(this, false),\n            onResizeEnd: this.onResizing.bind(this, true)\n        });\n        this.addDestroyFunc(finishedWithResizeFunc);\n        var weWantAutoSize = !this.gridOptionsWrapper.isSuppressAutoSize() && !colDef.suppressAutoSize;\n        var skipHeaderOnAutoSize = this.gridOptionsWrapper.isSkipHeaderOnAutoSize();\n        if (weWantAutoSize) {\n            this.addDestroyableEventListener(this.eResize, 'dblclick', function () {\n                _this.columnController.autoSizeColumn(_this.column, skipHeaderOnAutoSize, \"uiColumnResized\");\n            });\n            var touchListener = new TouchListener(this.eResize);\n            this.addDestroyableEventListener(touchListener, TouchListener.EVENT_DOUBLE_TAP, function () {\n                _this.columnController.autoSizeColumn(_this.column, skipHeaderOnAutoSize, \"uiColumnResized\");\n            });\n            this.addDestroyFunc(touchListener.destroy.bind(touchListener));\n        }\n    };\n    HeaderWrapperComp.prototype.onResizing = function (finished, resizeAmount) {\n        var resizeAmountNormalised = this.normaliseResizeAmount(resizeAmount);\n        var columnWidths = [{ key: this.column, newWidth: this.resizeStartWidth + resizeAmountNormalised }];\n        this.columnController.setColumnWidths(columnWidths, this.resizeWithShiftKey, finished, \"uiColumnDragged\");\n        if (finished) {\n            _.removeCssClass(this.getGui(), 'ag-column-resizing');\n        }\n    };\n    HeaderWrapperComp.prototype.onResizeStart = function (shiftKey) {\n        this.resizeStartWidth = this.column.getActualWidth();\n        this.resizeWithShiftKey = shiftKey;\n        _.addCssClass(this.getGui(), 'ag-column-resizing');\n    };\n    HeaderWrapperComp.prototype.getTooltipText = function () {\n        var colDef = this.getComponentHolder();\n        return colDef.headerTooltip;\n    };\n    HeaderWrapperComp.prototype.setupTooltip = function () {\n        var tooltipText = this.getTooltipText();\n        // add tooltip if exists\n        if (tooltipText == null) {\n            return;\n        }\n        if (this.gridOptionsWrapper.isEnableBrowserTooltips()) {\n            this.getGui().setAttribute('title', tooltipText);\n        }\n        else {\n            this.addFeature(new TooltipFeature(this, 'header'));\n        }\n    };\n    HeaderWrapperComp.prototype.setupMovingCss = function () {\n        this.addDestroyableEventListener(this.column, Column.EVENT_MOVING_CHANGED, this.onColumnMovingChanged.bind(this));\n        this.onColumnMovingChanged();\n    };\n    HeaderWrapperComp.prototype.addAttributes = function () {\n        this.getGui().setAttribute(\"col-id\", this.column.getColId());\n    };\n    HeaderWrapperComp.prototype.setupWidth = function () {\n        this.addDestroyableEventListener(this.column, Column.EVENT_WIDTH_CHANGED, this.onColumnWidthChanged.bind(this));\n        this.onColumnWidthChanged();\n    };\n    HeaderWrapperComp.prototype.setupMenuClass = function () {\n        this.addDestroyableEventListener(this.column, Column.EVENT_MENU_VISIBLE_CHANGED, this.onMenuVisible.bind(this));\n        this.onColumnWidthChanged();\n    };\n    HeaderWrapperComp.prototype.onMenuVisible = function () {\n        this.addOrRemoveCssClass('ag-column-menu-visible', this.column.isMenuVisible());\n    };\n    HeaderWrapperComp.prototype.onColumnWidthChanged = function () {\n        this.getGui().style.width = this.column.getActualWidth() + 'px';\n    };\n    // optionally inverts the drag, depending on pinned and RTL\n    // note - this method is duplicated in RenderedHeaderGroupCell - should refactor out?\n    HeaderWrapperComp.prototype.normaliseResizeAmount = function (dragChange) {\n        var result = dragChange;\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            // for RTL, dragging left makes the col bigger, except when pinning left\n            if (this.pinned !== Constants.PINNED_LEFT) {\n                result *= -1;\n            }\n        }\n        else {\n            // for LTR (ie normal), dragging left makes the col smaller, except when pinning right\n            if (this.pinned === Constants.PINNED_RIGHT) {\n                result *= -1;\n            }\n        }\n        return result;\n    };\n    HeaderWrapperComp.TEMPLATE = '<div class=\"ag-header-cell\" role=\"presentation\" unselectable=\"on\">' +\n        '  <div ref=\"eResize\" class=\"ag-header-cell-resize\" role=\"presentation\"></div>' +\n        '  <ag-checkbox ref=\"cbSelectAll\" class=\"ag-header-select-all\" role=\"presentation\"></ag-checkbox>' +\n        // <inner component goes here>\n        '</div>';\n    __decorate$K([\n        Autowired('gridOptionsWrapper')\n    ], HeaderWrapperComp.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$K([\n        Autowired('dragAndDropService')\n    ], HeaderWrapperComp.prototype, \"dragAndDropService\", void 0);\n    __decorate$K([\n        Autowired('columnController')\n    ], HeaderWrapperComp.prototype, \"columnController\", void 0);\n    __decorate$K([\n        Autowired('horizontalResizeService')\n    ], HeaderWrapperComp.prototype, \"horizontalResizeService\", void 0);\n    __decorate$K([\n        Autowired('menuFactory')\n    ], HeaderWrapperComp.prototype, \"menuFactory\", void 0);\n    __decorate$K([\n        Autowired('gridApi')\n    ], HeaderWrapperComp.prototype, \"gridApi\", void 0);\n    __decorate$K([\n        Autowired('columnApi')\n    ], HeaderWrapperComp.prototype, \"columnApi\", void 0);\n    __decorate$K([\n        Autowired('sortController')\n    ], HeaderWrapperComp.prototype, \"sortController\", void 0);\n    __decorate$K([\n        Autowired('eventService')\n    ], HeaderWrapperComp.prototype, \"eventService\", void 0);\n    __decorate$K([\n        Autowired('userComponentFactory')\n    ], HeaderWrapperComp.prototype, \"userComponentFactory\", void 0);\n    __decorate$K([\n        Autowired('columnHoverService')\n    ], HeaderWrapperComp.prototype, \"columnHoverService\", void 0);\n    __decorate$K([\n        Autowired('beans')\n    ], HeaderWrapperComp.prototype, \"beans\", void 0);\n    __decorate$K([\n        RefSelector('eResize')\n    ], HeaderWrapperComp.prototype, \"eResize\", void 0);\n    __decorate$K([\n        RefSelector('cbSelectAll')\n    ], HeaderWrapperComp.prototype, \"cbSelectAll\", void 0);\n    __decorate$K([\n        PostConstruct\n    ], HeaderWrapperComp.prototype, \"init\", null);\n    return HeaderWrapperComp;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$I = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$L = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar HeaderGroupWrapperComp = /** @class */ (function (_super) {\n    __extends$I(HeaderGroupWrapperComp, _super);\n    function HeaderGroupWrapperComp(columnGroup, dragSourceDropTarget, pinned) {\n        var _this = _super.call(this, HeaderGroupWrapperComp.TEMPLATE) || this;\n        // the children can change, we keep destroy functions related to listening to the children here\n        _this.childColumnsDestroyFuncs = [];\n        _this.columnGroup = columnGroup;\n        _this.dragSourceDropTarget = dragSourceDropTarget;\n        _this.pinned = pinned;\n        return _this;\n    }\n    HeaderGroupWrapperComp.prototype.postConstruct = function () {\n        CssClassApplier.addHeaderClassesFromColDef(this.getComponentHolder(), this.getGui(), this.gridOptionsWrapper, null, this.columnGroup);\n        var displayName = this.columnController.getDisplayNameForColumnGroup(this.columnGroup, 'header');\n        this.appendHeaderGroupComp(displayName);\n        this.setupResize();\n        this.addClasses();\n        this.setupWidth();\n        this.addAttributes();\n        this.setupMovingCss();\n        this.setupTooltip();\n        this.addFeature(new HoverFeature(this.columnGroup.getOriginalColumnGroup().getLeafColumns(), this.getGui()));\n        var setLeftFeature = new SetLeftFeature(this.columnGroup, this.getGui(), this.beans);\n        setLeftFeature.init();\n        this.addDestroyFunc(setLeftFeature.destroy.bind(setLeftFeature));\n    };\n    HeaderGroupWrapperComp.prototype.setupMovingCss = function () {\n        var _this = this;\n        var originalColumnGroup = this.columnGroup.getOriginalColumnGroup();\n        var leafColumns = originalColumnGroup.getLeafColumns();\n        leafColumns.forEach(function (col) {\n            _this.addDestroyableEventListener(col, Column.EVENT_MOVING_CHANGED, _this.onColumnMovingChanged.bind(_this));\n        });\n        this.onColumnMovingChanged();\n    };\n    HeaderGroupWrapperComp.prototype.getColumn = function () {\n        return this.columnGroup;\n    };\n    HeaderGroupWrapperComp.prototype.getComponentHolder = function () {\n        return this.columnGroup.getColGroupDef();\n    };\n    HeaderGroupWrapperComp.prototype.getTooltipText = function () {\n        var colGroupDef = this.getComponentHolder();\n        return colGroupDef && colGroupDef.headerTooltip;\n    };\n    HeaderGroupWrapperComp.prototype.setupTooltip = function () {\n        var tooltipText = this.getTooltipText();\n        if (tooltipText == null) {\n            return;\n        }\n        if (this.gridOptionsWrapper.isEnableBrowserTooltips()) {\n            this.getGui().setAttribute('title', tooltipText);\n        }\n        else {\n            this.addFeature(new TooltipFeature(this, 'headerGroup'));\n        }\n    };\n    HeaderGroupWrapperComp.prototype.onColumnMovingChanged = function () {\n        // this function adds or removes the moving css, based on if the col is moving.\n        // this is what makes the header go dark when it is been moved (gives impression to\n        // user that the column was picked up).\n        _.addOrRemoveCssClass(this.getGui(), 'ag-header-cell-moving', this.columnGroup.isMoving());\n    };\n    HeaderGroupWrapperComp.prototype.addAttributes = function () {\n        this.getGui().setAttribute(\"col-id\", this.columnGroup.getUniqueId());\n    };\n    HeaderGroupWrapperComp.prototype.appendHeaderGroupComp = function (displayName) {\n        var _this = this;\n        var params = {\n            displayName: displayName,\n            columnGroup: this.columnGroup,\n            setExpanded: function (expanded) {\n                _this.columnController.setColumnGroupOpened(_this.columnGroup.getOriginalColumnGroup(), expanded, \"gridInitializing\");\n            },\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            context: this.gridOptionsWrapper.getContext()\n        };\n        if (!displayName) {\n            var columnGroup = this.columnGroup;\n            var leafCols = columnGroup.getLeafColumns();\n            // find the top most column group that represents the same columns. so if we are dragging a group, we also\n            // want to visually show the parent groups dragging for the same column set. for example imaging 5 levels\n            // of grouping, with each group only containing the next group, and the last group containing three columns,\n            // then when you move any group (even the lowest level group) you are in-fact moving all the groups, as all\n            // the groups represent the same column set.\n            while (columnGroup.getParent() && columnGroup.getParent().getLeafColumns().length === leafCols.length) {\n                columnGroup = columnGroup.getParent();\n            }\n            var colGroupDef = columnGroup.getColGroupDef();\n            if (colGroupDef) {\n                displayName = colGroupDef.headerName;\n            }\n            if (!displayName) {\n                displayName = leafCols ? this.columnController.getDisplayNameForColumn(leafCols[0], 'header', true) : '';\n            }\n        }\n        var callback = this.afterHeaderCompCreated.bind(this, displayName);\n        this.userComponentFactory.newHeaderGroupComponent(params).then(callback);\n    };\n    HeaderGroupWrapperComp.prototype.afterHeaderCompCreated = function (displayName, headerGroupComp) {\n        this.appendChild(headerGroupComp);\n        this.setupMove(headerGroupComp.getGui(), displayName);\n    };\n    HeaderGroupWrapperComp.prototype.addClasses = function () {\n        // having different classes below allows the style to not have a bottom border\n        // on the group header, if no group is specified\n        // columnGroup.getColGroupDef\n        var style = this.columnGroup.isPadding() ? 'no' : 'with';\n        this.addCssClass(\"ag-header-group-cell-\" + style + \"-group\");\n    };\n    HeaderGroupWrapperComp.prototype.setupMove = function (eHeaderGroup, displayName) {\n        var _this = this;\n        if (!eHeaderGroup) {\n            return;\n        }\n        if (this.isSuppressMoving()) {\n            return;\n        }\n        var allLeafColumns = this.columnGroup.getOriginalColumnGroup().getLeafColumns();\n        var dragSource = {\n            type: exports.DragSourceType.HeaderCell,\n            eElement: eHeaderGroup,\n            defaultIconName: DragAndDropService.ICON_HIDE,\n            dragItemName: displayName,\n            // we add in the original group leaf columns, so we move both visible and non-visible items\n            getDragItem: this.getDragItemForGroup.bind(this),\n            dragSourceDropTarget: this.dragSourceDropTarget,\n            onDragStarted: function () { return allLeafColumns.forEach(function (col) { return col.setMoving(true, \"uiColumnDragged\"); }); },\n            onDragStopped: function () { return allLeafColumns.forEach(function (col) { return col.setMoving(false, \"uiColumnDragged\"); }); }\n        };\n        this.dragAndDropService.addDragSource(dragSource, true);\n        this.addDestroyFunc(function () { return _this.dragAndDropService.removeDragSource(dragSource); });\n    };\n    // when moving the columns, we want to move all the columns (contained within the DragItem) in this group in one go,\n    // and in the order they are currently in the screen.\n    HeaderGroupWrapperComp.prototype.getDragItemForGroup = function () {\n        var allColumnsOriginalOrder = this.columnGroup.getOriginalColumnGroup().getLeafColumns();\n        // capture visible state, used when re-entering grid to dictate which columns should be visible\n        var visibleState = {};\n        allColumnsOriginalOrder.forEach(function (column) { return visibleState[column.getId()] = column.isVisible(); });\n        var allColumnsCurrentOrder = [];\n        this.columnController.getAllDisplayedColumns().forEach(function (column) {\n            if (allColumnsOriginalOrder.indexOf(column) >= 0) {\n                allColumnsCurrentOrder.push(column);\n                _.removeFromArray(allColumnsOriginalOrder, column);\n            }\n        });\n        // we are left with non-visible columns, stick these in at the end\n        allColumnsOriginalOrder.forEach(function (column) { return allColumnsCurrentOrder.push(column); });\n        // create and return dragItem\n        return {\n            columns: allColumnsCurrentOrder,\n            visibleState: visibleState\n        };\n    };\n    HeaderGroupWrapperComp.prototype.isSuppressMoving = function () {\n        // if any child is fixed, then don't allow moving\n        var childSuppressesMoving = false;\n        this.columnGroup.getLeafColumns().forEach(function (column) {\n            if (column.getColDef().suppressMovable || column.getColDef().lockPosition) {\n                childSuppressesMoving = true;\n            }\n        });\n        var result = childSuppressesMoving || this.gridOptionsWrapper.isSuppressMovableColumns();\n        return result;\n    };\n    HeaderGroupWrapperComp.prototype.setupWidth = function () {\n        // we need to listen to changes in child columns, as they impact our width\n        this.addListenersToChildrenColumns();\n        // the children belonging to this group can change, so we need to add and remove listeners as they change\n        this.addDestroyableEventListener(this.columnGroup, ColumnGroup.EVENT_DISPLAYED_CHILDREN_CHANGED, this.onDisplayedChildrenChanged.bind(this));\n        this.onWidthChanged();\n        // the child listeners are not tied to this components life-cycle, as children can get added and removed\n        // to the group - hence they are on a different life-cycle. so we must make sure the existing children\n        // listeners are removed when we finally get destroyed\n        this.addDestroyFunc(this.destroyListenersOnChildrenColumns.bind(this));\n    };\n    HeaderGroupWrapperComp.prototype.onDisplayedChildrenChanged = function () {\n        this.addListenersToChildrenColumns();\n        this.onWidthChanged();\n    };\n    HeaderGroupWrapperComp.prototype.addListenersToChildrenColumns = function () {\n        var _this = this;\n        // first destroy any old listeners\n        this.destroyListenersOnChildrenColumns();\n        // now add new listeners to the new set of children\n        var widthChangedListener = this.onWidthChanged.bind(this);\n        this.columnGroup.getLeafColumns().forEach(function (column) {\n            column.addEventListener(Column.EVENT_WIDTH_CHANGED, widthChangedListener);\n            column.addEventListener(Column.EVENT_VISIBLE_CHANGED, widthChangedListener);\n            _this.childColumnsDestroyFuncs.push(function () {\n                column.removeEventListener(Column.EVENT_WIDTH_CHANGED, widthChangedListener);\n                column.removeEventListener(Column.EVENT_VISIBLE_CHANGED, widthChangedListener);\n            });\n        });\n    };\n    HeaderGroupWrapperComp.prototype.destroyListenersOnChildrenColumns = function () {\n        this.childColumnsDestroyFuncs.forEach(function (func) { return func(); });\n        this.childColumnsDestroyFuncs = [];\n    };\n    HeaderGroupWrapperComp.prototype.onWidthChanged = function () {\n        this.getGui().style.width = this.columnGroup.getActualWidth() + 'px';\n    };\n    HeaderGroupWrapperComp.prototype.setupResize = function () {\n        var _this = this;\n        this.eHeaderCellResize = this.getRefElement('agResize');\n        if (!this.columnGroup.isResizable()) {\n            _.removeFromParent(this.eHeaderCellResize);\n            return;\n        }\n        var finishedWithResizeFunc = this.horizontalResizeService.addResizeBar({\n            eResizeBar: this.eHeaderCellResize,\n            onResizeStart: this.onResizeStart.bind(this),\n            onResizing: this.onResizing.bind(this, false),\n            onResizeEnd: this.onResizing.bind(this, true)\n        });\n        this.addDestroyFunc(finishedWithResizeFunc);\n        if (!this.gridOptionsWrapper.isSuppressAutoSize()) {\n            var skipHeaderOnAutoSize_1 = this.gridOptionsWrapper.isSkipHeaderOnAutoSize();\n            this.eHeaderCellResize.addEventListener('dblclick', function (event) {\n                // get list of all the column keys we are responsible for\n                var keys = [];\n                _this.columnGroup.getDisplayedLeafColumns().forEach(function (column) {\n                    // not all cols in the group may be participating with auto-resize\n                    if (!column.getColDef().suppressAutoSize) {\n                        keys.push(column.getColId());\n                    }\n                });\n                if (keys.length > 0) {\n                    _this.columnController.autoSizeColumns(keys, skipHeaderOnAutoSize_1, \"uiColumnResized\");\n                }\n            });\n        }\n    };\n    HeaderGroupWrapperComp.prototype.onResizeStart = function (shiftKey) {\n        var _this = this;\n        var leafCols = this.columnGroup.getDisplayedLeafColumns();\n        this.resizeCols = leafCols.filter(function (col) { return col.isResizable(); });\n        this.resizeStartWidth = 0;\n        this.resizeCols.forEach(function (col) { return _this.resizeStartWidth += col.getActualWidth(); });\n        this.resizeRatios = [];\n        this.resizeCols.forEach(function (col) { return _this.resizeRatios.push(col.getActualWidth() / _this.resizeStartWidth); });\n        var takeFromGroup = null;\n        if (shiftKey) {\n            takeFromGroup = this.columnController.getDisplayedGroupAfter(this.columnGroup);\n        }\n        if (takeFromGroup) {\n            var takeFromLeafCols = takeFromGroup.getDisplayedLeafColumns();\n            this.resizeTakeFromCols = takeFromLeafCols.filter(function (col) { return col.isResizable(); });\n            this.resizeTakeFromStartWidth = 0;\n            this.resizeTakeFromCols.forEach(function (col) { return _this.resizeTakeFromStartWidth += col.getActualWidth(); });\n            this.resizeTakeFromRatios = [];\n            this.resizeTakeFromCols.forEach(function (col) { return _this.resizeTakeFromRatios.push(col.getActualWidth() / _this.resizeTakeFromStartWidth); });\n        }\n        else {\n            this.resizeTakeFromCols = null;\n            this.resizeTakeFromStartWidth = null;\n            this.resizeTakeFromRatios = null;\n        }\n        _.addCssClass(this.getGui(), 'ag-column-resizing');\n    };\n    HeaderGroupWrapperComp.prototype.onResizing = function (finished, resizeAmount) {\n        var resizeSets = [];\n        var resizeAmountNormalised = this.normaliseDragChange(resizeAmount);\n        resizeSets.push({\n            columns: this.resizeCols,\n            ratios: this.resizeRatios,\n            width: this.resizeStartWidth + resizeAmountNormalised\n        });\n        if (this.resizeTakeFromCols) {\n            resizeSets.push({\n                columns: this.resizeTakeFromCols,\n                ratios: this.resizeTakeFromRatios,\n                width: this.resizeTakeFromStartWidth - resizeAmountNormalised\n            });\n        }\n        this.columnController.resizeColumnSets(resizeSets, finished, 'uiColumnDragged');\n        if (finished) {\n            _.removeCssClass(this.getGui(), 'ag-column-resizing');\n        }\n    };\n    // optionally inverts the drag, depending on pinned and RTL\n    // note - this method is duplicated in RenderedHeaderCell - should refactor out?\n    HeaderGroupWrapperComp.prototype.normaliseDragChange = function (dragChange) {\n        var result = dragChange;\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            // for RTL, dragging left makes the col bigger, except when pinning left\n            if (this.pinned !== Constants.PINNED_LEFT) {\n                result *= -1;\n            }\n        }\n        else if (this.pinned === Constants.PINNED_RIGHT) {\n            // for LTR (ie normal), dragging left makes the col smaller, except when pinning right\n            result *= -1;\n        }\n        return result;\n    };\n    HeaderGroupWrapperComp.TEMPLATE = '<div class=\"ag-header-group-cell\" role=\"presentation\">' +\n        '  <div ref=\"agResize\" class=\"ag-header-cell-resize\" role=\"presentation\"></div>' +\n        '</div>';\n    __decorate$L([\n        Autowired('gridOptionsWrapper')\n    ], HeaderGroupWrapperComp.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$L([\n        Autowired('columnController')\n    ], HeaderGroupWrapperComp.prototype, \"columnController\", void 0);\n    __decorate$L([\n        Autowired('horizontalResizeService')\n    ], HeaderGroupWrapperComp.prototype, \"horizontalResizeService\", void 0);\n    __decorate$L([\n        Autowired('dragAndDropService')\n    ], HeaderGroupWrapperComp.prototype, \"dragAndDropService\", void 0);\n    __decorate$L([\n        Autowired('userComponentFactory')\n    ], HeaderGroupWrapperComp.prototype, \"userComponentFactory\", void 0);\n    __decorate$L([\n        Autowired('gridApi')\n    ], HeaderGroupWrapperComp.prototype, \"gridApi\", void 0);\n    __decorate$L([\n        Autowired('columnApi')\n    ], HeaderGroupWrapperComp.prototype, \"columnApi\", void 0);\n    __decorate$L([\n        Autowired('beans')\n    ], HeaderGroupWrapperComp.prototype, \"beans\", void 0);\n    __decorate$L([\n        PostConstruct\n    ], HeaderGroupWrapperComp.prototype, \"postConstruct\", null);\n    return HeaderGroupWrapperComp;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$J = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$M = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// optional floating filter for user provided filters - instead of providing a floating filter,\n// they can provide a getModelAsString() method on the filter instead. this class just displays\n// the string returned from getModelAsString()\nvar ReadOnlyFloatingFilter = /** @class */ (function (_super) {\n    __extends$J(ReadOnlyFloatingFilter, _super);\n    function ReadOnlyFloatingFilter() {\n        return _super.call(this, /* html */ \"\\n            <div class=\\\"ag-floating-filter-input\\\" role=\\\"presentation\\\">\\n                <ag-input-text-field ref=\\\"eFloatingFilterText\\\"></ag-input-text-field>\\n            </div>\") || this;\n    }\n    ReadOnlyFloatingFilter.prototype.init = function (params) {\n        this.params = params;\n        this.eFloatingFilterText.setDisabled(true);\n    };\n    ReadOnlyFloatingFilter.prototype.onParentModelChanged = function (parentModel) {\n        var _this = this;\n        if (!parentModel) {\n            this.eFloatingFilterText.setValue('');\n            return;\n        }\n        this.params.parentFilterInstance(function (filterInstance) {\n            // getModelAsString should be present, as we check this\n            // in floatingFilterWrapper\n            if (filterInstance.getModelAsString) {\n                var modelAsString = filterInstance.getModelAsString(parentModel);\n                _this.eFloatingFilterText.setValue(modelAsString);\n            }\n        });\n    };\n    __decorate$M([\n        RefSelector('eFloatingFilterText')\n    ], ReadOnlyFloatingFilter.prototype, \"eFloatingFilterText\", void 0);\n    return ReadOnlyFloatingFilter;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$K = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$N = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar FloatingFilterWrapper = /** @class */ (function (_super) {\n    __extends$K(FloatingFilterWrapper, _super);\n    function FloatingFilterWrapper(column) {\n        var _this = _super.call(this, FloatingFilterWrapper.TEMPLATE) || this;\n        _this.column = column;\n        return _this;\n    }\n    FloatingFilterWrapper.prototype.postConstruct = function () {\n        this.setupFloatingFilter();\n        this.setupWidth();\n        this.setupLeftPositioning();\n        this.setupColumnHover();\n        this.addFeature(new HoverFeature([this.column], this.getGui()));\n        this.addDestroyableEventListener(this.eButtonShowMainFilter, 'click', this.showParentFilter.bind(this));\n    };\n    FloatingFilterWrapper.prototype.setupFloatingFilter = function () {\n        var _this = this;\n        var colDef = this.column.getColDef();\n        if (colDef.filter && colDef.floatingFilter) {\n            this.floatingFilterCompPromise = this.getFloatingFilterInstance();\n            if (this.floatingFilterCompPromise) {\n                this.floatingFilterCompPromise.then(function (compInstance) {\n                    if (compInstance) {\n                        _this.setupWithFloatingFilter(compInstance);\n                        _this.setupSyncWithFilter();\n                    }\n                    else {\n                        _this.setupEmpty();\n                    }\n                });\n            }\n            else {\n                this.setupEmpty();\n            }\n        }\n        else {\n            this.setupEmpty();\n        }\n    };\n    FloatingFilterWrapper.prototype.setupLeftPositioning = function () {\n        var setLeftFeature = new SetLeftFeature(this.column, this.getGui(), this.beans);\n        setLeftFeature.init();\n        this.addDestroyFunc(setLeftFeature.destroy.bind(setLeftFeature));\n    };\n    FloatingFilterWrapper.prototype.setupSyncWithFilter = function () {\n        var _this = this;\n        var syncWithFilter = function (filterChangedEvent) {\n            var parentModel = _this.getFilterComponent().resolveNow(null, function (filter) { return filter.getModel(); });\n            _this.onParentModelChanged(parentModel, filterChangedEvent);\n        };\n        this.addDestroyableEventListener(this.column, Column.EVENT_FILTER_CHANGED, syncWithFilter);\n        if (this.filterManager.isFilterActive(this.column)) {\n            syncWithFilter(null);\n        }\n    };\n    // linked to event listener in template\n    FloatingFilterWrapper.prototype.showParentFilter = function () {\n        this.menuFactory.showMenuAfterButtonClick(this.column, this.eButtonShowMainFilter, 'filterMenuTab', ['filterMenuTab']);\n    };\n    FloatingFilterWrapper.prototype.setupColumnHover = function () {\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_COLUMN_HOVER_CHANGED, this.onColumnHover.bind(this));\n        this.onColumnHover();\n    };\n    FloatingFilterWrapper.prototype.onColumnHover = function () {\n        addOrRemoveCssClass(this.getGui(), 'ag-column-hover', this.columnHoverService.isHovered(this.column));\n    };\n    FloatingFilterWrapper.prototype.setupWidth = function () {\n        this.addDestroyableEventListener(this.column, Column.EVENT_WIDTH_CHANGED, this.onColumnWidthChanged.bind(this));\n        this.onColumnWidthChanged();\n    };\n    FloatingFilterWrapper.prototype.onColumnWidthChanged = function () {\n        this.getGui().style.width = this.column.getActualWidth() + \"px\";\n    };\n    FloatingFilterWrapper.prototype.setupWithFloatingFilter = function (floatingFilterComp) {\n        var disposeFunc = function () {\n            if (floatingFilterComp.destroy) {\n                floatingFilterComp.destroy();\n            }\n        };\n        if (!this.isAlive()) {\n            disposeFunc();\n            return;\n        }\n        this.addDestroyFunc(disposeFunc);\n        var floatingFilterCompUi = floatingFilterComp.getGui();\n        addOrRemoveCssClass(this.eFloatingFilterBody, 'ag-floating-filter-body', !this.suppressFilterButton);\n        addOrRemoveCssClass(this.eFloatingFilterBody, 'ag-floating-filter-full-body', this.suppressFilterButton);\n        setDisplayed(this.eButtonWrapper, !this.suppressFilterButton);\n        var eIcon = createIconNoSpan('filter', this.gridOptionsWrapper, this.column);\n        this.eButtonShowMainFilter.appendChild(eIcon);\n        this.eFloatingFilterBody.appendChild(floatingFilterCompUi);\n        if (floatingFilterComp.afterGuiAttached) {\n            floatingFilterComp.afterGuiAttached();\n        }\n    };\n    FloatingFilterWrapper.prototype.parentFilterInstance = function (callback) {\n        this.getFilterComponent().then(callback);\n    };\n    FloatingFilterWrapper.prototype.getFilterComponent = function () {\n        return this.filterManager.getFilterComponent(this.column, 'NO_UI');\n    };\n    FloatingFilterWrapper.prototype.getFloatingFilterInstance = function () {\n        var colDef = this.column.getColDef();\n        var defaultFloatingFilterType;\n        if (typeof colDef.filter === 'string') {\n            // will be undefined if not in the map\n            defaultFloatingFilterType = FloatingFilterWrapper.filterToFloatingFilterNames[colDef.filter];\n        }\n        else if (colDef.filterFramework) ;\n        else if (colDef.filter === true) {\n            var setFilterModuleLoaded = ModuleRegistry.isRegistered(exports.ModuleNames.SetFilterModule);\n            defaultFloatingFilterType = setFilterModuleLoaded ? 'agSetColumnFloatingFilter' : 'agTextColumnFloatingFilter';\n        }\n        var filterParams = this.filterManager.createFilterParams(this.column, this.column.getColDef());\n        var finalFilterParams = this.userComponentFactory.createFinalParams(colDef, 'filter', filterParams);\n        var params = {\n            api: this.gridApi,\n            column: this.column,\n            filterParams: finalFilterParams,\n            currentParentModel: this.currentParentModel.bind(this),\n            parentFilterInstance: this.parentFilterInstance.bind(this),\n            onFloatingFilterChanged: this.onFloatingFilterChanged.bind(this),\n            suppressFilterButton: false // This one might be overridden from the colDef\n        };\n        // this is unusual - we need a params value OUTSIDE the component the params are for.\n        // the params are for the floating filter component, but this property is actually for the wrapper.\n        this.suppressFilterButton = colDef.floatingFilterComponentParams ? !!colDef.floatingFilterComponentParams.suppressFilterButton : false;\n        var promise = this.userComponentFactory.newFloatingFilterComponent(colDef, params, defaultFloatingFilterType);\n        if (!promise) {\n            var filterComponent = this.getFilterComponentPrototype(colDef);\n            var getModelAsStringExists = filterComponent && filterComponent.prototype && filterComponent.prototype.getModelAsString;\n            if (getModelAsStringExists) {\n                var compInstance = this.userComponentFactory.createUserComponentFromConcreteClass(ReadOnlyFloatingFilter, params);\n                promise = Promise.resolve(compInstance);\n            }\n        }\n        return promise;\n    };\n    FloatingFilterWrapper.prototype.createDynamicParams = function () {\n        return {\n            column: this.column,\n            colDef: this.column.getColDef(),\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n    };\n    FloatingFilterWrapper.prototype.getFilterComponentPrototype = function (colDef) {\n        var resolvedComponent = this.userComponentFactory.lookupComponentClassDef(colDef, 'filter', this.createDynamicParams());\n        return resolvedComponent ? resolvedComponent.component : null;\n    };\n    FloatingFilterWrapper.prototype.setupEmpty = function () {\n        setDisplayed(this.eButtonWrapper, false);\n    };\n    FloatingFilterWrapper.prototype.currentParentModel = function () {\n        return this.getFilterComponent().resolveNow(null, function (filter) { return filter.getModel(); });\n    };\n    FloatingFilterWrapper.prototype.onParentModelChanged = function (model, filterChangedEvent) {\n        if (!this.floatingFilterCompPromise) {\n            return;\n        }\n        this.floatingFilterCompPromise.then(function (comp) { return comp.onParentModelChanged(model, filterChangedEvent); });\n    };\n    FloatingFilterWrapper.prototype.onFloatingFilterChanged = function () {\n        console.warn('ag-Grid: since version 21.x, how floating filters are implemented has changed. ' +\n            'Instead of calling params.onFloatingFilterChanged(), get a reference to the main filter via ' +\n            'params.parentFilterInstance() and then set a value on the parent filter directly.');\n    };\n    FloatingFilterWrapper.filterToFloatingFilterNames = {\n        set: 'agSetColumnFloatingFilter',\n        agSetColumnFilter: 'agSetColumnFloatingFilter',\n        number: 'agNumberColumnFloatingFilter',\n        agNumberColumnFilter: 'agNumberColumnFloatingFilter',\n        date: 'agDateColumnFloatingFilter',\n        agDateColumnFilter: 'agDateColumnFloatingFilter',\n        text: 'agTextColumnFloatingFilter',\n        agTextColumnFilter: 'agTextColumnFloatingFilter'\n    };\n    FloatingFilterWrapper.TEMPLATE = \n    /* html */ \"<div class=\\\"ag-header-cell\\\" role=\\\"presentation\\\">\\n            <div ref=\\\"eFloatingFilterBody\\\" role=\\\"columnheader\\\"></div>\\n            <div class=\\\"ag-floating-filter-button\\\" ref=\\\"eButtonWrapper\\\" role=\\\"presentation\\\">\\n                <button type=\\\"button\\\" class=\\\"ag-floating-filter-button-button\\\" ref=\\\"eButtonShowMainFilter\\\"></button>\\n            </div>\\n        </div>\";\n    __decorate$N([\n        Autowired('columnHoverService')\n    ], FloatingFilterWrapper.prototype, \"columnHoverService\", void 0);\n    __decorate$N([\n        Autowired('eventService')\n    ], FloatingFilterWrapper.prototype, \"eventService\", void 0);\n    __decorate$N([\n        Autowired('beans')\n    ], FloatingFilterWrapper.prototype, \"beans\", void 0);\n    __decorate$N([\n        Autowired('gridOptionsWrapper')\n    ], FloatingFilterWrapper.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$N([\n        Autowired('userComponentFactory')\n    ], FloatingFilterWrapper.prototype, \"userComponentFactory\", void 0);\n    __decorate$N([\n        Autowired('gridApi')\n    ], FloatingFilterWrapper.prototype, \"gridApi\", void 0);\n    __decorate$N([\n        Autowired('columnApi')\n    ], FloatingFilterWrapper.prototype, \"columnApi\", void 0);\n    __decorate$N([\n        Autowired('filterManager')\n    ], FloatingFilterWrapper.prototype, \"filterManager\", void 0);\n    __decorate$N([\n        Autowired('menuFactory')\n    ], FloatingFilterWrapper.prototype, \"menuFactory\", void 0);\n    __decorate$N([\n        RefSelector('eFloatingFilterBody')\n    ], FloatingFilterWrapper.prototype, \"eFloatingFilterBody\", void 0);\n    __decorate$N([\n        RefSelector('eButtonWrapper')\n    ], FloatingFilterWrapper.prototype, \"eButtonWrapper\", void 0);\n    __decorate$N([\n        RefSelector('eButtonShowMainFilter')\n    ], FloatingFilterWrapper.prototype, \"eButtonShowMainFilter\", void 0);\n    __decorate$N([\n        PostConstruct\n    ], FloatingFilterWrapper.prototype, \"postConstruct\", null);\n    return FloatingFilterWrapper;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$L = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$O = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar HeaderRowType;\n(function (HeaderRowType) {\n    HeaderRowType[HeaderRowType[\"COLUMN_GROUP\"] = 0] = \"COLUMN_GROUP\";\n    HeaderRowType[HeaderRowType[\"COLUMN\"] = 1] = \"COLUMN\";\n    HeaderRowType[HeaderRowType[\"FLOATING_FILTER\"] = 2] = \"FLOATING_FILTER\";\n})(HeaderRowType || (HeaderRowType = {}));\nvar HeaderRowComp = /** @class */ (function (_super) {\n    __extends$L(HeaderRowComp, _super);\n    function HeaderRowComp(dept, type, pinned, dropTarget) {\n        var _this = _super.call(this, /* html */ \"<div class=\\\"ag-header-row\\\" role=\\\"row\\\" />\") || this;\n        _this.headerComps = {};\n        _this.dept = dept;\n        _this.type = type;\n        _this.pinned = pinned;\n        _this.dropTarget = dropTarget;\n        var niceClassName = HeaderRowType[type].toLowerCase().replace(/_/g, '-');\n        _this.addCssClass(\"ag-header-row-\" + niceClassName);\n        if (isBrowserSafari()) {\n            // fix for a Safari rendering bug that caused the header to flicker above chart panels\n            // as you move the mouse over the header\n            _this.getGui().style.transform = 'translateZ(0)';\n        }\n        return _this;\n    }\n    HeaderRowComp.prototype.forEachHeaderElement = function (callback) {\n        var _this = this;\n        Object.keys(this.headerComps).forEach(function (key) {\n            callback(_this.headerComps[key]);\n        });\n    };\n    HeaderRowComp.prototype.destroy = function () {\n        var idsOfAllChildren = Object.keys(this.headerComps);\n        this.removeAndDestroyChildComponents(idsOfAllChildren);\n        _super.prototype.destroy.call(this);\n    };\n    HeaderRowComp.prototype.removeAndDestroyChildComponents = function (idsToDestroy) {\n        var _this = this;\n        idsToDestroy.forEach(function (id) {\n            var childHeaderComp = _this.headerComps[id];\n            _this.getGui().removeChild(childHeaderComp.getGui());\n            childHeaderComp.destroy();\n            delete _this.headerComps[id];\n        });\n    };\n    HeaderRowComp.prototype.onRowHeightChanged = function () {\n        var headerRowCount = this.columnController.getHeaderRowCount();\n        var sizes = [];\n        var numberOfFloating = 0;\n        var groupHeight;\n        var headerHeight;\n        if (this.columnController.isPivotMode()) {\n            groupHeight = this.gridOptionsWrapper.getPivotGroupHeaderHeight();\n            headerHeight = this.gridOptionsWrapper.getPivotHeaderHeight();\n        }\n        else {\n            if (this.columnController.hasFloatingFilters()) {\n                headerRowCount++;\n                numberOfFloating = 1;\n            }\n            groupHeight = this.gridOptionsWrapper.getGroupHeaderHeight();\n            headerHeight = this.gridOptionsWrapper.getHeaderHeight();\n        }\n        var numberOfNonGroups = 1 + numberOfFloating;\n        var numberOfGroups = headerRowCount - numberOfNonGroups;\n        for (var i = 0; i < numberOfGroups; i++) {\n            sizes.push(groupHeight);\n        }\n        sizes.push(headerHeight);\n        for (var i = 0; i < numberOfFloating; i++) {\n            sizes.push(this.gridOptionsWrapper.getFloatingFiltersHeight());\n        }\n        var rowHeight = 0;\n        for (var i = 0; i < this.dept; i++) {\n            rowHeight += sizes[i];\n        }\n        this.getGui().style.top = rowHeight + 'px';\n        this.getGui().style.height = sizes[this.dept] + 'px';\n    };\n    //noinspection JSUnusedLocalSymbols\n    HeaderRowComp.prototype.init = function () {\n        this.onRowHeightChanged();\n        this.onVirtualColumnsChanged();\n        this.setWidth();\n        this.addDestroyableEventListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT, this.onRowHeightChanged.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_VIRTUAL_COLUMNS_CHANGED, this.onVirtualColumnsChanged.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_COLUMN_RESIZED, this.onColumnResized.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_GRID_COLUMNS_CHANGED, this.onGridColumnsChanged.bind(this));\n    };\n    HeaderRowComp.prototype.onColumnResized = function () {\n        this.setWidth();\n    };\n    HeaderRowComp.prototype.setWidth = function () {\n        var width = this.getWidthForRow();\n        this.getGui().style.width = width + 'px';\n    };\n    HeaderRowComp.prototype.getWidthForRow = function () {\n        var printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        if (printLayout) {\n            var centerRow = missing(this.pinned);\n            if (centerRow) {\n                return this.columnController.getContainerWidth(Constants.PINNED_RIGHT)\n                    + this.columnController.getContainerWidth(Constants.PINNED_LEFT)\n                    + this.columnController.getContainerWidth(null);\n            }\n            else {\n                return 0;\n            }\n        }\n        else {\n            // if not printing, just return the width as normal\n            return this.columnController.getContainerWidth(this.pinned);\n        }\n    };\n    HeaderRowComp.prototype.onGridColumnsChanged = function () {\n        this.removeAndDestroyAllChildComponents();\n    };\n    HeaderRowComp.prototype.removeAndDestroyAllChildComponents = function () {\n        var idsOfAllChildren = Object.keys(this.headerComps);\n        this.removeAndDestroyChildComponents(idsOfAllChildren);\n    };\n    HeaderRowComp.prototype.onDisplayedColumnsChanged = function () {\n        this.onVirtualColumnsChanged();\n        this.setWidth();\n    };\n    HeaderRowComp.prototype.getItemsAtDepth = function () {\n        var _this = this;\n        var printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        if (printLayout) {\n            // for print layout, we add all columns into the center\n            var centerContainer = missing(this.pinned);\n            if (centerContainer) {\n                var result_1 = [];\n                [Constants.PINNED_LEFT, null, Constants.PINNED_RIGHT].forEach(function (pinned) {\n                    var items = _this.columnController.getVirtualHeaderGroupRow(pinned, _this.type == HeaderRowType.FLOATING_FILTER ?\n                        _this.dept - 1 :\n                        _this.dept);\n                    result_1 = result_1.concat(items);\n                });\n                return result_1;\n            }\n            else {\n                return [];\n            }\n        }\n        else {\n            // when in normal layout, we add the columns for that container only\n            return this.columnController.getVirtualHeaderGroupRow(this.pinned, this.type == HeaderRowType.FLOATING_FILTER ?\n                this.dept - 1 :\n                this.dept);\n        }\n    };\n    HeaderRowComp.prototype.onVirtualColumnsChanged = function () {\n        var _this = this;\n        var currentChildIds = Object.keys(this.headerComps);\n        var correctChildIds = [];\n        var itemsAtDepth = this.getItemsAtDepth();\n        itemsAtDepth.forEach(function (child) {\n            // skip groups that have no displayed children. this can happen when the group is broken,\n            // and this section happens to have nothing to display for the open / closed state.\n            // (a broken group is one that is split, ie columns in the group have a non-group column\n            // in between them)\n            if (child.isEmptyGroup()) {\n                return;\n            }\n            var idOfChild = child.getUniqueId();\n            var eParentContainer = _this.getGui();\n            // if we already have this cell rendered, do nothing\n            var colAlreadyInDom = currentChildIds.indexOf(idOfChild) >= 0;\n            var headerComp;\n            var eHeaderCompGui;\n            if (colAlreadyInDom) {\n                removeFromArray(currentChildIds, idOfChild);\n            }\n            else {\n                headerComp = _this.createHeaderComp(child);\n                _this.headerComps[idOfChild] = headerComp;\n                eHeaderCompGui = headerComp.getGui();\n                eParentContainer.appendChild(eHeaderCompGui);\n            }\n            correctChildIds.push(idOfChild);\n        });\n        // at this point, anything left in currentChildIds is an element that is no longer in the viewport\n        this.removeAndDestroyChildComponents(currentChildIds);\n        var ensureDomOrder = this.gridOptionsWrapper.isEnsureDomOrder();\n        if (ensureDomOrder) {\n            var correctChildOrder = correctChildIds.map(function (id) { return _this.headerComps[id].getGui(); });\n            setDomChildOrder(this.getGui(), correctChildOrder);\n        }\n    };\n    HeaderRowComp.prototype.createHeaderComp = function (columnGroupChild) {\n        var result;\n        switch (this.type) {\n            case HeaderRowType.COLUMN:\n                result = new HeaderWrapperComp(columnGroupChild, this.dropTarget, this.pinned);\n                break;\n            case HeaderRowType.COLUMN_GROUP:\n                result = new HeaderGroupWrapperComp(columnGroupChild, this.dropTarget, this.pinned);\n                break;\n            case HeaderRowType.FLOATING_FILTER:\n                result = new FloatingFilterWrapper(columnGroupChild);\n                break;\n        }\n        this.getContext().wireBean(result);\n        return result;\n    };\n    __decorate$O([\n        Autowired('gridOptionsWrapper')\n    ], HeaderRowComp.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$O([\n        Autowired('columnController')\n    ], HeaderRowComp.prototype, \"columnController\", void 0);\n    __decorate$O([\n        Autowired('eventService')\n    ], HeaderRowComp.prototype, \"eventService\", void 0);\n    __decorate$O([\n        PostConstruct\n    ], HeaderRowComp.prototype, \"init\", null);\n    return HeaderRowComp;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$P = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar MoveColumnController = /** @class */ (function () {\n    function MoveColumnController(pinned, eContainer) {\n        this.needToMoveLeft = false;\n        this.needToMoveRight = false;\n        this.pinned = pinned;\n        this.eContainer = eContainer;\n        this.centerContainer = !_.exists(pinned);\n    }\n    MoveColumnController.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    MoveColumnController.prototype.init = function () {\n        this.logger = this.loggerFactory.create('MoveColumnController');\n    };\n    MoveColumnController.prototype.getIconName = function () {\n        return this.pinned ? DragAndDropService.ICON_PINNED : DragAndDropService.ICON_MOVE;\n    };\n    MoveColumnController.prototype.onDragEnter = function (draggingEvent) {\n        // we do dummy drag, so make sure column appears in the right location when first placed\n        var columns = draggingEvent.dragItem.columns;\n        var dragCameFromToolPanel = draggingEvent.dragSource.type === exports.DragSourceType.ToolPanel;\n        if (dragCameFromToolPanel) {\n            // the if statement doesn't work if drag leaves grid, then enters again\n            this.setColumnsVisible(columns, true, \"uiColumnDragged\");\n        }\n        else {\n            // restore previous state of visible columns upon re-entering. this means if the user drags\n            // a group out, and then drags the group back in, only columns that were originally visible\n            // will be visible again. otherwise a group with three columns (but only two visible) could\n            // be dragged out, then when it's dragged in again, all three are visible. this stops that.\n            var visibleState_1 = draggingEvent.dragItem.visibleState;\n            var visibleColumns = columns.filter(function (column) { return visibleState_1[column.getId()]; });\n            this.setColumnsVisible(visibleColumns, true, \"uiColumnDragged\");\n        }\n        this.setColumnsPinned(columns, this.pinned, \"uiColumnDragged\");\n        this.onDragging(draggingEvent, true);\n    };\n    MoveColumnController.prototype.onDragLeave = function (draggingEvent) {\n        var hideColumnOnExit = !this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns() && !draggingEvent.fromNudge;\n        if (hideColumnOnExit) {\n            var dragItem = draggingEvent.dragSource.getDragItem();\n            var columns = dragItem.columns;\n            this.setColumnsVisible(columns, false, \"uiColumnDragged\");\n        }\n        this.ensureIntervalCleared();\n    };\n    MoveColumnController.prototype.setColumnsVisible = function (columns, visible, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (columns) {\n            var allowedCols = columns.filter(function (c) { return !c.getColDef().lockVisible; });\n            this.columnController.setColumnsVisible(allowedCols, visible, source);\n        }\n    };\n    MoveColumnController.prototype.setColumnsPinned = function (columns, pinned, source) {\n        if (source === void 0) { source = \"api\"; }\n        if (columns) {\n            var allowedCols = columns.filter(function (c) { return !c.getColDef().lockPinned; });\n            this.columnController.setColumnsPinned(allowedCols, pinned, source);\n        }\n    };\n    MoveColumnController.prototype.onDragStop = function () {\n        this.ensureIntervalCleared();\n    };\n    MoveColumnController.prototype.normaliseX = function (x) {\n        // flip the coordinate if doing RTL\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            var clientWidth = this.eContainer.clientWidth;\n            x = clientWidth - x;\n        }\n        // adjust for scroll only if centre container (the pinned containers don't scroll)\n        if (this.centerContainer) {\n            x += this.gridPanel.getCenterViewportScrollLeft();\n        }\n        return x;\n    };\n    MoveColumnController.prototype.checkCenterForScrolling = function (xAdjustedForScroll) {\n        if (this.centerContainer) {\n            // scroll if the mouse has gone outside the grid (or just outside the scrollable part if pinning)\n            // putting in 50 buffer, so even if user gets to edge of grid, a scroll will happen\n            var firstVisiblePixel = this.gridPanel.getCenterViewportScrollLeft();\n            var lastVisiblePixel = firstVisiblePixel + this.gridPanel.getCenterWidth();\n            if (this.gridOptionsWrapper.isEnableRtl()) {\n                this.needToMoveRight = xAdjustedForScroll < (firstVisiblePixel + 50);\n                this.needToMoveLeft = xAdjustedForScroll > (lastVisiblePixel - 50);\n            }\n            else {\n                this.needToMoveLeft = xAdjustedForScroll < (firstVisiblePixel + 50);\n                this.needToMoveRight = xAdjustedForScroll > (lastVisiblePixel - 50);\n            }\n            if (this.needToMoveLeft || this.needToMoveRight) {\n                this.ensureIntervalStarted();\n            }\n            else {\n                this.ensureIntervalCleared();\n            }\n        }\n    };\n    MoveColumnController.prototype.onDragging = function (draggingEvent, fromEnter) {\n        var _this = this;\n        if (fromEnter === void 0) { fromEnter = false; }\n        this.lastDraggingEvent = draggingEvent;\n        // if moving up or down (ie not left or right) then do nothing\n        if (_.missing(draggingEvent.hDirection)) {\n            return;\n        }\n        var mouseXNormalised = this.normaliseX(draggingEvent.x);\n        // if the user is dragging into the panel, ie coming from the side panel into the main grid,\n        // we don't want to scroll the grid this time, it would appear like the table is jumping\n        // each time a column is dragged in.\n        if (!fromEnter) {\n            this.checkCenterForScrolling(mouseXNormalised);\n        }\n        var hDirectionNormalised = this.normaliseDirection(draggingEvent.hDirection);\n        var dragSourceType = draggingEvent.dragSource.type;\n        var columnsToMove = draggingEvent.dragSource.getDragItem().columns;\n        columnsToMove = columnsToMove.filter(function (col) {\n            if (col.getColDef().lockPinned) {\n                // if locked return true only if both col and container are same pin type.\n                // double equals (==) here on purpose so that null==undefined is true (for not pinned options)\n                return col.getPinned() == _this.pinned;\n            }\n            else {\n                // if not pin locked, then always allowed to be in this container\n                return true;\n            }\n        });\n        this.attemptMoveColumns(dragSourceType, columnsToMove, hDirectionNormalised, mouseXNormalised, fromEnter);\n    };\n    MoveColumnController.prototype.normaliseDirection = function (hDirection) {\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            switch (hDirection) {\n                case exports.HorizontalDirection.Left: return exports.HorizontalDirection.Right;\n                case exports.HorizontalDirection.Right: return exports.HorizontalDirection.Left;\n                default: console.error(\"ag-Grid: Unknown direction \" + hDirection);\n            }\n        }\n        else {\n            return hDirection;\n        }\n    };\n    // returns the index of the first column in the list ONLY if the cols are all beside\n    // each other. if the cols are not beside each other, then returns null\n    MoveColumnController.prototype.calculateOldIndex = function (movingCols) {\n        var gridCols = this.columnController.getAllGridColumns();\n        var indexes = _.sortNumerically(movingCols.map(function (col) { return gridCols.indexOf(col); }));\n        var firstIndex = indexes[0];\n        var lastIndex = _.last(indexes);\n        var spread = lastIndex - firstIndex;\n        var gapsExist = spread !== indexes.length - 1;\n        return gapsExist ? null : firstIndex;\n    };\n    MoveColumnController.prototype.attemptMoveColumns = function (dragSourceType, allMovingColumns, hDirection, mouseX, fromEnter) {\n        var draggingLeft = hDirection === exports.HorizontalDirection.Left;\n        var draggingRight = hDirection === exports.HorizontalDirection.Right;\n        var validMoves = this.calculateValidMoves(allMovingColumns, draggingRight, mouseX);\n        // if cols are not adjacent, then this returns null. when moving, we constrain the direction of the move\n        // (ie left or right) to the mouse direction. however\n        var oldIndex = this.calculateOldIndex(allMovingColumns);\n        if (validMoves.length === 0) {\n            return;\n        }\n        var firstValidMove = validMoves[0];\n        // the two check below stop an error when the user grabs a group my a middle column, then\n        // it is possible the mouse pointer is to the right of a column while been dragged left.\n        // so we need to make sure that the mouse pointer is actually left of the left most column\n        // if moving left, and right of the right most column if moving right\n        // we check 'fromEnter' below so we move the column to the new spot if the mouse is coming from\n        // outside the grid, eg if the column is moving from side panel, mouse is moving left, then we should\n        // place the column to the RHS even if the mouse is moving left and the column is already on\n        // the LHS. otherwise we stick to the rule described above.\n        var constrainDirection = oldIndex !== null && !fromEnter;\n        // don't consider 'fromEnter' when dragging header cells, otherwise group can jump to opposite direction of drag\n        if (dragSourceType == exports.DragSourceType.HeaderCell) {\n            constrainDirection = oldIndex !== null;\n        }\n        if (constrainDirection) {\n            // only allow left drag if this column is moving left\n            if (draggingLeft && firstValidMove >= oldIndex) {\n                return;\n            }\n            // only allow right drag if this column is moving right\n            if (draggingRight && firstValidMove <= oldIndex) {\n                return;\n            }\n        }\n        for (var i = 0; i < validMoves.length; i++) {\n            var move = validMoves[i];\n            if (!this.columnController.doesMovePassRules(allMovingColumns, move)) {\n                continue;\n            }\n            this.columnController.moveColumns(allMovingColumns, move, \"uiColumnDragged\");\n            // important to return here, so once we do the first valid move, we don't try do any more\n            return;\n        }\n    };\n    MoveColumnController.prototype.calculateValidMoves = function (movingCols, draggingRight, mouseX) {\n        var isMoveBlocked = this.gridOptionsWrapper.isSuppressMovableColumns() || movingCols.some(function (col) { return col.getColDef().suppressMovable; });\n        if (isMoveBlocked) {\n            return [];\n        }\n        // this is the list of cols on the screen, so it's these we use when comparing the x mouse position\n        var allDisplayedCols = this.columnController.getDisplayedColumns(this.pinned);\n        // but this list is the list of all cols, when we move a col it's the index within this list that gets used,\n        // so the result we return has to be and index location for this list\n        var allGridCols = this.columnController.getAllGridColumns();\n        var movingDisplayedCols = allDisplayedCols.filter(function (col) { return _.includes(movingCols, col); });\n        var otherDisplayedCols = allDisplayedCols.filter(function (col) { return !_.includes(movingCols, col); });\n        var otherGridCols = allGridCols.filter(function (col) { return !_.includes(movingCols, col); });\n        // work out how many DISPLAYED columns fit before the 'x' position. this gives us the displayIndex.\n        // for example, if cols are a,b,c,d and we find a,b fit before 'x', then we want to place the moving\n        // col between b and c (so that it is under the mouse position).\n        var displayIndex = 0;\n        var availableWidth = mouseX;\n        // if we are dragging right, then the columns will be to the left of the mouse, so we also want to\n        // include the width of the moving columns\n        if (draggingRight) {\n            var widthOfMovingDisplayedCols_1 = 0;\n            movingDisplayedCols.forEach(function (col) { return widthOfMovingDisplayedCols_1 += col.getActualWidth(); });\n            availableWidth -= widthOfMovingDisplayedCols_1;\n        }\n        if (availableWidth > 0) {\n            // now count how many of the displayed columns will fit to the left\n            for (var i = 0; i < otherDisplayedCols.length; i++) {\n                var col = otherDisplayedCols[i];\n                availableWidth -= col.getActualWidth();\n                if (availableWidth < 0) {\n                    break;\n                }\n                displayIndex++;\n            }\n            // trial and error, if going right, we adjust by one, i didn't manage to quantify why, but it works\n            if (draggingRight) {\n                displayIndex++;\n            }\n        }\n        // the display index is with respect to all the showing columns, however when we move, it's with\n        // respect to all grid columns, so we need to translate from display index to grid index\n        var firstValidMove;\n        if (displayIndex > 0) {\n            var leftColumn = otherDisplayedCols[displayIndex - 1];\n            firstValidMove = otherGridCols.indexOf(leftColumn) + 1;\n        }\n        else {\n            firstValidMove = otherGridCols.indexOf(otherDisplayedCols[0]);\n            if (firstValidMove === -1) {\n                firstValidMove = 0;\n            }\n        }\n        var validMoves = [firstValidMove];\n        // add in other valid moves due to hidden columns and married children. for example, a particular\n        // move might break a group that has married children (so move isn't valid), however there could\n        // be hidden columns (not displayed) that we could jump over to make the move valid. because\n        // they are hidden, user doesn't see any different, however it allows moves that would otherwise\n        // not work. for example imagine a group with 9 columns and all columns are hidden except the\n        // middle one (so 4 hidden to left, 4 hidden to right), then when moving 'firstValidMove' will\n        // be relative to the not-shown column, however we need to consider the move jumping over all the\n        // hidden children. if we didn't do this, then if the group just described was at the end (RHS) of the\n        // grid, there would be no way to put a column after it (as the grid would only consider beside the\n        // visible column, which would fail valid move rules).\n        if (draggingRight) {\n            // if dragging right, then we add all the additional moves to the right. so in other words\n            // if the next move is not valid, find the next move to the right that is valid.\n            var pointer = firstValidMove + 1;\n            var lastIndex = allGridCols.length - 1;\n            while (pointer <= lastIndex) {\n                validMoves.push(pointer);\n                pointer++;\n            }\n        }\n        else {\n            // if dragging left we do the reverse of dragging right, we add in all the valid moves to the\n            // left. however we also have to consider moves to the right for all hidden columns first.\n            // (this logic is hard to reason with, it was worked out with trial and error,\n            // move observation rather than science).\n            // add moves to the right\n            var pointer = firstValidMove;\n            var lastIndex = allGridCols.length - 1;\n            var displacedCol = allGridCols[pointer];\n            while (pointer <= lastIndex && this.isColumnHidden(allDisplayedCols, displacedCol)) {\n                pointer++;\n                validMoves.push(pointer);\n                displacedCol = allGridCols[pointer];\n            }\n            // add moves to the left\n            pointer = firstValidMove - 1;\n            var firstDisplayIndex = 0;\n            while (pointer >= firstDisplayIndex) {\n                validMoves.push(pointer);\n                pointer--;\n            }\n        }\n        return validMoves;\n    };\n    // isHidden takes into account visible=false and group=closed, ie it is not displayed\n    MoveColumnController.prototype.isColumnHidden = function (displayedColumns, col) {\n        return displayedColumns.indexOf(col) < 0;\n    };\n    MoveColumnController.prototype.ensureIntervalStarted = function () {\n        if (!this.movingIntervalId) {\n            this.intervalCount = 0;\n            this.failedMoveAttempts = 0;\n            this.movingIntervalId = window.setInterval(this.moveInterval.bind(this), 100);\n            if (this.needToMoveLeft) {\n                this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_LEFT, true);\n            }\n            else {\n                this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_RIGHT, true);\n            }\n        }\n    };\n    MoveColumnController.prototype.ensureIntervalCleared = function () {\n        if (this.moveInterval) {\n            window.clearInterval(this.movingIntervalId);\n            this.movingIntervalId = null;\n            this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_MOVE);\n        }\n    };\n    MoveColumnController.prototype.moveInterval = function () {\n        // the amounts we move get bigger at each interval, so the speed accelerates, starting a bit slow\n        // and getting faster. this is to give smoother user experience. we max at 100px to limit the speed.\n        var pixelsToMove;\n        this.intervalCount++;\n        pixelsToMove = 10 + (this.intervalCount * 5);\n        if (pixelsToMove > 100) {\n            pixelsToMove = 100;\n        }\n        var pixelsMoved;\n        if (this.needToMoveLeft) {\n            pixelsMoved = this.gridPanel.scrollHorizontally(-pixelsToMove);\n        }\n        else if (this.needToMoveRight) {\n            pixelsMoved = this.gridPanel.scrollHorizontally(pixelsToMove);\n        }\n        if (pixelsMoved !== 0) {\n            this.onDragging(this.lastDraggingEvent);\n            this.failedMoveAttempts = 0;\n        }\n        else {\n            // we count the failed move attempts. if we fail to move 7 times, then we pin the column.\n            // this is how we achieve pining by dragging the column to the edge of the grid.\n            this.failedMoveAttempts++;\n            var columns = this.lastDraggingEvent.dragItem.columns;\n            var columnsThatCanPin = columns.filter(function (c) { return !c.getColDef().lockPinned; });\n            if (columnsThatCanPin.length > 0) {\n                this.dragAndDropService.setGhostIcon(DragAndDropService.ICON_PINNED);\n                if (this.failedMoveAttempts > 7) {\n                    var pinType = this.needToMoveLeft ? Constants.PINNED_LEFT : Constants.PINNED_RIGHT;\n                    this.setColumnsPinned(columnsThatCanPin, pinType, \"uiColumnDragged\");\n                    this.dragAndDropService.nudge();\n                }\n            }\n        }\n    };\n    __decorate$P([\n        Autowired('loggerFactory')\n    ], MoveColumnController.prototype, \"loggerFactory\", void 0);\n    __decorate$P([\n        Autowired('columnController')\n    ], MoveColumnController.prototype, \"columnController\", void 0);\n    __decorate$P([\n        Autowired('dragAndDropService')\n    ], MoveColumnController.prototype, \"dragAndDropService\", void 0);\n    __decorate$P([\n        Autowired('gridOptionsWrapper')\n    ], MoveColumnController.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$P([\n        PostConstruct\n    ], MoveColumnController.prototype, \"init\", null);\n    return MoveColumnController;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$Q = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar BodyDropPivotTarget = /** @class */ (function () {\n    function BodyDropPivotTarget(pinned) {\n        this.columnsToAggregate = [];\n        this.columnsToGroup = [];\n        this.columnsToPivot = [];\n        this.pinned = pinned;\n    }\n    /** Callback for when drag enters */\n    BodyDropPivotTarget.prototype.onDragEnter = function (draggingEvent) {\n        var _this = this;\n        this.clearColumnsList();\n        // in pivot mode, we don't accept any drops if functions are read only\n        if (this.gridOptionsWrapper.isFunctionsReadOnly()) {\n            return;\n        }\n        var dragColumns = draggingEvent.dragItem.columns;\n        dragColumns.forEach(function (column) {\n            // we don't allow adding secondary columns\n            if (!column.isPrimary()) {\n                return;\n            }\n            if (column.isAnyFunctionActive()) {\n                return;\n            }\n            if (column.isAllowValue()) {\n                _this.columnsToAggregate.push(column);\n            }\n            else if (column.isAllowRowGroup()) {\n                _this.columnsToGroup.push(column);\n            }\n            else if (column.isAllowRowGroup()) {\n                _this.columnsToPivot.push(column);\n            }\n        });\n    };\n    BodyDropPivotTarget.prototype.getIconName = function () {\n        var totalColumns = this.columnsToAggregate.length + this.columnsToGroup.length + this.columnsToPivot.length;\n        if (totalColumns > 0) {\n            return this.pinned ? DragAndDropService.ICON_PINNED : DragAndDropService.ICON_MOVE;\n        }\n        else {\n            return null;\n        }\n    };\n    /** Callback for when drag leaves */\n    BodyDropPivotTarget.prototype.onDragLeave = function (draggingEvent) {\n        // if we are taking columns out of the center, then we remove them from the report\n        this.clearColumnsList();\n    };\n    BodyDropPivotTarget.prototype.clearColumnsList = function () {\n        this.columnsToAggregate.length = 0;\n        this.columnsToGroup.length = 0;\n        this.columnsToPivot.length = 0;\n    };\n    /** Callback for when dragging */\n    BodyDropPivotTarget.prototype.onDragging = function (draggingEvent) {\n    };\n    /** Callback for when drag stops */\n    BodyDropPivotTarget.prototype.onDragStop = function (draggingEvent) {\n        if (this.columnsToAggregate.length > 0) {\n            this.columnController.addValueColumns(this.columnsToAggregate, \"toolPanelDragAndDrop\");\n        }\n        if (this.columnsToGroup.length > 0) {\n            this.columnController.addRowGroupColumns(this.columnsToGroup, \"toolPanelDragAndDrop\");\n        }\n        if (this.columnsToPivot.length > 0) {\n            this.columnController.addPivotColumns(this.columnsToPivot, \"toolPanelDragAndDrop\");\n        }\n    };\n    __decorate$Q([\n        Autowired('columnController')\n    ], BodyDropPivotTarget.prototype, \"columnController\", void 0);\n    __decorate$Q([\n        Autowired('gridOptionsWrapper')\n    ], BodyDropPivotTarget.prototype, \"gridOptionsWrapper\", void 0);\n    return BodyDropPivotTarget;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$R = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar DropType;\n(function (DropType) {\n    DropType[DropType[\"ColumnMove\"] = 0] = \"ColumnMove\";\n    DropType[DropType[\"Pivot\"] = 1] = \"Pivot\";\n})(DropType || (DropType = {}));\nvar BodyDropTarget = /** @class */ (function () {\n    function BodyDropTarget(pinned, eContainer) {\n        this.dropListeners = {};\n        this.pinned = pinned;\n        this.eContainer = eContainer;\n    }\n    BodyDropTarget.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n        this.moveColumnController.registerGridComp(gridPanel);\n        switch (this.pinned) {\n            case Constants.PINNED_LEFT:\n                this.eSecondaryContainers = this.gridPanel.getDropTargetLeftContainers();\n                break;\n            case Constants.PINNED_RIGHT:\n                this.eSecondaryContainers = this.gridPanel.getDropTargetRightContainers();\n                break;\n            default:\n                this.eSecondaryContainers = this.gridPanel.getDropTargetBodyContainers();\n                break;\n        }\n    };\n    BodyDropTarget.prototype.isInterestedIn = function (type) {\n        return type === exports.DragSourceType.HeaderCell ||\n            (type === exports.DragSourceType.ToolPanel && this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel());\n    };\n    BodyDropTarget.prototype.getSecondaryContainers = function () {\n        return this.eSecondaryContainers;\n    };\n    BodyDropTarget.prototype.getContainer = function () {\n        return this.eContainer;\n    };\n    BodyDropTarget.prototype.init = function () {\n        this.moveColumnController = new MoveColumnController(this.pinned, this.eContainer);\n        this.context.wireBean(this.moveColumnController);\n        var bodyDropPivotTarget = new BodyDropPivotTarget(this.pinned);\n        this.context.wireBean(bodyDropPivotTarget);\n        this.dropListeners[DropType.ColumnMove] = this.moveColumnController;\n        this.dropListeners[DropType.Pivot] = bodyDropPivotTarget;\n        this.dragAndDropService.addDropTarget(this);\n    };\n    BodyDropTarget.prototype.getIconName = function () {\n        return this.currentDropListener.getIconName();\n    };\n    // we want to use the bodyPivotTarget if the user is dragging columns in from the toolPanel\n    // and we are in pivot mode, as it has to logic to set pivot/value/group on the columns when\n    // dropped into the grid's body.\n    BodyDropTarget.prototype.getDropType = function (draggingEvent) {\n        if (this.columnController.isPivotMode()) {\n            // in pivot mode, then if moving a column (ie didn't come from toolpanel) then it's\n            // a standard column move, however if it came from the toolpanel, then we are introducing\n            // dimensions or values to the grid\n            if (draggingEvent.dragSource.type === exports.DragSourceType.ToolPanel) {\n                return DropType.Pivot;\n            }\n            return DropType.ColumnMove;\n        }\n        // it's a column, and not pivot mode, so always moving\n        return DropType.ColumnMove;\n    };\n    BodyDropTarget.prototype.onDragEnter = function (draggingEvent) {\n        // we pick the drop listener depending on whether we are in pivot mode are not. if we are\n        // in pivot mode, then dropping cols changes the row group, pivot, value stats. otherwise\n        // we change visibility state and position.\n        // if (this.columnController.isPivotMode()) {\n        var dropType = this.getDropType(draggingEvent);\n        this.currentDropListener = this.dropListeners[dropType];\n        this.currentDropListener.onDragEnter(draggingEvent);\n    };\n    BodyDropTarget.prototype.onDragLeave = function (params) {\n        this.currentDropListener.onDragLeave(params);\n    };\n    BodyDropTarget.prototype.onDragging = function (params) {\n        this.currentDropListener.onDragging(params);\n    };\n    BodyDropTarget.prototype.onDragStop = function (params) {\n        this.currentDropListener.onDragStop(params);\n    };\n    __decorate$R([\n        Autowired('context')\n    ], BodyDropTarget.prototype, \"context\", void 0);\n    __decorate$R([\n        Autowired('dragAndDropService')\n    ], BodyDropTarget.prototype, \"dragAndDropService\", void 0);\n    __decorate$R([\n        Autowired('columnController')\n    ], BodyDropTarget.prototype, \"columnController\", void 0);\n    __decorate$R([\n        Autowired('gridOptionsWrapper')\n    ], BodyDropTarget.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$R([\n        PostConstruct\n    ], BodyDropTarget.prototype, \"init\", null);\n    return BodyDropTarget;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$S = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar HeaderContainer = /** @class */ (function () {\n    function HeaderContainer(eContainer, eViewport, pinned) {\n        this.headerRowComps = [];\n        this.events = [];\n        this.eContainer = eContainer;\n        this.pinned = pinned;\n        this.eViewport = eViewport;\n    }\n    HeaderContainer.prototype.registerGridComp = function (gridPanel) {\n        this.setupDragAndDrop(gridPanel);\n    };\n    HeaderContainer.prototype.forEachHeaderElement = function (callback) {\n        this.headerRowComps.forEach(function (headerRowComp) { return headerRowComp.forEachHeaderElement(callback); });\n    };\n    HeaderContainer.prototype.init = function () {\n        this.scrollWidth = this.gridOptionsWrapper.getScrollbarWidth();\n        // if value changes, then if not pivoting, we at least need to change the label eg from sum() to avg(),\n        // if pivoting, then the columns have changed\n        this.events = [\n            this.eventService.addEventListener(Events.EVENT_COLUMN_VALUE_CHANGED, this.onColumnValueChanged.bind(this)),\n            this.eventService.addEventListener(Events.EVENT_COLUMN_ROW_GROUP_CHANGED, this.onColumnRowGroupChanged.bind(this)),\n            this.eventService.addEventListener(Events.EVENT_GRID_COLUMNS_CHANGED, this.onGridColumnsChanged.bind(this)),\n            this.eventService.addEventListener(Events.EVENT_SCROLL_VISIBILITY_CHANGED, this.onScrollVisibilityChanged.bind(this)),\n            this.eventService.addEventListener(Events.EVENT_COLUMN_RESIZED, this.onColumnResized.bind(this)),\n            this.eventService.addEventListener(Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this))\n        ];\n    };\n    // if row group changes, that means we may need to add aggFuncs to the column headers,\n    // if the grid goes from no aggregation (ie no grouping) to grouping\n    HeaderContainer.prototype.onColumnRowGroupChanged = function () {\n        this.onGridColumnsChanged();\n    };\n    // if the agg func of a column changes, then we may need to update the agg func in columns header\n    HeaderContainer.prototype.onColumnValueChanged = function () {\n        this.onGridColumnsChanged();\n    };\n    HeaderContainer.prototype.onColumnResized = function () {\n        this.setWidthOfPinnedContainer();\n    };\n    HeaderContainer.prototype.onDisplayedColumnsChanged = function () {\n        this.setWidthOfPinnedContainer();\n    };\n    HeaderContainer.prototype.onScrollVisibilityChanged = function () {\n        this.setWidthOfPinnedContainer();\n    };\n    HeaderContainer.prototype.setWidthOfPinnedContainer = function () {\n        var pinningLeft = this.pinned === Constants.PINNED_LEFT;\n        var pinningRight = this.pinned === Constants.PINNED_RIGHT;\n        var controller = this.columnController;\n        var isRtl = this.gridOptionsWrapper.isEnableRtl();\n        if (pinningLeft || pinningRight) {\n            // size to fit all columns\n            var width = controller[pinningLeft ? 'getPinnedLeftContainerWidth' : 'getPinnedRightContainerWidth']();\n            // if there is a scroll showing (and taking up space, so Windows, and not iOS)\n            // in the body, then we add extra space to keep header aligned with the body,\n            // as body width fits the cols and the scrollbar\n            var addPaddingForScrollbar = this.scrollVisibleService.isVerticalScrollShowing() && ((isRtl && pinningLeft) || (!isRtl && pinningRight));\n            if (addPaddingForScrollbar) {\n                width += this.scrollWidth;\n            }\n            setFixedWidth(this.eContainer, width);\n        }\n    };\n    HeaderContainer.prototype.destroy = function () {\n        this.removeHeaderRowComps();\n        if (this.events.length) {\n            this.events.forEach(function (func) { return func(); });\n            this.events = [];\n        }\n    };\n    HeaderContainer.prototype.getRowComps = function () {\n        return this.headerRowComps;\n    };\n    // grid cols have changed - this also means the number of rows in the header can have\n    // changed. so we remove all the old rows and insert new ones for a complete refresh\n    HeaderContainer.prototype.onGridColumnsChanged = function () {\n        this.removeAndCreateAllRowComps();\n    };\n    HeaderContainer.prototype.removeAndCreateAllRowComps = function () {\n        this.removeHeaderRowComps();\n        this.createHeaderRowComps();\n    };\n    // we expose this for gridOptions.api.refreshHeader() to call\n    HeaderContainer.prototype.refresh = function () {\n        this.removeAndCreateAllRowComps();\n    };\n    HeaderContainer.prototype.setupDragAndDrop = function (gridComp) {\n        var dropContainer = this.eViewport ? this.eViewport : this.eContainer;\n        var bodyDropTarget = new BodyDropTarget(this.pinned, dropContainer);\n        this.context.wireBean(bodyDropTarget);\n        bodyDropTarget.registerGridComp(gridComp);\n    };\n    HeaderContainer.prototype.removeHeaderRowComps = function () {\n        this.headerRowComps.forEach(function (headerRowComp) { return headerRowComp.destroy(); });\n        this.headerRowComps.length = 0;\n        clearElement(this.eContainer);\n    };\n    HeaderContainer.prototype.createHeaderRowComps = function () {\n        // if we are displaying header groups, then we have many rows here.\n        // go through each row of the header, one by one.\n        var rowCount = this.columnController.getHeaderRowCount();\n        for (var dept = 0; dept < rowCount; dept++) {\n            var groupRow = dept !== (rowCount - 1);\n            var type = groupRow ? HeaderRowType.COLUMN_GROUP : HeaderRowType.COLUMN;\n            var headerRowComp = new HeaderRowComp(dept, type, this.pinned, this.dropTarget);\n            this.context.wireBean(headerRowComp);\n            this.headerRowComps.push(headerRowComp);\n            headerRowComp.getGui().setAttribute('aria-rowindex', this.headerRowComps.length.toString());\n            this.eContainer.appendChild(headerRowComp.getGui());\n        }\n        if (!this.columnController.isPivotMode() && this.columnController.hasFloatingFilters()) {\n            var headerRowComp = new HeaderRowComp(rowCount, HeaderRowType.FLOATING_FILTER, this.pinned, this.dropTarget);\n            this.context.wireBean(headerRowComp);\n            this.headerRowComps.push(headerRowComp);\n            headerRowComp.getGui().setAttribute('aria-rowindex', this.headerRowComps.length.toString());\n            this.eContainer.appendChild(headerRowComp.getGui());\n        }\n    };\n    __decorate$S([\n        Autowired('gridOptionsWrapper')\n    ], HeaderContainer.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$S([\n        Autowired('context')\n    ], HeaderContainer.prototype, \"context\", void 0);\n    __decorate$S([\n        Autowired('columnController')\n    ], HeaderContainer.prototype, \"columnController\", void 0);\n    __decorate$S([\n        Autowired('eventService')\n    ], HeaderContainer.prototype, \"eventService\", void 0);\n    __decorate$S([\n        Autowired('scrollVisibleService')\n    ], HeaderContainer.prototype, \"scrollVisibleService\", void 0);\n    __decorate$S([\n        PostConstruct\n    ], HeaderContainer.prototype, \"init\", null);\n    __decorate$S([\n        PreDestroy\n    ], HeaderContainer.prototype, \"destroy\", null);\n    return HeaderContainer;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$M = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$T = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar HeaderRootComp = /** @class */ (function (_super) {\n    __extends$M(HeaderRootComp, _super);\n    function HeaderRootComp() {\n        return _super.call(this, HeaderRootComp.TEMPLATE) || this;\n    }\n    HeaderRootComp.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n        this.childContainers.forEach(function (c) { return c.registerGridComp(gridPanel); });\n    };\n    HeaderRootComp.prototype.postConstruct = function () {\n        var _this = this;\n        this.printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        this.gridApi.registerHeaderRootComp(this);\n        this.autoWidthCalculator.registerHeaderRootComp(this);\n        var centerContainer = new HeaderContainer(this.eHeaderContainer, this.eHeaderViewport, null);\n        var pinnedLeftContainer = new HeaderContainer(this.ePinnedLeftHeader, null, Constants.PINNED_LEFT);\n        var pinnedRightContainer = new HeaderContainer(this.ePinnedRightHeader, null, Constants.PINNED_RIGHT);\n        this.childContainers = [centerContainer, pinnedLeftContainer, pinnedRightContainer];\n        this.childContainers.forEach(function (container) { return _this.getContext().wireBean(container); });\n        // shotgun way to get labels to change, eg from sum(amount) to avg(amount)\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_COLUMN_VALUE_CHANGED, this.refreshHeader.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_DOM_LAYOUT, this.onDomLayoutChanged.bind(this));\n        // for setting ag-pivot-on / ag-pivot-off CSS classes\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_COLUMN_PIVOT_MODE_CHANGED, this.onPivotModeChanged.bind(this));\n        this.onPivotModeChanged();\n        this.addPreventHeaderScroll();\n        if (this.columnController.isReady()) {\n            this.refreshHeader();\n        }\n    };\n    HeaderRootComp.prototype.onDomLayoutChanged = function () {\n        var newValue = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        if (this.printLayout !== newValue) {\n            this.printLayout = newValue;\n            this.refreshHeader();\n        }\n    };\n    HeaderRootComp.prototype.setHorizontalScroll = function (offset) {\n        this.eHeaderContainer.style.transform = \"translateX(\" + offset + \"px)\";\n    };\n    HeaderRootComp.prototype.forEachHeaderElement = function (callback) {\n        this.childContainers.forEach(function (childContainer) { return childContainer.forEachHeaderElement(callback); });\n    };\n    HeaderRootComp.prototype.destroy = function () {\n        this.childContainers.forEach(function (container) { return container.destroy(); });\n        _super.prototype.destroy.call(this);\n    };\n    HeaderRootComp.prototype.refreshHeader = function () {\n        this.childContainers.forEach(function (container) { return container.refresh(); });\n    };\n    HeaderRootComp.prototype.onPivotModeChanged = function () {\n        var pivotMode = this.columnController.isPivotMode();\n        addOrRemoveCssClass(this.getGui(), 'ag-pivot-on', pivotMode);\n        addOrRemoveCssClass(this.getGui(), 'ag-pivot-off', !pivotMode);\n    };\n    HeaderRootComp.prototype.setHeight = function (height) {\n        // one extra pixel is needed here to account for the\n        // height of the border\n        var px = height + 1 + \"px\";\n        this.getGui().style.height = px;\n        this.getGui().style.minHeight = px;\n    };\n    // if the user is in floating filter and hits tab a few times, the header can\n    // end up scrolling to show items off the screen, leaving the grid and header\n    // and the grid columns no longer in sync.\n    HeaderRootComp.prototype.addPreventHeaderScroll = function () {\n        var _this = this;\n        this.addDestroyableEventListener(this.eHeaderViewport, 'scroll', function () {\n            // if the header scrolls, the header will be out of sync. so we reset the\n            // header scroll, and then scroll the body, which will in turn set the offset\n            // on the header, giving the impression that the header scrolled as expected.\n            var scrollLeft = _this.eHeaderViewport.scrollLeft;\n            if (scrollLeft !== 0) {\n                _this.gridPanel.scrollHorizontally(scrollLeft);\n                _this.eHeaderViewport.scrollLeft = 0;\n            }\n        });\n    };\n    HeaderRootComp.prototype.setHeaderContainerWidth = function (width) {\n        this.eHeaderContainer.style.width = width + \"px\";\n    };\n    HeaderRootComp.prototype.setLeftVisible = function (visible) {\n        setDisplayed(this.ePinnedLeftHeader, visible);\n    };\n    HeaderRootComp.prototype.setRightVisible = function (visible) {\n        setDisplayed(this.ePinnedRightHeader, visible);\n    };\n    HeaderRootComp.prototype.getHeaderRowCount = function () {\n        return this.childContainers.length === 0 ? 0 : this.childContainers[0].getRowComps().length;\n    };\n    HeaderRootComp.TEMPLATE = \"\\n        <div class=\\\"ag-header\\\" role=\\\"presentation\\\">\\n            <div class=\\\"ag-pinned-left-header\\\" ref=\\\"ePinnedLeftHeader\\\" role=\\\"presentation\\\"></div>\\n            <div class=\\\"ag-header-viewport\\\" ref=\\\"eHeaderViewport\\\" role=\\\"presentation\\\">\\n                <div class=\\\"ag-header-container\\\" ref=\\\"eHeaderContainer\\\" role=\\\"rowgroup\\\"></div>\\n            </div>\\n            <div class=\\\"ag-pinned-right-header\\\" ref=\\\"ePinnedRightHeader\\\" role=\\\"presentation\\\"></div>\\n        </div>\";\n    __decorate$T([\n        RefSelector('ePinnedLeftHeader')\n    ], HeaderRootComp.prototype, \"ePinnedLeftHeader\", void 0);\n    __decorate$T([\n        RefSelector('ePinnedRightHeader')\n    ], HeaderRootComp.prototype, \"ePinnedRightHeader\", void 0);\n    __decorate$T([\n        RefSelector('eHeaderContainer')\n    ], HeaderRootComp.prototype, \"eHeaderContainer\", void 0);\n    __decorate$T([\n        RefSelector('eHeaderViewport')\n    ], HeaderRootComp.prototype, \"eHeaderViewport\", void 0);\n    __decorate$T([\n        Autowired('gridOptionsWrapper')\n    ], HeaderRootComp.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$T([\n        Autowired('columnController')\n    ], HeaderRootComp.prototype, \"columnController\", void 0);\n    __decorate$T([\n        Autowired('eventService')\n    ], HeaderRootComp.prototype, \"eventService\", void 0);\n    __decorate$T([\n        Autowired('gridApi')\n    ], HeaderRootComp.prototype, \"gridApi\", void 0);\n    __decorate$T([\n        Autowired('autoWidthCalculator')\n    ], HeaderRootComp.prototype, \"autoWidthCalculator\", void 0);\n    __decorate$T([\n        PostConstruct\n    ], HeaderRootComp.prototype, \"postConstruct\", null);\n    return HeaderRootComp;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$U = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar FilterManager = /** @class */ (function () {\n    function FilterManager() {\n        this.allFilters = new Map();\n        this.quickFilter = null;\n        this.quickFilterParts = null;\n        // this is true when the grid is processing the filter change. this is used by the cell comps, so that they\n        // don't flash when data changes due to filter changes. there is no need to flash when filter changes as the\n        // user is in control, so doesn't make sense to show flashing changes. for example, go to main demo where\n        // this feature is turned off (hack code to always return false for isSuppressFlashingCellsBecauseFiltering(), put in)\n        // 100,000 rows and group by country. then do some filtering. all the cells flash, which is silly.\n        this.processingFilterChange = false;\n        this.eventListenerDestroyers = [];\n    }\n    FilterManager_1 = FilterManager;\n    FilterManager.prototype.init = function () {\n        this.eventListenerDestroyers = [\n            this.eventService.addEventListener(Events.EVENT_ROW_DATA_CHANGED, this.onNewRowsLoaded.bind(this)),\n            this.eventService.addEventListener(Events.EVENT_NEW_COLUMNS_LOADED, this.onNewColumnsLoaded.bind(this))\n        ];\n        this.quickFilter = this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText());\n        this.setQuickFilterParts();\n        this.allowShowChangeAfterFilter = this.gridOptionsWrapper.isAllowShowChangeAfterFilter();\n        // check this here, in case there is a filter from the start\n        this.checkExternalFilter();\n    };\n    FilterManager.prototype.setQuickFilterParts = function () {\n        this.quickFilterParts = this.quickFilter ? this.quickFilter.split(' ') : null;\n    };\n    FilterManager.prototype.setFilterModel = function (model) {\n        var _this = this;\n        var allPromises = [];\n        if (model) {\n            // mark the filters as we set them, so any active filters left over we stop\n            var modelKeys_1 = _.convertToSet(Object.keys(model));\n            this.allFilters.forEach(function (filterWrapper, colId) {\n                var newModel = model[colId];\n                _this.setModelOnFilterWrapper(filterWrapper.filterPromise, newModel);\n                allPromises.push(filterWrapper.filterPromise);\n                modelKeys_1.delete(colId);\n            });\n            // at this point, processedFields contains data for which we don't have a filter working yet\n            modelKeys_1.forEach(function (colId) {\n                var column = _this.columnController.getPrimaryColumn(colId);\n                if (!column) {\n                    console.warn('Warning ag-grid setFilterModel - no column found for colId ' + colId);\n                    return;\n                }\n                var filterWrapper = _this.getOrCreateFilterWrapper(column, 'NO_UI');\n                _this.setModelOnFilterWrapper(filterWrapper.filterPromise, model[colId]);\n                allPromises.push(filterWrapper.filterPromise);\n            });\n        }\n        else {\n            this.allFilters.forEach(function (filterWrapper) {\n                _this.setModelOnFilterWrapper(filterWrapper.filterPromise, null);\n                allPromises.push(filterWrapper.filterPromise);\n            });\n        }\n        Promise.all(allPromises).then(function (_) { return _this.onFilterChanged(); });\n    };\n    FilterManager.prototype.setModelOnFilterWrapper = function (filterPromise, newModel) {\n        filterPromise.then(function (filter) {\n            if (typeof filter.setModel !== 'function') {\n                console.warn('Warning ag-grid - filter missing setModel method, which is needed for setFilterModel');\n                return;\n            }\n            filter.setModel(newModel);\n        });\n    };\n    FilterManager.prototype.getFilterModel = function () {\n        var result = {};\n        this.allFilters.forEach(function (filterWrapper, key) {\n            // because user can provide filters, we provide useful error checking and messages\n            var filterPromise = filterWrapper.filterPromise;\n            var filter = filterPromise.resolveNow(null, function (filter) { return filter; });\n            if (filter == null) {\n                return null;\n            }\n            if (typeof filter.getModel !== 'function') {\n                console.warn('Warning ag-grid - filter API missing getModel method, which is needed for getFilterModel');\n                return;\n            }\n            var model = filter.getModel();\n            if (_.exists(model)) {\n                result[key] = model;\n            }\n        });\n        return result;\n    };\n    // returns true if any advanced filter (ie not quick filter) active\n    FilterManager.prototype.isAdvancedFilterPresent = function () {\n        return this.advancedFilterPresent;\n    };\n    // called by:\n    // 1) onFilterChanged()\n    // 2) onNewRowsLoaded()\n    FilterManager.prototype.setAdvancedFilterPresent = function () {\n        var atLeastOneActive = false;\n        this.allFilters.forEach(function (filterWrapper) {\n            if (atLeastOneActive) {\n                return;\n            } // no need to check any more\n            if (filterWrapper.filterPromise.resolveNow(false, function (filter) { return filter.isFilterActive(); })) {\n                atLeastOneActive = true;\n            }\n        });\n        this.advancedFilterPresent = atLeastOneActive;\n    };\n    FilterManager.prototype.updateFilterFlagInColumns = function (source, additionalEventAttributes) {\n        this.allFilters.forEach(function (filterWrapper) {\n            var isFilterActive = filterWrapper.filterPromise.resolveNow(false, function (filter) { return filter.isFilterActive(); });\n            filterWrapper.column.setFilterActive(isFilterActive, source, additionalEventAttributes);\n        });\n    };\n    // returns true if quickFilter or advancedFilter\n    FilterManager.prototype.isAnyFilterPresent = function () {\n        return this.isQuickFilterPresent() || this.advancedFilterPresent || this.externalFilterPresent;\n    };\n    FilterManager.prototype.doesFilterPass = function (node, filterToSkip) {\n        var data = node.data;\n        var filterPasses = true;\n        this.allFilters.forEach(function (filterWrapper) {\n            // if a filter has already failed, no need to run any more\n            if (!filterPasses) {\n                return;\n            }\n            // if no filter, always pass\n            if (filterWrapper == null) {\n                return;\n            }\n            var filter = filterWrapper.filterPromise.resolveNow(undefined, function (filter) { return filter; });\n            if (filter == null || filter === filterToSkip || !filter.isFilterActive()) {\n                return;\n            }\n            if (!filter.doesFilterPass) { // because users can do custom filters, give nice error message\n                throw new Error('Filter is missing method doesFilterPass');\n            }\n            filterPasses = filter.doesFilterPass({ node: node, data: data });\n        });\n        return filterPasses;\n    };\n    FilterManager.prototype.parseQuickFilter = function (newFilter) {\n        if (!_.exists(newFilter)) {\n            return null;\n        }\n        if (!this.gridOptionsWrapper.isRowModelDefault()) {\n            console.warn('ag-grid: quick filtering only works with the Client-Side Row Model');\n            return null;\n        }\n        return newFilter.toUpperCase();\n    };\n    FilterManager.prototype.setQuickFilter = function (newFilter) {\n        var parsedFilter = this.parseQuickFilter(newFilter);\n        if (this.quickFilter !== parsedFilter) {\n            this.quickFilter = parsedFilter;\n            this.setQuickFilterParts();\n            this.onFilterChanged();\n        }\n    };\n    FilterManager.prototype.checkExternalFilter = function () {\n        this.externalFilterPresent = this.gridOptionsWrapper.isExternalFilterPresent();\n    };\n    FilterManager.prototype.onFilterChanged = function (additionalEventAttributes) {\n        this.setAdvancedFilterPresent();\n        this.updateFilterFlagInColumns('filterChanged', additionalEventAttributes);\n        this.checkExternalFilter();\n        this.allFilters.forEach(function (filterWrapper) {\n            filterWrapper.filterPromise.then(function (filter) {\n                if (filter.onAnyFilterChanged) {\n                    filter.onAnyFilterChanged();\n                }\n            });\n        });\n        var filterChangedEvent = {\n            type: Events.EVENT_FILTER_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        if (additionalEventAttributes) {\n            _.mergeDeep(filterChangedEvent, additionalEventAttributes);\n        }\n        // because internal events are not async in ag-grid, when the dispatchEvent\n        // method comes back, we know all listeners have finished executing.\n        this.processingFilterChange = true;\n        this.eventService.dispatchEvent(filterChangedEvent);\n        this.processingFilterChange = false;\n    };\n    FilterManager.prototype.isSuppressFlashingCellsBecauseFiltering = function () {\n        // if user has elected to always flash cell changes, then always return false, otherwise we suppress flashing\n        // changes when filtering\n        return !this.allowShowChangeAfterFilter && this.processingFilterChange;\n    };\n    FilterManager.prototype.isQuickFilterPresent = function () {\n        return this.quickFilter !== null;\n    };\n    FilterManager.prototype.doesRowPassOtherFilters = function (filterToSkip, node) {\n        return this.doesRowPassFilter(node, filterToSkip);\n    };\n    FilterManager.prototype.doesRowPassQuickFilterNoCache = function (node, filterPart) {\n        var _this = this;\n        var columns = this.columnController.getAllColumnsForQuickFilter();\n        return _.some(columns, function (column) {\n            var part = _this.getQuickFilterTextForColumn(column, node);\n            return _.exists(part) && part.indexOf(filterPart) >= 0;\n        });\n    };\n    FilterManager.prototype.doesRowPassQuickFilterCache = function (node, filterPart) {\n        if (!node.quickFilterAggregateText) {\n            this.aggregateRowForQuickFilter(node);\n        }\n        return node.quickFilterAggregateText.indexOf(filterPart) >= 0;\n    };\n    FilterManager.prototype.doesRowPassQuickFilter = function (node) {\n        var _this = this;\n        var usingCache = this.gridOptionsWrapper.isCacheQuickFilter();\n        // each part must pass, if any fails, then the whole filter fails\n        return _.every(this.quickFilterParts, function (part) {\n            return usingCache ? _this.doesRowPassQuickFilterCache(node, part) : _this.doesRowPassQuickFilterNoCache(node, part);\n        });\n    };\n    FilterManager.prototype.doesRowPassFilter = function (node, filterToSkip) {\n        // the row must pass ALL of the filters, so if any of them fail,\n        // we return true. that means if a row passes the quick filter,\n        // but fails the column filter, it fails overall\n        // first up, check quick filter\n        if (this.isQuickFilterPresent() && !this.doesRowPassQuickFilter(node)) {\n            return false;\n        }\n        // secondly, give the client a chance to reject this row\n        if (this.externalFilterPresent && !this.gridOptionsWrapper.doesExternalFilterPass(node)) {\n            return false;\n        }\n        // lastly, check our internal advanced filter\n        if (this.advancedFilterPresent && !this.doesFilterPass(node, filterToSkip)) {\n            return false;\n        }\n        // got this far, all filters pass\n        return true;\n    };\n    FilterManager.prototype.getQuickFilterTextForColumn = function (column, node) {\n        var value = this.valueService.getValue(column, node, true);\n        var colDef = column.getColDef();\n        if (colDef.getQuickFilterText) {\n            var params = {\n                value: value,\n                node: node,\n                data: node.data,\n                column: column,\n                colDef: colDef,\n                context: this.gridOptionsWrapper.getContext()\n            };\n            value = colDef.getQuickFilterText(params);\n        }\n        return _.exists(value) ? value.toString().toUpperCase() : null;\n    };\n    FilterManager.prototype.aggregateRowForQuickFilter = function (node) {\n        var _this = this;\n        var stringParts = [];\n        var columns = this.columnController.getAllColumnsForQuickFilter();\n        forEach(columns, function (column) {\n            var part = _this.getQuickFilterTextForColumn(column, node);\n            if (_.exists(part)) {\n                stringParts.push(part);\n            }\n        });\n        node.quickFilterAggregateText = stringParts.join(FilterManager_1.QUICK_FILTER_SEPARATOR);\n    };\n    FilterManager.prototype.onNewRowsLoaded = function (source) {\n        this.allFilters.forEach(function (filterWrapper) {\n            filterWrapper.filterPromise.then(function (filter) {\n                if (filter.onNewRowsLoaded) {\n                    filter.onNewRowsLoaded();\n                }\n            });\n        });\n        this.updateFilterFlagInColumns(source);\n        this.setAdvancedFilterPresent();\n    };\n    FilterManager.prototype.createValueGetter = function (column) {\n        var _this = this;\n        return function (node) { return _this.valueService.getValue(column, node, true); };\n    };\n    FilterManager.prototype.getFilterComponent = function (column, source) {\n        return this.getOrCreateFilterWrapper(column, source).filterPromise;\n    };\n    FilterManager.prototype.isFilterActive = function (column) {\n        var filterWrapper = this.cachedFilter(column);\n        return filterWrapper && filterWrapper.filterPromise.resolveNow(false, function (filter) { return filter.isFilterActive(); });\n    };\n    FilterManager.prototype.getOrCreateFilterWrapper = function (column, source) {\n        var filterWrapper = this.cachedFilter(column);\n        if (!filterWrapper) {\n            filterWrapper = this.createFilterWrapper(column, source);\n            this.allFilters.set(column.getColId(), filterWrapper);\n        }\n        else if (source !== 'NO_UI') {\n            this.putIntoGui(filterWrapper, source);\n        }\n        return filterWrapper;\n    };\n    FilterManager.prototype.cachedFilter = function (column) {\n        return this.allFilters.get(column.getColId());\n    };\n    FilterManager.prototype.createFilterInstance = function (column, $scope) {\n        var _this = this;\n        var defaultFilter = ModuleRegistry.isRegistered(exports.ModuleNames.SetFilterModule) ? 'agSetColumnFilter' : 'agTextColumnFilter';\n        var sanitisedColDef = _.cloneObject(column.getColDef());\n        var filterInstance;\n        var params = this.createFilterParams(column, sanitisedColDef, $scope);\n        params.filterChangedCallback = this.onFilterChanged.bind(this);\n        params.filterModifiedCallback = function () {\n            var event = {\n                type: Events.EVENT_FILTER_MODIFIED,\n                api: _this.gridApi,\n                columnApi: _this.columnApi,\n                column: column,\n                filterInstance: filterInstance\n            };\n            _this.eventService.dispatchEvent(event);\n        };\n        // we modify params in a callback as we need the filter instance, and this isn't available\n        // when creating the params above\n        var modifyParamsCallback = function (params, filterInstance) { return _.assign(params, {\n            doesRowPassOtherFilter: _this.doesRowPassOtherFilters.bind(_this, filterInstance),\n        }); };\n        var res = this.userComponentFactory.newFilterComponent(sanitisedColDef, params, defaultFilter, modifyParamsCallback);\n        if (res) {\n            res.then(function (r) { return filterInstance = r; });\n        }\n        return res;\n    };\n    FilterManager.prototype.createFilterParams = function (column, colDef, $scope) {\n        if ($scope === void 0) { $scope = null; }\n        var params = {\n            api: this.gridOptionsWrapper.getApi(),\n            column: column,\n            colDef: colDef,\n            rowModel: this.rowModel,\n            filterChangedCallback: null,\n            filterModifiedCallback: null,\n            valueGetter: this.createValueGetter(column),\n            context: this.gridOptionsWrapper.getContext(),\n            doesRowPassOtherFilter: null\n        };\n        // hack in scope if using AngularJS\n        if ($scope) {\n            params.$scope = $scope;\n        }\n        return params;\n    };\n    FilterManager.prototype.createFilterWrapper = function (column, source) {\n        var filterWrapper = {\n            column: column,\n            filterPromise: null,\n            scope: null,\n            compiledElement: null,\n            guiPromise: Promise.resolve(null)\n        };\n        filterWrapper.scope = this.gridOptionsWrapper.isAngularCompileFilters() ? this.$scope.$new() : null;\n        filterWrapper.filterPromise = this.createFilterInstance(column, filterWrapper.scope);\n        if (filterWrapper.filterPromise) {\n            this.putIntoGui(filterWrapper, source);\n        }\n        return filterWrapper;\n    };\n    FilterManager.prototype.putIntoGui = function (filterWrapper, source) {\n        var _this = this;\n        var eFilterGui = document.createElement('div');\n        eFilterGui.className = 'ag-filter';\n        filterWrapper.guiPromise = new Promise(function (resolve) {\n            filterWrapper.filterPromise.then(function (filter) {\n                var guiFromFilter = filter.getGui();\n                if (_.missing(guiFromFilter)) {\n                    console.warn(\"getGui method from filter returned \" + guiFromFilter + \", it should be a DOM element or an HTML template string.\");\n                }\n                // for backwards compatibility with Angular 1 - we\n                // used to allow providing back HTML from getGui().\n                // once we move away from supporting Angular 1\n                // directly, we can change this.\n                if (typeof guiFromFilter === 'string') {\n                    guiFromFilter = _.loadTemplate(guiFromFilter);\n                }\n                eFilterGui.appendChild(guiFromFilter);\n                if (filterWrapper.scope) {\n                    var compiledElement = _this.$compile(eFilterGui)(filterWrapper.scope);\n                    filterWrapper.compiledElement = compiledElement;\n                    window.setTimeout(function () { return filterWrapper.scope.$apply(); }, 0);\n                }\n                resolve(eFilterGui);\n                _this.eventService.dispatchEvent({\n                    type: Events.EVENT_FILTER_OPENED,\n                    column: filterWrapper.column,\n                    source: source,\n                    eGui: eFilterGui,\n                    api: _this.gridApi,\n                    columnApi: _this.columnApi\n                });\n            });\n        });\n    };\n    FilterManager.prototype.onNewColumnsLoaded = function () {\n        var _this = this;\n        var atLeastOneFilterGone = false;\n        this.allFilters.forEach(function (filterWrapper) {\n            var oldColumn = !_this.columnController.getPrimaryColumn(filterWrapper.column);\n            if (oldColumn) {\n                atLeastOneFilterGone = true;\n                _this.disposeFilterWrapper(filterWrapper, 'filterDestroyed');\n            }\n        });\n        if (atLeastOneFilterGone) {\n            this.onFilterChanged();\n        }\n    };\n    // destroys the filter, so it not longer takes part\n    FilterManager.prototype.destroyFilter = function (column, source) {\n        if (source === void 0) { source = 'api'; }\n        var filterWrapper = this.allFilters.get(column.getColId());\n        if (filterWrapper) {\n            this.disposeFilterWrapper(filterWrapper, source);\n            this.onFilterChanged();\n        }\n    };\n    FilterManager.prototype.disposeFilterWrapper = function (filterWrapper, source) {\n        var _this = this;\n        filterWrapper.filterPromise.then(function (filter) {\n            filter.setModel(null);\n            if (filter.destroy) {\n                filter.destroy();\n            }\n            filterWrapper.column.setFilterActive(false, source);\n            if (filterWrapper.scope) {\n                if (filterWrapper.compiledElement) {\n                    filterWrapper.compiledElement.remove();\n                }\n                filterWrapper.scope.$destroy();\n            }\n            _this.allFilters.delete(filterWrapper.column.getColId());\n        });\n    };\n    FilterManager.prototype.destroy = function () {\n        var _this = this;\n        this.allFilters.forEach(function (filterWrapper) { return _this.disposeFilterWrapper(filterWrapper, 'filterDestroyed'); });\n        if (this.eventListenerDestroyers.length) {\n            this.eventListenerDestroyers.forEach(function (func) { return func(); });\n            this.eventListenerDestroyers.length = 0;\n        }\n    };\n    var FilterManager_1;\n    FilterManager.QUICK_FILTER_SEPARATOR = '\\n';\n    __decorate$U([\n        Autowired('$compile')\n    ], FilterManager.prototype, \"$compile\", void 0);\n    __decorate$U([\n        Autowired('$scope')\n    ], FilterManager.prototype, \"$scope\", void 0);\n    __decorate$U([\n        Autowired('gridOptionsWrapper')\n    ], FilterManager.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$U([\n        Autowired('valueService')\n    ], FilterManager.prototype, \"valueService\", void 0);\n    __decorate$U([\n        Autowired('columnController')\n    ], FilterManager.prototype, \"columnController\", void 0);\n    __decorate$U([\n        Autowired('rowModel')\n    ], FilterManager.prototype, \"rowModel\", void 0);\n    __decorate$U([\n        Autowired('eventService')\n    ], FilterManager.prototype, \"eventService\", void 0);\n    __decorate$U([\n        Autowired('columnApi')\n    ], FilterManager.prototype, \"columnApi\", void 0);\n    __decorate$U([\n        Autowired('gridApi')\n    ], FilterManager.prototype, \"gridApi\", void 0);\n    __decorate$U([\n        Autowired('userComponentFactory')\n    ], FilterManager.prototype, \"userComponentFactory\", void 0);\n    __decorate$U([\n        PostConstruct\n    ], FilterManager.prototype, \"init\", null);\n    __decorate$U([\n        PreDestroy\n    ], FilterManager.prototype, \"destroy\", null);\n    FilterManager = FilterManager_1 = __decorate$U([\n        Bean('filterManager')\n    ], FilterManager);\n    return FilterManager;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$V = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ValueService = /** @class */ (function () {\n    function ValueService() {\n        this.initialised = false;\n    }\n    ValueService.prototype.init = function () {\n        this.cellExpressions = this.gridOptionsWrapper.isEnableCellExpressions();\n        this.initialised = true;\n    };\n    ValueService.prototype.getValue = function (column, rowNode, forFilter, ignoreAggData) {\n        if (forFilter === void 0) { forFilter = false; }\n        if (ignoreAggData === void 0) { ignoreAggData = false; }\n        // hack - the grid is getting refreshed before this bean gets initialised, race condition.\n        // really should have a way so they get initialised in the right order???\n        if (!this.initialised) {\n            this.init();\n        }\n        if (!rowNode) {\n            return;\n        }\n        // pull these out to make code below easier to read\n        var colDef = column.getColDef();\n        var field = colDef.field;\n        var colId = column.getId();\n        var data = rowNode.data;\n        var result;\n        // if there is a value getter, this gets precedence over a field\n        var groupDataExists = rowNode.groupData && rowNode.groupData[colId] !== undefined;\n        var aggDataExists = !ignoreAggData && rowNode.aggData && rowNode.aggData[colId] !== undefined;\n        if (forFilter && colDef.filterValueGetter) {\n            result = this.executeFilterValueGetter(colDef.filterValueGetter, data, column, rowNode);\n        }\n        else if (this.gridOptionsWrapper.isTreeData() && aggDataExists) {\n            result = rowNode.aggData[colId];\n        }\n        else if (this.gridOptionsWrapper.isTreeData() && colDef.valueGetter) {\n            result = this.executeValueGetter(colDef.valueGetter, data, column, rowNode);\n        }\n        else if (this.gridOptionsWrapper.isTreeData() && (field && data)) {\n            result = _.getValueUsingField(data, field, column.isFieldContainsDots());\n        }\n        else if (groupDataExists) {\n            result = rowNode.groupData[colId];\n        }\n        else if (aggDataExists) {\n            result = rowNode.aggData[colId];\n        }\n        else if (colDef.valueGetter) {\n            result = this.executeValueGetter(colDef.valueGetter, data, column, rowNode);\n        }\n        else if (field && data) {\n            result = _.getValueUsingField(data, field, column.isFieldContainsDots());\n        }\n        // the result could be an expression itself, if we are allowing cell values to be expressions\n        if (this.cellExpressions && (typeof result === 'string') && result.indexOf('=') === 0) {\n            var cellValueGetter = result.substring(1);\n            result = this.executeValueGetter(cellValueGetter, data, column, rowNode);\n        }\n        return result;\n    };\n    ValueService.prototype.setValue = function (rowNode, colKey, newValue, eventSource) {\n        var column = this.columnController.getPrimaryColumn(colKey);\n        if (!rowNode || !column) {\n            return;\n        }\n        // this will only happen if user is trying to paste into a group row, which doesn't make sense\n        // the user should not be trying to paste into group rows\n        if (_.missing(rowNode.data)) {\n            rowNode.data = {};\n        }\n        // for backwards compatibility we are also retrieving the newValueHandler as well as the valueSetter\n        var _a = column.getColDef(), field = _a.field, newValueHandler = _a.newValueHandler, valueSetter = _a.valueSetter;\n        // need either a field or a newValueHandler for this to work\n        if (_.missing(field) && _.missing(newValueHandler) && _.missing(valueSetter)) {\n            // we don't tell user about newValueHandler, as that is deprecated\n            console.warn(\"ag-Grid: you need either field or valueSetter set on colDef for editing to work\");\n            return;\n        }\n        var params = {\n            node: rowNode,\n            data: rowNode.data,\n            oldValue: this.getValue(column, rowNode),\n            newValue: newValue,\n            colDef: column.getColDef(),\n            column: column,\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            context: this.gridOptionsWrapper.getContext()\n        };\n        params.newValue = newValue;\n        var valueWasDifferent;\n        if (newValueHandler && _.exists(newValueHandler)) {\n            valueWasDifferent = newValueHandler(params);\n        }\n        else if (_.exists(valueSetter)) {\n            valueWasDifferent = this.expressionService.evaluate(valueSetter, params);\n        }\n        else {\n            valueWasDifferent = this.setValueUsingField(rowNode.data, field, newValue, column.isFieldContainsDots());\n        }\n        // in case user forgot to return something (possible if they are not using TypeScript\n        // and just forgot, or using an old newValueHandler we didn't always expect a return\n        // value here), we default the return value to true, so we always refresh.\n        if (valueWasDifferent === undefined) {\n            valueWasDifferent = true;\n        }\n        // if no change to the value, then no need to do the updating, or notifying via events.\n        // otherwise the user could be tabbing around the grid, and cellValueChange would get called\n        // all the time.\n        if (!valueWasDifferent) {\n            return;\n        }\n        // reset quick filter on this row\n        rowNode.resetQuickFilterAggregateText();\n        this.valueCache.onDataChanged();\n        params.newValue = this.getValue(column, rowNode);\n        var onCellValueChanged = column.getColDef().onCellValueChanged;\n        if (typeof onCellValueChanged === 'function') {\n            // to make callback async, do in a timeout\n            setTimeout(function () { return onCellValueChanged(params); }, 0);\n        }\n        var event = {\n            type: Events.EVENT_CELL_VALUE_CHANGED,\n            event: null,\n            rowIndex: rowNode.rowIndex,\n            rowPinned: rowNode.rowPinned,\n            column: params.column,\n            api: params.api,\n            colDef: params.colDef,\n            columnApi: params.columnApi,\n            context: params.context,\n            data: rowNode.data,\n            node: rowNode,\n            oldValue: params.oldValue,\n            newValue: params.newValue,\n            value: params.newValue,\n            source: eventSource\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ValueService.prototype.setValueUsingField = function (data, field, newValue, isFieldContainsDots) {\n        if (!field) {\n            return false;\n        }\n        // if no '.', then it's not a deep value\n        var valuesAreSame = false;\n        if (!isFieldContainsDots) {\n            data[field] = newValue;\n        }\n        else {\n            // otherwise it is a deep value, so need to dig for it\n            var fieldPieces = field.split('.');\n            var currentObject = data;\n            while (fieldPieces.length > 0 && currentObject) {\n                var fieldPiece = fieldPieces.shift();\n                if (fieldPieces.length === 0) {\n                    currentObject[fieldPiece] = newValue;\n                }\n                else {\n                    currentObject = currentObject[fieldPiece];\n                }\n            }\n        }\n        return !valuesAreSame;\n    };\n    ValueService.prototype.executeFilterValueGetter = function (valueGetter, data, column, rowNode) {\n        var params = {\n            data: data,\n            node: rowNode,\n            column: column,\n            colDef: column.getColDef(),\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            context: this.gridOptionsWrapper.getContext(),\n            getValue: this.getValueCallback.bind(this, rowNode)\n        };\n        return this.expressionService.evaluate(valueGetter, params);\n    };\n    ValueService.prototype.executeValueGetter = function (valueGetter, data, column, rowNode) {\n        var colId = column.getId();\n        // if inside the same turn, just return back the value we got last time\n        var valueFromCache = this.valueCache.getValue(rowNode, colId);\n        if (valueFromCache !== undefined) {\n            return valueFromCache;\n        }\n        var params = {\n            data: data,\n            node: rowNode,\n            column: column,\n            colDef: column.getColDef(),\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            context: this.gridOptionsWrapper.getContext(),\n            getValue: this.getValueCallback.bind(this, rowNode)\n        };\n        var result = this.expressionService.evaluate(valueGetter, params);\n        // if a turn is active, store the value in case the grid asks for it again\n        this.valueCache.setValue(rowNode, colId, result);\n        return result;\n    };\n    ValueService.prototype.getValueCallback = function (node, field) {\n        var otherColumn = this.columnController.getPrimaryColumn(field);\n        if (otherColumn) {\n            return this.getValue(otherColumn, node);\n        }\n        return null;\n    };\n    // used by row grouping and pivot, to get key for a row. col can be a pivot col or a row grouping col\n    ValueService.prototype.getKeyForNode = function (col, rowNode) {\n        var value = this.getValue(col, rowNode);\n        var keyCreator = col.getColDef().keyCreator;\n        var result = keyCreator ? keyCreator({ value: value }) : value;\n        // if already a string, or missing, just return it\n        if (typeof result === 'string' || result == null) {\n            return result;\n        }\n        result = String(result);\n        if (result === '[object Object]') {\n            _.doOnce(function () {\n                console.warn('ag-Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se ag-Grid docs) or b) to toString() on the object to return a key');\n            }, 'getKeyForNode - warn about [object,object]');\n        }\n        return result;\n    };\n    __decorate$V([\n        Autowired('gridOptionsWrapper')\n    ], ValueService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$V([\n        Autowired('expressionService')\n    ], ValueService.prototype, \"expressionService\", void 0);\n    __decorate$V([\n        Autowired('columnController')\n    ], ValueService.prototype, \"columnController\", void 0);\n    __decorate$V([\n        Autowired('eventService')\n    ], ValueService.prototype, \"eventService\", void 0);\n    __decorate$V([\n        Autowired('valueCache')\n    ], ValueService.prototype, \"valueCache\", void 0);\n    __decorate$V([\n        PostConstruct\n    ], ValueService.prototype, \"init\", null);\n    ValueService = __decorate$V([\n        Bean('valueService')\n    ], ValueService);\n    return ValueService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$W = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * There are many instances of this component covering each of the areas a row can be entered\n * eg body, pinned left, fullWidth. The component differs from others in that it's given the\n * elements, there is no template. All of the elements are part of the GridPanel.\n */\nvar RowContainerComponent = /** @class */ (function () {\n    function RowContainerComponent(params) {\n        this.childCount = 0;\n        this.rowTemplatesToAdd = [];\n        this.afterGuiAttachedCallbacks = [];\n        // this is to cater for a 'strange behaviour' where when a panel is made visible, it is firing a scroll\n        // event which we want to ignore. see gridPanel.onAnyBodyScroll()\n        this.lastMadeVisibleTime = 0;\n        this.eContainer = params.eContainer;\n        this.eViewport = params.eViewport;\n        if (params.eWrapper) {\n            this.eWrapper = params.eWrapper;\n        }\n        this.hideWhenNoChildren = params.hideWhenNoChildren;\n    }\n    RowContainerComponent.prototype.setVerticalScrollPosition = function (verticalScrollPosition) {\n        this.scrollTop = verticalScrollPosition;\n    };\n    RowContainerComponent.prototype.postConstruct = function () {\n        this.checkDomOrder();\n        this.checkVisibility();\n        this.gridOptionsWrapper.addEventListener(GridOptionsWrapper.PROP_DOM_LAYOUT, this.checkDomOrder.bind(this));\n    };\n    RowContainerComponent.prototype.checkDomOrder = function () {\n        this.domOrder = this.gridOptionsWrapper.isEnsureDomOrder();\n    };\n    RowContainerComponent.prototype.getRowElement = function (compId) {\n        return this.eContainer.querySelector(\"[comp-id=\\\"\" + compId + \"\\\"]\");\n    };\n    RowContainerComponent.prototype.setHeight = function (height) {\n        if (height == null) {\n            this.eContainer.style.height = '';\n            return;\n        }\n        this.eContainer.style.height = height + \"px\";\n        if (this.eWrapper) {\n            this.eWrapper.style.height = height + \"px\";\n        }\n    };\n    RowContainerComponent.prototype.flushRowTemplates = function () {\n        // if doing dom order, then rowTemplates will be empty,\n        // or if no rows added since last time also empty.\n        if (this.rowTemplatesToAdd.length !== 0) {\n            var htmlToAdd = this.rowTemplatesToAdd.join('');\n            _.appendHtml(this.eContainer, htmlToAdd);\n            this.rowTemplatesToAdd.length = 0;\n        }\n        // this only empty if no rows since last time, as when\n        // doing dom order, we still have callbacks to process\n        this.afterGuiAttachedCallbacks.forEach(function (func) { return func(); });\n        this.afterGuiAttachedCallbacks.length = 0;\n        this.lastPlacedElement = null;\n    };\n    RowContainerComponent.prototype.appendRowTemplate = function (rowTemplate, callback) {\n        if (this.domOrder) {\n            this.lastPlacedElement = _.insertTemplateWithDomOrder(this.eContainer, rowTemplate, this.lastPlacedElement);\n        }\n        else {\n            this.rowTemplatesToAdd.push(rowTemplate);\n        }\n        this.afterGuiAttachedCallbacks.push(callback);\n        // it is important we put items in in order, so that when we open a row group,\n        // the new rows are inserted after the opened group, but before the rows below.\n        // that way, the rows below are over the new rows (as dom renders last in dom over\n        // items previous in dom), otherwise the child rows would cover the row below and\n        // that meant the user doesn't see the rows below slide away.\n        this.childCount++;\n        this.checkVisibility();\n    };\n    RowContainerComponent.prototype.ensureDomOrder = function (eRow) {\n        if (this.domOrder) {\n            _.ensureDomOrder(this.eContainer, eRow, this.lastPlacedElement);\n            this.lastPlacedElement = eRow;\n        }\n    };\n    RowContainerComponent.prototype.removeRowElement = function (eRow) {\n        this.eContainer.removeChild(eRow);\n        this.childCount--;\n        this.checkVisibility();\n    };\n    RowContainerComponent.prototype.checkVisibility = function () {\n        if (!this.hideWhenNoChildren) {\n            return;\n        }\n        var eGui = this.eViewport ? this.eViewport : this.eContainer;\n        var visible = this.childCount > 0;\n        if (this.visible !== visible) {\n            this.visible = visible;\n            this.lastMadeVisibleTime = new Date().getTime();\n            _.setDisplayed(eGui, visible);\n            // if we are showing the viewport, then the scroll is always zero,\n            // so we need to align with the other sections (ie if this is full\n            // width container, and first time showing a full width row, we need to\n            // scroll it so full width rows are show in right place alongside the\n            // body rows). without this, there was an issue with 'loading rows' for\n            // server side row model, as loading rows are full width, and they were\n            // not getting displayed in the right location when rows were expanded.\n            if (visible && this.eViewport) {\n                this.eViewport.scrollTop = this.scrollTop;\n            }\n        }\n    };\n    RowContainerComponent.prototype.isMadeVisibleRecently = function () {\n        var now = new Date().getTime();\n        var millisSinceVisible = now - this.lastMadeVisibleTime;\n        return millisSinceVisible < 500;\n    };\n    __decorate$W([\n        Autowired('gridOptionsWrapper')\n    ], RowContainerComponent.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$W([\n        PostConstruct\n    ], RowContainerComponent.prototype, \"postConstruct\", null);\n    return RowContainerComponent;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __assign$3 = (undefined && undefined.__assign) || function () {\n    __assign$3 = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign$3.apply(this, arguments);\n};\nvar __decorate$X = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __spreadArrays$4 = (undefined && undefined.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar RowDragFeature = /** @class */ (function () {\n    function RowDragFeature(eContainer, gridPanel) {\n        this.isMultiRowDrag = false;\n        this.events = [];\n        this.isGridSorted = false;\n        this.isGridFiltered = false;\n        this.isRowGroupActive = false;\n        this.eContainer = eContainer;\n        this.gridPanel = gridPanel;\n    }\n    RowDragFeature.prototype.postConstruct = function () {\n        if (this.gridOptionsWrapper.isRowModelDefault()) {\n            this.clientSideRowModel = this.rowModel;\n        }\n        this.events.push(this.eventService.addEventListener(Events.EVENT_SORT_CHANGED, this.onSortChanged.bind(this)), this.eventService.addEventListener(Events.EVENT_FILTER_CHANGED, this.onFilterChanged.bind(this)), this.eventService.addEventListener(Events.EVENT_COLUMN_ROW_GROUP_CHANGED, this.onRowGroupChanged.bind(this)));\n        this.onSortChanged();\n        this.onFilterChanged();\n        this.onRowGroupChanged();\n    };\n    RowDragFeature.prototype.destroy = function () {\n        if (this.events.length) {\n            this.events.forEach(function (func) { return func(); });\n        }\n    };\n    RowDragFeature.prototype.onSortChanged = function () {\n        var sortModel = this.sortController.getSortModel();\n        this.isGridSorted = !_.missingOrEmpty(sortModel);\n    };\n    RowDragFeature.prototype.onFilterChanged = function () {\n        this.isGridFiltered = this.filterManager.isAnyFilterPresent();\n    };\n    RowDragFeature.prototype.onRowGroupChanged = function () {\n        var rowGroups = this.columnController.getRowGroupColumns();\n        this.isRowGroupActive = !_.missingOrEmpty(rowGroups);\n    };\n    RowDragFeature.prototype.getContainer = function () {\n        return this.eContainer;\n    };\n    RowDragFeature.prototype.isInterestedIn = function (type) {\n        return type === exports.DragSourceType.RowDrag;\n    };\n    RowDragFeature.prototype.getIconName = function () {\n        var managedDrag = this.gridOptionsWrapper.isRowDragManaged();\n        if (managedDrag && this.shouldPreventRowMove()) {\n            return DragAndDropService.ICON_NOT_ALLOWED;\n        }\n        return DragAndDropService.ICON_MOVE;\n    };\n    RowDragFeature.prototype.shouldPreventRowMove = function () {\n        return this.isGridSorted || this.isGridFiltered || this.isRowGroupActive;\n    };\n    RowDragFeature.prototype.getRowNodes = function (draggingEvent) {\n        if (!this.isFromThisGrid(draggingEvent)) {\n            return draggingEvent.dragItem.rowNodes;\n        }\n        var enableMultiRowDragging = this.gridOptionsWrapper.isEnableMultiRowDragging();\n        var selectedNodes = this.selectionController.getSelectedNodes();\n        var currentNode = draggingEvent.dragItem.rowNode;\n        if (enableMultiRowDragging && selectedNodes.indexOf(currentNode) !== -1) {\n            this.isMultiRowDrag = true;\n            return __spreadArrays$4(selectedNodes);\n        }\n        this.isMultiRowDrag = false;\n        return [currentNode];\n    };\n    RowDragFeature.prototype.onDragEnter = function (draggingEvent) {\n        // when entering, we fire the enter event, then in onEnterOrDragging,\n        // we also fire the move event. so we get both events when entering.\n        this.dispatchEvent(Events.EVENT_ROW_DRAG_ENTER, draggingEvent);\n        this.getRowNodes(draggingEvent).forEach(function (rowNode) {\n            rowNode.setDragging(true);\n        });\n        this.onEnterOrDragging(draggingEvent);\n    };\n    RowDragFeature.prototype.onDragging = function (draggingEvent) {\n        this.onEnterOrDragging(draggingEvent);\n    };\n    RowDragFeature.prototype.isFromThisGrid = function (draggingEvent) {\n        return this.gridPanel.getGui().contains(draggingEvent.dragSource.eElement);\n    };\n    RowDragFeature.prototype.isDropZoneWithinThisGrid = function (draggingEvent) {\n        var gridGui = this.gridPanel.getGui();\n        var dropZoneTarget = draggingEvent.dropZoneTarget;\n        return !gridGui.contains(dropZoneTarget);\n    };\n    RowDragFeature.prototype.onEnterOrDragging = function (draggingEvent) {\n        // this event is fired for enter and move\n        this.dispatchEvent(Events.EVENT_ROW_DRAG_MOVE, draggingEvent);\n        this.lastDraggingEvent = draggingEvent;\n        var pixel = this.mouseEventService.getNormalisedPosition(draggingEvent).y;\n        var managedDrag = this.gridOptionsWrapper.isRowDragManaged();\n        if (managedDrag) {\n            this.doManagedDrag(draggingEvent, pixel);\n        }\n        this.checkCenterForScrolling(pixel);\n    };\n    RowDragFeature.prototype.doManagedDrag = function (draggingEvent, pixel) {\n        var _this = this;\n        var rowNodes;\n        var isFromThisGrid = this.isFromThisGrid(draggingEvent);\n        if (isFromThisGrid) {\n            rowNodes = [draggingEvent.dragItem.rowNode];\n            if (this.isMultiRowDrag) {\n                rowNodes = __spreadArrays$4(this.selectionController.getSelectedNodes()).sort(function (a, b) { return _this.getRowIndexNumber(a) - _this.getRowIndexNumber(b); });\n            }\n            draggingEvent.dragItem.rowNodes = rowNodes;\n        }\n        else {\n            rowNodes = draggingEvent.dragItem.rowNodes;\n        }\n        var managedDrag = this.gridOptionsWrapper.isRowDragManaged();\n        if (managedDrag && this.shouldPreventRowMove()) {\n            return;\n        }\n        if (this.gridOptionsWrapper.isSuppressMoveWhenRowDragging() || !isFromThisGrid) {\n            if (!this.isDropZoneWithinThisGrid(draggingEvent)) {\n                this.clientSideRowModel.highlightRowAtPixel(rowNodes[0], pixel);\n            }\n        }\n        else {\n            this.moveRows(rowNodes, pixel);\n        }\n    };\n    RowDragFeature.prototype.getRowIndexNumber = function (rowNode) {\n        return parseInt(last(rowNode.getRowIndexString().split('-')), 10);\n    };\n    RowDragFeature.prototype.moveRowAndClearHighlight = function (draggingEvent) {\n        var _this = this;\n        var lastHighlightedRowNode = this.clientSideRowModel.getLastHighlightedRowNode();\n        var isBelow = lastHighlightedRowNode && lastHighlightedRowNode.highlighted === 'below';\n        var pixel = this.mouseEventService.getNormalisedPosition(draggingEvent).y;\n        var rowNodes = draggingEvent.dragItem.rowNodes;\n        var increment = isBelow ? 1 : 0;\n        if (this.isFromThisGrid(draggingEvent)) {\n            rowNodes.forEach(function (rowNode) {\n                if (rowNode.rowTop < pixel) {\n                    increment -= 1;\n                }\n            });\n            this.moveRows(rowNodes, pixel, increment);\n        }\n        else {\n            var getRowNodeId_1 = this.gridOptionsWrapper.getRowNodeIdFunc();\n            var addIndex = this.clientSideRowModel.getRowIndexAtPixel(pixel) + 1;\n            if (this.clientSideRowModel.getHighlightPosition(pixel) === 'above') {\n                addIndex--;\n            }\n            this.clientSideRowModel.updateRowData({\n                add: rowNodes\n                    .map(function (node) { return node.data; })\n                    .filter(function (data) { return !_this.clientSideRowModel.getRowNode(getRowNodeId_1 ? getRowNodeId_1(data) : data.id); }),\n                addIndex: addIndex\n            });\n        }\n        this.clearRowHighlight();\n    };\n    RowDragFeature.prototype.clearRowHighlight = function () {\n        this.clientSideRowModel.highlightRowAtPixel(null);\n    };\n    RowDragFeature.prototype.moveRows = function (rowNodes, pixel, increment) {\n        if (increment === void 0) { increment = 0; }\n        var rowWasMoved = this.clientSideRowModel.ensureRowsAtPixel(rowNodes, pixel, increment);\n        if (rowWasMoved) {\n            this.focusController.clearFocusedCell();\n            if (this.rangeController) {\n                this.rangeController.removeAllCellRanges();\n            }\n        }\n    };\n    RowDragFeature.prototype.checkCenterForScrolling = function (pixel) {\n        // scroll if the mouse is within 50px of the grid edge\n        var pixelRange = this.gridPanel.getVScrollPosition();\n        // console.log(`pixelRange = (${pixelRange.top}, ${pixelRange.bottom})`);\n        this.needToMoveUp = pixel < (pixelRange.top + 50);\n        this.needToMoveDown = pixel > (pixelRange.bottom - 50);\n        // console.log(`needToMoveUp = ${this.needToMoveUp} = pixel < (pixelRange.top + 50) = ${pixel} < (${pixelRange.top} + 50)`);\n        // console.log(`needToMoveDown = ${this.needToMoveDown} = pixel < (pixelRange.top + 50) = ${pixel} < (${pixelRange.top} + 50)`);\n        if (this.needToMoveUp || this.needToMoveDown) {\n            this.ensureIntervalStarted();\n        }\n        else {\n            this.ensureIntervalCleared();\n        }\n    };\n    RowDragFeature.prototype.ensureIntervalStarted = function () {\n        if (this.movingIntervalId) {\n            return;\n        }\n        this.intervalCount = 0;\n        this.movingIntervalId = window.setInterval(this.moveInterval.bind(this), 100);\n    };\n    RowDragFeature.prototype.ensureIntervalCleared = function () {\n        if (!this.moveInterval) {\n            return;\n        }\n        window.clearInterval(this.movingIntervalId);\n        this.movingIntervalId = null;\n    };\n    RowDragFeature.prototype.moveInterval = function () {\n        // the amounts we move get bigger at each interval, so the speed accelerates, starting a bit slow\n        // and getting faster. this is to give smoother user experience. we max at 100px to limit the speed.\n        var pixelsToMove;\n        this.intervalCount++;\n        pixelsToMove = 10 + (this.intervalCount * 5);\n        if (pixelsToMove > 100) {\n            pixelsToMove = 100;\n        }\n        var pixelsMoved;\n        if (this.needToMoveDown) {\n            pixelsMoved = this.gridPanel.scrollVertically(pixelsToMove);\n        }\n        else if (this.needToMoveUp) {\n            pixelsMoved = this.gridPanel.scrollVertically(-pixelsToMove);\n        }\n        if (pixelsMoved !== 0) {\n            this.onDragging(this.lastDraggingEvent);\n        }\n    };\n    RowDragFeature.prototype.addRowDropZone = function (params) {\n        var _this = this;\n        if (!params.getContainer()) {\n            _.doOnce(function () { return console.warn('ag-Grid: addRowDropZone - A container target needs to be provided'); }, 'add-drop-zone-empty-target');\n            return;\n        }\n        if (this.dragAndDropService.findExternalZone(params)) {\n            console.warn('ag-Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.');\n            return;\n        }\n        var processedParams = {\n            getContainer: params.getContainer\n        };\n        if (params.fromGrid) {\n            params.fromGrid = undefined;\n            processedParams = params;\n        }\n        else {\n            if (params.onDragEnter) {\n                processedParams.onDragEnter = function (e) {\n                    params.onDragEnter(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_ENTER, e));\n                };\n            }\n            if (params.onDragLeave) {\n                processedParams.onDragLeave = function (e) {\n                    params.onDragLeave(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_LEAVE, e));\n                };\n            }\n            if (params.onDragging) {\n                processedParams.onDragging = function (e) {\n                    params.onDragging(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_MOVE, e));\n                };\n            }\n            if (params.onDragStop) {\n                processedParams.onDragStop = function (e) {\n                    params.onDragStop(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_END, e));\n                };\n            }\n        }\n        this.dragAndDropService.addDropTarget(__assign$3({ isInterestedIn: function (type) { return type === exports.DragSourceType.RowDrag; }, getIconName: function () { return DragAndDropService.ICON_MOVE; }, external: true }, processedParams));\n    };\n    RowDragFeature.prototype.getRowDropZone = function (events) {\n        var _this = this;\n        var getContainer = this.getContainer.bind(this);\n        var onDragEnter = this.onDragEnter.bind(this);\n        var onDragLeave = this.onDragLeave.bind(this);\n        var onDragging = this.onDragging.bind(this);\n        var onDragStop = this.onDragStop.bind(this);\n        if (!events) {\n            return { getContainer: getContainer, onDragEnter: onDragEnter, onDragLeave: onDragLeave, onDragging: onDragging, onDragStop: onDragStop, fromGrid: true };\n        }\n        return {\n            getContainer: getContainer,\n            onDragEnter: events.onDragEnter\n                ? (function (e) {\n                    onDragEnter(e);\n                    events.onDragEnter(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_ENTER, e));\n                })\n                : onDragEnter,\n            onDragLeave: events.onDragLeave\n                ? (function (e) {\n                    onDragLeave(e);\n                    events.onDragLeave(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_LEAVE, e));\n                })\n                : onDragLeave,\n            onDragging: events.onDragging\n                ? (function (e) {\n                    onDragging(e);\n                    events.onDragging(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_MOVE, e));\n                })\n                : onDragging,\n            onDragStop: events.onDragStop\n                ? (function (e) {\n                    onDragStop(e);\n                    events.onDragStop(_this.draggingToRowDragEvent(Events.EVENT_ROW_DRAG_END, e));\n                })\n                : onDragStop,\n            fromGrid: true\n        };\n    };\n    RowDragFeature.prototype.draggingToRowDragEvent = function (type, draggingEvent) {\n        var yNormalised = this.mouseEventService.getNormalisedPosition(draggingEvent).y;\n        var mouseIsPastLastRow = yNormalised > this.rowModel.getCurrentPageHeight();\n        var overIndex = -1;\n        var overNode = null;\n        if (!mouseIsPastLastRow) {\n            overIndex = this.rowModel.getRowIndexAtPixel(yNormalised);\n            overNode = this.rowModel.getRow(overIndex);\n        }\n        var vDirectionString;\n        switch (draggingEvent.vDirection) {\n            case exports.VerticalDirection.Down:\n                vDirectionString = 'down';\n                break;\n            case exports.VerticalDirection.Up:\n                vDirectionString = 'up';\n                break;\n            default:\n                vDirectionString = null;\n                break;\n        }\n        var event = {\n            type: type,\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            event: draggingEvent.event,\n            node: draggingEvent.dragItem.rowNode,\n            nodes: draggingEvent.dragItem.rowNodes,\n            overIndex: overIndex,\n            overNode: overNode,\n            y: yNormalised,\n            vDirection: vDirectionString\n        };\n        return event;\n    };\n    RowDragFeature.prototype.dispatchEvent = function (type, draggingEvent) {\n        var event = this.draggingToRowDragEvent(type, draggingEvent);\n        this.eventService.dispatchEvent(event);\n    };\n    RowDragFeature.prototype.onDragLeave = function (draggingEvent) {\n        this.dispatchEvent(Events.EVENT_ROW_DRAG_LEAVE, draggingEvent);\n        this.stopDragging(draggingEvent);\n        this.clearRowHighlight();\n        if (this.isFromThisGrid(draggingEvent)) {\n            this.isMultiRowDrag = false;\n        }\n    };\n    RowDragFeature.prototype.onDragStop = function (draggingEvent) {\n        this.dispatchEvent(Events.EVENT_ROW_DRAG_END, draggingEvent);\n        this.stopDragging(draggingEvent);\n        if (this.gridOptionsWrapper.isRowDragManaged() &&\n            (this.gridOptionsWrapper.isSuppressMoveWhenRowDragging() || !this.isFromThisGrid(draggingEvent)) &&\n            !this.isDropZoneWithinThisGrid(draggingEvent)) {\n            this.moveRowAndClearHighlight(draggingEvent);\n        }\n    };\n    RowDragFeature.prototype.stopDragging = function (draggingEvent) {\n        this.ensureIntervalCleared();\n        this.getRowNodes(draggingEvent).forEach(function (rowNode) {\n            rowNode.setDragging(false);\n        });\n    };\n    __decorate$X([\n        Autowired('dragAndDropService')\n    ], RowDragFeature.prototype, \"dragAndDropService\", void 0);\n    __decorate$X([\n        Autowired('rowModel')\n    ], RowDragFeature.prototype, \"rowModel\", void 0);\n    __decorate$X([\n        Autowired('columnController')\n    ], RowDragFeature.prototype, \"columnController\", void 0);\n    __decorate$X([\n        Autowired('focusController')\n    ], RowDragFeature.prototype, \"focusController\", void 0);\n    __decorate$X([\n        Autowired('sortController')\n    ], RowDragFeature.prototype, \"sortController\", void 0);\n    __decorate$X([\n        Autowired('filterManager')\n    ], RowDragFeature.prototype, \"filterManager\", void 0);\n    __decorate$X([\n        Autowired('gridOptionsWrapper')\n    ], RowDragFeature.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$X([\n        Autowired('selectionController')\n    ], RowDragFeature.prototype, \"selectionController\", void 0);\n    __decorate$X([\n        Optional('rangeController')\n    ], RowDragFeature.prototype, \"rangeController\", void 0);\n    __decorate$X([\n        Autowired('mouseEventService')\n    ], RowDragFeature.prototype, \"mouseEventService\", void 0);\n    __decorate$X([\n        Autowired('eventService')\n    ], RowDragFeature.prototype, \"eventService\", void 0);\n    __decorate$X([\n        PostConstruct\n    ], RowDragFeature.prototype, \"postConstruct\", null);\n    __decorate$X([\n        PreDestroy\n    ], RowDragFeature.prototype, \"destroy\", null);\n    return RowDragFeature;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$N = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$Y = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// in the html below, it is important that there are no white space between some of the divs, as if there is white space,\n// it won't render correctly in safari, as safari renders white space as a gap\nvar GRID_PANEL_NORMAL_TEMPLATE = /* html */ \"<div class=\\\"ag-root ag-unselectable\\\" role=\\\"grid\\\" unselectable=\\\"on\\\">\\n        <ag-header-root ref=\\\"headerRoot\\\" unselectable=\\\"on\\\"></ag-header-root>\\n        <div class=\\\"ag-floating-top\\\" ref=\\\"eTop\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\">\\n            <div class=\\\"ag-pinned-left-floating-top\\\" ref=\\\"eLeftTop\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n            <div class=\\\"ag-floating-top-viewport\\\" ref=\\\"eTopViewport\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\">\\n                <div class=\\\"ag-floating-top-container\\\" ref=\\\"eTopContainer\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n            </div>\\n            <div class=\\\"ag-pinned-right-floating-top\\\" ref=\\\"eRightTop\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n            <div class=\\\"ag-floating-top-full-width-container\\\" ref=\\\"eTopFullWidthContainer\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n        </div>\\n        <div class=\\\"ag-body-viewport\\\" ref=\\\"eBodyViewport\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\">\\n            <div class=\\\"ag-pinned-left-cols-container\\\" ref=\\\"eLeftContainer\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n            <div class=\\\"ag-center-cols-clipper\\\" ref=\\\"eCenterColsClipper\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\">\\n                <div class=\\\"ag-center-cols-viewport\\\" ref=\\\"eCenterViewport\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\">\\n                    <div class=\\\"ag-center-cols-container\\\" ref=\\\"eCenterContainer\\\" role=\\\"rowgroup\\\" unselectable=\\\"on\\\"></div>\\n                </div>\\n            </div>\\n            <div class=\\\"ag-pinned-right-cols-container\\\" ref=\\\"eRightContainer\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n            <div class=\\\"ag-full-width-container\\\" ref=\\\"eFullWidthContainer\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n        </div>\\n        <div class=\\\"ag-floating-bottom\\\" ref=\\\"eBottom\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\">\\n            <div class=\\\"ag-pinned-left-floating-bottom\\\" ref=\\\"eLeftBottom\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n            <div class=\\\"ag-floating-bottom-viewport\\\" ref=\\\"eBottomViewport\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\">\\n                <div class=\\\"ag-floating-bottom-container\\\" ref=\\\"eBottomContainer\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n            </div>\\n            <div class=\\\"ag-pinned-right-floating-bottom\\\" ref=\\\"eRightBottom\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n            <div class=\\\"ag-floating-bottom-full-width-container\\\" ref=\\\"eBottomFullWidthContainer\\\" role=\\\"presentation\\\" unselectable=\\\"on\\\"></div>\\n        </div>\\n        <div class=\\\"ag-body-horizontal-scroll\\\" ref=\\\"eHorizontalScrollBody\\\" aria-hidden=\\\"true\\\">\\n            <div class=\\\"ag-horizontal-left-spacer\\\" ref=\\\"eHorizontalLeftSpacer\\\"></div>\\n            <div class=\\\"ag-body-horizontal-scroll-viewport\\\" ref=\\\"eBodyHorizontalScrollViewport\\\">\\n                <div class=\\\"ag-body-horizontal-scroll-container\\\" ref=\\\"eBodyHorizontalScrollContainer\\\"></div>\\n            </div>\\n            <div class=\\\"ag-horizontal-right-spacer\\\" ref=\\\"eHorizontalRightSpacer\\\"></div>\\n        </div>\\n        <ag-overlay-wrapper ref=\\\"overlayWrapper\\\"></ag-overlay-wrapper>\\n    </div>\";\nvar GridPanel = /** @class */ (function (_super) {\n    __extends$N(GridPanel, _super);\n    function GridPanel() {\n        var _this = _super.call(this, GRID_PANEL_NORMAL_TEMPLATE) || this;\n        _this.scrollLeft = -1;\n        _this.scrollTop = -1;\n        _this.resetLastHorizontalScrollElementDebounced = _.debounce(_this.resetLastHorizontalScrollElement.bind(_this), 500);\n        return _this;\n    }\n    GridPanel.prototype.getVScrollPosition = function () {\n        var result = {\n            top: this.eBodyViewport.scrollTop,\n            bottom: this.eBodyViewport.scrollTop + this.eBodyViewport.offsetHeight\n        };\n        return result;\n    };\n    GridPanel.prototype.getHScrollPosition = function () {\n        var result = {\n            left: this.eCenterViewport.scrollLeft,\n            right: this.eCenterViewport.scrollLeft + this.eCenterViewport.offsetWidth\n        };\n        return result;\n    };\n    GridPanel.prototype.onRowDataChanged = function () {\n        this.showOrHideOverlay();\n    };\n    GridPanel.prototype.showOrHideOverlay = function () {\n        var isEmpty = this.paginationProxy.isEmpty();\n        var isSuppressNoRowsOverlay = this.gridOptionsWrapper.isSuppressNoRowsOverlay();\n        var method = isEmpty && !isSuppressNoRowsOverlay ? 'showNoRowsOverlay' : 'hideOverlay';\n        this[method]();\n    };\n    GridPanel.prototype.onNewColumnsLoaded = function () {\n        // hide overlay if columns and rows exist, this can happen if columns are loaded after data.\n        // this problem exists before of the race condition between the services (column controller in this case)\n        // and the view (grid panel). if the model beans were all initialised first, and then the view beans second,\n        // this race condition would not happen.\n        if (this.columnController.isReady() && !this.paginationProxy.isEmpty()) {\n            this.hideOverlay();\n        }\n    };\n    GridPanel.prototype.init = function () {\n        var _this = this;\n        this.scrollWidth = this.gridOptionsWrapper.getScrollbarWidth();\n        this.enableRtl = this.gridOptionsWrapper.isEnableRtl();\n        this.printLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        // these elements have different CSS when layout changes\n        this.gridOptionsWrapper.addLayoutElement(this.getGui());\n        this.gridOptionsWrapper.addLayoutElement(this.eBodyViewport);\n        this.suppressScrollOnFloatingRow();\n        this.setupRowAnimationCssClass();\n        this.buildRowContainerComponents();\n        this.addEventListeners();\n        this.addDragListeners();\n        this.addScrollListener();\n        if (this.gridOptionsWrapper.isRowModelDefault() && !this.gridOptionsWrapper.getRowData()) {\n            this.showLoadingOverlay();\n        }\n        this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect());\n        this.setPinnedContainerSize();\n        this.setHeaderAndFloatingHeights();\n        this.disableBrowserDragging();\n        this.addMouseListeners();\n        this.addKeyboardEvents();\n        this.addBodyViewportListener();\n        this.addStopEditingWhenGridLosesFocus();\n        this.mockContextMenuForIPad();\n        this.addRowDragListener();\n        if (this.$scope) {\n            this.addAngularApplyCheck();\n        }\n        this.onDisplayedColumnsWidthChanged();\n        this.gridApi.registerGridComp(this);\n        this.alignedGridsService.registerGridComp(this);\n        this.headerRootComp.registerGridComp(this);\n        this.navigationService.registerGridComp(this);\n        this.heightScaler.registerGridComp(this);\n        this.autoHeightCalculator.registerGridComp(this);\n        this.columnAnimationService.registerGridComp(this);\n        this.autoWidthCalculator.registerGridComp(this);\n        this.paginationAutoPageSizeService.registerGridComp(this);\n        this.mouseEventService.registerGridComp(this);\n        this.beans.registerGridComp(this);\n        this.rowRenderer.registerGridComp(this);\n        if (this.rangeController) {\n            this.rangeController.registerGridComp(this);\n        }\n        [this.eCenterViewport, this.eBodyViewport].forEach(function (viewport) {\n            var unsubscribeFromResize = _this.resizeObserverService.observeResize(viewport, _this.onCenterViewportResized.bind(_this));\n            _this.addDestroyFunc(function () { return unsubscribeFromResize(); });\n        });\n        [this.eTop, this.eBodyViewport, this.eBottom].forEach(function (element) {\n            _this.addDestroyableEventListener(element, 'focusin', function () {\n                _.addCssClass(element, 'ag-has-focus');\n            });\n            _this.addDestroyableEventListener(element, 'focusout', function (e) {\n                if (!element.contains(e.relatedTarget)) {\n                    _.removeCssClass(element, 'ag-has-focus');\n                }\n            });\n        });\n    };\n    GridPanel.prototype.onDomLayoutChanged = function () {\n        var newPrintLayout = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_PRINT;\n        if (this.printLayout !== newPrintLayout) {\n            this.printLayout = newPrintLayout;\n            this.setWidthsOfContainers();\n            // pinned containers are always hidden for print layout\n            this.setPinnedContainerSize();\n        }\n    };\n    GridPanel.prototype.onCenterViewportResized = function () {\n        if (_.isVisible(this.eCenterViewport)) {\n            this.checkViewportAndScrolls();\n            this.columnController.refreshFlexedColumns(this.getCenterWidth());\n        }\n        else {\n            this.bodyHeight = 0;\n        }\n    };\n    // used by ColumnAnimationService\n    GridPanel.prototype.setColumnMovingCss = function (moving) {\n        this.addOrRemoveCssClass('ag-column-moving', moving);\n    };\n    GridPanel.prototype.setCellTextSelection = function (selectable) {\n        if (selectable === void 0) { selectable = false; }\n        [this.eTop, this.eBodyViewport, this.eBottom]\n            .forEach(function (ct) { return _.addOrRemoveCssClass(ct, 'ag-selectable', selectable); });\n    };\n    GridPanel.prototype.addRowDragListener = function () {\n        var rowDragFeature = new RowDragFeature(this.eBodyViewport, this);\n        this.getContext().wireBean(rowDragFeature);\n        this.dragAndDropService.addDropTarget(rowDragFeature);\n        this.rowDragFeature = rowDragFeature;\n    };\n    GridPanel.prototype.getRowDragFeature = function () {\n        return this.rowDragFeature;\n    };\n    GridPanel.prototype.addStopEditingWhenGridLosesFocus = function () {\n        var _this = this;\n        if (!this.gridOptionsWrapper.isStopEditingWhenGridLosesFocus()) {\n            return;\n        }\n        var focusOutListener = function (event) {\n            // this is the element the focus is moving to\n            var elementWithFocus = event.relatedTarget;\n            // see if the element the focus is going to is part of the grid\n            var clickInsideGrid = false;\n            var pointer = elementWithFocus;\n            while (_.exists(pointer) && !clickInsideGrid) {\n                var isPopup = !!_this.gridOptionsWrapper.getDomData(pointer, PopupEditorWrapper.DOM_KEY_POPUP_EDITOR_WRAPPER);\n                var isBody = _this.eBodyViewport === pointer || _this.eBottom === pointer || _this.eTop === pointer;\n                clickInsideGrid = isPopup || isBody;\n                pointer = pointer.parentNode;\n            }\n            if (!clickInsideGrid) {\n                _this.rowRenderer.stopEditing();\n            }\n        };\n        this.addDestroyableEventListener(this.eBodyViewport, 'focusout', focusOutListener);\n        this.addDestroyableEventListener(this.eTop, 'focusout', focusOutListener);\n        this.addDestroyableEventListener(this.eBottom, 'focusout', focusOutListener);\n    };\n    GridPanel.prototype.addAngularApplyCheck = function () {\n        var _this = this;\n        // this makes sure if we queue up requests, we only execute oe\n        var applyTriggered = false;\n        var listener = function () {\n            // only need to do one apply at a time\n            if (applyTriggered) {\n                return;\n            }\n            applyTriggered = true; // mark 'need apply' to true\n            window.setTimeout(function () {\n                applyTriggered = false;\n                _this.$scope.$apply();\n            }, 0);\n        };\n        // these are the events we need to do an apply after - these are the ones that can end up\n        // with columns added or removed\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, listener);\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_VIRTUAL_COLUMNS_CHANGED, listener);\n    };\n    // if we do not do this, then the user can select a pic in the grid (eg an image in a custom cell renderer)\n    // and then that will start the browser native drag n' drop, which messes up with our own drag and drop.\n    GridPanel.prototype.disableBrowserDragging = function () {\n        this.addGuiEventListener('dragstart', function (event) {\n            if (event.target instanceof HTMLImageElement) {\n                event.preventDefault();\n                return false;\n            }\n        });\n    };\n    GridPanel.prototype.addEventListeners = function () {\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_CHANGED, this.onDisplayedColumnsChanged.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED, this.onDisplayedColumnsWidthChanged.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_PINNED_ROW_DATA_CHANGED, this.setHeaderAndFloatingHeights.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_ROW_DATA_CHANGED, this.onRowDataChanged.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_ROW_DATA_UPDATED, this.onRowDataChanged.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_NEW_COLUMNS_LOADED, this.onNewColumnsLoaded.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_HEADER_HEIGHT, this.setHeaderAndFloatingHeights.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT, this.setHeaderAndFloatingHeights.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT, this.setHeaderAndFloatingHeights.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT, this.setHeaderAndFloatingHeights.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT, this.setHeaderAndFloatingHeights.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, GridOptionsWrapper.PROP_DOM_LAYOUT, this.onDomLayoutChanged.bind(this));\n    };\n    GridPanel.prototype.addDragListeners = function () {\n        var _this = this;\n        if (!this.gridOptionsWrapper.isEnableRangeSelection() || // no range selection if no property\n            _.missing(this.rangeController) // no range selection if not enterprise version\n        ) {\n            return;\n        }\n        var containers = [\n            this.eLeftContainer,\n            this.eRightContainer,\n            this.eCenterContainer,\n            this.eTop,\n            this.eBottom\n        ];\n        containers.forEach(function (container) {\n            var params = {\n                eElement: container,\n                onDragStart: _this.rangeController.onDragStart.bind(_this.rangeController),\n                onDragStop: _this.rangeController.onDragStop.bind(_this.rangeController),\n                onDragging: _this.rangeController.onDragging.bind(_this.rangeController)\n            };\n            _this.dragService.addDragSource(params);\n            _this.addDestroyFunc(function () { return _this.dragService.removeDragSource(params); });\n        });\n    };\n    GridPanel.prototype.addMouseListeners = function () {\n        var _this = this;\n        var eventNames = ['click', 'mousedown', 'dblclick', 'contextmenu', 'mouseover', 'mouseout'];\n        eventNames.forEach(function (eventName) {\n            var listener = _this.processMouseEvent.bind(_this, eventName);\n            _this.eAllCellContainers.forEach(function (container) {\n                return _this.addDestroyableEventListener(container, eventName, listener);\n            });\n        });\n    };\n    GridPanel.prototype.addKeyboardEvents = function () {\n        var _this = this;\n        var eventNames = ['keydown', 'keypress'];\n        eventNames.forEach(function (eventName) {\n            var listener = _this.processKeyboardEvent.bind(_this, eventName);\n            _this.eAllCellContainers.forEach(function (container) {\n                _this.addDestroyableEventListener(container, eventName, listener);\n            });\n        });\n    };\n    GridPanel.prototype.addBodyViewportListener = function () {\n        var _this = this;\n        // we want to listen for clicks directly on the eBodyViewport, so the user has a way of showing\n        // the context menu if no rows or columns are displayed, or user simply clicks outside of a cell\n        var listener = function (mouseEvent) {\n            var target = _.getTarget(mouseEvent);\n            if (target === _this.eBodyViewport || target === _this.eCenterViewport) {\n                // show it\n                _this.onContextMenu(mouseEvent, null, null, null, null);\n                _this.preventDefaultOnContextMenu(mouseEvent);\n            }\n        };\n        this.addDestroyableEventListener(this.eBodyViewport, 'contextmenu', listener);\n    };\n    // + rangeController - used to know when to scroll when user is dragging outside the\n    // main viewport while doing a range selection\n    GridPanel.prototype.getBodyClientRect = function () {\n        if (!this.eBodyViewport) {\n            return;\n        }\n        return this.eBodyViewport.getBoundingClientRect();\n    };\n    GridPanel.prototype.getRowForEvent = function (event) {\n        var sourceElement = _.getTarget(event);\n        while (sourceElement) {\n            var renderedRow = this.gridOptionsWrapper.getDomData(sourceElement, RowComp.DOM_DATA_KEY_RENDERED_ROW);\n            if (renderedRow) {\n                return renderedRow;\n            }\n            sourceElement = sourceElement.parentElement;\n        }\n        return null;\n    };\n    GridPanel.prototype.processKeyboardEvent = function (eventName, keyboardEvent) {\n        var cellComp = _.getCellCompForEvent(this.gridOptionsWrapper, keyboardEvent);\n        if (!cellComp) {\n            return;\n        }\n        var rowNode = cellComp.getRenderedRow().getRowNode();\n        var column = cellComp.getColumn();\n        var editing = cellComp.isEditing();\n        var gridProcessingAllowed = !_.isUserSuppressingKeyboardEvent(this.gridOptionsWrapper, keyboardEvent, rowNode, column, editing);\n        if (gridProcessingAllowed) {\n            switch (eventName) {\n                case 'keydown':\n                    // first see if it's a scroll key, page up / down, home / end etc\n                    var wasScrollKey = !editing && this.navigationService.handlePageScrollingKey(keyboardEvent);\n                    // if not a scroll key, then we pass onto cell\n                    if (!wasScrollKey) {\n                        cellComp.onKeyDown(keyboardEvent);\n                    }\n                    // perform clipboard and undo / redo operations\n                    this.doGridOperations(keyboardEvent, cellComp);\n                    break;\n                case 'keypress':\n                    cellComp.onKeyPress(keyboardEvent);\n                    break;\n            }\n        }\n        if (eventName === 'keydown') {\n            var cellKeyDownEvent = cellComp.createEvent(keyboardEvent, Events.EVENT_CELL_KEY_DOWN);\n            this.beans.eventService.dispatchEvent(cellKeyDownEvent);\n        }\n        if (eventName === 'keypress') {\n            var cellKeyPressEvent = cellComp.createEvent(keyboardEvent, Events.EVENT_CELL_KEY_PRESS);\n            this.beans.eventService.dispatchEvent(cellKeyPressEvent);\n        }\n    };\n    GridPanel.prototype.doGridOperations = function (keyboardEvent, cellComp) {\n        // check if ctrl or meta key pressed\n        if (!keyboardEvent.ctrlKey && !keyboardEvent.metaKey) {\n            return;\n        }\n        // if the cell the event came from is editing, then we do not\n        // want to do the default shortcut keys, otherwise the editor\n        // (eg a text field) would not be able to do the normal cut/copy/paste\n        if (cellComp.isEditing()) {\n            return;\n        }\n        // for copy / paste, we don't want to execute when the event\n        // was from a child grid (happens in master detail)\n        if (!this.mouseEventService.isEventFromThisGrid(keyboardEvent)) {\n            return;\n        }\n        switch (keyboardEvent.which) {\n            case Constants.KEY_A:\n                return this.onCtrlAndA(keyboardEvent);\n            case Constants.KEY_C:\n                return this.onCtrlAndC(keyboardEvent);\n            case Constants.KEY_V:\n                return this.onCtrlAndV();\n            case Constants.KEY_D:\n                return this.onCtrlAndD(keyboardEvent);\n            case Constants.KEY_Z:\n                return keyboardEvent.shiftKey ? this.undoRedoService.redo() : this.undoRedoService.undo();\n            case Constants.KEY_Y:\n                return this.undoRedoService.redo();\n        }\n    };\n    // gets called by rowRenderer when new data loaded, as it will want to scroll to the top\n    GridPanel.prototype.scrollToTop = function () {\n        this.eBodyViewport.scrollTop = 0;\n    };\n    GridPanel.prototype.processMouseEvent = function (eventName, mouseEvent) {\n        if (!this.mouseEventService.isEventFromThisGrid(mouseEvent) ||\n            _.isStopPropagationForAgGrid(mouseEvent)) {\n            return;\n        }\n        var rowComp = this.getRowForEvent(mouseEvent);\n        var cellComp = this.mouseEventService.getRenderedCellForEvent(mouseEvent);\n        if (eventName === \"contextmenu\") {\n            this.preventDefaultOnContextMenu(mouseEvent);\n            this.handleContextMenuMouseEvent(mouseEvent, null, rowComp, cellComp);\n        }\n        else {\n            if (cellComp) {\n                cellComp.onMouseEvent(eventName, mouseEvent);\n            }\n            if (rowComp) {\n                rowComp.onMouseEvent(eventName, mouseEvent);\n            }\n        }\n    };\n    GridPanel.prototype.mockContextMenuForIPad = function () {\n        var _this = this;\n        // we do NOT want this when not in iPad, otherwise we will be doing\n        if (!_.isIOSUserAgent()) {\n            return;\n        }\n        this.eAllCellContainers.forEach(function (container) {\n            var touchListener = new TouchListener(container);\n            var longTapListener = function (event) {\n                var rowComp = _this.getRowForEvent(event.touchEvent);\n                var cellComp = _this.mouseEventService.getRenderedCellForEvent(event.touchEvent);\n                _this.handleContextMenuMouseEvent(null, event.touchEvent, rowComp, cellComp);\n            };\n            _this.addDestroyableEventListener(touchListener, TouchListener.EVENT_LONG_TAP, longTapListener);\n            _this.addDestroyFunc(function () { return touchListener.destroy(); });\n        });\n    };\n    GridPanel.prototype.handleContextMenuMouseEvent = function (mouseEvent, touchEvent, rowComp, cellComp) {\n        var rowNode = rowComp ? rowComp.getRowNode() : null;\n        var column = cellComp ? cellComp.getColumn() : null;\n        var value = null;\n        if (column) {\n            var event_1 = mouseEvent ? mouseEvent : touchEvent;\n            cellComp.dispatchCellContextMenuEvent(event_1);\n            value = this.valueService.getValue(column, rowNode);\n        }\n        this.onContextMenu(mouseEvent, touchEvent, rowNode, column, value);\n    };\n    GridPanel.prototype.onContextMenu = function (mouseEvent, touchEvent, rowNode, column, value) {\n        // to allow us to debug in chrome, we ignore the event if ctrl is pressed.\n        // not everyone wants this, so first 'if' below allows to turn this hack off.\n        if (!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()) {\n            // then do the check\n            if (mouseEvent && (mouseEvent.ctrlKey || mouseEvent.metaKey)) {\n                return;\n            }\n        }\n        if (this.contextMenuFactory && !this.gridOptionsWrapper.isSuppressContextMenu()) {\n            var eventOrTouch = mouseEvent ? mouseEvent : touchEvent.touches[0];\n            this.contextMenuFactory.showMenu(rowNode, column, value, eventOrTouch);\n            var event_2 = mouseEvent ? mouseEvent : touchEvent;\n            event_2.preventDefault();\n        }\n    };\n    GridPanel.prototype.preventDefaultOnContextMenu = function (mouseEvent) {\n        // if we don't do this, then middle click will never result in a 'click' event, as 'mousedown'\n        // will be consumed by the browser to mean 'scroll' (as you can scroll with the middle mouse\n        // button in the browser). so this property allows the user to receive middle button clicks if\n        // they want.\n        var gridOptionsWrapper = this.gridOptionsWrapper;\n        var which = mouseEvent.which;\n        if (gridOptionsWrapper.isPreventDefaultOnContextMenu() ||\n            (gridOptionsWrapper.isSuppressMiddleClickScrolls() && which === 2)) {\n            mouseEvent.preventDefault();\n        }\n    };\n    GridPanel.prototype.onCtrlAndA = function (event) {\n        var _a = this, columnController = _a.columnController, pinnedRowModel = _a.pinnedRowModel, paginationProxy = _a.paginationProxy, rangeController = _a.rangeController;\n        var PINNED_BOTTOM = Constants.PINNED_BOTTOM, PINNED_TOP = Constants.PINNED_TOP;\n        if (rangeController && paginationProxy.isRowsToRender()) {\n            var _b = [\n                pinnedRowModel.isEmpty(PINNED_TOP),\n                pinnedRowModel.isEmpty(PINNED_BOTTOM)\n            ], isEmptyPinnedTop = _b[0], isEmptyPinnedBottom = _b[1];\n            var floatingStart = isEmptyPinnedTop ? null : PINNED_TOP;\n            var floatingEnd = void 0;\n            var rowEnd = void 0;\n            if (isEmptyPinnedBottom) {\n                floatingEnd = null;\n                rowEnd = this.paginationProxy.getRowCount() - 1;\n            }\n            else {\n                floatingEnd = PINNED_BOTTOM;\n                rowEnd = pinnedRowModel.getPinnedBottomRowData().length - 1;\n            }\n            var allDisplayedColumns = columnController.getAllDisplayedColumns();\n            if (_.missingOrEmpty(allDisplayedColumns)) {\n                return;\n            }\n            rangeController.setCellRange({\n                rowStartIndex: 0,\n                rowStartPinned: floatingStart,\n                rowEndIndex: rowEnd,\n                rowEndPinned: floatingEnd,\n                columnStart: allDisplayedColumns[0],\n                columnEnd: _.last(allDisplayedColumns)\n            });\n        }\n        event.preventDefault();\n    };\n    GridPanel.prototype.onCtrlAndC = function (event) {\n        if (!this.clipboardService || this.gridOptionsWrapper.isEnableCellTextSelection()) {\n            return;\n        }\n        this.clipboardService.copyToClipboard();\n        event.preventDefault();\n    };\n    GridPanel.prototype.onCtrlAndV = function () {\n        if (ModuleRegistry.isRegistered(exports.ModuleNames.ClipboardModule) && !this.gridOptionsWrapper.isSuppressClipboardPaste()) {\n            this.clipboardService.pasteFromClipboard();\n        }\n    };\n    GridPanel.prototype.onCtrlAndD = function (event) {\n        if (ModuleRegistry.isRegistered(exports.ModuleNames.ClipboardModule) && !this.gridOptionsWrapper.isSuppressClipboardPaste()) {\n            this.clipboardService.copyRangeDown();\n        }\n        event.preventDefault();\n    };\n    // Valid values for position are bottom, middle and top\n    // position should be {'top','middle','bottom', or undefined/null}.\n    // if undefined/null, then the grid will to the minimal amount of scrolling,\n    // eg if grid needs to scroll up, it scrolls until row is on top,\n    //    if grid needs to scroll down, it scrolls until row is on bottom,\n    //    if row is already in view, grid does not scroll\n    GridPanel.prototype.ensureIndexVisible = function (index, position) {\n        // if for print or auto height, everything is always visible\n        if (this.printLayout) {\n            return;\n        }\n        var rowCount = this.paginationProxy.getRowCount();\n        if (typeof index !== 'number' || index < 0 || index >= rowCount) {\n            console.warn('invalid row index for ensureIndexVisible: ' + index);\n            return;\n        }\n        this.paginationProxy.goToPageWithIndex(index);\n        var rowNode = this.paginationProxy.getRow(index);\n        var rowGotShiftedDuringOperation;\n        do {\n            var startingRowTop = rowNode.rowTop;\n            var startingRowHeight = rowNode.rowHeight;\n            var paginationOffset = this.paginationProxy.getPixelOffset();\n            var rowTopPixel = rowNode.rowTop - paginationOffset;\n            var rowBottomPixel = rowTopPixel + rowNode.rowHeight;\n            var scrollPosition = this.getVScrollPosition();\n            var heightOffset = this.heightScaler.getOffset();\n            var vScrollTop = scrollPosition.top + heightOffset;\n            var vScrollBottom = scrollPosition.bottom + heightOffset;\n            var viewportHeight = vScrollBottom - vScrollTop;\n            // work out the pixels for top, middle and bottom up front,\n            // make the if/else below easier to read\n            var pxTop = this.heightScaler.getScrollPositionForPixel(rowTopPixel);\n            var pxBottom = this.heightScaler.getScrollPositionForPixel(rowBottomPixel - viewportHeight);\n            // make sure if middle, the row is not outside the top of the grid\n            var pxMiddle = Math.min((pxTop + pxBottom) / 2, rowTopPixel);\n            var rowBelowViewport = vScrollTop > rowTopPixel;\n            var rowAboveViewport = vScrollBottom < rowBottomPixel;\n            var newScrollPosition = null;\n            if (position === 'top') {\n                newScrollPosition = pxTop;\n            }\n            else if (position === 'bottom') {\n                newScrollPosition = pxBottom;\n            }\n            else if (position === 'middle') {\n                newScrollPosition = pxMiddle;\n            }\n            else if (rowBelowViewport) {\n                // if row is before, scroll up with row at top\n                newScrollPosition = pxTop;\n            }\n            else if (rowAboveViewport) {\n                // if row is below, scroll down with row at bottom\n                newScrollPosition = pxBottom;\n            }\n            if (newScrollPosition !== null) {\n                this.eBodyViewport.scrollTop = newScrollPosition;\n                this.rowRenderer.redrawAfterScroll();\n            }\n            // the row can get shifted if during the rendering (during rowRenderer.redrawAfterScroll()),\n            // the height of a row changes due to lazy calculation of row heights when using\n            // colDef.autoHeight or gridOptions.getRowHeight.\n            // if row was shifted, then the position we scrolled to is incorrect.\n            rowGotShiftedDuringOperation = (startingRowTop !== rowNode.rowTop)\n                || (startingRowHeight !== rowNode.rowHeight);\n        } while (rowGotShiftedDuringOperation);\n        // so when we return back to user, the cells have rendered\n        this.animationFrameService.flushAllFrames();\n    };\n    // + moveColumnController\n    GridPanel.prototype.getCenterWidth = function () {\n        return this.eCenterViewport.clientWidth;\n    };\n    GridPanel.prototype.isVerticalScrollShowing = function () {\n        var isAlwaysShowVerticalScroll = this.gridOptionsWrapper.isAlwaysShowVerticalScroll();\n        _.addOrRemoveCssClass(this.eBodyViewport, 'ag-force-vertical-scroll', isAlwaysShowVerticalScroll);\n        return isAlwaysShowVerticalScroll || _.isVerticalScrollShowing(this.eBodyViewport);\n    };\n    GridPanel.prototype.isHorizontalScrollShowing = function () {\n        return _.isHorizontalScrollShowing(this.eCenterViewport);\n    };\n    // gets called every time the viewport size changes. we use this to check visibility of scrollbars\n    // in the grid panel, and also to check size and position of viewport for row and column virtualisation.\n    GridPanel.prototype.checkViewportAndScrolls = function () {\n        // results in updating anything that depends on scroll showing\n        this.updateScrollVisibleService();\n        // fires event if height changes, used by PaginationService, HeightScalerService, RowRenderer\n        this.checkBodyHeight();\n        // check for virtual columns for ColumnController\n        this.onHorizontalViewportChanged();\n        this.setPinnedContainerSize();\n        // this is to cater for AG-3274, where grid is removed from the dom and then inserted back in again.\n        // (which happens with some implementations of tabbing). this can result in horizontal scroll getting\n        // reset back to the left, however no scroll event is fired. so we need to get header to also scroll\n        // back to the left to be kept in sync.\n        // adding and removing the grid from the DOM both resets the scroll position and\n        // triggers a resize event, so notify listeners if the scroll position has changed\n        if (this.scrollLeft !== this.getCenterViewportScrollLeft()) {\n            this.onBodyHorizontalScroll(this.eCenterViewport);\n        }\n    };\n    GridPanel.prototype.updateScrollVisibleService = function () {\n        // because of column animation (which takes 200ms), we have to do this twice.\n        // eg if user removes cols anywhere except at the RHS, then the cols on the RHS\n        // will animate to the left to fill the gap. this animation means just after\n        // the cols are removed, the remaining cols are still in the original location\n        // at the start of the animation, so pre animation the H scrollbar is still needed,\n        // but post animation it is not.\n        this.updateScrollVisibleServiceImpl();\n        setTimeout(this.updateScrollVisibleServiceImpl.bind(this), 500);\n    };\n    GridPanel.prototype.updateScrollVisibleServiceImpl = function () {\n        var params = {\n            horizontalScrollShowing: false,\n            verticalScrollShowing: false\n        };\n        params.verticalScrollShowing = this.isVerticalScrollShowing();\n        params.horizontalScrollShowing = this.isHorizontalScrollShowing();\n        this.scrollVisibleService.setScrollsVisible(params);\n        this.setHorizontalScrollVisible(params.horizontalScrollShowing);\n        this.setVerticalScrollPaddingVisible(params.verticalScrollShowing);\n    };\n    GridPanel.prototype.setHorizontalScrollVisible = function (visible) {\n        var isSuppressHorizontalScroll = this.gridOptionsWrapper.isSuppressHorizontalScroll();\n        var scrollSize = visible ? (this.gridOptionsWrapper.getScrollbarWidth() || 0) : 0;\n        var scrollContainerSize = !isSuppressHorizontalScroll ? scrollSize : 0;\n        var addIEPadding = _.isBrowserIE() && visible;\n        this.eCenterViewport.style.height = \"calc(100% + \" + scrollSize + \"px)\";\n        _.setFixedHeight(this.eHorizontalScrollBody, scrollContainerSize);\n        // we have to add an extra pixel to the scroller viewport on IE because\n        // if the container has the same size as the scrollbar, the scroll button won't work\n        _.setFixedHeight(this.eBodyHorizontalScrollViewport, scrollContainerSize + (addIEPadding ? 1 : 0));\n        _.setFixedHeight(this.eBodyHorizontalScrollContainer, scrollContainerSize);\n    };\n    GridPanel.prototype.setVerticalScrollPaddingVisible = function (show) {\n        var scroller = show ? 'scroll' : 'hidden';\n        this.eTop.style.overflowY = this.eBottom.style.overflowY = scroller;\n        this.setFakeHScrollSpacerWidths();\n    };\n    GridPanel.prototype.updateRowCount = function () {\n        var headerCount = this.headerRootComp.getHeaderRowCount();\n        var rowCount = this.paginationProxy.getRowCount();\n        var total = (headerCount + rowCount).toString();\n        this.getGui().setAttribute('aria-rowcount', total);\n    };\n    GridPanel.prototype.updateColumnCount = function () {\n        var columns = this.beans.columnController.getAllDisplayedColumns();\n        this.getGui().setAttribute('aria-colcount', columns.length.toString());\n    };\n    GridPanel.prototype.ensureColumnVisible = function (key) {\n        var column = this.columnController.getGridColumn(key);\n        if (!column) {\n            return;\n        }\n        if (column.isPinned()) {\n            console.warn('calling ensureIndexVisible on a ' + column.getPinned() + ' pinned column doesn\\'t make sense for column ' + column.getColId());\n            return;\n        }\n        if (!this.columnController.isColumnDisplayed(column)) {\n            console.warn('column is not currently visible');\n            return;\n        }\n        var colLeftPixel = column.getLeft();\n        var colRightPixel = colLeftPixel + column.getActualWidth();\n        var viewportWidth = this.eCenterViewport.clientWidth;\n        var scrollPosition = this.getCenterViewportScrollLeft();\n        var bodyWidth = this.columnController.getBodyContainerWidth();\n        var viewportLeftPixel;\n        var viewportRightPixel;\n        // the logic of working out left and right viewport px is both here and in the ColumnController,\n        // need to refactor it out to one place\n        if (this.enableRtl) {\n            viewportLeftPixel = bodyWidth - scrollPosition - viewportWidth;\n            viewportRightPixel = bodyWidth - scrollPosition;\n        }\n        else {\n            viewportLeftPixel = scrollPosition;\n            viewportRightPixel = viewportWidth + scrollPosition;\n        }\n        var viewportScrolledPastCol = viewportLeftPixel > colLeftPixel;\n        var viewportScrolledBeforeCol = viewportRightPixel < colRightPixel;\n        var colToSmallForViewport = viewportWidth < column.getActualWidth();\n        var alignColToLeft = viewportScrolledPastCol || colToSmallForViewport;\n        var alignColToRight = viewportScrolledBeforeCol;\n        var newScrollPosition = this.getCenterViewportScrollLeft();\n        if (alignColToLeft || alignColToRight) {\n            if (this.enableRtl) {\n                newScrollPosition = alignColToLeft ? (bodyWidth - viewportWidth - colLeftPixel) : (bodyWidth - colRightPixel);\n            }\n            else {\n                newScrollPosition = alignColToLeft ? colLeftPixel : (colRightPixel - viewportWidth);\n            }\n            this.setCenterViewportScrollLeft(newScrollPosition);\n        }\n        // this will happen anyway, as the move will cause a 'scroll' event on the body, however\n        // it is possible that the ensureColumnVisible method is called from within ag-Grid and\n        // the caller will need to have the columns rendered to continue, which will be before\n        // the event has been worked on (which is the case for cell navigation).\n        this.onHorizontalViewportChanged();\n        // so when we return back to user, the cells have rendered\n        this.animationFrameService.flushAllFrames();\n    };\n    GridPanel.prototype.showLoadingOverlay = function () {\n        if (!this.gridOptionsWrapper.isSuppressLoadingOverlay()) {\n            this.overlayWrapper.showLoadingOverlay();\n        }\n    };\n    GridPanel.prototype.showNoRowsOverlay = function () {\n        if (!this.gridOptionsWrapper.isSuppressNoRowsOverlay()) {\n            this.overlayWrapper.showNoRowsOverlay();\n        }\n    };\n    GridPanel.prototype.hideOverlay = function () {\n        this.overlayWrapper.hideOverlay();\n    };\n    // method will call itself if no available width. this covers if the grid\n    // isn't visible, but is just about to be visible.\n    GridPanel.prototype.sizeColumnsToFit = function (nextTimeout) {\n        var _this = this;\n        var availableWidth = this.eBodyViewport.clientWidth;\n        if (availableWidth > 0) {\n            this.columnController.sizeColumnsToFit(availableWidth, \"sizeColumnsToFit\");\n            return;\n        }\n        if (nextTimeout === undefined) {\n            window.setTimeout(function () {\n                _this.sizeColumnsToFit(100);\n            }, 0);\n        }\n        else if (nextTimeout === 100) {\n            window.setTimeout(function () {\n                _this.sizeColumnsToFit(500);\n            }, 100);\n        }\n        else if (nextTimeout === 500) {\n            window.setTimeout(function () {\n                _this.sizeColumnsToFit(-1);\n            }, 500);\n        }\n        else {\n            console.warn('ag-Grid: tried to call sizeColumnsToFit() but the grid is coming back with ' +\n                'zero width, maybe the grid is not visible yet on the screen?');\n        }\n    };\n    // used by autoWidthCalculator and autoHeightCalculator\n    GridPanel.prototype.getCenterContainer = function () {\n        return this.eCenterContainer;\n    };\n    GridPanel.prototype.getDropTargetBodyContainers = function () {\n        return [this.eCenterViewport, this.eTopViewport, this.eBottomViewport];\n    };\n    GridPanel.prototype.getDropTargetLeftContainers = function () {\n        return [this.eLeftContainer, this.eLeftBottom, this.eLeftTop];\n    };\n    GridPanel.prototype.getDropTargetRightContainers = function () {\n        return [this.eRightContainer, this.eRightBottom, this.eRightTop];\n    };\n    GridPanel.prototype.buildRowContainerComponents = function () {\n        var _this = this;\n        this.eAllCellContainers = [\n            this.eLeftContainer, this.eRightContainer, this.eCenterContainer,\n            this.eTop, this.eBottom, this.eFullWidthContainer\n        ];\n        this.rowContainerComponents = {\n            body: new RowContainerComponent({\n                eContainer: this.eCenterContainer,\n                eWrapper: this.eCenterColsClipper,\n                eViewport: this.eBodyViewport\n            }),\n            fullWidth: new RowContainerComponent({\n                eContainer: this.eFullWidthContainer\n            }),\n            pinnedLeft: new RowContainerComponent({ eContainer: this.eLeftContainer }),\n            pinnedRight: new RowContainerComponent({ eContainer: this.eRightContainer }),\n            floatingTop: new RowContainerComponent({ eContainer: this.eTopContainer }),\n            floatingTopPinnedLeft: new RowContainerComponent({ eContainer: this.eLeftTop }),\n            floatingTopPinnedRight: new RowContainerComponent({ eContainer: this.eRightTop }),\n            floatingTopFullWidth: new RowContainerComponent({\n                eContainer: this.eTopFullWidthContainer,\n                hideWhenNoChildren: true\n            }),\n            floatingBottom: new RowContainerComponent({ eContainer: this.eBottomContainer }),\n            floatingBottomPinnedLeft: new RowContainerComponent({ eContainer: this.eLeftBottom }),\n            floatingBottomPinnedRight: new RowContainerComponent({ eContainer: this.eRightBottom }),\n            floatingBottomFullWidth: new RowContainerComponent({\n                eContainer: this.eBottomFullWidthContainer,\n                hideWhenNoChildren: true\n            }),\n        };\n        _.iterateObject(this.rowContainerComponents, function (key, container) {\n            if (container) {\n                _this.getContext().wireBean(container);\n            }\n        });\n    };\n    GridPanel.prototype.setupRowAnimationCssClass = function () {\n        var _this = this;\n        var listener = function () {\n            // we don't want to use row animation if scaling, as rows jump strangely as you scroll,\n            // when scaling and doing row animation.\n            var animateRows = _this.gridOptionsWrapper.isAnimateRows() && !_this.heightScaler.isScaling();\n            _.addOrRemoveCssClass(_this.eBodyViewport, 'ag-row-animation', animateRows);\n            _.addOrRemoveCssClass(_this.eBodyViewport, 'ag-row-no-animation', !animateRows);\n        };\n        listener();\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_HEIGHT_SCALE_CHANGED, listener);\n    };\n    // when editing a pinned row, if the cell is half outside the scrollable area, the browser can\n    // scroll the column into view. we do not want this, the pinned sections should never scroll.\n    // so we listen to scrolls on these containers and reset the scroll if we find one.\n    GridPanel.prototype.suppressScrollOnFloatingRow = function () {\n        var _this = this;\n        var resetTopScroll = function () { return _this.eTopViewport.scrollLeft = 0; };\n        var resetBottomScroll = function () { return _this.eTopViewport.scrollLeft = 0; };\n        this.addDestroyableEventListener(this.eTopViewport, 'scroll', resetTopScroll);\n        this.addDestroyableEventListener(this.eBottomViewport, 'scroll', resetBottomScroll);\n    };\n    GridPanel.prototype.getRowContainers = function () {\n        return this.rowContainerComponents;\n    };\n    GridPanel.prototype.getFloatingTopBottom = function () {\n        return [this.eTop, this.eBottom];\n    };\n    GridPanel.prototype.onDisplayedColumnsChanged = function () {\n        this.setPinnedContainerSize();\n        this.setHeaderAndFloatingHeights();\n        this.onHorizontalViewportChanged();\n        this.updateScrollVisibleService();\n        this.updateColumnCount();\n    };\n    GridPanel.prototype.onDisplayedColumnsWidthChanged = function () {\n        this.setWidthsOfContainers();\n        this.onHorizontalViewportChanged();\n        this.updateScrollVisibleService();\n        if (this.enableRtl) {\n            // because RTL is all backwards, a change in the width of the row\n            // can cause a change in the scroll position, without a scroll event,\n            // because the scroll position in RTL is a function that depends on\n            // the width. to be convinced of this, take out this line, enable RTL,\n            // scroll all the way to the left and then resize a column\n            this.horizontallyScrollHeaderCenterAndFloatingCenter();\n        }\n    };\n    GridPanel.prototype.setWidthsOfContainers = function () {\n        this.setCenterWidth();\n        this.setPinnedContainerSize();\n    };\n    GridPanel.prototype.setCenterWidth = function () {\n        var width = this.columnController.getBodyContainerWidth();\n        if (this.printLayout) {\n            var pinnedContainerWidths = this.columnController.getPinnedLeftContainerWidth()\n                + this.columnController.getPinnedRightContainerWidth();\n            width += pinnedContainerWidths;\n        }\n        this.headerRootComp.setHeaderContainerWidth(width);\n        var widthPx = width + \"px\";\n        this.eCenterContainer.style.width = widthPx;\n        this.eBottomContainer.style.width = widthPx;\n        this.eTopContainer.style.width = widthPx;\n        if (!this.printLayout) {\n            this.eBodyHorizontalScrollContainer.style.width = widthPx;\n        }\n    };\n    GridPanel.prototype.setPinnedLeftWidth = function () {\n        var _this = this;\n        var oldPinning = this.pinningLeft;\n        var widthOfCols = this.columnController.getPinnedLeftContainerWidth();\n        var newPinning = this.pinningLeft = !this.printLayout && widthOfCols > 0;\n        var containers = [this.eLeftContainer, this.eLeftTop, this.eLeftBottom];\n        if (oldPinning !== newPinning) {\n            this.headerRootComp.setLeftVisible(newPinning);\n        }\n        containers.forEach(function (e) { return _.setDisplayed(e, _this.pinningLeft); });\n        if (newPinning) {\n            containers.forEach(function (ct) { return _.setFixedWidth(ct, widthOfCols); });\n        }\n    };\n    GridPanel.prototype.setPinnedRightWidth = function () {\n        var oldPinning = this.pinningRight;\n        var widthOfCols = this.columnController.getPinnedRightContainerWidth();\n        var newPinning = this.pinningRight = !this.printLayout && widthOfCols > 0;\n        var containers = [this.eRightContainer, this.eRightTop, this.eRightBottom];\n        if (oldPinning !== newPinning) {\n            this.headerRootComp.setRightVisible(newPinning);\n        }\n        containers.forEach(function (ct) { return _.setDisplayed(ct, newPinning); });\n        if (newPinning) {\n            containers.forEach(function (ct) { return _.setFixedWidth(ct, widthOfCols); });\n        }\n    };\n    GridPanel.prototype.setPinnedContainerSize = function () {\n        this.setPinnedLeftWidth();\n        this.setPinnedRightWidth();\n        this.setFakeHScrollSpacerWidths();\n    };\n    GridPanel.prototype.setFakeHScrollSpacerWidths = function () {\n        // we pad the right based on a) if cols are pinned to the right and\n        // b) if v scroll is showing on the right (normal position of scroll)\n        var rightSpacing = this.columnController.getPinnedRightContainerWidth();\n        var scrollOnRight = !this.enableRtl && this.isVerticalScrollShowing();\n        if (scrollOnRight) {\n            rightSpacing += this.scrollWidth;\n        }\n        _.setFixedWidth(this.eHorizontalRightSpacer, rightSpacing);\n        _.addOrRemoveCssClass(this.eHorizontalRightSpacer, 'ag-scroller-corner', rightSpacing <= this.scrollWidth);\n        // we pad the left based on a) if cols are pinned to the left and\n        // b) if v scroll is showing on the left (happens in LTR layout only)\n        var leftSpacing = this.columnController.getPinnedLeftContainerWidth();\n        var scrollOnLeft = this.enableRtl && this.isVerticalScrollShowing();\n        if (scrollOnLeft) {\n            leftSpacing += this.scrollWidth;\n        }\n        _.setFixedWidth(this.eHorizontalLeftSpacer, leftSpacing);\n        _.addOrRemoveCssClass(this.eHorizontalLeftSpacer, 'ag-scroller-corner', leftSpacing <= this.scrollWidth);\n    };\n    GridPanel.prototype.checkBodyHeight = function () {\n        var bodyHeight = this.eBodyViewport.clientHeight;\n        if (this.bodyHeight !== bodyHeight) {\n            this.bodyHeight = bodyHeight;\n            var event_3 = {\n                type: Events.EVENT_BODY_HEIGHT_CHANGED,\n                api: this.gridApi,\n                columnApi: this.columnApi\n            };\n            this.eventService.dispatchEvent(event_3);\n        }\n    };\n    GridPanel.prototype.setHeaderAndFloatingHeights = function () {\n        var _a = this, columnController = _a.columnController, gridOptionsWrapper = _a.gridOptionsWrapper, pinnedRowModel = _a.pinnedRowModel, eTop = _a.eTop, eBottom = _a.eBottom;\n        var numberOfFloating = 0;\n        var headerRowCount = columnController.getHeaderRowCount();\n        var totalHeaderHeight;\n        var groupHeight;\n        var headerHeight;\n        if (columnController.isPivotMode()) {\n            groupHeight = gridOptionsWrapper.getPivotGroupHeaderHeight();\n            headerHeight = gridOptionsWrapper.getPivotHeaderHeight();\n        }\n        else {\n            var hasFloatingFilters = columnController.hasFloatingFilters();\n            if (hasFloatingFilters) {\n                headerRowCount++;\n                numberOfFloating = 1;\n            }\n            groupHeight = gridOptionsWrapper.getGroupHeaderHeight();\n            headerHeight = gridOptionsWrapper.getHeaderHeight();\n        }\n        var numberOfNonGroups = 1 + numberOfFloating;\n        var numberOfGroups = headerRowCount - numberOfNonGroups;\n        totalHeaderHeight = numberOfFloating * gridOptionsWrapper.getFloatingFiltersHeight();\n        totalHeaderHeight += numberOfGroups * groupHeight;\n        totalHeaderHeight += headerHeight;\n        this.headerRootComp.setHeight(totalHeaderHeight);\n        var floatingTopHeight = pinnedRowModel.getPinnedTopTotalHeight();\n        if (floatingTopHeight) {\n            // adding 1px for cell bottom border\n            floatingTopHeight += 1;\n        }\n        var floatingBottomHeight = pinnedRowModel.getPinnedBottomTotalHeight();\n        if (floatingBottomHeight) {\n            // adding 1px for cell bottom border\n            floatingBottomHeight += 1;\n        }\n        var floatingTopHeightString = floatingTopHeight + \"px\";\n        var floatingBottomHeightString = floatingBottomHeight + \"px\";\n        eTop.style.minHeight = floatingTopHeightString;\n        eTop.style.height = floatingTopHeightString;\n        eTop.style.display = floatingTopHeight ? 'inherit' : 'none';\n        eBottom.style.minHeight = floatingBottomHeightString;\n        eBottom.style.height = floatingBottomHeightString;\n        eBottom.style.display = floatingBottomHeight ? 'inherit' : 'none';\n        this.checkBodyHeight();\n    };\n    GridPanel.prototype.getBodyHeight = function () {\n        return this.bodyHeight;\n    };\n    // called by scrollHorizontally method and alignedGridsService\n    GridPanel.prototype.setHorizontalScrollPosition = function (hScrollPosition) {\n        this.eCenterViewport.scrollLeft = hScrollPosition;\n        // we need to manually do the event handling (rather than wait for the event)\n        // for the alignedGridsService, as if we don't, the aligned grid service gets\n        // notified async, and then it's 'consuming' flag doesn't get used right, and\n        // we can end up with an infinite loop\n        this.doHorizontalScroll(hScrollPosition);\n    };\n    GridPanel.prototype.setVerticalScrollPosition = function (vScrollPosition) {\n        this.eBodyViewport.scrollTop = vScrollPosition;\n    };\n    // called by the headerRootComp and moveColumnController\n    GridPanel.prototype.scrollHorizontally = function (pixels) {\n        var oldScrollPosition = this.eCenterViewport.scrollLeft;\n        this.setHorizontalScrollPosition(oldScrollPosition + pixels);\n        return this.eCenterViewport.scrollLeft - oldScrollPosition;\n    };\n    // called by rowDragFeature\n    GridPanel.prototype.scrollVertically = function (pixels) {\n        var oldScrollPosition = this.eBodyViewport.scrollTop;\n        this.setVerticalScrollPosition(oldScrollPosition + pixels);\n        return this.eBodyViewport.scrollTop - oldScrollPosition;\n    };\n    GridPanel.prototype.addScrollListener = function () {\n        this.addDestroyableEventListener(this.eCenterViewport, 'scroll', this.onCenterViewportScroll.bind(this));\n        this.addDestroyableEventListener(this.eBodyHorizontalScrollViewport, 'scroll', this.onFakeHorizontalScroll.bind(this));\n        this.addDestroyableEventListener(this.eBodyViewport, 'scroll', this.onVerticalScroll.bind(this));\n    };\n    GridPanel.prototype.onVerticalScroll = function () {\n        var scrollTop = this.eBodyViewport.scrollTop;\n        this.animationFrameService.setScrollTop(scrollTop);\n        this.scrollTop = scrollTop;\n        this.redrawRowsAfterScroll();\n    };\n    GridPanel.prototype.isControllingScroll = function (eDiv) {\n        if (!this.lastHorizontalScrollElement) {\n            this.lastHorizontalScrollElement = eDiv;\n            return true;\n        }\n        return eDiv === this.lastHorizontalScrollElement;\n    };\n    GridPanel.prototype.onFakeHorizontalScroll = function () {\n        if (!this.isControllingScroll(this.eBodyHorizontalScrollViewport)) {\n            return;\n        }\n        this.onBodyHorizontalScroll(this.eBodyHorizontalScrollViewport);\n    };\n    GridPanel.prototype.onCenterViewportScroll = function () {\n        if (!this.isControllingScroll(this.eCenterViewport)) {\n            return;\n        }\n        this.onBodyHorizontalScroll(this.eCenterViewport);\n    };\n    GridPanel.prototype.onBodyHorizontalScroll = function (eSource) {\n        var _a = this.eCenterViewport, scrollWidth = _a.scrollWidth, clientWidth = _a.clientWidth;\n        // in chrome, fractions can be in the scroll left, eg 250.342234 - which messes up our 'scrollWentPastBounds'\n        // formula. so we floor it to allow the formula to work.\n        var scrollLeft = Math.floor(_.getScrollLeft(eSource, this.enableRtl));\n        // touch devices allow elastic scroll - which temporally scrolls the panel outside of the viewport\n        // (eg user uses touch to go to the left of the grid, but drags past the left, the rows will actually\n        // scroll past the left until the user releases the mouse). when this happens, we want ignore the scroll,\n        // as otherwise it was causing the rows and header to flicker.\n        var scrollWentPastBounds = scrollLeft < 0 || (scrollLeft + clientWidth > scrollWidth);\n        if (scrollWentPastBounds) {\n            return;\n        }\n        this.doHorizontalScroll(scrollLeft);\n        this.resetLastHorizontalScrollElementDebounced();\n    };\n    GridPanel.prototype.resetLastHorizontalScrollElement = function () {\n        this.lastHorizontalScrollElement = null;\n    };\n    GridPanel.prototype.doHorizontalScroll = function (scrollLeft) {\n        this.scrollLeft = scrollLeft;\n        var event = {\n            type: Events.EVENT_BODY_SCROLL,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            direction: 'horizontal',\n            left: this.scrollLeft,\n            top: this.scrollTop\n        };\n        this.eventService.dispatchEvent(event);\n        this.horizontallyScrollHeaderCenterAndFloatingCenter(scrollLeft);\n        this.onHorizontalViewportChanged();\n    };\n    GridPanel.prototype.redrawRowsAfterScroll = function () {\n        var event = {\n            type: Events.EVENT_BODY_SCROLL,\n            direction: 'vertical',\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            left: this.scrollLeft,\n            top: this.scrollTop\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    // this gets called whenever a change in the viewport, so we can inform column controller it has to work\n    // out the virtual columns again. gets called from following locations:\n    // + ensureColVisible, scroll, init, layoutChanged, displayedColumnsChanged, API (doLayout)\n    GridPanel.prototype.onHorizontalViewportChanged = function () {\n        var scrollWidth = this.eCenterViewport.clientWidth;\n        var scrollPosition = this.getCenterViewportScrollLeft();\n        this.columnController.setVirtualViewportPosition(scrollWidth, scrollPosition);\n    };\n    GridPanel.prototype.getCenterViewportScrollLeft = function () {\n        // we defer to a util, as how you calculated scrollLeft when doing RTL depends on the browser\n        return _.getScrollLeft(this.eCenterViewport, this.enableRtl);\n    };\n    GridPanel.prototype.setCenterViewportScrollLeft = function (value) {\n        // we defer to a util, as how you calculated scrollLeft when doing RTL depends on the browser\n        _.setScrollLeft(this.eCenterViewport, value, this.enableRtl);\n    };\n    GridPanel.prototype.horizontallyScrollHeaderCenterAndFloatingCenter = function (scrollLeft) {\n        if (scrollLeft === undefined) {\n            scrollLeft = this.getCenterViewportScrollLeft();\n        }\n        var offset = this.enableRtl ? scrollLeft : -scrollLeft;\n        var _a = this.eCenterViewport, clientWidth = _a.clientWidth, scrollWidth = _a.scrollWidth;\n        var scrollWentPastBounds = Math.abs(offset) + clientWidth > scrollWidth;\n        if (scrollWentPastBounds ||\n            (this.enableRtl && offset < 0) ||\n            (!this.enableRtl && offset > 0)) {\n            return;\n        }\n        this.headerRootComp.setHorizontalScroll(offset);\n        this.eBottomContainer.style.transform = \"translateX(\" + offset + \"px)\";\n        this.eTopContainer.style.transform = \"translateX(\" + offset + \"px)\";\n        var partner = this.lastHorizontalScrollElement === this.eCenterViewport ? this.eBodyHorizontalScrollViewport : this.eCenterViewport;\n        _.setScrollLeft(partner, scrollLeft, this.enableRtl);\n    };\n    // + rangeController\n    GridPanel.prototype.addScrollEventListener = function (listener) {\n        this.eBodyViewport.addEventListener('scroll', listener);\n    };\n    // + rangeController\n    GridPanel.prototype.removeScrollEventListener = function (listener) {\n        this.eBodyViewport.removeEventListener('scroll', listener);\n    };\n    __decorate$Y([\n        Autowired('alignedGridsService')\n    ], GridPanel.prototype, \"alignedGridsService\", void 0);\n    __decorate$Y([\n        Autowired('gridOptionsWrapper')\n    ], GridPanel.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$Y([\n        Autowired('columnController')\n    ], GridPanel.prototype, \"columnController\", void 0);\n    __decorate$Y([\n        Autowired('rowRenderer')\n    ], GridPanel.prototype, \"rowRenderer\", void 0);\n    __decorate$Y([\n        Autowired('pinnedRowModel')\n    ], GridPanel.prototype, \"pinnedRowModel\", void 0);\n    __decorate$Y([\n        Autowired('eventService')\n    ], GridPanel.prototype, \"eventService\", void 0);\n    __decorate$Y([\n        Autowired('animationFrameService')\n    ], GridPanel.prototype, \"animationFrameService\", void 0);\n    __decorate$Y([\n        Autowired('navigationService')\n    ], GridPanel.prototype, \"navigationService\", void 0);\n    __decorate$Y([\n        Autowired('autoHeightCalculator')\n    ], GridPanel.prototype, \"autoHeightCalculator\", void 0);\n    __decorate$Y([\n        Autowired('columnAnimationService')\n    ], GridPanel.prototype, \"columnAnimationService\", void 0);\n    __decorate$Y([\n        Autowired('autoWidthCalculator')\n    ], GridPanel.prototype, \"autoWidthCalculator\", void 0);\n    __decorate$Y([\n        Autowired('paginationAutoPageSizeService')\n    ], GridPanel.prototype, \"paginationAutoPageSizeService\", void 0);\n    __decorate$Y([\n        Autowired('beans')\n    ], GridPanel.prototype, \"beans\", void 0);\n    __decorate$Y([\n        Autowired('paginationProxy')\n    ], GridPanel.prototype, \"paginationProxy\", void 0);\n    __decorate$Y([\n        Autowired('columnApi')\n    ], GridPanel.prototype, \"columnApi\", void 0);\n    __decorate$Y([\n        Autowired('gridApi')\n    ], GridPanel.prototype, \"gridApi\", void 0);\n    __decorate$Y([\n        Autowired('dragService')\n    ], GridPanel.prototype, \"dragService\", void 0);\n    __decorate$Y([\n        Autowired('mouseEventService')\n    ], GridPanel.prototype, \"mouseEventService\", void 0);\n    __decorate$Y([\n        Autowired('$scope')\n    ], GridPanel.prototype, \"$scope\", void 0);\n    __decorate$Y([\n        Autowired('scrollVisibleService')\n    ], GridPanel.prototype, \"scrollVisibleService\", void 0);\n    __decorate$Y([\n        Autowired('valueService')\n    ], GridPanel.prototype, \"valueService\", void 0);\n    __decorate$Y([\n        Autowired('dragAndDropService')\n    ], GridPanel.prototype, \"dragAndDropService\", void 0);\n    __decorate$Y([\n        Autowired('maxDivHeightScaler')\n    ], GridPanel.prototype, \"heightScaler\", void 0);\n    __decorate$Y([\n        Autowired('resizeObserverService')\n    ], GridPanel.prototype, \"resizeObserverService\", void 0);\n    __decorate$Y([\n        Autowired('undoRedoService')\n    ], GridPanel.prototype, \"undoRedoService\", void 0);\n    __decorate$Y([\n        Optional('rangeController')\n    ], GridPanel.prototype, \"rangeController\", void 0);\n    __decorate$Y([\n        Optional('contextMenuFactory')\n    ], GridPanel.prototype, \"contextMenuFactory\", void 0);\n    __decorate$Y([\n        Optional('clipboardService')\n    ], GridPanel.prototype, \"clipboardService\", void 0);\n    __decorate$Y([\n        RefSelector('eBodyViewport')\n    ], GridPanel.prototype, \"eBodyViewport\", void 0);\n    __decorate$Y([\n        RefSelector('eCenterContainer')\n    ], GridPanel.prototype, \"eCenterContainer\", void 0);\n    __decorate$Y([\n        RefSelector('eCenterViewport')\n    ], GridPanel.prototype, \"eCenterViewport\", void 0);\n    __decorate$Y([\n        RefSelector('eLeftContainer')\n    ], GridPanel.prototype, \"eLeftContainer\", void 0);\n    __decorate$Y([\n        RefSelector('eRightContainer')\n    ], GridPanel.prototype, \"eRightContainer\", void 0);\n    __decorate$Y([\n        RefSelector('eCenterColsClipper')\n    ], GridPanel.prototype, \"eCenterColsClipper\", void 0);\n    __decorate$Y([\n        RefSelector('eHorizontalScrollBody')\n    ], GridPanel.prototype, \"eHorizontalScrollBody\", void 0);\n    __decorate$Y([\n        RefSelector('eHorizontalLeftSpacer')\n    ], GridPanel.prototype, \"eHorizontalLeftSpacer\", void 0);\n    __decorate$Y([\n        RefSelector('eHorizontalRightSpacer')\n    ], GridPanel.prototype, \"eHorizontalRightSpacer\", void 0);\n    __decorate$Y([\n        RefSelector('eBodyHorizontalScrollViewport')\n    ], GridPanel.prototype, \"eBodyHorizontalScrollViewport\", void 0);\n    __decorate$Y([\n        RefSelector('eBodyHorizontalScrollContainer')\n    ], GridPanel.prototype, \"eBodyHorizontalScrollContainer\", void 0);\n    __decorate$Y([\n        RefSelector('eFullWidthContainer')\n    ], GridPanel.prototype, \"eFullWidthContainer\", void 0);\n    __decorate$Y([\n        RefSelector('eTop')\n    ], GridPanel.prototype, \"eTop\", void 0);\n    __decorate$Y([\n        RefSelector('eLeftTop')\n    ], GridPanel.prototype, \"eLeftTop\", void 0);\n    __decorate$Y([\n        RefSelector('eRightTop')\n    ], GridPanel.prototype, \"eRightTop\", void 0);\n    __decorate$Y([\n        RefSelector('eTopContainer')\n    ], GridPanel.prototype, \"eTopContainer\", void 0);\n    __decorate$Y([\n        RefSelector('eTopViewport')\n    ], GridPanel.prototype, \"eTopViewport\", void 0);\n    __decorate$Y([\n        RefSelector('eTopFullWidthContainer')\n    ], GridPanel.prototype, \"eTopFullWidthContainer\", void 0);\n    __decorate$Y([\n        RefSelector('eBottom')\n    ], GridPanel.prototype, \"eBottom\", void 0);\n    __decorate$Y([\n        RefSelector('eLeftBottom')\n    ], GridPanel.prototype, \"eLeftBottom\", void 0);\n    __decorate$Y([\n        RefSelector('eRightBottom')\n    ], GridPanel.prototype, \"eRightBottom\", void 0);\n    __decorate$Y([\n        RefSelector('eBottomContainer')\n    ], GridPanel.prototype, \"eBottomContainer\", void 0);\n    __decorate$Y([\n        RefSelector('eBottomViewport')\n    ], GridPanel.prototype, \"eBottomViewport\", void 0);\n    __decorate$Y([\n        RefSelector('eBottomFullWidthContainer')\n    ], GridPanel.prototype, \"eBottomFullWidthContainer\", void 0);\n    __decorate$Y([\n        RefSelector('headerRoot')\n    ], GridPanel.prototype, \"headerRootComp\", void 0);\n    __decorate$Y([\n        RefSelector('overlayWrapper')\n    ], GridPanel.prototype, \"overlayWrapper\", void 0);\n    __decorate$Y([\n        PostConstruct\n    ], GridPanel.prototype, \"init\", null);\n    return GridPanel;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$Z = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar GridApi = /** @class */ (function () {\n    function GridApi() {\n        this.detailGridInfoMap = {};\n    }\n    GridApi.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    GridApi.prototype.registerGridCore = function (gridCore) {\n        this.gridCore = gridCore;\n    };\n    GridApi.prototype.registerHeaderRootComp = function (headerRootComp) {\n        this.headerRootComp = headerRootComp;\n    };\n    GridApi.prototype.init = function () {\n        switch (this.rowModel.getType()) {\n            case Constants.ROW_MODEL_TYPE_CLIENT_SIDE:\n                this.clientSideRowModel = this.rowModel;\n                break;\n            case Constants.ROW_MODEL_TYPE_INFINITE:\n                this.infiniteRowModel = this.rowModel;\n                break;\n            case Constants.ROW_MODEL_TYPE_SERVER_SIDE:\n                this.serverSideRowModel = this.rowModel;\n                break;\n        }\n    };\n    /** Used internally by grid. Not intended to be used by the client. Interface may change between releases. */\n    GridApi.prototype.__getAlignedGridService = function () {\n        return this.alignedGridsService;\n    };\n    GridApi.prototype.addDetailGridInfo = function (id, gridInfo) {\n        this.detailGridInfoMap[id] = gridInfo;\n    };\n    GridApi.prototype.removeDetailGridInfo = function (id) {\n        this.detailGridInfoMap[id] = undefined;\n    };\n    GridApi.prototype.getDetailGridInfo = function (id) {\n        return this.detailGridInfoMap[id];\n    };\n    GridApi.prototype.forEachDetailGridInfo = function (callback) {\n        var index = 0;\n        _.iterateObject(this.detailGridInfoMap, function (id, gridInfo) {\n            // check for undefined, as old references will still be lying around\n            if (_.exists(gridInfo)) {\n                callback(gridInfo, index);\n                index++;\n            }\n        });\n    };\n    GridApi.prototype.getDataAsCsv = function (params) {\n        if (ModuleRegistry.assertRegistered(exports.ModuleNames.CsvExportModule, 'api.getDataAsCsv')) {\n            return this.csvCreator.getDataAsCsv(params);\n        }\n    };\n    GridApi.prototype.exportDataAsCsv = function (params) {\n        if (ModuleRegistry.assertRegistered(exports.ModuleNames.CsvExportModule, 'api.exportDataAsCSv')) {\n            this.csvCreator.exportDataAsCsv(params);\n        }\n    };\n    GridApi.prototype.getDataAsExcel = function (params) {\n        if (ModuleRegistry.assertRegistered(exports.ModuleNames.ExcelExportModule, 'api.getDataAsExcel')) {\n            return this.excelCreator.getDataAsExcelXml(params);\n        }\n    };\n    GridApi.prototype.exportDataAsExcel = function (params) {\n        if (ModuleRegistry.assertRegistered(exports.ModuleNames.ExcelExportModule, 'api.exportDataAsExcel')) {\n            this.excelCreator.exportDataAsExcel(params);\n        }\n    };\n    /** @deprecated */\n    GridApi.prototype.setEnterpriseDatasource = function (datasource) {\n        console.warn(\"ag-grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()\");\n        this.setServerSideDatasource(datasource);\n    };\n    GridApi.prototype.setServerSideDatasource = function (datasource) {\n        if (this.gridOptionsWrapper.isRowModelServerSide()) {\n            // should really have an IEnterpriseRowModel interface, so we are not casting to any\n            this.rowModel.setDatasource(datasource);\n        }\n        else {\n            console.warn(\"ag-Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '\" + Constants.ROW_MODEL_TYPE_SERVER_SIDE + \"'\");\n        }\n    };\n    GridApi.prototype.setDatasource = function (datasource) {\n        if (this.gridOptionsWrapper.isRowModelInfinite()) {\n            this.rowModel.setDatasource(datasource);\n        }\n        else {\n            console.warn(\"ag-Grid: you can only use a datasource when gridOptions.rowModelType is '\" + Constants.ROW_MODEL_TYPE_INFINITE + \"'\");\n        }\n    };\n    GridApi.prototype.setViewportDatasource = function (viewportDatasource) {\n        if (this.gridOptionsWrapper.isRowModelViewport()) {\n            // this is bad coding, because it's using an interface that's exposed in the enterprise.\n            // really we should create an interface in the core for viewportDatasource and let\n            // the enterprise implement it, rather than casting to 'any' here\n            this.rowModel.setViewportDatasource(viewportDatasource);\n        }\n        else {\n            console.warn(\"ag-Grid: you can only use a viewport datasource when gridOptions.rowModelType is '\" + Constants.ROW_MODEL_TYPE_VIEWPORT + \"'\");\n        }\n    };\n    GridApi.prototype.setRowData = function (rowData) {\n        if (this.gridOptionsWrapper.isRowModelDefault()) {\n            if (this.gridOptionsWrapper.isImmutableData()) {\n                var _a = this.immutableService.createTransactionForRowData(rowData), transaction = _a[0], orderIdMap = _a[1];\n                this.clientSideRowModel.updateRowData(transaction, orderIdMap);\n                // need to force updating of full width rows - note this wouldn't be necessary the full width cell comp listened\n                // to the data change event on the row node and refreshed itself.\n                this.rowRenderer.refreshFullWidthRows();\n            }\n            else {\n                this.selectionController.reset();\n                this.clientSideRowModel.setRowData(rowData);\n            }\n        }\n        else {\n            console.warn('cannot call setRowData unless using normal row model');\n        }\n    };\n    /** @deprecated */\n    GridApi.prototype.setFloatingTopRowData = function (rows) {\n        console.warn('ag-Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()');\n        this.setPinnedTopRowData(rows);\n    };\n    /** @deprecated */\n    GridApi.prototype.setFloatingBottomRowData = function (rows) {\n        console.warn('ag-Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()');\n        this.setPinnedBottomRowData(rows);\n    };\n    /** @deprecated */\n    GridApi.prototype.getFloatingTopRowCount = function () {\n        console.warn('ag-Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()');\n        return this.getPinnedTopRowCount();\n    };\n    /** @deprecated */\n    GridApi.prototype.getFloatingBottomRowCount = function () {\n        console.warn('ag-Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()');\n        return this.getPinnedBottomRowCount();\n    };\n    /** @deprecated */\n    GridApi.prototype.getFloatingTopRow = function (index) {\n        console.warn('ag-Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()');\n        return this.getPinnedTopRow(index);\n    };\n    /** @deprecated */\n    GridApi.prototype.getFloatingBottomRow = function (index) {\n        console.warn('ag-Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()');\n        return this.getPinnedBottomRow(index);\n    };\n    GridApi.prototype.setPinnedTopRowData = function (rows) {\n        this.pinnedRowModel.setPinnedTopRowData(rows);\n    };\n    GridApi.prototype.setPinnedBottomRowData = function (rows) {\n        this.pinnedRowModel.setPinnedBottomRowData(rows);\n    };\n    GridApi.prototype.getPinnedTopRowCount = function () {\n        return this.pinnedRowModel.getPinnedTopRowCount();\n    };\n    GridApi.prototype.getPinnedBottomRowCount = function () {\n        return this.pinnedRowModel.getPinnedBottomRowCount();\n    };\n    GridApi.prototype.getPinnedTopRow = function (index) {\n        return this.pinnedRowModel.getPinnedTopRow(index);\n    };\n    GridApi.prototype.getPinnedBottomRow = function (index) {\n        return this.pinnedRowModel.getPinnedBottomRow(index);\n    };\n    GridApi.prototype.setColumnDefs = function (colDefs, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.columnController.setColumnDefs(colDefs, source);\n    };\n    GridApi.prototype.expireValueCache = function () {\n        this.valueCache.expire();\n    };\n    GridApi.prototype.getVerticalPixelRange = function () {\n        return this.gridPanel.getVScrollPosition();\n    };\n    GridApi.prototype.getHorizontalPixelRange = function () {\n        return this.gridPanel.getHScrollPosition();\n    };\n    GridApi.prototype.setAlwaysShowVerticalScroll = function (show) {\n        this.gridOptionsWrapper.setProperty('alwaysShowVerticalScroll', show);\n    };\n    GridApi.prototype.refreshToolPanel = function () {\n        this.gridCore.refreshSideBar();\n    };\n    GridApi.prototype.refreshCells = function (params) {\n        if (params === void 0) { params = {}; }\n        if (Array.isArray(params)) {\n            // the old version of refreshCells() took an array of rowNodes for the first argument\n            console.warn('since ag-Grid v11.1, refreshCells() now takes parameters, please see the documentation.');\n            return;\n        }\n        this.rowRenderer.refreshCells(params);\n    };\n    GridApi.prototype.flashCells = function (params) {\n        if (params === void 0) { params = {}; }\n        this.rowRenderer.flashCells(params);\n    };\n    GridApi.prototype.redrawRows = function (params) {\n        if (params === void 0) { params = {}; }\n        if (params && params.rowNodes) {\n            this.rowRenderer.redrawRows(params.rowNodes);\n        }\n        else {\n            this.rowRenderer.redrawAfterModelUpdate();\n        }\n    };\n    GridApi.prototype.timeFullRedraw = function (count) {\n        if (count === void 0) { count = 1; }\n        var iterationCount = 0;\n        var totalProcessing = 0;\n        var totalReflow = 0;\n        var that = this;\n        doOneIteration();\n        function doOneIteration() {\n            var start = (new Date()).getTime();\n            that.rowRenderer.redrawAfterModelUpdate();\n            var endProcessing = (new Date()).getTime();\n            window.setTimeout(function () {\n                var endReflow = (new Date()).getTime();\n                var durationProcessing = endProcessing - start;\n                var durationReflow = endReflow - endProcessing;\n                // tslint:disable-next-line\n                console.log('duration:  processing = ' + durationProcessing + 'ms, reflow = ' + durationReflow + 'ms');\n                iterationCount++;\n                totalProcessing += durationProcessing;\n                totalReflow += durationReflow;\n                if (iterationCount < count) {\n                    // wait for 1s between tests\n                    window.setTimeout(doOneIteration, 1000);\n                }\n                else {\n                    finish();\n                }\n            }, 0);\n        }\n        function finish() {\n            // tslint:disable-next-line\n            console.log('tests complete. iteration count = ' + iterationCount);\n            // tslint:disable-next-line\n            console.log('average processing = ' + (totalProcessing / iterationCount) + 'ms');\n            // tslint:disable-next-line\n            console.log('average reflow = ' + (totalReflow / iterationCount) + 'ms');\n        }\n    };\n    /** @deprecated */\n    GridApi.prototype.refreshView = function () {\n        console.warn('ag-Grid: since v11.1, refreshView() is deprecated, please call refreshCells() or redrawRows() instead');\n        this.redrawRows();\n    };\n    /** @deprecated */\n    GridApi.prototype.refreshRows = function (rowNodes) {\n        console.warn('since ag-Grid v11.1, refreshRows() is deprecated, please use refreshCells({rowNodes: rows}) or redrawRows({rowNodes: rows}) instead');\n        this.refreshCells({ rowNodes: rowNodes });\n    };\n    /** @deprecated */\n    GridApi.prototype.rowDataChanged = function (rows) {\n        console.warn('ag-Grid: rowDataChanged is deprecated, either call refreshView() to refresh everything, or call rowNode.setRowData(newData) to set value on a particular node');\n        this.redrawRows();\n    };\n    /** @deprecated */\n    GridApi.prototype.softRefreshView = function () {\n        console.error('ag-Grid: since v16, softRefreshView() is no longer supported. Please check the documentation on how to refresh.');\n    };\n    /** @deprecated */\n    GridApi.prototype.refreshGroupRows = function () {\n        console.warn('ag-Grid: since v11.1, refreshGroupRows() is no longer supported, call refreshCells() instead. ' +\n            'Because refreshCells() now does dirty checking, it will only refresh cells that have changed, so it should ' +\n            'not be necessary to only refresh the group rows.');\n        this.refreshCells();\n    };\n    GridApi.prototype.setFunctionsReadOnly = function (readOnly) {\n        this.gridOptionsWrapper.setProperty('functionsReadOnly', readOnly);\n    };\n    GridApi.prototype.refreshHeader = function () {\n        this.headerRootComp.refreshHeader();\n        this.gridPanel.setHeaderAndFloatingHeights();\n    };\n    GridApi.prototype.isAnyFilterPresent = function () {\n        return this.filterManager.isAnyFilterPresent();\n    };\n    /** @deprecated */\n    GridApi.prototype.isAdvancedFilterPresent = function () {\n        console.warn('ag-Grid: isAdvancedFilterPresent() is deprecated, please use isColumnFilterPresent()');\n        return this.isColumnFilterPresent();\n    };\n    GridApi.prototype.isColumnFilterPresent = function () {\n        return this.filterManager.isAdvancedFilterPresent();\n    };\n    GridApi.prototype.isQuickFilterPresent = function () {\n        return this.filterManager.isQuickFilterPresent();\n    };\n    GridApi.prototype.getModel = function () {\n        return this.rowModel;\n    };\n    GridApi.prototype.setRowNodeExpanded = function (rowNode, expanded) {\n        if (rowNode) {\n            rowNode.setExpanded(expanded);\n        }\n    };\n    GridApi.prototype.onGroupExpandedOrCollapsed = function (deprecated_refreshFromIndex) {\n        if (_.missing(this.clientSideRowModel)) {\n            console.warn('ag-Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model');\n        }\n        if (_.exists(deprecated_refreshFromIndex)) {\n            console.warn('ag-Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows');\n        }\n        // we don't really want the user calling this if only one rowNode was expanded, instead they should be\n        // calling rowNode.setExpanded(boolean) - this way we do a 'keepRenderedRows=false' so that the whole\n        // grid gets refreshed again - otherwise the row with the rowNodes that were changed won't get updated,\n        // and thus the expand icon in the group cell won't get 'opened' or 'closed'.\n        this.clientSideRowModel.refreshModel({ step: Constants.STEP_MAP });\n    };\n    GridApi.prototype.refreshInMemoryRowModel = function (step) {\n        console.warn(\"ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()\");\n        this.refreshClientSideRowModel(step);\n    };\n    GridApi.prototype.refreshClientSideRowModel = function (step) {\n        if (_.missing(this.clientSideRowModel)) {\n            console.warn('cannot call refreshClientSideRowModel unless using normal row model');\n        }\n        var paramsStep = Constants.STEP_EVERYTHING;\n        var stepsMapped = {\n            group: Constants.STEP_EVERYTHING,\n            filter: Constants.STEP_FILTER,\n            map: Constants.STEP_MAP,\n            aggregate: Constants.STEP_AGGREGATE,\n            sort: Constants.STEP_SORT,\n            pivot: Constants.STEP_PIVOT\n        };\n        if (_.exists(step)) {\n            paramsStep = stepsMapped[step];\n        }\n        if (_.missing(paramsStep)) {\n            console.error(\"ag-Grid: invalid step \" + step + \", available steps are \" + Object.keys(stepsMapped).join(', '));\n            return;\n        }\n        var modelParams = {\n            step: paramsStep,\n            keepRenderedRows: true,\n            animate: true,\n            keepEditingRows: true\n        };\n        this.clientSideRowModel.refreshModel(modelParams);\n    };\n    GridApi.prototype.isAnimationFrameQueueEmpty = function () {\n        return this.animationFrameService.isQueueEmpty();\n    };\n    GridApi.prototype.getRowNode = function (id) {\n        return this.rowModel.getRowNode(id);\n    };\n    GridApi.prototype.getSizesForCurrentTheme = function () {\n        return {\n            rowHeight: this.gridOptionsWrapper.getRowHeightAsNumber(),\n            headerHeight: this.gridOptionsWrapper.getHeaderHeight()\n        };\n    };\n    GridApi.prototype.expandAll = function () {\n        if (_.missing(this.clientSideRowModel)) {\n            console.warn('ag-Grid: cannot call expandAll unless using normal row model');\n            return;\n        }\n        this.clientSideRowModel.expandOrCollapseAll(true);\n    };\n    GridApi.prototype.collapseAll = function () {\n        if (_.missing(this.clientSideRowModel)) {\n            console.warn('ag-Grid: cannot call collapseAll unless using normal row model');\n            return;\n        }\n        this.clientSideRowModel.expandOrCollapseAll(false);\n    };\n    GridApi.prototype.getToolPanelInstance = function (id) {\n        return this.gridCore.getToolPanelInstance(id);\n    };\n    GridApi.prototype.addVirtualRowListener = function (eventName, rowIndex, callback) {\n        if (typeof eventName !== 'string') {\n            console.warn('ag-Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener.');\n        }\n        this.addRenderedRowListener(eventName, rowIndex, callback);\n    };\n    GridApi.prototype.addRenderedRowListener = function (eventName, rowIndex, callback) {\n        if (eventName === 'virtualRowSelected') {\n            console.warn(\"ag-Grid: event virtualRowSelected is deprecated, to register for individual row\\n                selection events, add a listener directly to the row node.\");\n        }\n        this.rowRenderer.addRenderedRowListener(eventName, rowIndex, callback);\n    };\n    GridApi.prototype.setQuickFilter = function (newFilter) {\n        this.filterManager.setQuickFilter(newFilter);\n    };\n    GridApi.prototype.selectIndex = function (index, tryMulti, suppressEvents) {\n        console.warn('ag-Grid: do not use api for selection, call node.setSelected(value) instead');\n        if (suppressEvents) {\n            console.warn('ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it');\n        }\n        this.selectionController.selectIndex(index, tryMulti);\n    };\n    GridApi.prototype.deselectIndex = function (index, suppressEvents) {\n        if (suppressEvents === void 0) { suppressEvents = false; }\n        console.warn('ag-Grid: do not use api for selection, call node.setSelected(value) instead');\n        if (suppressEvents) {\n            console.warn('ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it');\n        }\n        this.selectionController.deselectIndex(index);\n    };\n    GridApi.prototype.selectNode = function (node, tryMulti, suppressEvents) {\n        if (tryMulti === void 0) { tryMulti = false; }\n        if (suppressEvents === void 0) { suppressEvents = false; }\n        console.warn('ag-Grid: API for selection is deprecated, call node.setSelected(value) instead');\n        if (suppressEvents) {\n            console.warn('ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it');\n        }\n        node.setSelectedParams({ newValue: true, clearSelection: !tryMulti });\n    };\n    GridApi.prototype.deselectNode = function (node, suppressEvents) {\n        if (suppressEvents === void 0) { suppressEvents = false; }\n        console.warn('ag-Grid: API for selection is deprecated, call node.setSelected(value) instead');\n        if (suppressEvents) {\n            console.warn('ag-Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it');\n        }\n        node.setSelectedParams({ newValue: false });\n    };\n    GridApi.prototype.selectAll = function () {\n        this.selectionController.selectAllRowNodes();\n    };\n    GridApi.prototype.deselectAll = function () {\n        this.selectionController.deselectAllRowNodes();\n    };\n    GridApi.prototype.selectAllFiltered = function () {\n        this.selectionController.selectAllRowNodes(true);\n    };\n    GridApi.prototype.deselectAllFiltered = function () {\n        this.selectionController.deselectAllRowNodes(true);\n    };\n    GridApi.prototype.recomputeAggregates = function () {\n        if (_.missing(this.clientSideRowModel)) {\n            console.warn('cannot call recomputeAggregates unless using normal row model');\n        }\n        console.warn(\"recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead\");\n        this.clientSideRowModel.refreshModel({ step: Constants.STEP_AGGREGATE });\n    };\n    GridApi.prototype.sizeColumnsToFit = function () {\n        this.gridPanel.sizeColumnsToFit();\n    };\n    GridApi.prototype.showLoadingOverlay = function () {\n        this.gridPanel.showLoadingOverlay();\n    };\n    GridApi.prototype.showNoRowsOverlay = function () {\n        this.gridPanel.showNoRowsOverlay();\n    };\n    GridApi.prototype.hideOverlay = function () {\n        this.gridPanel.hideOverlay();\n    };\n    GridApi.prototype.isNodeSelected = function (node) {\n        console.warn('ag-Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead');\n        return node.isSelected();\n    };\n    GridApi.prototype.getSelectedNodesById = function () {\n        console.error('ag-Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead');\n        return null;\n    };\n    GridApi.prototype.getSelectedNodes = function () {\n        return this.selectionController.getSelectedNodes();\n    };\n    GridApi.prototype.getSelectedRows = function () {\n        return this.selectionController.getSelectedRows();\n    };\n    GridApi.prototype.getBestCostNodeSelection = function () {\n        return this.selectionController.getBestCostNodeSelection();\n    };\n    GridApi.prototype.getRenderedNodes = function () {\n        return this.rowRenderer.getRenderedNodes();\n    };\n    GridApi.prototype.ensureColIndexVisible = function (index) {\n        console.warn('ag-Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.');\n    };\n    GridApi.prototype.ensureColumnVisible = function (key) {\n        this.gridPanel.ensureColumnVisible(key);\n    };\n    // Valid values for position are bottom, middle and top\n    GridApi.prototype.ensureIndexVisible = function (index, position) {\n        this.gridPanel.ensureIndexVisible(index, position);\n    };\n    // Valid values for position are bottom, middle and top\n    GridApi.prototype.ensureNodeVisible = function (comparator, position) {\n        this.gridCore.ensureNodeVisible(comparator, position);\n    };\n    GridApi.prototype.forEachLeafNode = function (callback) {\n        if (_.missing(this.clientSideRowModel)) {\n            console.warn('cannot call forEachNode unless using normal row model');\n        }\n        this.clientSideRowModel.forEachLeafNode(callback);\n    };\n    GridApi.prototype.forEachNode = function (callback) {\n        this.rowModel.forEachNode(callback);\n    };\n    GridApi.prototype.forEachNodeAfterFilter = function (callback) {\n        if (_.missing(this.clientSideRowModel)) {\n            console.warn('cannot call forEachNodeAfterFilter unless using normal row model');\n        }\n        this.clientSideRowModel.forEachNodeAfterFilter(callback);\n    };\n    GridApi.prototype.forEachNodeAfterFilterAndSort = function (callback) {\n        if (_.missing(this.clientSideRowModel)) {\n            console.warn('cannot call forEachNodeAfterFilterAndSort unless using normal row model');\n        }\n        this.clientSideRowModel.forEachNodeAfterFilterAndSort(callback);\n    };\n    GridApi.prototype.getFilterApiForColDef = function (colDef) {\n        console.warn('ag-grid API method getFilterApiForColDef deprecated, use getFilterInstance instead');\n        return this.getFilterInstance(colDef);\n    };\n    GridApi.prototype.getFilterInstance = function (key, callback) {\n        var column = this.columnController.getPrimaryColumn(key);\n        if (column) {\n            var filterPromise = this.filterManager.getFilterComponent(column, 'NO_UI');\n            var currentValue = filterPromise.resolveNow(null, function (filterComp) { return filterComp; });\n            if (callback) {\n                if (currentValue) {\n                    setTimeout(callback, 0, currentValue);\n                }\n                else {\n                    filterPromise.then(callback);\n                }\n            }\n            return currentValue;\n        }\n    };\n    GridApi.prototype.getFilterApi = function (key) {\n        console.warn('ag-Grid: getFilterApi is deprecated, use getFilterInstance instead');\n        return this.getFilterInstance(key);\n    };\n    GridApi.prototype.destroyFilter = function (key) {\n        var column = this.columnController.getPrimaryColumn(key);\n        if (column) {\n            return this.filterManager.destroyFilter(column, \"filterDestroyed\");\n        }\n    };\n    GridApi.prototype.getStatusPanel = function (key) {\n        if (this.statusBarService) {\n            return this.statusBarService.getStatusPanel(key);\n        }\n    };\n    GridApi.prototype.getColumnDef = function (key) {\n        var column = this.columnController.getPrimaryColumn(key);\n        if (column) {\n            return column.getColDef();\n        }\n        return null;\n    };\n    GridApi.prototype.onFilterChanged = function () {\n        this.filterManager.onFilterChanged();\n    };\n    GridApi.prototype.onSortChanged = function () {\n        this.sortController.onSortChanged();\n    };\n    GridApi.prototype.setSortModel = function (sortModel, source) {\n        if (source === void 0) { source = \"api\"; }\n        this.sortController.setSortModel(sortModel, source);\n    };\n    GridApi.prototype.getSortModel = function () {\n        return this.sortController.getSortModel();\n    };\n    GridApi.prototype.setFilterModel = function (model) {\n        this.filterManager.setFilterModel(model);\n    };\n    GridApi.prototype.getFilterModel = function () {\n        return this.filterManager.getFilterModel();\n    };\n    GridApi.prototype.getFocusedCell = function () {\n        return this.focusController.getFocusedCell();\n    };\n    GridApi.prototype.clearFocusedCell = function () {\n        return this.focusController.clearFocusedCell();\n    };\n    GridApi.prototype.setFocusedCell = function (rowIndex, colKey, floating) {\n        this.focusController.setFocusedCell(rowIndex, colKey, floating, true);\n    };\n    GridApi.prototype.setSuppressRowDrag = function (value) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_ROW_DRAG, value);\n    };\n    GridApi.prototype.setSuppressMoveWhenRowDragging = function (value) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG, value);\n    };\n    GridApi.prototype.setSuppressRowClickSelection = function (value) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_ROW_CLICK_SELECTION, value);\n    };\n    GridApi.prototype.addRowDropZone = function (params) {\n        this.gridPanel.getRowDragFeature().addRowDropZone(params);\n    };\n    GridApi.prototype.removeRowDropZone = function (params) {\n        var activeDropTarget = this.dragAndDropService.findExternalZone(params);\n        if (activeDropTarget) {\n            this.dragAndDropService.removeDropTarget(activeDropTarget);\n        }\n    };\n    GridApi.prototype.getRowDropZoneParams = function (events) {\n        return this.gridPanel.getRowDragFeature().getRowDropZone(events);\n    };\n    GridApi.prototype.setHeaderHeight = function (headerHeight) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_HEADER_HEIGHT, headerHeight);\n        this.doLayout();\n    };\n    GridApi.prototype.setGridAutoHeight = function (gridAutoHeight) {\n        console.warn('api.setGridAutoHeight(boolean) is deprecated, please use api.setDomLayout() instead');\n        this.setDomLayout(gridAutoHeight ? 'autoHeight' : 'normal');\n    };\n    GridApi.prototype.setDomLayout = function (domLayout) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_DOM_LAYOUT, domLayout);\n    };\n    GridApi.prototype.setEnableCellTextSelection = function (selectable) {\n        this.gridPanel.setCellTextSelection(selectable);\n    };\n    GridApi.prototype.setGroupHeaderHeight = function (headerHeight) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_HEADER_HEIGHT, headerHeight);\n        this.doLayout();\n    };\n    GridApi.prototype.setFloatingFiltersHeight = function (headerHeight) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_FLOATING_FILTERS_HEIGHT, headerHeight);\n        this.doLayout();\n    };\n    GridApi.prototype.setPivotGroupHeaderHeight = function (headerHeight) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PIVOT_GROUP_HEADER_HEIGHT, headerHeight);\n        this.doLayout();\n    };\n    GridApi.prototype.setPivotHeaderHeight = function (headerHeight) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_PIVOT_HEADER_HEIGHT, headerHeight);\n        this.doLayout();\n    };\n    GridApi.prototype.isSideBarVisible = function () {\n        return this.gridCore.isSideBarVisible();\n    };\n    GridApi.prototype.setSideBarVisible = function (show) {\n        this.gridCore.setSideBarVisible(show);\n    };\n    GridApi.prototype.setSideBarPosition = function (position) {\n        this.gridCore.setSideBarPosition(position);\n    };\n    GridApi.prototype.showToolPanel = function (show) {\n        console.warn(\"ag-grid: from v19 api.showToolPanel has been deprecated in favour of api.setSideBarVisible\");\n        this.setSideBarVisible(show);\n    };\n    GridApi.prototype.openToolPanel = function (key) {\n        this.gridCore.openToolPanel(key);\n    };\n    GridApi.prototype.closeToolPanel = function () {\n        this.gridCore.closeToolPanel();\n    };\n    GridApi.prototype.getOpenedToolPanel = function () {\n        return this.gridCore.getOpenedToolPanel();\n    };\n    GridApi.prototype.getSideBar = function () {\n        return this.gridCore.getSideBar();\n    };\n    GridApi.prototype.setSideBar = function (def) {\n        return this.gridCore.setSideBar(def);\n    };\n    GridApi.prototype.setSuppressClipboardPaste = function (value) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_SUPPRESS_CLIPBOARD_PASTE, value);\n    };\n    GridApi.prototype.isToolPanelShowing = function () {\n        return this.gridCore.isToolPanelShowing();\n    };\n    GridApi.prototype.doLayout = function () {\n        this.gridPanel.checkViewportAndScrolls();\n    };\n    GridApi.prototype.resetRowHeights = function () {\n        if (_.exists(this.clientSideRowModel)) {\n            this.clientSideRowModel.resetRowHeights();\n        }\n    };\n    GridApi.prototype.setGroupRemoveSingleChildren = function (value) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_REMOVE_SINGLE_CHILDREN, value);\n    };\n    GridApi.prototype.setGroupRemoveLowestSingleChildren = function (value) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN, value);\n    };\n    GridApi.prototype.onRowHeightChanged = function () {\n        if (_.exists(this.clientSideRowModel)) {\n            this.clientSideRowModel.onRowHeightChanged();\n        }\n    };\n    GridApi.prototype.getValue = function (colKey, rowNode) {\n        var column = this.columnController.getPrimaryColumn(colKey);\n        if (_.missing(column)) {\n            column = this.columnController.getGridColumn(colKey);\n        }\n        if (_.missing(column)) {\n            return null;\n        }\n        return this.valueService.getValue(column, rowNode);\n    };\n    GridApi.prototype.addEventListener = function (eventType, listener) {\n        var async = this.gridOptionsWrapper.useAsyncEvents();\n        this.eventService.addEventListener(eventType, listener, async);\n    };\n    GridApi.prototype.addGlobalListener = function (listener) {\n        var async = this.gridOptionsWrapper.useAsyncEvents();\n        this.eventService.addGlobalListener(listener, async);\n    };\n    GridApi.prototype.removeEventListener = function (eventType, listener) {\n        var async = this.gridOptionsWrapper.useAsyncEvents();\n        this.eventService.removeEventListener(eventType, listener, async);\n    };\n    GridApi.prototype.removeGlobalListener = function (listener) {\n        var async = this.gridOptionsWrapper.useAsyncEvents();\n        this.eventService.removeGlobalListener(listener, async);\n    };\n    GridApi.prototype.dispatchEvent = function (event) {\n        this.eventService.dispatchEvent(event);\n    };\n    GridApi.prototype.destroy = function () {\n        // destroy the UI first (as they use the services)\n        this.gridCore.destroy();\n        // destroy the services\n        this.context.destroy();\n    };\n    GridApi.prototype.resetQuickFilter = function () {\n        this.rowModel.forEachNode(function (node) { return node.quickFilterAggregateText = null; });\n    };\n    GridApi.prototype.getRangeSelections = function () {\n        console.warn(\"ag-Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\\n        getCellRanges() is a bit different, please check the ag-Grid documentation.\");\n        return null;\n    };\n    GridApi.prototype.getCellRanges = function () {\n        if (this.rangeController) {\n            return this.rangeController.getCellRanges();\n        }\n        else {\n            console.warn('ag-Grid: cell range selection is only available in ag-Grid Enterprise');\n            return null;\n        }\n    };\n    GridApi.prototype.camelCaseToHumanReadable = function (camelCase) {\n        return _.camelCaseToHumanText(camelCase);\n    };\n    GridApi.prototype.addRangeSelection = function (deprecatedNoLongerUsed) {\n        console.warn('ag-Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()');\n    };\n    GridApi.prototype.addCellRange = function (params) {\n        if (!this.rangeController) {\n            console.warn('ag-Grid: cell range selection is only available in ag-Grid Enterprise');\n        }\n        this.rangeController.addCellRange(params);\n    };\n    GridApi.prototype.clearRangeSelection = function () {\n        if (!this.rangeController) {\n            console.warn('ag-Grid: cell range selection is only available in ag-Grid Enterprise');\n        }\n        this.rangeController.removeAllCellRanges();\n    };\n    GridApi.prototype.undoCellEditing = function () {\n        this.undoRedoService.undo();\n    };\n    GridApi.prototype.redoCellEditing = function () {\n        this.undoRedoService.redo();\n    };\n    GridApi.prototype.getChartModels = function () {\n        if (ModuleRegistry.assertRegistered(exports.ModuleNames.RangeSelectionModule, 'api.getChartModels') &&\n            ModuleRegistry.assertRegistered(exports.ModuleNames.GridChartsModule, 'api.getChartModels')) {\n            return this.chartService.getChartModels();\n        }\n    };\n    GridApi.prototype.createRangeChart = function (params) {\n        if (ModuleRegistry.assertRegistered(exports.ModuleNames.RangeSelectionModule, 'api.createRangeChart') &&\n            ModuleRegistry.assertRegistered(exports.ModuleNames.GridChartsModule, 'api.createRangeChart')) {\n            return this.chartService.createRangeChart(params);\n        }\n    };\n    GridApi.prototype.createPivotChart = function (params) {\n        if (ModuleRegistry.assertRegistered(exports.ModuleNames.RangeSelectionModule, 'api.createPivotChart') &&\n            ModuleRegistry.assertRegistered(exports.ModuleNames.GridChartsModule, 'api.createPivotChart')) {\n            return this.chartService.createPivotChart(params);\n        }\n    };\n    GridApi.prototype.copySelectedRowsToClipboard = function (includeHeader, columnKeys) {\n        if (!this.clipboardService) {\n            console.warn('ag-Grid: clipboard is only available in ag-Grid Enterprise');\n        }\n        this.clipboardService.copySelectedRowsToClipboard(includeHeader, columnKeys);\n    };\n    GridApi.prototype.copySelectedRangeToClipboard = function (includeHeader) {\n        if (!this.clipboardService) {\n            console.warn('ag-Grid: clipboard is only available in ag-Grid Enterprise');\n        }\n        this.clipboardService.copySelectedRangeToClipboard(includeHeader);\n    };\n    GridApi.prototype.copySelectedRangeDown = function () {\n        if (!this.clipboardService) {\n            console.warn('ag-Grid: clipboard is only available in ag-Grid Enterprise');\n        }\n        this.clipboardService.copyRangeDown();\n    };\n    GridApi.prototype.showColumnMenuAfterButtonClick = function (colKey, buttonElement) {\n        // use grid column so works with pivot mode\n        var column = this.columnController.getGridColumn(colKey);\n        this.menuFactory.showMenuAfterButtonClick(column, buttonElement);\n    };\n    GridApi.prototype.showColumnMenuAfterMouseClick = function (colKey, mouseEvent) {\n        // use grid column so works with pivot mode\n        var column = this.columnController.getGridColumn(colKey);\n        this.menuFactory.showMenuAfterMouseEvent(column, mouseEvent);\n    };\n    GridApi.prototype.hidePopupMenu = function () {\n        // hide the context menu if in enterprise\n        if (this.contextMenuFactory) {\n            this.contextMenuFactory.hideActiveMenu();\n        }\n        // and hide the column menu always\n        this.menuFactory.hideActiveMenu();\n    };\n    GridApi.prototype.setPopupParent = function (ePopupParent) {\n        this.gridOptionsWrapper.setProperty(GridOptionsWrapper.PROP_POPUP_PARENT, ePopupParent);\n    };\n    GridApi.prototype.tabToNextCell = function () {\n        return this.rowRenderer.tabToNextCell(false);\n    };\n    GridApi.prototype.tabToPreviousCell = function () {\n        return this.rowRenderer.tabToNextCell(true);\n    };\n    GridApi.prototype.getCellRendererInstances = function (params) {\n        if (params === void 0) { params = {}; }\n        return this.rowRenderer.getCellRendererInstances(params);\n    };\n    GridApi.prototype.getCellEditorInstances = function (params) {\n        if (params === void 0) { params = {}; }\n        return this.rowRenderer.getCellEditorInstances(params);\n    };\n    GridApi.prototype.getEditingCells = function () {\n        return this.rowRenderer.getEditingCells();\n    };\n    GridApi.prototype.stopEditing = function (cancel) {\n        if (cancel === void 0) { cancel = false; }\n        this.rowRenderer.stopEditing(cancel);\n    };\n    GridApi.prototype.startEditingCell = function (params) {\n        var column = this.columnController.getGridColumn(params.colKey);\n        if (!column) {\n            console.warn(\"ag-Grid: no column found for \" + params.colKey);\n            return;\n        }\n        var cellPosition = {\n            rowIndex: params.rowIndex,\n            rowPinned: params.rowPinned,\n            column: column\n        };\n        var notPinned = _.missing(params.rowPinned);\n        if (notPinned) {\n            this.gridPanel.ensureIndexVisible(params.rowIndex);\n        }\n        this.rowRenderer.startEditingCell(cellPosition, params.keyPress, params.charPress);\n    };\n    GridApi.prototype.addAggFunc = function (key, aggFunc) {\n        if (this.aggFuncService) {\n            this.aggFuncService.addAggFunc(key, aggFunc);\n        }\n    };\n    GridApi.prototype.addAggFuncs = function (aggFuncs) {\n        if (this.aggFuncService) {\n            this.aggFuncService.addAggFuncs(aggFuncs);\n        }\n    };\n    GridApi.prototype.clearAggFuncs = function () {\n        if (this.aggFuncService) {\n            this.aggFuncService.clear();\n        }\n    };\n    GridApi.prototype.applyTransaction = function (rowDataTransaction) {\n        var res = null;\n        if (this.clientSideRowModel) {\n            if (rowDataTransaction && rowDataTransaction.addIndex != null) {\n                var message_1 = 'ag-Grid: as of v23.1, transaction.addIndex is deprecated. If you want precision control of adding data, use immutableData instead';\n                _.doOnce(function () { return console.warn(message_1); }, 'transaction.addIndex deprecated');\n            }\n            res = this.clientSideRowModel.updateRowData(rowDataTransaction);\n        }\n        else if (this.infiniteRowModel) {\n            var message_2 = 'ag-Grid: as of v23.1, transactions for Infinite Row Model are deprecated. If you want to make updates to data in Infinite Row Models, then refresh the data.';\n            _.doOnce(function () { return console.warn(message_2); }, 'applyTransaction infiniteRowModel deprecated');\n            this.infiniteRowModel.updateRowData(rowDataTransaction);\n        }\n        else {\n            console.error('ag-Grid: updateRowData() only works with ClientSideRowModel and InfiniteRowModel.');\n        }\n        // refresh all the full width rows\n        this.rowRenderer.refreshFullWidthRows();\n        // do change detection for all present cells\n        if (!this.gridOptionsWrapper.isSuppressChangeDetection()) {\n            this.rowRenderer.refreshCells();\n        }\n        return res;\n    };\n    /** @deprecated */\n    GridApi.prototype.updateRowData = function (rowDataTransaction) {\n        var message = 'ag-Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.';\n        _.doOnce(function () { return console.warn(message); }, 'updateRowData deprecated');\n        return this.applyTransaction(rowDataTransaction);\n    };\n    GridApi.prototype.applyTransactionAsync = function (rowDataTransaction, callback) {\n        if (!this.clientSideRowModel) {\n            console.error('ag-Grid: api.applyTransactionAsync() only works with ClientSideRowModel.');\n            return;\n        }\n        this.clientSideRowModel.batchUpdateRowData(rowDataTransaction, callback);\n    };\n    /** @deprecated */\n    GridApi.prototype.batchUpdateRowData = function (rowDataTransaction, callback) {\n        var message = 'ag-Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.';\n        _.doOnce(function () { return console.warn(message); }, 'batchUpdateRowData deprecated');\n        this.applyTransactionAsync(rowDataTransaction, callback);\n    };\n    GridApi.prototype.insertItemsAtIndex = function (index, items, skipRefresh) {\n        console.warn('ag-Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead.');\n        this.updateRowData({ add: items, addIndex: index, update: null, remove: null });\n    };\n    GridApi.prototype.removeItems = function (rowNodes, skipRefresh) {\n        console.warn('ag-Grid: removeItems() is deprecated, use updateRowData(transaction) instead.');\n        var dataToRemove = rowNodes.map(function (rowNode) { return rowNode.data; });\n        this.updateRowData({ add: null, addIndex: null, update: null, remove: dataToRemove });\n    };\n    GridApi.prototype.addItems = function (items, skipRefresh) {\n        console.warn('ag-Grid: addItems() is deprecated, use updateRowData(transaction) instead.');\n        this.updateRowData({ add: items, addIndex: null, update: null, remove: null });\n    };\n    GridApi.prototype.refreshVirtualPageCache = function () {\n        console.warn('ag-Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead');\n        this.refreshInfiniteCache();\n    };\n    GridApi.prototype.refreshInfinitePageCache = function () {\n        console.warn('ag-Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead');\n        this.refreshInfiniteCache();\n    };\n    GridApi.prototype.refreshInfiniteCache = function () {\n        if (this.infiniteRowModel) {\n            this.infiniteRowModel.refreshCache();\n        }\n        else {\n            console.warn(\"ag-Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.\");\n        }\n    };\n    GridApi.prototype.purgeVirtualPageCache = function () {\n        console.warn('ag-Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead');\n        this.purgeInfinitePageCache();\n    };\n    GridApi.prototype.purgeInfinitePageCache = function () {\n        console.warn('ag-Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead');\n        this.purgeInfiniteCache();\n    };\n    GridApi.prototype.purgeInfiniteCache = function () {\n        if (this.infiniteRowModel) {\n            this.infiniteRowModel.purgeCache();\n        }\n        else {\n            console.warn(\"ag-Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.\");\n        }\n    };\n    /** @deprecated */\n    GridApi.prototype.purgeEnterpriseCache = function (route) {\n        console.warn(\"ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()\");\n        this.purgeServerSideCache(route);\n    };\n    GridApi.prototype.purgeServerSideCache = function (route) {\n        if (this.serverSideRowModel) {\n            this.serverSideRowModel.purgeCache(route);\n        }\n        else {\n            console.warn(\"ag-Grid: api.purgeServerSideCache is only available when rowModelType='enterprise'.\");\n        }\n    };\n    GridApi.prototype.getVirtualRowCount = function () {\n        console.warn('ag-Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead');\n        return this.getInfiniteRowCount();\n    };\n    GridApi.prototype.getInfiniteRowCount = function () {\n        if (this.infiniteRowModel) {\n            return this.infiniteRowModel.getVirtualRowCount();\n        }\n        else {\n            console.warn(\"ag-Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.\");\n        }\n    };\n    GridApi.prototype.isMaxRowFound = function () {\n        if (this.infiniteRowModel) {\n            return this.infiniteRowModel.isMaxRowFound();\n        }\n        else {\n            console.warn(\"ag-Grid: api.isMaxRowFound is only available when rowModelType='virtual'.\");\n        }\n    };\n    GridApi.prototype.setVirtualRowCount = function (rowCount, maxRowFound) {\n        console.warn('ag-Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead');\n        this.setInfiniteRowCount(rowCount, maxRowFound);\n    };\n    GridApi.prototype.setInfiniteRowCount = function (rowCount, maxRowFound) {\n        if (this.infiniteRowModel) {\n            this.infiniteRowModel.setVirtualRowCount(rowCount, maxRowFound);\n        }\n        else {\n            console.warn(\"ag-Grid: api.setVirtualRowCount is only available when rowModelType='virtual'.\");\n        }\n    };\n    GridApi.prototype.getVirtualPageState = function () {\n        console.warn('ag-Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead');\n        return this.getCacheBlockState();\n    };\n    GridApi.prototype.getInfinitePageState = function () {\n        console.warn('ag-Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead');\n        return this.getCacheBlockState();\n    };\n    GridApi.prototype.getCacheBlockState = function () {\n        if (this.infiniteRowModel) {\n            return this.infiniteRowModel.getBlockState();\n        }\n        else if (this.serverSideRowModel) {\n            return this.serverSideRowModel.getBlockState();\n        }\n        else {\n            console.warn(\"ag-Grid: api.getCacheBlockState() is only available when rowModelType='infinite' or rowModelType='serverSide'.\");\n        }\n    };\n    GridApi.prototype.checkGridSize = function () {\n        this.gridPanel.setHeaderAndFloatingHeights();\n    };\n    GridApi.prototype.getFirstRenderedRow = function () {\n        console.warn('in ag-Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()');\n        return this.getFirstDisplayedRow();\n    };\n    GridApi.prototype.getFirstDisplayedRow = function () {\n        return this.rowRenderer.getFirstVirtualRenderedRow();\n    };\n    GridApi.prototype.getLastRenderedRow = function () {\n        console.warn('in ag-Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()');\n        return this.getLastDisplayedRow();\n    };\n    GridApi.prototype.getLastDisplayedRow = function () {\n        return this.rowRenderer.getLastVirtualRenderedRow();\n    };\n    GridApi.prototype.getDisplayedRowAtIndex = function (index) {\n        return this.rowModel.getRow(index);\n    };\n    GridApi.prototype.getDisplayedRowCount = function () {\n        return this.rowModel.getRowCount();\n    };\n    GridApi.prototype.paginationIsLastPageFound = function () {\n        return this.paginationProxy.isLastPageFound();\n    };\n    GridApi.prototype.paginationGetPageSize = function () {\n        return this.paginationProxy.getPageSize();\n    };\n    GridApi.prototype.paginationSetPageSize = function (size) {\n        this.gridOptionsWrapper.setProperty('paginationPageSize', size);\n    };\n    GridApi.prototype.paginationGetCurrentPage = function () {\n        return this.paginationProxy.getCurrentPage();\n    };\n    GridApi.prototype.paginationGetTotalPages = function () {\n        return this.paginationProxy.getTotalPages();\n    };\n    GridApi.prototype.paginationGetRowCount = function () {\n        return this.paginationProxy.getMasterRowCount();\n    };\n    GridApi.prototype.paginationGoToNextPage = function () {\n        this.paginationProxy.goToNextPage();\n    };\n    GridApi.prototype.paginationGoToPreviousPage = function () {\n        this.paginationProxy.goToPreviousPage();\n    };\n    GridApi.prototype.paginationGoToFirstPage = function () {\n        this.paginationProxy.goToFirstPage();\n    };\n    GridApi.prototype.paginationGoToLastPage = function () {\n        this.paginationProxy.goToLastPage();\n    };\n    GridApi.prototype.paginationGoToPage = function (page) {\n        this.paginationProxy.goToPage(page);\n    };\n    __decorate$Z([\n        Optional('immutableService')\n    ], GridApi.prototype, \"immutableService\", void 0);\n    __decorate$Z([\n        Optional('csvCreator')\n    ], GridApi.prototype, \"csvCreator\", void 0);\n    __decorate$Z([\n        Optional('excelCreator')\n    ], GridApi.prototype, \"excelCreator\", void 0);\n    __decorate$Z([\n        Autowired('rowRenderer')\n    ], GridApi.prototype, \"rowRenderer\", void 0);\n    __decorate$Z([\n        Autowired('filterManager')\n    ], GridApi.prototype, \"filterManager\", void 0);\n    __decorate$Z([\n        Autowired('columnController')\n    ], GridApi.prototype, \"columnController\", void 0);\n    __decorate$Z([\n        Autowired('selectionController')\n    ], GridApi.prototype, \"selectionController\", void 0);\n    __decorate$Z([\n        Autowired('gridOptionsWrapper')\n    ], GridApi.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$Z([\n        Autowired('valueService')\n    ], GridApi.prototype, \"valueService\", void 0);\n    __decorate$Z([\n        Autowired('alignedGridsService')\n    ], GridApi.prototype, \"alignedGridsService\", void 0);\n    __decorate$Z([\n        Autowired('eventService')\n    ], GridApi.prototype, \"eventService\", void 0);\n    __decorate$Z([\n        Autowired('pinnedRowModel')\n    ], GridApi.prototype, \"pinnedRowModel\", void 0);\n    __decorate$Z([\n        Autowired('context')\n    ], GridApi.prototype, \"context\", void 0);\n    __decorate$Z([\n        Autowired('rowModel')\n    ], GridApi.prototype, \"rowModel\", void 0);\n    __decorate$Z([\n        Autowired('sortController')\n    ], GridApi.prototype, \"sortController\", void 0);\n    __decorate$Z([\n        Autowired('paginationProxy')\n    ], GridApi.prototype, \"paginationProxy\", void 0);\n    __decorate$Z([\n        Autowired('focusController')\n    ], GridApi.prototype, \"focusController\", void 0);\n    __decorate$Z([\n        Autowired('dragAndDropService')\n    ], GridApi.prototype, \"dragAndDropService\", void 0);\n    __decorate$Z([\n        Optional('rangeController')\n    ], GridApi.prototype, \"rangeController\", void 0);\n    __decorate$Z([\n        Optional('clipboardService')\n    ], GridApi.prototype, \"clipboardService\", void 0);\n    __decorate$Z([\n        Optional('aggFuncService')\n    ], GridApi.prototype, \"aggFuncService\", void 0);\n    __decorate$Z([\n        Autowired('menuFactory')\n    ], GridApi.prototype, \"menuFactory\", void 0);\n    __decorate$Z([\n        Optional('contextMenuFactory')\n    ], GridApi.prototype, \"contextMenuFactory\", void 0);\n    __decorate$Z([\n        Autowired('cellRendererFactory')\n    ], GridApi.prototype, \"cellRendererFactory\", void 0);\n    __decorate$Z([\n        Autowired('valueCache')\n    ], GridApi.prototype, \"valueCache\", void 0);\n    __decorate$Z([\n        Autowired('animationFrameService')\n    ], GridApi.prototype, \"animationFrameService\", void 0);\n    __decorate$Z([\n        Optional('statusBarService')\n    ], GridApi.prototype, \"statusBarService\", void 0);\n    __decorate$Z([\n        Optional('chartService')\n    ], GridApi.prototype, \"chartService\", void 0);\n    __decorate$Z([\n        Optional('undoRedoService')\n    ], GridApi.prototype, \"undoRedoService\", void 0);\n    __decorate$Z([\n        PostConstruct\n    ], GridApi.prototype, \"init\", null);\n    GridApi = __decorate$Z([\n        Bean('gridApi')\n    ], GridApi);\n    return GridApi;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$_ = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param$6 = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ExpressionService = /** @class */ (function () {\n    function ExpressionService() {\n        this.expressionToFunctionCache = {};\n    }\n    ExpressionService.prototype.setBeans = function (loggerFactory) {\n        this.logger = loggerFactory.create('ExpressionService');\n    };\n    ExpressionService.prototype.evaluate = function (expressionOrFunc, params) {\n        if (typeof expressionOrFunc === 'function') {\n            // valueGetter is a function, so just call it\n            var func = expressionOrFunc;\n            return func(params);\n        }\n        else if (typeof expressionOrFunc === 'string') {\n            // valueGetter is an expression, so execute the expression\n            var expression = expressionOrFunc;\n            return this.evaluateExpression(expression, params);\n        }\n        else {\n            console.error('ag-Grid: value should be either a string or a function', expressionOrFunc);\n        }\n    };\n    ExpressionService.prototype.evaluateExpression = function (expression, params) {\n        try {\n            var javaScriptFunction = this.createExpressionFunction(expression);\n            // the params don't have all these values, rather we add every possible\n            // value a params can have, which makes whatever is in the params available.\n            var result = javaScriptFunction(params.value, params.context, params.oldValue, params.newValue, params.value, params.node, params.data, params.colDef, params.rowIndex, params.api, params.columnApi, params.getValue, params.column, params.columnGroup);\n            return result;\n        }\n        catch (e) {\n            // the expression failed, which can happen, as it's the client that\n            // provides the expression. so print a nice message\n            // tslint:disable-next-line\n            console.log('Processing of the expression failed');\n            // tslint:disable-next-line\n            console.log('Expression = ' + expression);\n            // tslint:disable-next-line\n            console.log('Params =', params);\n            // tslint:disable-next-line\n            console.log('Exception = ' + e);\n            return null;\n        }\n    };\n    ExpressionService.prototype.createExpressionFunction = function (expression) {\n        // check cache first\n        if (this.expressionToFunctionCache[expression]) {\n            return this.expressionToFunctionCache[expression];\n        }\n        // if not found in cache, return the function\n        var functionBody = this.createFunctionBody(expression);\n        var theFunction = new Function('x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup', functionBody);\n        // store in cache\n        this.expressionToFunctionCache[expression] = theFunction;\n        return theFunction;\n    };\n    ExpressionService.prototype.createFunctionBody = function (expression) {\n        // if the expression has the 'return' word in it, then use as is,\n        // if not, then wrap it with return and ';' to make a function\n        if (expression.indexOf('return') >= 0) {\n            return expression;\n        }\n        else {\n            return 'return ' + expression + ';';\n        }\n    };\n    __decorate$_([\n        __param$6(0, Qualifier('loggerFactory'))\n    ], ExpressionService.prototype, \"setBeans\", null);\n    ExpressionService = __decorate$_([\n        Bean('expressionService')\n    ], ExpressionService);\n    return ExpressionService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$$ = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar TemplateService = /** @class */ (function () {\n    function TemplateService() {\n        this.templateCache = {};\n        this.waitingCallbacks = {};\n    }\n    // returns the template if it is loaded, or null if it is not loaded\n    // but will call the callback when it is loaded\n    TemplateService.prototype.getTemplate = function (url, callback) {\n        var templateFromCache = this.templateCache[url];\n        if (templateFromCache) {\n            return templateFromCache;\n        }\n        var callbackList = this.waitingCallbacks[url];\n        var that = this;\n        if (!callbackList) {\n            // first time this was called, so need a new list for callbacks\n            callbackList = [];\n            this.waitingCallbacks[url] = callbackList;\n            // and also need to do the http request\n            var client = new XMLHttpRequest();\n            client.onload = function () {\n                that.handleHttpResult(this, url);\n            };\n            client.open(\"GET\", url);\n            client.send();\n        }\n        // add this callback\n        if (callback) {\n            callbackList.push(callback);\n        }\n        // caller needs to wait for template to load, so return null\n        return null;\n    };\n    TemplateService.prototype.handleHttpResult = function (httpResult, url) {\n        if (httpResult.status !== 200 || httpResult.response === null) {\n            console.warn(\"Unable to get template error \" + httpResult.status + \" - \" + url);\n            return;\n        }\n        // response success, so process it\n        // in IE9 the response is in - responseText\n        this.templateCache[url] = httpResult.response || httpResult.responseText;\n        // inform all listeners that this is now in the cache\n        var callbacks = this.waitingCallbacks[url];\n        for (var i = 0; i < callbacks.length; i++) {\n            var callback = callbacks[i];\n            // we could pass the callback the response, however we know the client of this code\n            // is the cell renderer, and it passes the 'cellRefresh' method in as the callback\n            // which doesn't take any parameters.\n            callback();\n        }\n        if (this.$scope) {\n            var that_1 = this;\n            window.setTimeout(function () {\n                that_1.$scope.$apply();\n            }, 0);\n        }\n    };\n    __decorate$$([\n        Autowired('$scope')\n    ], TemplateService.prototype, \"$scope\", void 0);\n    TemplateService = __decorate$$([\n        Bean('templateService')\n    ], TemplateService);\n    return TemplateService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$10 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar PopupService = /** @class */ (function () {\n    function PopupService() {\n        this.popupList = [];\n        this.events = [];\n    }\n    PopupService.prototype.init = function () {\n        var _this = this;\n        this.events = [\n            this.eventService.addEventListener(Events.EVENT_KEYBOARD_FOCUS, function () {\n                _this.popupList.forEach(function (popup) {\n                    _.addCssClass(popup.element, 'ag-keyboard-focus');\n                });\n            }),\n            this.eventService.addEventListener(Events.EVENT_MOUSE_FOCUS, function () {\n                _this.popupList.forEach(function (popup) {\n                    _.removeCssClass(popup.element, 'ag-keyboard-focus');\n                });\n            })\n        ];\n    };\n    PopupService.prototype.destroy = function () {\n        if (this.events.length) {\n            this.events.forEach(function (func) { return func(); });\n            this.events = [];\n        }\n    };\n    PopupService.prototype.registerGridCore = function (gridCore) {\n        this.gridCore = gridCore;\n    };\n    PopupService.prototype.getPopupParent = function () {\n        var ePopupParent = this.gridOptionsWrapper.getPopupParent();\n        if (ePopupParent) {\n            return ePopupParent;\n        }\n        return this.gridCore.getRootGui();\n    };\n    PopupService.prototype.positionPopupForMenu = function (params) {\n        var sourceRect = params.eventSource.getBoundingClientRect();\n        var parentRect = this.getParentRect();\n        var y = this.keepYWithinBounds(params, sourceRect.top - parentRect.top);\n        var minWidth = (params.ePopup.clientWidth > 0) ? params.ePopup.clientWidth : 200;\n        params.ePopup.style.minWidth = minWidth + \"px\";\n        var widthOfParent = parentRect.right - parentRect.left;\n        var maxX = widthOfParent - minWidth;\n        // the x position of the popup depends on RTL or LTR. for normal cases, LTR, we put the child popup\n        // to the right, unless it doesn't fit and we then put it to the left. for RTL it's the other way around,\n        // we try place it first to the left, and then if not to the right.\n        var x;\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            // for RTL, try left first\n            x = xLeftPosition();\n            if (x < 0) {\n                x = xRightPosition();\n            }\n            if (x > maxX) {\n                x = 0;\n            }\n        }\n        else {\n            // for LTR, try right first\n            x = xRightPosition();\n            if (x > maxX) {\n                x = xLeftPosition();\n            }\n            if (x < 0) {\n                x = 0;\n            }\n        }\n        params.ePopup.style.left = x + \"px\";\n        params.ePopup.style.top = y + \"px\";\n        function xRightPosition() {\n            return sourceRect.right - parentRect.left - 2;\n        }\n        function xLeftPosition() {\n            return sourceRect.left - parentRect.left - minWidth;\n        }\n    };\n    PopupService.prototype.positionPopupUnderMouseEvent = function (params) {\n        var _a = this.calculatePointerAlign(params.mouseEvent), x = _a.x, y = _a.y;\n        var ePopup = params.ePopup, nudgeX = params.nudgeX, nudgeY = params.nudgeY;\n        this.positionPopup({\n            ePopup: ePopup,\n            x: x,\n            y: y,\n            nudgeX: nudgeX,\n            nudgeY: nudgeY,\n            keepWithinBounds: true\n        });\n        this.callPostProcessPopup(params.ePopup, null, params.mouseEvent, params.type, params.column, params.rowNode);\n    };\n    PopupService.prototype.calculatePointerAlign = function (e) {\n        var parentRect = this.getParentRect();\n        return {\n            x: e.clientX - parentRect.left,\n            y: e.clientY - parentRect.top\n        };\n    };\n    PopupService.prototype.positionPopupUnderComponent = function (params) {\n        var sourceRect = params.eventSource.getBoundingClientRect();\n        var alignSide = params.alignSide || 'left';\n        var parentRect = this.getParentRect();\n        var x = sourceRect.left - parentRect.left;\n        if (alignSide === 'right') {\n            x -= (params.ePopup.offsetWidth - sourceRect.width);\n        }\n        this.positionPopup({\n            ePopup: params.ePopup,\n            minWidth: params.minWidth,\n            minHeight: params.minHeight,\n            nudgeX: params.nudgeX,\n            nudgeY: params.nudgeY,\n            x: x,\n            y: sourceRect.top - parentRect.top + sourceRect.height,\n            keepWithinBounds: params.keepWithinBounds\n        });\n        this.callPostProcessPopup(params.ePopup, params.eventSource, null, params.type, params.column, params.rowNode);\n    };\n    PopupService.prototype.positionPopupOverComponent = function (params) {\n        var sourceRect = params.eventSource.getBoundingClientRect();\n        var parentRect = this.getParentRect();\n        this.positionPopup({\n            ePopup: params.ePopup,\n            minWidth: params.minWidth,\n            nudgeX: params.nudgeX,\n            nudgeY: params.nudgeY,\n            x: sourceRect.left - parentRect.left,\n            y: sourceRect.top - parentRect.top,\n            keepWithinBounds: params.keepWithinBounds\n        });\n        this.callPostProcessPopup(params.ePopup, params.eventSource, null, params.type, params.column, params.rowNode);\n    };\n    PopupService.prototype.callPostProcessPopup = function (ePopup, eventSource, mouseEvent, type, column, rowNode) {\n        var callback = this.gridOptionsWrapper.getPostProcessPopupFunc();\n        if (callback) {\n            var params = {\n                column: column,\n                rowNode: rowNode,\n                ePopup: ePopup,\n                type: type,\n                eventSource: eventSource,\n                mouseEvent: mouseEvent\n            };\n            callback(params);\n        }\n    };\n    PopupService.prototype.positionPopup = function (params) {\n        var x = params.x;\n        var y = params.y;\n        if (params.nudgeX) {\n            x += params.nudgeX;\n        }\n        if (params.nudgeY) {\n            y += params.nudgeY;\n        }\n        // if popup is overflowing to the bottom, move it up\n        if (params.keepWithinBounds) {\n            x = this.keepXWithinBounds(params, x);\n            y = this.keepYWithinBounds(params, y);\n        }\n        params.ePopup.style.left = x + \"px\";\n        params.ePopup.style.top = y + \"px\";\n    };\n    PopupService.prototype.getParentRect = function () {\n        // subtract the popup parent borders, because popupParent.getBoundingClientRect\n        // returns the rect outside the borders, but the 0,0 coordinate for absolute\n        // positioning is inside the border, leading the popup to be off by the width\n        // of the border\n        var popupParent = this.getPopupParent();\n        var eDocument = this.gridOptionsWrapper.getDocument();\n        if (popupParent === eDocument.body) {\n            popupParent = eDocument.documentElement;\n        }\n        var style = getComputedStyle(popupParent);\n        var bounds = popupParent.getBoundingClientRect();\n        return {\n            top: bounds.top + parseFloat(style.borderTopWidth) || 0,\n            left: bounds.left + parseFloat(style.borderLeftWidth) || 0,\n            right: bounds.right + parseFloat(style.borderRightWidth) || 0,\n            bottom: bounds.bottom + parseFloat(style.borderBottomWidth) || 0,\n        };\n    };\n    PopupService.prototype.keepYWithinBounds = function (params, y) {\n        var eDocument = this.gridOptionsWrapper.getDocument();\n        var docElement = eDocument.documentElement;\n        var popupParent = this.getPopupParent();\n        var parentRect = popupParent.getBoundingClientRect();\n        var documentRect = eDocument.documentElement.getBoundingClientRect();\n        var isBody = popupParent === eDocument.body;\n        var minHeight = Math.min(200, parentRect.height);\n        var diff = 0;\n        if (params.minHeight && params.minHeight < minHeight) {\n            minHeight = params.minHeight;\n        }\n        else if (params.ePopup.offsetHeight > 0) {\n            minHeight = params.ePopup.clientHeight;\n            diff = _.getAbsoluteHeight(params.ePopup) - minHeight;\n        }\n        var heightOfParent = isBody ? (_.getAbsoluteHeight(docElement) + docElement.scrollTop) : parentRect.height;\n        if (isBody) {\n            heightOfParent -= Math.abs(documentRect.top - parentRect.top);\n        }\n        var maxY = heightOfParent - minHeight - diff;\n        return Math.min(Math.max(y, 0), Math.abs(maxY));\n    };\n    PopupService.prototype.keepXWithinBounds = function (params, x) {\n        var eDocument = this.gridOptionsWrapper.getDocument();\n        var docElement = eDocument.documentElement;\n        var popupParent = this.getPopupParent();\n        var parentRect = popupParent.getBoundingClientRect();\n        var documentRect = eDocument.documentElement.getBoundingClientRect();\n        var isBody = popupParent === eDocument.body;\n        var ePopup = params.ePopup;\n        var minWidth = Math.min(200, parentRect.width);\n        var diff = 0;\n        if (params.minWidth && params.minWidth < minWidth) {\n            minWidth = params.minWidth;\n        }\n        else if (ePopup.offsetWidth > 0) {\n            minWidth = ePopup.offsetWidth;\n            ePopup.style.minWidth = minWidth + \"px\";\n            diff = _.getAbsoluteWidth(ePopup) - minWidth;\n        }\n        var widthOfParent = isBody ? (_.getAbsoluteWidth(docElement) + docElement.scrollLeft) : parentRect.width;\n        if (isBody) {\n            widthOfParent -= Math.abs(documentRect.left - parentRect.left);\n        }\n        var maxX = widthOfParent - minWidth - diff;\n        return Math.min(Math.max(x, 0), Math.abs(maxX));\n    };\n    // adds an element to a div, but also listens to background checking for clicks,\n    // so that when the background is clicked, the child is removed again, giving\n    // a model look to popups.\n    PopupService.prototype.addAsModalPopup = function (eChild, closeOnEsc, closedCallback, click) {\n        return this.addPopup(true, eChild, closeOnEsc, closedCallback, click);\n    };\n    PopupService.prototype.addPopup = function (modal, eChild, closeOnEsc, closedCallback, click, alwaysOnTop) {\n        var _this = this;\n        var eDocument = this.gridOptionsWrapper.getDocument();\n        var processedAt = new Date().getTime();\n        if (!eDocument) {\n            console.warn('ag-grid: could not find the document, document is empty');\n            return function () { };\n        }\n        var pos = _.findIndex(this.popupList, function (popup) { return popup.element === eChild; });\n        if (pos !== -1) {\n            var popup = this.popupList[pos];\n            return popup.hideFunc;\n        }\n        var ePopupParent = this.getPopupParent();\n        // for angular specifically, but shouldn't cause an issue with js or other fw's\n        // https://github.com/angular/angular/issues/8563\n        ePopupParent.appendChild(eChild);\n        eChild.style.top = '0px';\n        eChild.style.left = '0px';\n        // add env CSS class to child, in case user provided a popup parent, which means\n        // theme class may be missing\n        var eWrapper = document.createElement('div');\n        var theme = this.environment.getTheme().theme;\n        if (theme) {\n            _.addCssClass(eWrapper, theme);\n        }\n        _.addCssClass(eWrapper, 'ag-popup');\n        _.addCssClass(eChild, this.gridOptionsWrapper.isEnableRtl() ? 'ag-rtl' : 'ag-ltr');\n        _.addCssClass(eChild, 'ag-popup-child');\n        eWrapper.appendChild(eChild);\n        ePopupParent.appendChild(eWrapper);\n        if (alwaysOnTop) {\n            this.setAlwaysOnTop(eWrapper, true);\n        }\n        else {\n            this.bringPopupToFront(eWrapper);\n        }\n        var popupHidden = false;\n        var hidePopupOnKeyboardEvent = function (event) {\n            var key = event.which || event.keyCode;\n            if (key === Constants.KEY_ESCAPE && eWrapper.contains(document.activeElement)) {\n                hidePopup(null);\n            }\n        };\n        var hidePopupOnMouseEvent = function (event) {\n            hidePopup(event);\n        };\n        var hidePopupOnTouchEvent = function (event) {\n            hidePopup(null, event);\n        };\n        var hidePopup = function (mouseEvent, touchEvent) {\n            if (\n            // we don't hide popup if the event was on the child, or any\n            // children of this child\n            _this.isEventFromCurrentPopup(mouseEvent, touchEvent, eChild) ||\n                // if the event to close is actually the open event, then ignore it\n                _this.isEventSameChainAsOriginalEvent(click, mouseEvent, touchEvent) ||\n                // this method should only be called once. the client can have different\n                // paths, each one wanting to close, so this method may be called multiple times.\n                popupHidden) {\n                return;\n            }\n            popupHidden = true;\n            ePopupParent.removeChild(eWrapper);\n            eDocument.removeEventListener('keydown', hidePopupOnKeyboardEvent);\n            eDocument.removeEventListener('mousedown', hidePopupOnMouseEvent);\n            eDocument.removeEventListener('touchstart', hidePopupOnTouchEvent);\n            eDocument.removeEventListener('contextmenu', hidePopupOnMouseEvent);\n            _this.eventService.removeEventListener(Events.EVENT_DRAG_STARTED, hidePopupOnMouseEvent);\n            if (closedCallback) {\n                closedCallback();\n            }\n            _this.popupList = _this.popupList.filter(function (popup) { return popup.element !== eChild; });\n        };\n        // if we add these listeners now, then the current mouse\n        // click will be included, which we don't want\n        window.setTimeout(function () {\n            if (closeOnEsc) {\n                eDocument.addEventListener('keydown', hidePopupOnKeyboardEvent);\n            }\n            if (modal) {\n                eDocument.addEventListener('mousedown', hidePopupOnMouseEvent);\n                _this.eventService.addEventListener(Events.EVENT_DRAG_STARTED, hidePopupOnMouseEvent);\n                eDocument.addEventListener('touchstart', hidePopupOnTouchEvent);\n                eDocument.addEventListener('contextmenu', hidePopupOnMouseEvent);\n            }\n        }, 0);\n        this.popupList.push({\n            element: eChild,\n            hideFunc: hidePopup\n        });\n        return hidePopup;\n    };\n    PopupService.prototype.isEventFromCurrentPopup = function (mouseEvent, touchEvent, eChild) {\n        var event = mouseEvent ? mouseEvent : touchEvent;\n        if (!event) {\n            return false;\n        }\n        var indexOfThisChild = _.findIndex(this.popupList, function (popup) { return popup.element === eChild; });\n        if (indexOfThisChild === -1) {\n            return false;\n        }\n        for (var i = indexOfThisChild; i < this.popupList.length; i++) {\n            var popup = this.popupList[i];\n            if (_.isElementInEventPath(popup.element, event)) {\n                return true;\n            }\n        }\n        // if the user did not write their own Custom Element to be rendered as popup\n        // and this component has additional popup element, they should have the\n        // `ag-custom-component-popup` class to be detected as part of the Custom Component\n        var el = event.target;\n        while (el && el != document.body) {\n            if (el.classList.contains('ag-custom-component-popup') || el.parentElement === null) {\n                return true;\n            }\n            el = el.parentElement;\n        }\n    };\n    // in some browsers, the context menu event can be fired before the click event, which means\n    // the context menu event could open the popup, but then the click event closes it straight away.\n    PopupService.prototype.isEventSameChainAsOriginalEvent = function (originalClick, mouseEvent, touchEvent) {\n        // we check the coordinates of the event, to see if it's the same event. there is a 1 / 1000 chance that\n        // the event is a different event, however that is an edge case that is not very relevant (the user clicking\n        // twice on the same location isn't a normal path).\n        // event could be mouse event or touch event.\n        var mouseEventOrTouch = null;\n        if (mouseEvent) {\n            // mouse event can be used direction, it has coordinates\n            mouseEventOrTouch = mouseEvent;\n        }\n        else if (touchEvent) {\n            // touch event doesn't have coordinates, need it's touch object\n            mouseEventOrTouch = touchEvent.touches[0];\n        }\n        if (mouseEventOrTouch && originalClick) {\n            // for x, allow 4px margin, to cover iPads, where touch (which opens menu) is followed\n            // by browser click (when you finger up, touch is interrupted as click in browser)\n            var screenX_1 = mouseEvent ? mouseEvent.screenX : 0;\n            var screenY_1 = mouseEvent ? mouseEvent.screenY : 0;\n            var xMatch = Math.abs(originalClick.screenX - screenX_1) < 5;\n            var yMatch = Math.abs(originalClick.screenY - screenY_1) < 5;\n            if (xMatch && yMatch) {\n                return true;\n            }\n        }\n        return false;\n    };\n    PopupService.prototype.getWrapper = function (ePopup) {\n        while (!_.containsClass(ePopup, 'ag-popup') && ePopup.parentElement) {\n            ePopup = ePopup.parentElement;\n        }\n        return _.containsClass(ePopup, 'ag-popup') ? ePopup : null;\n    };\n    PopupService.prototype.setAlwaysOnTop = function (ePopup, alwaysOnTop) {\n        var eWrapper = this.getWrapper(ePopup);\n        if (!eWrapper) {\n            return;\n        }\n        _.addOrRemoveCssClass(eWrapper, 'ag-always-on-top', !!alwaysOnTop);\n        if (alwaysOnTop) {\n            this.bringPopupToFront(eWrapper);\n        }\n    };\n    PopupService.prototype.bringPopupToFront = function (ePopup) {\n        var parent = this.getPopupParent();\n        var popupList = Array.prototype.slice.call(parent.querySelectorAll('.ag-popup'));\n        var popupLen = popupList.length;\n        var alwaysOnTopList = Array.prototype.slice.call(parent.querySelectorAll('.ag-popup.ag-always-on-top'));\n        var onTopLength = alwaysOnTopList.length;\n        var eWrapper = this.getWrapper(ePopup);\n        if (!eWrapper || popupLen <= 1 || !parent.contains(ePopup)) {\n            return;\n        }\n        var pos = popupList.indexOf(eWrapper);\n        if (onTopLength) {\n            var isPopupAlwaysOnTop = _.containsClass(eWrapper, 'ag-always-on-top');\n            if (isPopupAlwaysOnTop) {\n                if (pos !== popupLen - 1) {\n                    _.last(alwaysOnTopList).insertAdjacentElement('afterend', eWrapper);\n                }\n            }\n            else if (pos !== popupLen - onTopLength - 1) {\n                alwaysOnTopList[0].insertAdjacentElement('beforebegin', eWrapper);\n            }\n        }\n        else if (pos !== popupLen - 1) {\n            _.last(popupList).insertAdjacentElement('afterend', eWrapper);\n        }\n        var params = {\n            type: 'popupToFront',\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            eWrapper: eWrapper\n        };\n        this.eventService.dispatchEvent(params);\n    };\n    __decorate$10([\n        Autowired('gridOptionsWrapper')\n    ], PopupService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$10([\n        Autowired('environment')\n    ], PopupService.prototype, \"environment\", void 0);\n    __decorate$10([\n        Autowired('eventService')\n    ], PopupService.prototype, \"eventService\", void 0);\n    __decorate$10([\n        PostConstruct\n    ], PopupService.prototype, \"init\", null);\n    __decorate$10([\n        PreDestroy\n    ], PopupService.prototype, \"destroy\", null);\n    PopupService = __decorate$10([\n        Bean('popupService')\n    ], PopupService);\n    return PopupService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$11 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param$7 = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar LoggerFactory = /** @class */ (function () {\n    function LoggerFactory() {\n    }\n    LoggerFactory.prototype.setBeans = function (gridOptionsWrapper) {\n        this.logging = gridOptionsWrapper.isDebug();\n    };\n    LoggerFactory.prototype.create = function (name) {\n        return new Logger(name, this.isLogging.bind(this));\n    };\n    LoggerFactory.prototype.isLogging = function () {\n        return this.logging;\n    };\n    __decorate$11([\n        __param$7(0, Qualifier('gridOptionsWrapper'))\n    ], LoggerFactory.prototype, \"setBeans\", null);\n    LoggerFactory = __decorate$11([\n        Bean('loggerFactory')\n    ], LoggerFactory);\n    return LoggerFactory;\n}());\nvar Logger = /** @class */ (function () {\n    function Logger(name, isLoggingFunc) {\n        this.name = name;\n        this.isLoggingFunc = isLoggingFunc;\n    }\n    Logger.prototype.isLogging = function () {\n        return this.isLoggingFunc();\n    };\n    Logger.prototype.log = function (message) {\n        if (this.isLoggingFunc()) {\n            // tslint:disable-next-line\n            console.log('ag-Grid.' + this.name + ': ' + message);\n        }\n    };\n    return Logger;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$12 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AutoWidthCalculator = /** @class */ (function () {\n    function AutoWidthCalculator() {\n    }\n    AutoWidthCalculator.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    AutoWidthCalculator.prototype.registerHeaderRootComp = function (headerRootComp) {\n        this.headerRootComp = headerRootComp;\n    };\n    // this is the trick: we create a dummy container and clone all the cells\n    // into the dummy, then check the dummy's width. then destroy the dummy\n    // as we don't need it any more.\n    // drawback: only the cells visible on the screen are considered\n    AutoWidthCalculator.prototype.getPreferredWidthForColumn = function (column, skipHeader) {\n        var eHeaderCell = this.getHeaderCellForColumn(column);\n        // cell isn't visible\n        if (!eHeaderCell) {\n            return -1;\n        }\n        var eDummyContainer = document.createElement('span');\n        // position fixed, so it isn't restricted to the boundaries of the parent\n        eDummyContainer.style.position = 'fixed';\n        // we put the dummy into the body container, so it will inherit all the\n        // css styles that the real cells are inheriting\n        var eBodyContainer = this.gridPanel.getCenterContainer();\n        eBodyContainer.appendChild(eDummyContainer);\n        // get all the cells that are currently displayed (this only brings back\n        // rendered cells, rows not rendered due to row visualisation will not be here)\n        this.putRowCellsIntoDummyContainer(column, eDummyContainer);\n        if (!skipHeader) {\n            // we only consider the lowest level cell, not the group cell. in 99% of the time, this\n            // will be enough. if we consider groups, then it gets too complicated for what it's worth,\n            // as the groups can span columns and this class only considers one column at a time.\n            this.cloneItemIntoDummy(eHeaderCell, eDummyContainer);\n        }\n        // at this point, all the clones are lined up vertically with natural widths. the dummy\n        // container will have a width wide enough just to fit the largest.\n        var dummyContainerWidth = eDummyContainer.offsetWidth;\n        // we are finished with the dummy container, so get rid of it\n        eBodyContainer.removeChild(eDummyContainer);\n        // we add padding as I found sometimes the gui still put '...' after some of the texts. so the\n        // user can configure the grid to add a few more pixels after the calculated width\n        var autoSizePadding = this.gridOptionsWrapper.getAutoSizePadding();\n        return dummyContainerWidth + autoSizePadding;\n    };\n    AutoWidthCalculator.prototype.getHeaderCellForColumn = function (column) {\n        var comp = null;\n        // find the rendered header cell\n        this.headerRootComp.forEachHeaderElement(function (headerElement) {\n            if (headerElement instanceof HeaderWrapperComp) {\n                var headerWrapperComp = headerElement;\n                if (headerWrapperComp.getColumn() === column) {\n                    comp = headerWrapperComp;\n                }\n            }\n        });\n        return comp ? comp.getGui() : null;\n    };\n    AutoWidthCalculator.prototype.putRowCellsIntoDummyContainer = function (column, eDummyContainer) {\n        var _this = this;\n        var eCells = this.rowRenderer.getAllCellsForColumn(column);\n        eCells.forEach(function (eCell) { return _this.cloneItemIntoDummy(eCell, eDummyContainer); });\n    };\n    AutoWidthCalculator.prototype.cloneItemIntoDummy = function (eCell, eDummyContainer) {\n        // make a deep clone of the cell\n        var eCellClone = eCell.cloneNode(true);\n        // the original has a fixed width, we remove this to allow the natural width based on content\n        eCellClone.style.width = '';\n        // the original has position = absolute, we need to remove this so it's positioned normally\n        eCellClone.style.position = 'static';\n        eCellClone.style.left = '';\n        // we put the cell into a containing div, as otherwise the cells would just line up\n        // on the same line, standard flow layout, by putting them into divs, they are laid\n        // out one per line\n        var eCloneParent = document.createElement('div');\n        if (_.containsClass(eCellClone, 'ag-header-cell')) {\n            _.addCssClass(eCloneParent, 'ag-header');\n            _.addCssClass(eCloneParent, 'ag-header-row');\n            eCloneParent.style.position = 'static';\n        }\n        // table-row, so that each cell is on a row. i also tried display='block', but this\n        // didn't work in IE\n        eCloneParent.style.display = 'table-row';\n        // the twig on the branch, the branch on the tree, the tree in the hole,\n        // the hole in the bog, the bog in the clone, the clone in the parent,\n        // the parent in the dummy, and the dummy down in the vall-e-ooo, OOOOOOOOO! Oh row the rattling bog....\n        eCloneParent.appendChild(eCellClone);\n        eDummyContainer.appendChild(eCloneParent);\n    };\n    __decorate$12([\n        Autowired('rowRenderer')\n    ], AutoWidthCalculator.prototype, \"rowRenderer\", void 0);\n    __decorate$12([\n        Autowired('gridOptionsWrapper')\n    ], AutoWidthCalculator.prototype, \"gridOptionsWrapper\", void 0);\n    AutoWidthCalculator = __decorate$12([\n        Bean('autoWidthCalculator')\n    ], AutoWidthCalculator);\n    return AutoWidthCalculator;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$13 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar HorizontalResizeService = /** @class */ (function () {\n    function HorizontalResizeService() {\n    }\n    HorizontalResizeService.prototype.addResizeBar = function (params) {\n        var _this = this;\n        var dragSource = {\n            dragStartPixels: params.dragStartPixels || 0,\n            eElement: params.eResizeBar,\n            onDragStart: this.onDragStart.bind(this, params),\n            onDragStop: this.onDragStop.bind(this, params),\n            onDragging: this.onDragging.bind(this, params)\n        };\n        this.dragService.addDragSource(dragSource, true);\n        // we pass remove func back to the caller, so call can tell us when they\n        // are finished, and then we remove the listener from the drag source\n        var finishedWithResizeFunc = function () { return _this.dragService.removeDragSource(dragSource); };\n        return finishedWithResizeFunc;\n    };\n    HorizontalResizeService.prototype.onDragStart = function (params, mouseEvent) {\n        this.draggingStarted = true;\n        this.dragStartX = mouseEvent.clientX;\n        this.setResizeIcons();\n        var shiftKey = mouseEvent instanceof MouseEvent ? mouseEvent.shiftKey === true : false;\n        params.onResizeStart(shiftKey);\n    };\n    HorizontalResizeService.prototype.setResizeIcons = function () {\n        this.oldBodyCursor = this.eGridDiv.style.cursor;\n        this.oldMsUserSelect = this.eGridDiv.style.msUserSelect;\n        this.oldWebkitUserSelect = this.eGridDiv.style.webkitUserSelect;\n        // change the body cursor, so when drag moves out of the drag bar, the cursor is still 'resize' (or 'move'\n        this.eGridDiv.style.cursor = 'ew-resize';\n        // we don't want text selection outside the grid (otherwise it looks weird as text highlights when we move)\n        this.eGridDiv.style.msUserSelect = 'none';\n        this.eGridDiv.style.webkitUserSelect = 'none';\n    };\n    HorizontalResizeService.prototype.onDragStop = function (params, mouseEvent) {\n        params.onResizeEnd(this.resizeAmount);\n        this.resetIcons();\n    };\n    HorizontalResizeService.prototype.resetIcons = function () {\n        // we don't want text selection outside the grid (otherwise it looks weird as text highlights when we move)\n        this.eGridDiv.style.cursor = this.oldBodyCursor;\n        this.eGridDiv.style.msUserSelect = this.oldMsUserSelect;\n        this.eGridDiv.style.webkitUserSelect = this.oldWebkitUserSelect;\n    };\n    HorizontalResizeService.prototype.onDragging = function (params, mouseEvent) {\n        this.resizeAmount = mouseEvent.clientX - this.dragStartX;\n        params.onResizing(this.resizeAmount);\n    };\n    __decorate$13([\n        Autowired('gridOptionsWrapper')\n    ], HorizontalResizeService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$13([\n        Autowired('dragService')\n    ], HorizontalResizeService.prototype, \"dragService\", void 0);\n    __decorate$13([\n        Autowired('eGridDiv')\n    ], HorizontalResizeService.prototype, \"eGridDiv\", void 0);\n    HorizontalResizeService = __decorate$13([\n        Bean('horizontalResizeService')\n    ], HorizontalResizeService);\n    return HorizontalResizeService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$O = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$14 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar GridCore = /** @class */ (function (_super) {\n    __extends$O(GridCore, _super);\n    function GridCore() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GridCore.prototype.init = function () {\n        var _this = this;\n        this.logger = this.loggerFactory.create('GridCore');\n        var template = this.createTemplate();\n        this.setTemplate(template);\n        // register with services that need grid core\n        [\n            this.gridApi,\n            this.rowRenderer,\n            this.popupService\n        ].forEach(function (service) { return service.registerGridCore(_this); });\n        if (ModuleRegistry.isRegistered(exports.ModuleNames.ClipboardModule)) {\n            this.clipboardService.registerGridCore(this);\n        }\n        this.gridOptionsWrapper.addLayoutElement(this.getGui());\n        this.eGridDiv.appendChild(this.getGui());\n        this.addDestroyFunc(function () {\n            _this.eGridDiv.removeChild(_this.getGui());\n        });\n        // if using angular, watch for quickFilter changes\n        if (this.$scope) {\n            var quickFilterUnregisterFn = this.$scope.$watch(this.quickFilterOnScope, function (newFilter) { return _this.filterManager.setQuickFilter(newFilter); });\n            this.addDestroyFunc(quickFilterUnregisterFn);\n        }\n        // important to set rtl before doLayout, as setting the RTL class impacts the scroll position,\n        // which doLayout indirectly depends on\n        this.addRtlSupport();\n        this.logger.log('ready');\n        this.gridOptionsWrapper.addLayoutElement(this.eRootWrapperBody);\n        var unsubscribeFromResize = this.resizeObserverService.observeResize(this.eGridDiv, this.onGridSizeChanged.bind(this));\n        this.addDestroyFunc(function () { return unsubscribeFromResize(); });\n        var eGui = this.getGui();\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_KEYBOARD_FOCUS, function () {\n            _.addCssClass(eGui, 'ag-keyboard-focus');\n        });\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_MOUSE_FOCUS, function () {\n            _.removeCssClass(eGui, 'ag-keyboard-focus');\n        });\n    };\n    GridCore.prototype.createTemplate = function () {\n        var sideBarModuleLoaded = ModuleRegistry.isRegistered(exports.ModuleNames.SideBarModule);\n        var statusBarModuleLoaded = ModuleRegistry.isRegistered(exports.ModuleNames.StatusBarModule);\n        var rowGroupingLoaded = ModuleRegistry.isRegistered(exports.ModuleNames.RowGroupingModule);\n        var enterpriseCoreLoaded = ModuleRegistry.isRegistered(exports.ModuleNames.EnterpriseCoreModule);\n        var dropZones = rowGroupingLoaded ? '<ag-grid-header-drop-zones></ag-grid-header-drop-zones>' : '';\n        var sideBar = sideBarModuleLoaded ? '<ag-side-bar ref=\"sideBar\"></ag-side-bar>' : '';\n        var statusBar = statusBarModuleLoaded ? '<ag-status-bar ref=\"statusBar\"></ag-status-bar>' : '';\n        var watermark = enterpriseCoreLoaded ? '<ag-watermark></ag-watermark>' : '';\n        var template = \"<div class=\\\"ag-root-wrapper\\\">\\n                \" + dropZones + \"\\n                <div class=\\\"ag-root-wrapper-body\\\" ref=\\\"rootWrapperBody\\\">\\n                    <ag-grid-comp ref=\\\"gridPanel\\\"></ag-grid-comp>\\n                    \" + sideBar + \"\\n                </div>\\n                \" + statusBar + \"\\n                <ag-pagination></ag-pagination>\\n                \" + watermark + \"\\n            </div>\";\n        return template;\n    };\n    GridCore.prototype.onGridSizeChanged = function () {\n        var event = {\n            type: Events.EVENT_GRID_SIZE_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            clientWidth: this.eGridDiv.clientWidth,\n            clientHeight: this.eGridDiv.clientHeight\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    GridCore.prototype.addRtlSupport = function () {\n        var cssClass = this.gridOptionsWrapper.isEnableRtl() ? 'ag-rtl' : 'ag-ltr';\n        _.addCssClass(this.getGui(), cssClass);\n    };\n    GridCore.prototype.getRootGui = function () {\n        return this.getGui();\n    };\n    GridCore.prototype.isSideBarVisible = function () {\n        if (!this.sideBarComp) {\n            return false;\n        }\n        return this.sideBarComp.isDisplayed();\n    };\n    GridCore.prototype.setSideBarVisible = function (show) {\n        if (!this.sideBarComp) {\n            if (show) {\n                console.warn('ag-Grid: sideBar is not loaded');\n            }\n            return;\n        }\n        this.sideBarComp.setDisplayed(show);\n    };\n    GridCore.prototype.setSideBarPosition = function (position) {\n        if (!this.sideBarComp) {\n            console.warn('ag-Grid: sideBar is not loaded');\n            return;\n        }\n        this.sideBarComp.setSideBarPosition(position);\n    };\n    GridCore.prototype.closeToolPanel = function () {\n        if (!this.sideBarComp) {\n            console.warn('ag-Grid: toolPanel is only available in ag-Grid Enterprise');\n            return;\n        }\n        this.sideBarComp.close();\n    };\n    GridCore.prototype.getSideBar = function () {\n        return this.gridOptions.sideBar;\n    };\n    GridCore.prototype.getToolPanelInstance = function (key) {\n        if (!this.sideBarComp) {\n            console.warn('ag-Grid: toolPanel is only available in ag-Grid Enterprise');\n            return;\n        }\n        return this.sideBarComp.getToolPanelInstance(key);\n    };\n    GridCore.prototype.refreshSideBar = function () {\n        if (this.sideBarComp) {\n            this.sideBarComp.refresh();\n        }\n    };\n    GridCore.prototype.setSideBar = function (def) {\n        if (!this.sideBarComp) {\n            return;\n        }\n        this.eRootWrapperBody.removeChild(this.sideBarComp.getGui());\n        this.gridOptions.sideBar = SideBarDefParser.parse(def);\n        this.sideBarComp.reset();\n        this.eRootWrapperBody.appendChild(this.sideBarComp.getGui());\n    };\n    GridCore.prototype.getOpenedToolPanel = function () {\n        if (!this.sideBarComp) {\n            return null;\n        }\n        return this.sideBarComp.openedItem();\n    };\n    GridCore.prototype.openToolPanel = function (key) {\n        if (!this.sideBarComp) {\n            console.warn('ag-Grid: toolPanel is only available in ag-Grid Enterprise');\n            return;\n        }\n        this.sideBarComp.openToolPanel(key);\n    };\n    GridCore.prototype.isToolPanelShowing = function () {\n        return this.sideBarComp.isToolPanelShowing();\n    };\n    GridCore.prototype.destroy = function () {\n        this.logger.log('Grid DOM removed');\n        _super.prototype.destroy.call(this);\n    };\n    // Valid values for position are bottom, middle and top\n    GridCore.prototype.ensureNodeVisible = function (comparator, position) {\n        if (position === void 0) { position = null; }\n        if (this.doingVirtualPaging) {\n            throw new Error('Cannot use ensureNodeVisible when doing virtual paging, as we cannot check rows that are not in memory');\n        }\n        // look for the node index we want to display\n        var rowCount = this.rowModel.getRowCount();\n        var comparatorIsAFunction = typeof comparator === 'function';\n        var indexToSelect = -1;\n        // go through all the nodes, find the one we want to show\n        for (var i = 0; i < rowCount; i++) {\n            var node = this.rowModel.getRow(i);\n            if (comparatorIsAFunction) {\n                if (comparator(node)) {\n                    indexToSelect = i;\n                    break;\n                }\n            }\n            else {\n                // check object equality against node and data\n                if (comparator === node || comparator === node.data) {\n                    indexToSelect = i;\n                    break;\n                }\n            }\n        }\n        if (indexToSelect >= 0) {\n            this.gridPanel.ensureIndexVisible(indexToSelect, position);\n        }\n    };\n    __decorate$14([\n        Autowired('gridOptions')\n    ], GridCore.prototype, \"gridOptions\", void 0);\n    __decorate$14([\n        Autowired('gridOptionsWrapper')\n    ], GridCore.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$14([\n        Autowired('rowModel')\n    ], GridCore.prototype, \"rowModel\", void 0);\n    __decorate$14([\n        Autowired('resizeObserverService')\n    ], GridCore.prototype, \"resizeObserverService\", void 0);\n    __decorate$14([\n        Autowired('columnController')\n    ], GridCore.prototype, \"columnController\", void 0);\n    __decorate$14([\n        Autowired('rowRenderer')\n    ], GridCore.prototype, \"rowRenderer\", void 0);\n    __decorate$14([\n        Autowired('filterManager')\n    ], GridCore.prototype, \"filterManager\", void 0);\n    __decorate$14([\n        Autowired('eventService')\n    ], GridCore.prototype, \"eventService\", void 0);\n    __decorate$14([\n        Autowired('eGridDiv')\n    ], GridCore.prototype, \"eGridDiv\", void 0);\n    __decorate$14([\n        Autowired('$scope')\n    ], GridCore.prototype, \"$scope\", void 0);\n    __decorate$14([\n        Autowired('quickFilterOnScope')\n    ], GridCore.prototype, \"quickFilterOnScope\", void 0);\n    __decorate$14([\n        Autowired('popupService')\n    ], GridCore.prototype, \"popupService\", void 0);\n    __decorate$14([\n        Autowired('focusController')\n    ], GridCore.prototype, \"focusController\", void 0);\n    __decorate$14([\n        Autowired('loggerFactory')\n    ], GridCore.prototype, \"loggerFactory\", void 0);\n    __decorate$14([\n        Autowired('columnApi')\n    ], GridCore.prototype, \"columnApi\", void 0);\n    __decorate$14([\n        Autowired('gridApi')\n    ], GridCore.prototype, \"gridApi\", void 0);\n    __decorate$14([\n        Autowired('environment')\n    ], GridCore.prototype, \"environment\", void 0);\n    __decorate$14([\n        Optional('clipboardService')\n    ], GridCore.prototype, \"clipboardService\", void 0);\n    __decorate$14([\n        RefSelector('gridPanel')\n    ], GridCore.prototype, \"gridPanel\", void 0);\n    __decorate$14([\n        RefSelector('sideBar')\n    ], GridCore.prototype, \"sideBarComp\", void 0);\n    __decorate$14([\n        RefSelector('rootWrapperBody')\n    ], GridCore.prototype, \"eRootWrapperBody\", void 0);\n    __decorate$14([\n        PostConstruct\n    ], GridCore.prototype, \"init\", null);\n    return GridCore;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$15 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar StandardMenuFactory = /** @class */ (function () {\n    function StandardMenuFactory() {\n    }\n    StandardMenuFactory.prototype.hideActiveMenu = function () {\n        if (this.hidePopup) {\n            this.hidePopup();\n        }\n    };\n    StandardMenuFactory.prototype.showMenuAfterMouseEvent = function (column, mouseEvent) {\n        var _this = this;\n        this.showPopup(column, function (eMenu) {\n            _this.popupService.positionPopupUnderMouseEvent({\n                column: column,\n                type: 'columnMenu',\n                mouseEvent: mouseEvent,\n                ePopup: eMenu\n            });\n        });\n    };\n    StandardMenuFactory.prototype.showMenuAfterButtonClick = function (column, eventSource) {\n        var _this = this;\n        this.showPopup(column, function (eMenu) {\n            _this.popupService.positionPopupUnderComponent({\n                type: 'columnMenu',\n                eventSource: eventSource,\n                ePopup: eMenu,\n                keepWithinBounds: true,\n                column: column\n            });\n        });\n    };\n    StandardMenuFactory.prototype.showPopup = function (column, positionCallback) {\n        var _this = this;\n        var filterWrapper = this.filterManager.getOrCreateFilterWrapper(column, 'COLUMN_MENU');\n        var eMenu = document.createElement('div');\n        _.addCssClass(eMenu, 'ag-menu');\n        filterWrapper.guiPromise.then(function (gui) { return eMenu.appendChild(gui); });\n        var hidePopup;\n        var bodyScrollListener = function (event) {\n            // if h scroll, popup is no longer over the column\n            if (event.direction === 'horizontal') {\n                hidePopup();\n            }\n        };\n        this.eventService.addEventListener('bodyScroll', bodyScrollListener);\n        var closedCallback = function () {\n            _this.eventService.removeEventListener('bodyScroll', bodyScrollListener);\n            column.setMenuVisible(false, 'contextMenu');\n        };\n        // need to show filter before positioning, as only after filter\n        // is visible can we find out what the width of it is\n        hidePopup = this.popupService.addAsModalPopup(eMenu, true, closedCallback);\n        positionCallback(eMenu);\n        filterWrapper.filterPromise.then(function (filter) {\n            if (filter.afterGuiAttached) {\n                var params = {\n                    hidePopup: hidePopup\n                };\n                filter.afterGuiAttached(params);\n            }\n        });\n        this.hidePopup = hidePopup;\n        column.setMenuVisible(true, 'contextMenu');\n    };\n    StandardMenuFactory.prototype.isMenuEnabled = function (column) {\n        // for standard, we show menu if filter is enabled, and the menu is not suppressed\n        return column.isFilterAllowed();\n    };\n    __decorate$15([\n        Autowired('eventService')\n    ], StandardMenuFactory.prototype, \"eventService\", void 0);\n    __decorate$15([\n        Autowired('filterManager')\n    ], StandardMenuFactory.prototype, \"filterManager\", void 0);\n    __decorate$15([\n        Autowired('popupService')\n    ], StandardMenuFactory.prototype, \"popupService\", void 0);\n    StandardMenuFactory = __decorate$15([\n        Bean('menuFactory')\n    ], StandardMenuFactory);\n    return StandardMenuFactory;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$16 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/** Adds drag listening onto an element. In ag-Grid this is used twice, first is resizing columns,\n * second is moving the columns and column groups around (ie the 'drag' part of Drag and Drop. */\nvar DragService = /** @class */ (function () {\n    function DragService() {\n        this.dragEndFunctions = [];\n        this.dragSources = [];\n    }\n    DragService.prototype.init = function () {\n        this.logger = this.loggerFactory.create('DragService');\n    };\n    DragService.prototype.destroy = function () {\n        this.dragSources.forEach(this.removeListener.bind(this));\n        this.dragSources.length = 0;\n    };\n    DragService.prototype.removeListener = function (dragSourceAndListener) {\n        var element = dragSourceAndListener.dragSource.eElement;\n        var mouseDownListener = dragSourceAndListener.mouseDownListener;\n        element.removeEventListener('mousedown', mouseDownListener);\n        // remove touch listener only if it exists\n        if (dragSourceAndListener.touchEnabled) {\n            var touchStartListener = dragSourceAndListener.touchStartListener;\n            element.removeEventListener('touchstart', touchStartListener, { passive: true });\n        }\n    };\n    DragService.prototype.removeDragSource = function (params) {\n        var dragSourceAndListener = _.find(this.dragSources, function (item) { return item.dragSource === params; });\n        if (!dragSourceAndListener) {\n            return;\n        }\n        this.removeListener(dragSourceAndListener);\n        _.removeFromArray(this.dragSources, dragSourceAndListener);\n    };\n    DragService.prototype.setNoSelectToBody = function (noSelect) {\n        var eDocument = this.gridOptionsWrapper.getDocument();\n        var eBody = eDocument.querySelector('body');\n        if (_.exists(eBody)) {\n            // when we drag the mouse in ag-Grid, this class gets added / removed from the body, so that\n            // the mouse isn't selecting text when dragging.\n            _.addOrRemoveCssClass(eBody, 'ag-unselectable', noSelect);\n        }\n    };\n    DragService.prototype.addDragSource = function (params, includeTouch) {\n        if (includeTouch === void 0) { includeTouch = false; }\n        var mouseListener = this.onMouseDown.bind(this, params);\n        params.eElement.addEventListener('mousedown', mouseListener);\n        var touchListener = null;\n        var suppressTouch = this.gridOptionsWrapper.isSuppressTouch();\n        if (includeTouch && !suppressTouch) {\n            touchListener = this.onTouchStart.bind(this, params);\n            params.eElement.addEventListener('touchstart', touchListener, { passive: false });\n        }\n        this.dragSources.push({\n            dragSource: params,\n            mouseDownListener: mouseListener,\n            touchStartListener: touchListener,\n            touchEnabled: includeTouch\n        });\n    };\n    // gets called whenever mouse down on any drag source\n    DragService.prototype.onTouchStart = function (params, touchEvent) {\n        var _this = this;\n        this.currentDragParams = params;\n        this.dragging = false;\n        var touch = touchEvent.touches[0];\n        this.touchLastTime = touch;\n        this.touchStart = touch;\n        if (touchEvent.cancelable) {\n            touchEvent.preventDefault();\n        }\n        var touchMoveEvent = function (e) { return _this.onTouchMove(e, params.eElement); };\n        var touchEndEvent = function (e) { return _this.onTouchUp(e, params.eElement); };\n        var target = params.eElement;\n        var events = [\n            { target: target, type: 'touchmove', listener: touchMoveEvent, options: { passive: true } },\n            { target: target, type: 'touchend', listener: touchEndEvent, options: { passive: true } },\n            { target: target, type: 'touchcancel', listener: touchEndEvent, options: { passive: true } }\n        ];\n        // temporally add these listeners, for the duration of the drag\n        this.addTemporaryEvents(events);\n        // see if we want to start dragging straight away\n        if (params.dragStartPixels === 0) {\n            this.onCommonMove(touch, this.touchStart, params.eElement);\n        }\n    };\n    // gets called whenever mouse down on any drag source\n    DragService.prototype.onMouseDown = function (params, mouseEvent) {\n        var _this = this;\n        var e = mouseEvent;\n        if (params.skipMouseEvent && params.skipMouseEvent(mouseEvent)) {\n            return;\n        }\n        // if there are two elements with parent / child relationship, and both are draggable,\n        // when we drag the child, we should NOT drag the parent. an example of this is row moving\n        // and range selection - row moving should get preference when use drags the rowDrag component.\n        if (e._alreadyProcessedByDragService) {\n            return;\n        }\n        e._alreadyProcessedByDragService = true;\n        // only interested in left button clicks\n        if (mouseEvent.button !== 0) {\n            return;\n        }\n        this.currentDragParams = params;\n        this.dragging = false;\n        this.mouseStartEvent = mouseEvent;\n        var eDocument = this.gridOptionsWrapper.getDocument();\n        this.setNoSelectToBody(true);\n        var mouseMoveEvent = function (e, el) { return _this.onMouseMove(e, params.eElement); };\n        var mouseUpEvent = function (e, el) { return _this.onMouseUp(e, params.eElement); };\n        var contextEvent = function (e) { return e.preventDefault(); };\n        var target = eDocument;\n        var events = [\n            { target: target, type: 'mousemove', listener: mouseMoveEvent },\n            { target: target, type: 'mouseup', listener: mouseUpEvent },\n            { target: target, type: 'contextmenu', listener: contextEvent }\n        ];\n        // temporally add these listeners, for the duration of the drag\n        this.addTemporaryEvents(events);\n        //see if we want to start dragging straight away\n        if (params.dragStartPixels === 0) {\n            this.onMouseMove(mouseEvent, params.eElement);\n        }\n    };\n    DragService.prototype.addTemporaryEvents = function (events) {\n        events.forEach(function (currentEvent) {\n            var target = currentEvent.target, type = currentEvent.type, listener = currentEvent.listener, options = currentEvent.options;\n            target.addEventListener(type, listener, options);\n        });\n        this.dragEndFunctions.push(function () {\n            events.forEach(function (currentEvent) {\n                var target = currentEvent.target, type = currentEvent.type, listener = currentEvent.listener, options = currentEvent.options;\n                target.removeEventListener(type, listener, options);\n            });\n        });\n    };\n    // returns true if the event is close to the original event by X pixels either vertically or horizontally.\n    // we only start dragging after X pixels so this allows us to know if we should start dragging yet.\n    DragService.prototype.isEventNearStartEvent = function (currentEvent, startEvent) {\n        // by default, we wait 4 pixels before starting the drag\n        var dragStartPixels = this.currentDragParams.dragStartPixels;\n        var requiredPixelDiff = _.exists(dragStartPixels) ? dragStartPixels : 4;\n        return _.areEventsNear(currentEvent, startEvent, requiredPixelDiff);\n    };\n    DragService.prototype.getFirstActiveTouch = function (touchList) {\n        for (var i = 0; i < touchList.length; i++) {\n            if (touchList[i].identifier === this.touchStart.identifier) {\n                return touchList[i];\n            }\n        }\n        return null;\n    };\n    DragService.prototype.onCommonMove = function (currentEvent, startEvent, el) {\n        if (!this.dragging) {\n            // if mouse hasn't travelled from the start position enough, do nothing\n            if (!this.dragging && this.isEventNearStartEvent(currentEvent, startEvent)) {\n                return;\n            }\n            this.dragging = true;\n            var event_1 = {\n                type: Events.EVENT_DRAG_STARTED,\n                api: this.gridApi,\n                columnApi: this.columnApi,\n                target: el\n            };\n            this.eventService.dispatchEvent(event_1);\n            this.currentDragParams.onDragStart(startEvent);\n        }\n        this.currentDragParams.onDragging(currentEvent);\n    };\n    DragService.prototype.onTouchMove = function (touchEvent, el) {\n        var touch = this.getFirstActiveTouch(touchEvent.touches);\n        if (!touch) {\n            return;\n        }\n        // this.___statusPanel.setInfoText(Math.random() + ' onTouchMove preventDefault stopPropagation');\n        // if we don't preview default, then the browser will try and do it's own touch stuff,\n        // like do 'back button' (chrome does this) or scroll the page (eg drag column could  be confused\n        // with scroll page in the app)\n        // touchEvent.preventDefault();\n        this.onCommonMove(touch, this.touchStart, el);\n    };\n    // only gets called after a mouse down - as this is only added after mouseDown\n    // and is removed when mouseUp happens\n    DragService.prototype.onMouseMove = function (mouseEvent, el) {\n        this.onCommonMove(mouseEvent, this.mouseStartEvent, el);\n    };\n    DragService.prototype.onTouchUp = function (touchEvent, el) {\n        var touch = this.getFirstActiveTouch(touchEvent.changedTouches);\n        // i haven't worked this out yet, but there is no matching touch\n        // when we get the touch up event. to get around this, we swap in\n        // the last touch. this is a hack to 'get it working' while we\n        // figure out what's going on, why we are not getting a touch in\n        // current event.\n        if (!touch) {\n            touch = this.touchLastTime;\n        }\n        // if mouse was left up before we started to move, then this is a tap.\n        // we check this before onUpCommon as onUpCommon resets the dragging\n        // let tap = !this.dragging;\n        // let tapTarget = this.currentDragParams.eElement;\n        this.onUpCommon(touch, el);\n        // if tap, tell user\n        // console.log(`${Math.random()} tap = ${tap}`);\n        // if (tap) {\n        //     tapTarget.click();\n        // }\n    };\n    DragService.prototype.onMouseUp = function (mouseEvent, el) {\n        this.onUpCommon(mouseEvent, el);\n    };\n    DragService.prototype.onUpCommon = function (eventOrTouch, el) {\n        if (this.dragging) {\n            this.dragging = false;\n            this.currentDragParams.onDragStop(eventOrTouch);\n            var event_2 = {\n                type: Events.EVENT_DRAG_STOPPED,\n                api: this.gridApi,\n                columnApi: this.columnApi,\n                target: el\n            };\n            this.eventService.dispatchEvent(event_2);\n        }\n        this.setNoSelectToBody(false);\n        this.mouseStartEvent = null;\n        this.touchStart = null;\n        this.touchLastTime = null;\n        this.currentDragParams = null;\n        this.dragEndFunctions.forEach(function (func) { return func(); });\n        this.dragEndFunctions.length = 0;\n    };\n    __decorate$16([\n        Autowired('loggerFactory')\n    ], DragService.prototype, \"loggerFactory\", void 0);\n    __decorate$16([\n        Autowired('eventService')\n    ], DragService.prototype, \"eventService\", void 0);\n    __decorate$16([\n        Autowired('gridOptionsWrapper')\n    ], DragService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$16([\n        Autowired('columnApi')\n    ], DragService.prototype, \"columnApi\", void 0);\n    __decorate$16([\n        Autowired('gridApi')\n    ], DragService.prototype, \"gridApi\", void 0);\n    __decorate$16([\n        PostConstruct\n    ], DragService.prototype, \"init\", null);\n    __decorate$16([\n        PreDestroy\n    ], DragService.prototype, \"destroy\", null);\n    DragService = __decorate$16([\n        Bean('dragService')\n    ], DragService);\n    return DragService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$17 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar SortController = /** @class */ (function () {\n    function SortController() {\n        var _this = this;\n        // used by the public api, for saving the sort model\n        this.getSortModel = function () {\n            return _this.getColumnsWithSortingOrdered().map(function (column) { return ({\n                colId: column.getColId(),\n                sort: column.getSort()\n            }); });\n        };\n    }\n    SortController_1 = SortController;\n    SortController.prototype.progressSort = function (column, multiSort, source) {\n        if (source === void 0) { source = \"api\"; }\n        var nextDirection = this.getNextSortDirection(column);\n        this.setSortForColumn(column, nextDirection, multiSort, source);\n    };\n    SortController.prototype.setSortForColumn = function (column, sort, multiSort, source) {\n        if (source === void 0) { source = \"api\"; }\n        // auto correct - if sort not legal value, then set it to 'no sort' (which is null)\n        if (sort !== Constants.SORT_ASC && sort !== Constants.SORT_DESC) {\n            sort = null;\n        }\n        // update sort on current col\n        column.setSort(sort, source);\n        // sortedAt used for knowing order of cols when multi-col sort\n        if (column.getSort()) {\n            var sortedAt = Number(new Date().valueOf());\n            column.setSortedAt(sortedAt);\n        }\n        else {\n            column.setSortedAt(null);\n        }\n        var doingMultiSort = multiSort && !this.gridOptionsWrapper.isSuppressMultiSort();\n        // clear sort on all columns except this one, and update the icons\n        if (!doingMultiSort) {\n            this.clearSortBarThisColumn(column, source);\n        }\n        this.dispatchSortChangedEvents();\n    };\n    // gets called by API, so if data changes, use can call this, which will end up\n    // working out the sort order again of the rows.\n    SortController.prototype.onSortChanged = function () {\n        this.dispatchSortChangedEvents();\n    };\n    SortController.prototype.dispatchSortChangedEvents = function () {\n        var event = {\n            type: Events.EVENT_SORT_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    SortController.prototype.clearSortBarThisColumn = function (columnToSkip, source) {\n        this.columnController.getPrimaryAndSecondaryAndAutoColumns().forEach(function (columnToClear) {\n            // Do not clear if either holding shift, or if column in question was clicked\n            if (!(columnToClear === columnToSkip)) {\n                // setting to 'undefined' as null means 'none' rather than cleared, otherwise issue will arise\n                // if sort order is: ['desc', null , 'asc'], as it will start at null rather than 'desc'.\n                columnToClear.setSort(undefined, source);\n            }\n        });\n    };\n    SortController.prototype.getNextSortDirection = function (column) {\n        var sortingOrder;\n        if (column.getColDef().sortingOrder) {\n            sortingOrder = column.getColDef().sortingOrder;\n        }\n        else if (this.gridOptionsWrapper.getSortingOrder()) {\n            sortingOrder = this.gridOptionsWrapper.getSortingOrder();\n        }\n        else {\n            sortingOrder = SortController_1.DEFAULT_SORTING_ORDER;\n        }\n        if (!Array.isArray(sortingOrder) || sortingOrder.length <= 0) {\n            console.warn(\"ag-grid: sortingOrder must be an array with at least one element, currently it's \" + sortingOrder);\n            return null;\n        }\n        var currentIndex = sortingOrder.indexOf(column.getSort());\n        var notInArray = currentIndex < 0;\n        var lastItemInArray = currentIndex == sortingOrder.length - 1;\n        var result;\n        if (notInArray || lastItemInArray) {\n            result = sortingOrder[0];\n        }\n        else {\n            result = sortingOrder[currentIndex + 1];\n        }\n        // verify the sort type exists, as the user could provide the sortingOrder, need to make sure it's valid\n        if (SortController_1.DEFAULT_SORTING_ORDER.indexOf(result) < 0) {\n            console.warn('ag-grid: invalid sort type ' + result);\n            return null;\n        }\n        return result;\n    };\n    SortController.prototype.setSortModel = function (sortModel, source) {\n        var _this = this;\n        if (source === void 0) { source = \"api\"; }\n        // first up, clear any previous sort\n        var sortModelProvided = sortModel && sortModel.length > 0;\n        var allColumnsIncludingAuto = this.columnController.getPrimaryAndSecondaryAndAutoColumns();\n        allColumnsIncludingAuto.forEach(function (column) {\n            var sortForCol = null;\n            var sortedAt = -1;\n            if (sortModelProvided && column.getColDef().sortable) {\n                for (var j = 0; j < sortModel.length; j++) {\n                    var sortModelEntry = sortModel[j];\n                    if (typeof sortModelEntry.colId === 'string'\n                        && typeof column.getColId() === 'string'\n                        && _this.compareColIds(sortModelEntry, column)) {\n                        sortForCol = sortModelEntry.sort;\n                        sortedAt = j;\n                    }\n                }\n            }\n            if (sortForCol) {\n                column.setSort(sortForCol, source);\n                column.setSortedAt(sortedAt);\n            }\n            else {\n                column.setSort(null, source);\n                column.setSortedAt(null);\n            }\n        });\n        this.dispatchSortChangedEvents();\n    };\n    SortController.prototype.compareColIds = function (sortModelEntry, column) {\n        return sortModelEntry.colId === column.getColId();\n    };\n    SortController.prototype.getColumnsWithSortingOrdered = function () {\n        // pull out all the columns that have sorting set\n        var allColumnsIncludingAuto = this.columnController.getPrimaryAndSecondaryAndAutoColumns();\n        var columnsWithSorting = allColumnsIncludingAuto.filter(function (column) { return !!column.getSort(); });\n        // put the columns in order of which one got sorted first\n        columnsWithSorting.sort(function (a, b) { return a.sortedAt - b.sortedAt; });\n        return columnsWithSorting;\n    };\n    // used by row controller, when doing the sorting\n    SortController.prototype.getSortForRowController = function () {\n        return this.getColumnsWithSortingOrdered().map(function (column) {\n            var isAscending = column.getSort() === Constants.SORT_ASC;\n            return {\n                inverter: isAscending ? 1 : -1,\n                column: column\n            };\n        });\n    };\n    var SortController_1;\n    SortController.DEFAULT_SORTING_ORDER = [Constants.SORT_ASC, Constants.SORT_DESC, null];\n    __decorate$17([\n        Autowired('gridOptionsWrapper')\n    ], SortController.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$17([\n        Autowired('columnController')\n    ], SortController.prototype, \"columnController\", void 0);\n    __decorate$17([\n        Autowired('eventService')\n    ], SortController.prototype, \"eventService\", void 0);\n    __decorate$17([\n        Autowired('columnApi')\n    ], SortController.prototype, \"columnApi\", void 0);\n    __decorate$17([\n        Autowired('gridApi')\n    ], SortController.prototype, \"gridApi\", void 0);\n    SortController = SortController_1 = __decorate$17([\n        Bean('sortController')\n    ], SortController);\n    return SortController;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$18 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar FocusController = /** @class */ (function () {\n    function FocusController() {\n        this.keyboardFocusActive = false;\n        this.events = [];\n    }\n    FocusController.prototype.init = function () {\n        var eDocument = this.gridOptionsWrapper.getDocument();\n        var clearFocusedCellListener = this.clearFocusedCell.bind(this);\n        this.events = [\n            this.eventService.addEventListener(Events.EVENT_COLUMN_PIVOT_MODE_CHANGED, clearFocusedCellListener),\n            this.eventService.addEventListener(Events.EVENT_COLUMN_EVERYTHING_CHANGED, clearFocusedCellListener),\n            this.eventService.addEventListener(Events.EVENT_COLUMN_GROUP_OPENED, clearFocusedCellListener),\n            this.eventService.addEventListener(Events.EVENT_COLUMN_ROW_GROUP_CHANGED, clearFocusedCellListener)\n        ];\n        var activateKeyboardModeListener = this.activateKeyboardMode.bind(this);\n        eDocument.addEventListener('keydown', activateKeyboardModeListener);\n        this.events.push(function () { return eDocument.removeEventListener('keydown', activateKeyboardModeListener); });\n        var activateMouseModeListener = this.activateMouseMode.bind(this);\n        eDocument.addEventListener('mousedown', activateMouseModeListener);\n        this.events.push(function () { return eDocument.removeEventListener('mousedown', activateMouseModeListener); });\n    };\n    FocusController.prototype.destroy = function () {\n        if (this.events.length) {\n            this.events.forEach(function (func) { return func(); });\n            this.events = [];\n        }\n    };\n    FocusController.prototype.isKeyboardFocus = function () {\n        return this.keyboardFocusActive;\n    };\n    FocusController.prototype.clearFocusedCell = function () {\n        this.focusedCellPosition = null;\n        this.onCellFocused(false);\n    };\n    FocusController.prototype.getFocusedCell = function () {\n        return this.focusedCellPosition;\n    };\n    FocusController.prototype.activateMouseMode = function () {\n        this.keyboardFocusActive = false;\n        this.eventService.dispatchEvent({ type: Events.EVENT_MOUSE_FOCUS });\n    };\n    FocusController.prototype.activateKeyboardMode = function () {\n        this.keyboardFocusActive = true;\n        this.eventService.dispatchEvent({ type: Events.EVENT_KEYBOARD_FOCUS });\n    };\n    // we check if the browser is focusing something, and if it is, and\n    // it's the cell we think is focused, then return the cell. so this\n    // methods returns the cell if a) we think it has focus and b) the\n    // browser thinks it has focus. this then returns nothing if we\n    // first focus a cell, then second click outside the grid, as then the\n    // grid cell will still be focused as far as the grid is concerned,\n    // however the browser focus will have moved somewhere else.\n    FocusController.prototype.getFocusCellToUseAfterRefresh = function () {\n        if (this.gridOptionsWrapper.isSuppressFocusAfterRefresh()) {\n            return null;\n        }\n        if (!this.focusedCellPosition) {\n            return null;\n        }\n        // we check that the browser is actually focusing on the grid, if it is not, then\n        // we have nothing to worry about\n        var browserFocusedCell = this.getGridCellForDomElement(document.activeElement);\n        if (!browserFocusedCell) {\n            return null;\n        }\n        return this.focusedCellPosition;\n    };\n    FocusController.prototype.getGridCellForDomElement = function (eBrowserCell) {\n        var ePointer = eBrowserCell;\n        while (ePointer) {\n            var cellComp = this.gridOptionsWrapper.getDomData(ePointer, CellComp.DOM_DATA_KEY_CELL_COMP);\n            if (cellComp) {\n                return cellComp.getCellPosition();\n            }\n            ePointer = ePointer.parentNode;\n        }\n        return null;\n    };\n    FocusController.prototype.setFocusedCell = function (rowIndex, colKey, floating, forceBrowserFocus) {\n        if (forceBrowserFocus === void 0) { forceBrowserFocus = false; }\n        var column = _.makeNull(this.columnController.getGridColumn(colKey));\n        this.focusedCellPosition = { rowIndex: rowIndex, rowPinned: _.makeNull(floating), column: column };\n        this.onCellFocused(forceBrowserFocus);\n    };\n    FocusController.prototype.isCellFocused = function (cellPosition) {\n        if (_.missing(this.focusedCellPosition)) {\n            return false;\n        }\n        return this.focusedCellPosition.column === cellPosition.column && this.isRowFocused(cellPosition.rowIndex, cellPosition.rowPinned);\n    };\n    FocusController.prototype.isRowNodeFocused = function (rowNode) {\n        return this.isRowFocused(rowNode.rowIndex, rowNode.rowPinned);\n    };\n    FocusController.prototype.isAnyCellFocused = function () {\n        return !!this.focusedCellPosition;\n    };\n    FocusController.prototype.isRowFocused = function (rowIndex, floating) {\n        if (_.missing(this.focusedCellPosition)) {\n            return false;\n        }\n        var floatingOrNull = _.makeNull(floating);\n        return this.focusedCellPosition.rowIndex === rowIndex && this.focusedCellPosition.rowPinned === floatingOrNull;\n    };\n    FocusController.prototype.findFocusableElements = function (rootNode, exclude) {\n        var focusableString = '[tabindex], input, select, button, textarea';\n        var excludeString = '.ag-hidden, .ag-hidden *, .ag-disabled, .ag-disabled *';\n        if (exclude) {\n            excludeString += ', ' + exclude;\n        }\n        var nodes = Array.from(rootNode.querySelectorAll(focusableString));\n        var excludeNodes = Array.from(rootNode.querySelectorAll(excludeString));\n        if (!excludeNodes.length) {\n            return nodes;\n        }\n        var diff = function (a, b) { return a.filter(function (element) { return b.indexOf(element) === -1; }); };\n        return diff(nodes, excludeNodes);\n    };\n    FocusController.prototype.onCellFocused = function (forceBrowserFocus) {\n        var event = {\n            type: Events.EVENT_CELL_FOCUSED,\n            forceBrowserFocus: forceBrowserFocus,\n            rowIndex: null,\n            column: null,\n            floating: null,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            rowPinned: null\n        };\n        if (this.focusedCellPosition) {\n            event.rowIndex = this.focusedCellPosition.rowIndex;\n            event.column = this.focusedCellPosition.column;\n            event.rowPinned = this.focusedCellPosition.rowPinned;\n        }\n        this.eventService.dispatchEvent(event);\n    };\n    __decorate$18([\n        Autowired('eventService')\n    ], FocusController.prototype, \"eventService\", void 0);\n    __decorate$18([\n        Autowired('gridOptionsWrapper')\n    ], FocusController.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$18([\n        Autowired('columnController')\n    ], FocusController.prototype, \"columnController\", void 0);\n    __decorate$18([\n        Autowired('columnApi')\n    ], FocusController.prototype, \"columnApi\", void 0);\n    __decorate$18([\n        Autowired('gridApi')\n    ], FocusController.prototype, \"gridApi\", void 0);\n    __decorate$18([\n        PostConstruct\n    ], FocusController.prototype, \"init\", null);\n    __decorate$18([\n        PreDestroy\n    ], FocusController.prototype, \"destroy\", null);\n    FocusController = __decorate$18([\n        Bean('focusController')\n    ], FocusController);\n    return FocusController;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$19 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar MouseEventService = /** @class */ (function () {\n    function MouseEventService() {\n        this.gridInstanceId = MouseEventService_1.gridInstanceSequence.next();\n    }\n    MouseEventService_1 = MouseEventService;\n    MouseEventService.prototype.init = function () {\n        this.stampDomElementWithGridInstance();\n    };\n    MouseEventService.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    // we put the instance id onto the main DOM element. this is used for events, when grids are inside grids,\n    // so the grid can work out if the even came from this grid or a grid inside this one. see the ctrl+v logic\n    // for where this is used.\n    MouseEventService.prototype.stampDomElementWithGridInstance = function () {\n        this.eGridDiv[MouseEventService_1.GRID_DOM_KEY] = this.gridInstanceId;\n    };\n    MouseEventService.prototype.getRenderedCellForEvent = function (event) {\n        return _.getCellCompForEvent(this.gridOptionsWrapper, event);\n    };\n    // walks the path of the event, and returns true if this grid is the first one that it finds. if doing\n    // master / detail grids, and a child grid is found, then it returns false. this stops things like copy/paste\n    // getting executed on many grids at the same time.\n    MouseEventService.prototype.isEventFromThisGrid = function (event) {\n        var path = _.getEventPath(event);\n        for (var i = 0; i < path.length; i++) {\n            var element = path[i];\n            var instanceId = element[MouseEventService_1.GRID_DOM_KEY];\n            if (_.exists(instanceId)) {\n                var eventFromThisGrid = instanceId === this.gridInstanceId;\n                return eventFromThisGrid;\n            }\n        }\n        return false;\n    };\n    MouseEventService.prototype.getCellPositionForEvent = function (event) {\n        var cellComp = this.getRenderedCellForEvent(event);\n        return cellComp ? cellComp.getCellPosition() : null;\n    };\n    MouseEventService.prototype.getNormalisedPosition = function (event) {\n        var gridPanelHasScrolls = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_NORMAL;\n        var x = event.x, y = event.y;\n        if (gridPanelHasScrolls) {\n            var vRange = this.gridPanel.getVScrollPosition();\n            var hRange = this.gridPanel.getHScrollPosition();\n            return { x: x + hRange.left, y: y + vRange.top };\n        }\n        return { x: x, y: y };\n    };\n    var MouseEventService_1;\n    MouseEventService.gridInstanceSequence = new NumberSequence();\n    MouseEventService.GRID_DOM_KEY = '__ag_grid_instance';\n    __decorate$19([\n        Autowired('gridOptionsWrapper')\n    ], MouseEventService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$19([\n        Autowired('eGridDiv')\n    ], MouseEventService.prototype, \"eGridDiv\", void 0);\n    __decorate$19([\n        PostConstruct\n    ], MouseEventService.prototype, \"init\", null);\n    MouseEventService = MouseEventService_1 = __decorate$19([\n        Bean('mouseEventService')\n    ], MouseEventService);\n    return MouseEventService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1a = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar CellNavigationService = /** @class */ (function () {\n    function CellNavigationService() {\n    }\n    // returns null if no cell to focus on, ie at the end of the grid\n    CellNavigationService.prototype.getNextCellToFocus = function (key, lastCellToFocus) {\n        // starting with the provided cell, we keep moving until we find a cell we can\n        // focus on.\n        var pointer = lastCellToFocus;\n        var finished = false;\n        // finished will be true when either:\n        // a) cell found that we can focus on\n        // b) run out of cells (ie the method returns null)\n        while (!finished) {\n            switch (key) {\n                case Constants.KEY_UP:\n                    pointer = this.getCellAbove(pointer);\n                    break;\n                case Constants.KEY_DOWN:\n                    pointer = this.getCellBelow(pointer);\n                    break;\n                case Constants.KEY_RIGHT:\n                    if (this.gridOptionsWrapper.isEnableRtl()) {\n                        pointer = this.getCellToLeft(pointer);\n                    }\n                    else {\n                        pointer = this.getCellToRight(pointer);\n                    }\n                    break;\n                case Constants.KEY_LEFT:\n                    if (this.gridOptionsWrapper.isEnableRtl()) {\n                        pointer = this.getCellToRight(pointer);\n                    }\n                    else {\n                        pointer = this.getCellToLeft(pointer);\n                    }\n                    break;\n                default:\n                    pointer = null;\n                    console.warn('ag-Grid: unknown key for navigation ' + key);\n                    break;\n            }\n            if (pointer) {\n                finished = this.isCellGoodToFocusOn(pointer);\n            }\n            else {\n                finished = true;\n            }\n        }\n        return pointer;\n    };\n    CellNavigationService.prototype.isCellGoodToFocusOn = function (gridCell) {\n        var column = gridCell.column;\n        var rowNode;\n        switch (gridCell.rowPinned) {\n            case Constants.PINNED_TOP:\n                rowNode = this.pinnedRowModel.getPinnedTopRow(gridCell.rowIndex);\n                break;\n            case Constants.PINNED_BOTTOM:\n                rowNode = this.pinnedRowModel.getPinnedBottomRow(gridCell.rowIndex);\n                break;\n            default:\n                rowNode = this.rowModel.getRow(gridCell.rowIndex);\n                break;\n        }\n        var suppressNavigable = column.isSuppressNavigable(rowNode);\n        return !suppressNavigable;\n    };\n    CellNavigationService.prototype.getCellToLeft = function (lastCell) {\n        if (!lastCell) {\n            return null;\n        }\n        var colToLeft = this.columnController.getDisplayedColBefore(lastCell.column);\n        if (!colToLeft) {\n            return null;\n        }\n        return {\n            rowIndex: lastCell.rowIndex,\n            column: colToLeft,\n            rowPinned: lastCell.rowPinned\n        };\n    };\n    CellNavigationService.prototype.getCellToRight = function (lastCell) {\n        if (!lastCell) {\n            return null;\n        }\n        var colToRight = this.columnController.getDisplayedColAfter(lastCell.column);\n        // if already on right, do nothing\n        if (!colToRight) {\n            return null;\n        }\n        return {\n            rowIndex: lastCell.rowIndex,\n            column: colToRight,\n            rowPinned: lastCell.rowPinned\n        };\n    };\n    CellNavigationService.prototype.getRowBelow = function (rowPosition) {\n        // if already on top row, do nothing\n        var index = rowPosition.rowIndex;\n        var pinned = rowPosition.rowPinned;\n        if (this.isLastRowInContainer(rowPosition)) {\n            switch (pinned) {\n                case Constants.PINNED_BOTTOM:\n                    // never any rows after pinned bottom\n                    return null;\n                case Constants.PINNED_TOP:\n                    // if on last row of pinned top, then next row is main body (if rows exist),\n                    // otherwise it's the pinned bottom\n                    if (this.rowModel.isRowsToRender()) {\n                        return { rowIndex: 0, rowPinned: null };\n                    }\n                    else if (this.pinnedRowModel.isRowsToRender(Constants.PINNED_BOTTOM)) {\n                        return { rowIndex: 0, rowPinned: Constants.PINNED_BOTTOM };\n                    }\n                    return null;\n                default:\n                    // if in the main body, then try pinned bottom, otherwise return nothing\n                    if (this.pinnedRowModel.isRowsToRender(Constants.PINNED_BOTTOM)) {\n                        return { rowIndex: 0, rowPinned: Constants.PINNED_BOTTOM };\n                    }\n                    return null;\n            }\n        }\n        return { rowIndex: index + 1, rowPinned: pinned };\n    };\n    CellNavigationService.prototype.getCellBelow = function (lastCell) {\n        if (!lastCell) {\n            return null;\n        }\n        var rowBelow = this.getRowBelow(lastCell);\n        if (rowBelow) {\n            return {\n                rowIndex: rowBelow.rowIndex,\n                column: lastCell.column,\n                rowPinned: rowBelow.rowPinned\n            };\n        }\n        return null;\n    };\n    CellNavigationService.prototype.isLastRowInContainer = function (rowPosition) {\n        var pinned = rowPosition.rowPinned;\n        var index = rowPosition.rowIndex;\n        if (pinned === Constants.PINNED_TOP) {\n            var lastTopIndex = this.pinnedRowModel.getPinnedTopRowData().length - 1;\n            return lastTopIndex <= index;\n        }\n        else if (pinned === Constants.PINNED_BOTTOM) {\n            var lastBottomIndex = this.pinnedRowModel.getPinnedBottomRowData().length - 1;\n            return lastBottomIndex <= index;\n        }\n        var lastBodyIndex = this.rowModel.getRowCount() - 1;\n        return lastBodyIndex <= index;\n    };\n    CellNavigationService.prototype.getRowAbove = function (rowPosition) {\n        // if already on top row, do nothing\n        var index = rowPosition.rowIndex;\n        var pinned = rowPosition.rowPinned;\n        // if already on top row, do nothing\n        if (index === 0) {\n            if (pinned === Constants.PINNED_TOP) {\n                return null;\n            }\n            else if (!pinned) {\n                if (this.pinnedRowModel.isRowsToRender(Constants.PINNED_TOP)) {\n                    return this.getLastFloatingTopRow();\n                }\n                return null;\n            }\n            else {\n                // last floating bottom\n                if (this.rowModel.isRowsToRender()) {\n                    return this.getLastBodyCell();\n                }\n                else if (this.pinnedRowModel.isRowsToRender(Constants.PINNED_TOP)) {\n                    return this.getLastFloatingTopRow();\n                }\n                return null;\n            }\n        }\n        return { rowIndex: index - 1, rowPinned: pinned };\n    };\n    CellNavigationService.prototype.getCellAbove = function (lastCell) {\n        if (!lastCell) {\n            return null;\n        }\n        var rowAbove = this.getRowAbove({ rowIndex: lastCell.rowIndex, rowPinned: lastCell.rowPinned });\n        if (rowAbove) {\n            return {\n                rowIndex: rowAbove.rowIndex,\n                column: lastCell.column,\n                rowPinned: rowAbove.rowPinned\n            };\n        }\n        return null;\n    };\n    CellNavigationService.prototype.getLastBodyCell = function () {\n        var lastBodyRow = this.rowModel.getRowCount() - 1;\n        return { rowIndex: lastBodyRow, rowPinned: null };\n    };\n    CellNavigationService.prototype.getLastFloatingTopRow = function () {\n        var lastFloatingRow = this.pinnedRowModel.getPinnedTopRowData().length - 1;\n        return { rowIndex: lastFloatingRow, rowPinned: Constants.PINNED_TOP };\n    };\n    CellNavigationService.prototype.getNextTabbedCell = function (gridCell, backwards) {\n        if (backwards) {\n            return this.getNextTabbedCellBackwards(gridCell);\n        }\n        return this.getNextTabbedCellForwards(gridCell);\n    };\n    CellNavigationService.prototype.getNextTabbedCellForwards = function (gridCell) {\n        var displayedColumns = this.columnController.getAllDisplayedColumns();\n        var newRowIndex = gridCell.rowIndex;\n        var newFloating = gridCell.rowPinned;\n        // move along to the next cell\n        var newColumn = this.columnController.getDisplayedColAfter(gridCell.column);\n        // check if end of the row, and if so, go forward a row\n        if (!newColumn) {\n            newColumn = displayedColumns[0];\n            var rowBelow = this.getRowBelow(gridCell);\n            if (_.missing(rowBelow)) {\n                return null;\n            }\n            newRowIndex = rowBelow ? rowBelow.rowIndex : null;\n            newFloating = rowBelow ? rowBelow.rowPinned : null;\n        }\n        return { rowIndex: newRowIndex, column: newColumn, rowPinned: newFloating };\n    };\n    CellNavigationService.prototype.getNextTabbedCellBackwards = function (gridCell) {\n        var displayedColumns = this.columnController.getAllDisplayedColumns();\n        var newRowIndex = gridCell.rowIndex;\n        var newFloating = gridCell.rowPinned;\n        // move along to the next cell\n        var newColumn = this.columnController.getDisplayedColBefore(gridCell.column);\n        // check if end of the row, and if so, go forward a row\n        if (!newColumn) {\n            newColumn = _.last(displayedColumns);\n            var rowAbove = this.getRowAbove({ rowIndex: gridCell.rowIndex, rowPinned: gridCell.rowPinned });\n            if (_.missing(rowAbove)) {\n                return null;\n            }\n            newRowIndex = rowAbove ? rowAbove.rowIndex : null;\n            newFloating = rowAbove ? rowAbove.rowPinned : null;\n        }\n        return { rowIndex: newRowIndex, column: newColumn, rowPinned: newFloating };\n    };\n    __decorate$1a([\n        Autowired('columnController')\n    ], CellNavigationService.prototype, \"columnController\", void 0);\n    __decorate$1a([\n        Autowired('rowModel')\n    ], CellNavigationService.prototype, \"rowModel\", void 0);\n    __decorate$1a([\n        Autowired('pinnedRowModel')\n    ], CellNavigationService.prototype, \"pinnedRowModel\", void 0);\n    __decorate$1a([\n        Autowired('gridOptionsWrapper')\n    ], CellNavigationService.prototype, \"gridOptionsWrapper\", void 0);\n    CellNavigationService = __decorate$1a([\n        Bean('cellNavigationService')\n    ], CellNavigationService);\n    return CellNavigationService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1b = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar CellRendererFactory = /** @class */ (function () {\n    function CellRendererFactory() {\n        this.cellRendererMap = {};\n    }\n    CellRendererFactory_1 = CellRendererFactory;\n    CellRendererFactory.prototype.init = function () {\n        this.cellRendererMap[CellRendererFactory_1.ANIMATE_SLIDE] = AnimateSlideCellRenderer;\n        this.cellRendererMap[CellRendererFactory_1.ANIMATE_SHOW_CHANGE] = AnimateShowChangeCellRenderer;\n        this.cellRendererMap[CellRendererFactory_1.GROUP] = GroupCellRenderer;\n        // this.registerRenderersFromGridOptions();\n    };\n    // private registerRenderersFromGridOptions(): void {\n    //     let userProvidedCellRenderers = this.gridOptionsWrapper.getCellRenderers();\n    //     _.iterateObject(userProvidedCellRenderers, (key: string, cellRenderer: {new(): ICellRenderer} | ICellRendererFunc)=> {\n    //         this.addCellRenderer(key, cellRenderer);\n    //     });\n    // }\n    CellRendererFactory.prototype.addCellRenderer = function (key, cellRenderer) {\n        this.cellRendererMap[key] = cellRenderer;\n    };\n    CellRendererFactory.prototype.getCellRenderer = function (key) {\n        var result = this.cellRendererMap[key];\n        if (_.missing(result)) {\n            console.warn('ag-Grid: unable to find cellRenderer for key ' + key);\n            return null;\n        }\n        return result;\n    };\n    var CellRendererFactory_1;\n    CellRendererFactory.ANIMATE_SLIDE = 'animateSlide';\n    CellRendererFactory.ANIMATE_SHOW_CHANGE = 'animateShowChange';\n    CellRendererFactory.GROUP = 'group';\n    __decorate$1b([\n        Autowired('gridOptionsWrapper')\n    ], CellRendererFactory.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1b([\n        Autowired('expressionService')\n    ], CellRendererFactory.prototype, \"expressionService\", void 0);\n    __decorate$1b([\n        Autowired('eventService')\n    ], CellRendererFactory.prototype, \"eventService\", void 0);\n    __decorate$1b([\n        PostConstruct\n    ], CellRendererFactory.prototype, \"init\", null);\n    CellRendererFactory = CellRendererFactory_1 = __decorate$1b([\n        Bean('cellRendererFactory')\n    ], CellRendererFactory);\n    return CellRendererFactory;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1c = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ValueFormatterService = /** @class */ (function () {\n    function ValueFormatterService() {\n    }\n    ValueFormatterService.prototype.formatValue = function (column, node, $scope, value, suppliedFormatter, useFormatterFromColumn) {\n        if (useFormatterFromColumn === void 0) { useFormatterFromColumn = true; }\n        var result = null;\n        var formatter;\n        var colDef = column.getColDef();\n        if (suppliedFormatter) {\n            // favour supplied, e.g. set filter items can have their own value formatters\n            formatter = suppliedFormatter;\n        }\n        else if (useFormatterFromColumn) {\n            // if floating, give preference to the floating formatter\n            formatter = node && node.rowPinned && colDef.pinnedRowValueFormatter ?\n                colDef.pinnedRowValueFormatter : colDef.valueFormatter;\n        }\n        if (formatter) {\n            var params = {\n                value: value,\n                node: node,\n                data: node ? node.data : null,\n                colDef: colDef,\n                column: column,\n                api: this.gridOptionsWrapper.getApi(),\n                columnApi: this.gridOptionsWrapper.getColumnApi(),\n                context: this.gridOptionsWrapper.getContext()\n            };\n            // originally we put the angular 1 scope here, but we don't want the scope\n            // in the params interface, as other frameworks will see the interface, and\n            // angular 1 is not cool any more. so we hack the scope in here (we cannot\n            // include it above, as it's not in the interface, so would cause a compile error).\n            // in the future, when we stop supporting angular 1, we can take this out.\n            params.$scope = $scope;\n            result = this.expressionService.evaluate(formatter, params);\n        }\n        else if (colDef.refData) {\n            return colDef.refData[value] || '';\n        }\n        // if we don't do this, then arrays get displayed as 1,2,3, but we want 1, 2, 3 (ie with spaces)\n        if (result != null && Array.isArray(value)) {\n            result = value.join(', ');\n        }\n        return result;\n    };\n    __decorate$1c([\n        Autowired('gridOptionsWrapper')\n    ], ValueFormatterService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1c([\n        Autowired('expressionService')\n    ], ValueFormatterService.prototype, \"expressionService\", void 0);\n    ValueFormatterService = __decorate$1c([\n        Bean('valueFormatterService')\n    ], ValueFormatterService);\n    return ValueFormatterService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$P = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar AgRadioButton = /** @class */ (function (_super) {\n    __extends$P(AgRadioButton, _super);\n    function AgRadioButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.className = 'ag-radio-button';\n        _this.inputType = 'radio';\n        return _this;\n    }\n    AgRadioButton.prototype.isSelected = function () {\n        return this.eInput.checked;\n    };\n    AgRadioButton.prototype.toggle = function () {\n        var nextValue = this.getNextValue();\n        this.setValue(nextValue);\n    };\n    AgRadioButton.prototype.addInputListeners = function () {\n        _super.prototype.addInputListeners.call(this);\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_CHECKBOX_CHANGED, this.onChange.bind(this));\n    };\n    /**\n     * This ensures that if another radio button in the same named group is selected, we deselect this radio button.\n     * By default the browser does this for you, but we are managing classes ourselves in order to ensure input\n     * elements are styled correctly in IE11, and the DOM 'changed' event is only fired when a button is selected,\n     * not deselected, so we need to use our own event.\n     */\n    AgRadioButton.prototype.onChange = function (event) {\n        if (event.selected &&\n            event.name &&\n            this.eInput.name &&\n            this.eInput.name === event.name &&\n            event.id &&\n            this.eInput.id !== event.id) {\n            this.setValue(false, true);\n        }\n    };\n    return AgRadioButton;\n}(AgCheckbox));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n/** The base frameworks, eg React & Angular 2, override this bean with implementations specific to their requirement. */\nvar VanillaFrameworkOverrides = /** @class */ (function () {\n    function VanillaFrameworkOverrides() {\n    }\n    // for Vanilla JS, we use simple timeout\n    VanillaFrameworkOverrides.prototype.setTimeout = function (action, timeout) {\n        window.setTimeout(action, timeout);\n    };\n    // for Vanilla JS, we just add the event to the element\n    VanillaFrameworkOverrides.prototype.addEventListenerOutsideAngular = function (element, type, listener, useCapture) {\n        element.addEventListener(type, listener, useCapture);\n    };\n    return VanillaFrameworkOverrides;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1d = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ScrollVisibleService = /** @class */ (function () {\n    function ScrollVisibleService() {\n    }\n    ScrollVisibleService.prototype.setScrollsVisible = function (params) {\n        var atLeastOneDifferent = this.horizontalScrollShowing !== params.horizontalScrollShowing ||\n            this.verticalScrollShowing !== params.verticalScrollShowing;\n        if (atLeastOneDifferent) {\n            this.horizontalScrollShowing = params.horizontalScrollShowing;\n            this.verticalScrollShowing = params.verticalScrollShowing;\n            var event_1 = {\n                type: Events.EVENT_SCROLL_VISIBILITY_CHANGED,\n                api: this.gridApi,\n                columnApi: this.columnApi\n            };\n            this.eventService.dispatchEvent(event_1);\n        }\n    };\n    // used by pagination service - to know page height\n    ScrollVisibleService.prototype.isHorizontalScrollShowing = function () {\n        return this.horizontalScrollShowing;\n    };\n    // used by header container\n    ScrollVisibleService.prototype.isVerticalScrollShowing = function () {\n        return this.verticalScrollShowing;\n    };\n    __decorate$1d([\n        Autowired('eventService')\n    ], ScrollVisibleService.prototype, \"eventService\", void 0);\n    __decorate$1d([\n        Autowired('columnController')\n    ], ScrollVisibleService.prototype, \"columnController\", void 0);\n    __decorate$1d([\n        Autowired('columnApi')\n    ], ScrollVisibleService.prototype, \"columnApi\", void 0);\n    __decorate$1d([\n        Autowired('gridApi')\n    ], ScrollVisibleService.prototype, \"gridApi\", void 0);\n    __decorate$1d([\n        Autowired('gridOptionsWrapper')\n    ], ScrollVisibleService.prototype, \"gridOptionsWrapper\", void 0);\n    ScrollVisibleService = __decorate$1d([\n        Bean('scrollVisibleService')\n    ], ScrollVisibleService);\n    return ScrollVisibleService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1e = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar StylingService = /** @class */ (function () {\n    function StylingService() {\n    }\n    StylingService.prototype.processAllCellClasses = function (colDef, params, onApplicableClass, onNotApplicableClass) {\n        this.processClassRules(colDef.cellClassRules, params, onApplicableClass, onNotApplicableClass);\n        this.processStaticCellClasses(colDef, params, onApplicableClass);\n    };\n    StylingService.prototype.processClassRules = function (classRules, params, onApplicableClass, onNotApplicableClass) {\n        if (typeof classRules === 'object' && classRules !== null) {\n            var classNames = Object.keys(classRules);\n            for (var i = 0; i < classNames.length; i++) {\n                var className = classNames[i];\n                var rule = classRules[className];\n                var resultOfRule = void 0;\n                if (typeof rule === 'string') {\n                    resultOfRule = this.expressionService.evaluate(rule, params);\n                }\n                else if (typeof rule === 'function') {\n                    resultOfRule = rule(params);\n                }\n                if (resultOfRule) {\n                    onApplicableClass(className);\n                }\n                else if (onNotApplicableClass) {\n                    onNotApplicableClass(className);\n                }\n            }\n        }\n    };\n    StylingService.prototype.processStaticCellClasses = function (colDef, params, onApplicableClass) {\n        var cellClass = colDef.cellClass;\n        if (cellClass) {\n            var classOrClasses = void 0;\n            if (typeof colDef.cellClass === 'function') {\n                var cellClassFunc = colDef.cellClass;\n                classOrClasses = cellClassFunc(params);\n            }\n            else {\n                classOrClasses = colDef.cellClass;\n            }\n            if (typeof classOrClasses === 'string') {\n                onApplicableClass(classOrClasses);\n            }\n            else if (Array.isArray(classOrClasses)) {\n                classOrClasses.forEach(function (cssClassItem) {\n                    onApplicableClass(cssClassItem);\n                });\n            }\n        }\n    };\n    __decorate$1e([\n        Autowired('expressionService')\n    ], StylingService.prototype, \"expressionService\", void 0);\n    StylingService = __decorate$1e([\n        Bean('stylingService')\n    ], StylingService);\n    return StylingService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$Q = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1f = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ColumnHoverService = /** @class */ (function (_super) {\n    __extends$Q(ColumnHoverService, _super);\n    function ColumnHoverService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ColumnHoverService.prototype.setMouseOver = function (columns) {\n        this.selectedColumns = columns;\n        var event = {\n            type: Events.EVENT_COLUMN_HOVER_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnHoverService.prototype.clearMouseOver = function () {\n        this.selectedColumns = null;\n        var event = {\n            type: Events.EVENT_COLUMN_HOVER_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ColumnHoverService.prototype.isHovered = function (column) {\n        return this.selectedColumns && this.selectedColumns.indexOf(column) >= 0;\n    };\n    __decorate$1f([\n        Autowired('eventService')\n    ], ColumnHoverService.prototype, \"eventService\", void 0);\n    __decorate$1f([\n        Autowired('columnApi')\n    ], ColumnHoverService.prototype, \"columnApi\", void 0);\n    __decorate$1f([\n        Autowired('gridApi')\n    ], ColumnHoverService.prototype, \"gridApi\", void 0);\n    ColumnHoverService = __decorate$1f([\n        Bean('columnHoverService')\n    ], ColumnHoverService);\n    return ColumnHoverService;\n}(BeanStub));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1g = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ColumnAnimationService = /** @class */ (function () {\n    function ColumnAnimationService() {\n        this.executeNextFuncs = [];\n        this.executeLaterFuncs = [];\n        this.active = false;\n        this.animationThreadCount = 0;\n    }\n    ColumnAnimationService.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    ColumnAnimationService.prototype.isActive = function () {\n        return this.active;\n    };\n    ColumnAnimationService.prototype.start = function () {\n        if (this.active) {\n            return;\n        }\n        if (this.gridOptionsWrapper.isSuppressColumnMoveAnimation()) {\n            return;\n        }\n        // if doing RTL, we don't animate open / close as due to how the pixels are inverted,\n        // the animation moves all the row the the right rather than to the left (ie it's the static\n        // columns that actually get their coordinates updated)\n        if (this.gridOptionsWrapper.isEnableRtl()) {\n            return;\n        }\n        this.ensureAnimationCssClassPresent();\n        this.active = true;\n    };\n    ColumnAnimationService.prototype.finish = function () {\n        if (!this.active) {\n            return;\n        }\n        this.flush();\n        this.active = false;\n    };\n    ColumnAnimationService.prototype.executeNextVMTurn = function (func) {\n        if (this.active) {\n            this.executeNextFuncs.push(func);\n        }\n        else {\n            func();\n        }\n    };\n    ColumnAnimationService.prototype.executeLaterVMTurn = function (func) {\n        if (this.active) {\n            this.executeLaterFuncs.push(func);\n        }\n        else {\n            func();\n        }\n    };\n    ColumnAnimationService.prototype.ensureAnimationCssClassPresent = function () {\n        var _this = this;\n        // up the count, so we can tell if someone else has updated the count\n        // by the time the 'wait' func executes\n        this.animationThreadCount++;\n        var animationThreadCountCopy = this.animationThreadCount;\n        this.gridPanel.setColumnMovingCss(true);\n        this.executeLaterFuncs.push(function () {\n            // only remove the class if this thread was the last one to update it\n            if (_this.animationThreadCount === animationThreadCountCopy) {\n                _this.gridPanel.setColumnMovingCss(false);\n            }\n        });\n    };\n    ColumnAnimationService.prototype.flush = function () {\n        var nowFuncs = this.executeNextFuncs;\n        this.executeNextFuncs = [];\n        var waitFuncs = this.executeLaterFuncs;\n        this.executeLaterFuncs = [];\n        if (nowFuncs.length === 0 && waitFuncs.length === 0) {\n            return;\n        }\n        window.setTimeout(function () { return nowFuncs.forEach(function (func) { return func(); }); }, 0);\n        window.setTimeout(function () { return waitFuncs.forEach(function (func) { return func(); }); }, 300);\n    };\n    __decorate$1g([\n        Autowired('gridOptionsWrapper')\n    ], ColumnAnimationService.prototype, \"gridOptionsWrapper\", void 0);\n    ColumnAnimationService = __decorate$1g([\n        Bean('columnAnimationService')\n    ], ColumnAnimationService);\n    return ColumnAnimationService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1h = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AutoGroupColService = /** @class */ (function () {\n    function AutoGroupColService() {\n    }\n    AutoGroupColService_1 = AutoGroupColService;\n    AutoGroupColService.prototype.createAutoGroupColumns = function (rowGroupColumns) {\n        var _this = this;\n        var groupAutoColumns = [];\n        var doingTreeData = this.gridOptionsWrapper.isTreeData();\n        var doingMultiAutoColumn = this.gridOptionsWrapper.isGroupMultiAutoColumn();\n        if (doingTreeData && doingMultiAutoColumn) {\n            console.warn('ag-Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data');\n            doingMultiAutoColumn = false;\n        }\n        // if doing groupMultiAutoColumn, then we call the method multiple times, once\n        // for each column we are grouping by\n        if (doingMultiAutoColumn) {\n            rowGroupColumns.forEach(function (rowGroupCol, index) {\n                groupAutoColumns.push(_this.createOneAutoGroupColumn(rowGroupCol, index));\n            });\n        }\n        else {\n            groupAutoColumns.push(this.createOneAutoGroupColumn());\n        }\n        return groupAutoColumns;\n    };\n    // rowGroupCol and index are missing if groupMultiAutoColumn=false\n    AutoGroupColService.prototype.createOneAutoGroupColumn = function (rowGroupCol, index) {\n        // if one provided by user, use it, otherwise create one\n        var defaultAutoColDef = this.generateDefaultColDef(rowGroupCol);\n        // if doing multi, set the field\n        var colId;\n        if (rowGroupCol) {\n            colId = Constants.GROUP_AUTO_COLUMN_ID + \"-\" + rowGroupCol.getId();\n        }\n        else {\n            colId = AutoGroupColService_1.GROUP_AUTO_COLUMN_BUNDLE_ID;\n        }\n        var userAutoColDef = this.gridOptionsWrapper.getAutoGroupColumnDef();\n        _.mergeDeep(defaultAutoColDef, userAutoColDef);\n        defaultAutoColDef = this.columnFactory.mergeColDefs(defaultAutoColDef);\n        defaultAutoColDef.colId = colId;\n        // For tree data the filter is always allowed\n        if (!this.gridOptionsWrapper.isTreeData()) {\n            // we would only allow filter if the user has provided field or value getter. otherwise the filter\n            // would not be able to work.\n            var noFieldOrValueGetter = _.missing(defaultAutoColDef.field) && _.missing(defaultAutoColDef.valueGetter) && _.missing(defaultAutoColDef.filterValueGetter);\n            if (noFieldOrValueGetter) {\n                defaultAutoColDef.filter = false;\n            }\n        }\n        // if showing many cols, we don't want to show more than one with a checkbox for selection\n        if (index && index > 0) {\n            defaultAutoColDef.headerCheckboxSelection = false;\n        }\n        var newCol = new Column(defaultAutoColDef, null, colId, true);\n        this.context.wireBean(newCol);\n        return newCol;\n    };\n    AutoGroupColService.prototype.generateDefaultColDef = function (rowGroupCol) {\n        var userAutoColDef = this.gridOptionsWrapper.getAutoGroupColumnDef();\n        var localeTextFunc = this.gridOptionsWrapper.getLocaleTextFunc();\n        var defaultAutoColDef = {\n            headerName: localeTextFunc('group', 'Group')\n        };\n        var userHasProvidedGroupCellRenderer = userAutoColDef && (userAutoColDef.cellRenderer || userAutoColDef.cellRendererFramework);\n        // only add the default group cell renderer if user hasn't provided one\n        if (!userHasProvidedGroupCellRenderer) {\n            defaultAutoColDef.cellRenderer = 'agGroupCellRenderer';\n        }\n        // we never allow moving the group column\n        // defaultAutoColDef.suppressMovable = true;\n        if (rowGroupCol) {\n            var rowGroupColDef = rowGroupCol.getColDef();\n            _.assign(defaultAutoColDef, {\n                // cellRendererParams.groupKey: colDefToCopy.field;\n                headerName: this.columnController.getDisplayNameForColumn(rowGroupCol, 'header'),\n                headerValueGetter: rowGroupColDef.headerValueGetter\n            });\n            if (rowGroupColDef.cellRenderer) {\n                _.assign(defaultAutoColDef, {\n                    cellRendererParams: {\n                        innerRenderer: rowGroupColDef.cellRenderer,\n                        innerRendererParams: rowGroupColDef.cellRendererParams\n                    }\n                });\n            }\n            defaultAutoColDef.showRowGroup = rowGroupCol.getColId();\n        }\n        else {\n            defaultAutoColDef.showRowGroup = true;\n        }\n        return defaultAutoColDef;\n    };\n    var AutoGroupColService_1;\n    AutoGroupColService.GROUP_AUTO_COLUMN_BUNDLE_ID = Constants.GROUP_AUTO_COLUMN_ID;\n    __decorate$1h([\n        Autowired('gridOptionsWrapper')\n    ], AutoGroupColService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1h([\n        Autowired('context')\n    ], AutoGroupColService.prototype, \"context\", void 0);\n    __decorate$1h([\n        Autowired('columnController')\n    ], AutoGroupColService.prototype, \"columnController\", void 0);\n    __decorate$1h([\n        Autowired('columnFactory')\n    ], AutoGroupColService.prototype, \"columnFactory\", void 0);\n    AutoGroupColService = AutoGroupColService_1 = __decorate$1h([\n        Bean('autoGroupColService')\n    ], AutoGroupColService);\n    return AutoGroupColService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$R = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1i = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar PaginationProxy = /** @class */ (function (_super) {\n    __extends$R(PaginationProxy, _super);\n    function PaginationProxy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.currentPage = 0;\n        _this.topDisplayedRowIndex = 0;\n        _this.bottomDisplayedRowIndex = 0;\n        _this.pixelOffset = 0;\n        _this.masterRowCount = 0;\n        return _this;\n    }\n    PaginationProxy.prototype.postConstruct = function () {\n        this.active = this.gridOptionsWrapper.isPagination();\n        this.paginateChildRows = this.gridOptionsWrapper.isPaginateChildRows();\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_MODEL_UPDATED, this.onModelUpdated.bind(this));\n        this.addDestroyableEventListener(this.gridOptionsWrapper, 'paginationPageSize', this.onModelUpdated.bind(this));\n        this.onModelUpdated();\n    };\n    PaginationProxy.prototype.ensureRowHeightsValid = function (startPixel, endPixel, startLimitIndex, endLimitIndex) {\n        var res = this.rowModel.ensureRowHeightsValid(startPixel, endPixel, this.getPageFirstRow(), this.getPageLastRow());\n        if (res) {\n            this.calculatePages();\n        }\n        return res;\n    };\n    PaginationProxy.prototype.onModelUpdated = function (modelUpdatedEvent) {\n        this.calculatePages();\n        var paginationChangedEvent = {\n            type: Events.EVENT_PAGINATION_CHANGED,\n            animate: modelUpdatedEvent ? modelUpdatedEvent.animate : false,\n            newData: modelUpdatedEvent ? modelUpdatedEvent.newData : false,\n            newPage: modelUpdatedEvent ? modelUpdatedEvent.newPage : false,\n            keepRenderedRows: modelUpdatedEvent ? modelUpdatedEvent.keepRenderedRows : false,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(paginationChangedEvent);\n    };\n    PaginationProxy.prototype.goToPage = function (page) {\n        if (!this.active) {\n            return;\n        }\n        if (this.currentPage === page) {\n            return;\n        }\n        this.currentPage = page;\n        var event = {\n            type: Events.EVENT_MODEL_UPDATED,\n            animate: false,\n            keepRenderedRows: false,\n            newData: false,\n            newPage: true,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.onModelUpdated(event);\n    };\n    PaginationProxy.prototype.getPixelOffset = function () {\n        return this.pixelOffset;\n    };\n    PaginationProxy.prototype.getRow = function (index) {\n        return this.rowModel.getRow(index);\n    };\n    PaginationProxy.prototype.getRowNode = function (id) {\n        return this.rowModel.getRowNode(id);\n    };\n    PaginationProxy.prototype.getRowIndexAtPixel = function (pixel) {\n        return this.rowModel.getRowIndexAtPixel(pixel);\n    };\n    PaginationProxy.prototype.getCurrentPageHeight = function () {\n        if (_.missing(this.topRowBounds) || _.missing(this.bottomRowBounds)) {\n            return 0;\n        }\n        return Math.max(this.bottomRowBounds.rowTop + this.bottomRowBounds.rowHeight - this.topRowBounds.rowTop, 0);\n    };\n    PaginationProxy.prototype.isRowPresent = function (rowNode) {\n        if (!this.rowModel.isRowPresent(rowNode)) {\n            return false;\n        }\n        var nodeIsInPage = rowNode.rowIndex >= this.topDisplayedRowIndex && rowNode.rowIndex <= this.bottomDisplayedRowIndex;\n        return nodeIsInPage;\n    };\n    PaginationProxy.prototype.isEmpty = function () {\n        return this.rowModel.isEmpty();\n    };\n    PaginationProxy.prototype.isRowsToRender = function () {\n        return this.rowModel.isRowsToRender();\n    };\n    PaginationProxy.prototype.getNodesInRangeForSelection = function (firstInRange, lastInRange) {\n        return this.rowModel.getNodesInRangeForSelection(firstInRange, lastInRange);\n    };\n    PaginationProxy.prototype.forEachNode = function (callback) {\n        return this.rowModel.forEachNode(callback);\n    };\n    PaginationProxy.prototype.getType = function () {\n        return this.rowModel.getType();\n    };\n    PaginationProxy.prototype.getRowBounds = function (index) {\n        var res = this.rowModel.getRowBounds(index);\n        res.rowIndex = index;\n        return res;\n    };\n    PaginationProxy.prototype.getPageFirstRow = function () {\n        return this.topRowBounds ? this.topRowBounds.rowIndex : -1;\n    };\n    PaginationProxy.prototype.getPageLastRow = function () {\n        return this.bottomRowBounds ? this.bottomRowBounds.rowIndex : -1;\n    };\n    PaginationProxy.prototype.getRowCount = function () {\n        return this.rowModel.getRowCount();\n    };\n    PaginationProxy.prototype.goToPageWithIndex = function (index) {\n        if (!this.active) {\n            return;\n        }\n        var pageNumber = Math.floor(index / this.pageSize);\n        this.goToPage(pageNumber);\n    };\n    PaginationProxy.prototype.isLastPageFound = function () {\n        return this.rowModel.isLastRowFound();\n    };\n    PaginationProxy.prototype.getCurrentPage = function () {\n        return this.currentPage;\n    };\n    PaginationProxy.prototype.goToNextPage = function () {\n        this.goToPage(this.currentPage + 1);\n    };\n    PaginationProxy.prototype.goToPreviousPage = function () {\n        this.goToPage(this.currentPage - 1);\n    };\n    PaginationProxy.prototype.goToFirstPage = function () {\n        this.goToPage(0);\n    };\n    PaginationProxy.prototype.goToLastPage = function () {\n        var rowCount = this.rowModel.getRowCount();\n        var lastPage = Math.floor(rowCount / this.pageSize);\n        this.goToPage(lastPage);\n    };\n    PaginationProxy.prototype.getPageSize = function () {\n        return this.pageSize;\n    };\n    PaginationProxy.prototype.getTotalPages = function () {\n        return this.totalPages;\n    };\n    PaginationProxy.prototype.setPageSize = function () {\n        // show put this into super class\n        this.pageSize = this.gridOptionsWrapper.getPaginationPageSize();\n        if (!(this.pageSize >= 1)) {\n            this.pageSize = 100;\n        }\n    };\n    PaginationProxy.prototype.calculatePages = function () {\n        if (this.active) {\n            this.setPageSize();\n            if (this.paginateChildRows) {\n                this.calculatePagesAllRows();\n            }\n            else {\n                this.calculatePagesMasterRowsOnly();\n            }\n        }\n        else {\n            this.calculatedPagesNotActive();\n        }\n        this.topRowBounds = this.rowModel.getRowBounds(this.topDisplayedRowIndex);\n        if (this.topRowBounds) {\n            this.topRowBounds.rowIndex = this.topDisplayedRowIndex;\n        }\n        this.bottomRowBounds = this.rowModel.getRowBounds(this.bottomDisplayedRowIndex);\n        if (this.bottomRowBounds) {\n            this.bottomRowBounds.rowIndex = this.bottomDisplayedRowIndex;\n        }\n        this.pixelOffset = _.exists(this.topRowBounds) ? this.topRowBounds.rowTop : 0;\n    };\n    PaginationProxy.prototype.setZeroRows = function () {\n        this.topDisplayedRowIndex = 0;\n        this.bottomDisplayedRowIndex = -1;\n        this.currentPage = 0;\n        this.totalPages = 0;\n    };\n    PaginationProxy.prototype.calculatePagesMasterRowsOnly = function () {\n        // const csrm = <ClientSideRowModel> this.rowModel;\n        // const rootNode = csrm.getRootNode();\n        // const masterRows = rootNode.childrenAfterSort;\n        this.masterRowCount = this.rowModel.getTopLevelRowCount();\n        if (this.masterRowCount === 0) {\n            this.setZeroRows();\n            return;\n        }\n        var masterLastRowIndex = this.masterRowCount - 1;\n        this.totalPages = Math.floor((masterLastRowIndex) / this.pageSize) + 1;\n        if (this.currentPage >= this.totalPages) {\n            this.currentPage = this.totalPages - 1;\n        }\n        if (!_.isNumeric(this.currentPage) || this.currentPage < 0) {\n            this.currentPage = 0;\n        }\n        var masterPageStartIndex = this.pageSize * this.currentPage;\n        var masterPageEndIndex = (this.pageSize * (this.currentPage + 1)) - 1;\n        if (masterPageEndIndex > masterLastRowIndex) {\n            masterPageEndIndex = masterLastRowIndex;\n        }\n        this.topDisplayedRowIndex = this.rowModel.getTopLevelRowDisplayedIndex(masterPageStartIndex);\n        // masterRows[masterPageStartIndex].rowIndex;\n        if (masterPageEndIndex === masterLastRowIndex) {\n            // if showing the last master row, then we want to show the very last row of the model\n            this.bottomDisplayedRowIndex = this.rowModel.getRowCount() - 1;\n        }\n        else {\n            var firstIndexNotToShow = this.rowModel.getTopLevelRowDisplayedIndex(masterPageEndIndex + 1);\n            //masterRows[masterPageEndIndex + 1].rowIndex;\n            // this gets the index of the last child - eg current row is open, we want to display all children,\n            // the index of the last child is one less than the index of the next parent row.\n            this.bottomDisplayedRowIndex = firstIndexNotToShow - 1;\n        }\n    };\n    PaginationProxy.prototype.getMasterRowCount = function () {\n        return this.masterRowCount;\n    };\n    PaginationProxy.prototype.calculatePagesAllRows = function () {\n        this.masterRowCount = this.rowModel.getRowCount();\n        if (this.masterRowCount === 0) {\n            this.setZeroRows();\n            return;\n        }\n        var maxRowIndex = this.masterRowCount - 1;\n        this.totalPages = Math.floor((maxRowIndex) / this.pageSize) + 1;\n        if (this.currentPage >= this.totalPages) {\n            this.currentPage = this.totalPages - 1;\n        }\n        if (!_.isNumeric(this.currentPage) || this.currentPage < 0) {\n            this.currentPage = 0;\n        }\n        this.topDisplayedRowIndex = this.pageSize * this.currentPage;\n        this.bottomDisplayedRowIndex = (this.pageSize * (this.currentPage + 1)) - 1;\n        if (this.bottomDisplayedRowIndex > maxRowIndex) {\n            this.bottomDisplayedRowIndex = maxRowIndex;\n        }\n    };\n    PaginationProxy.prototype.calculatedPagesNotActive = function () {\n        this.pageSize = this.rowModel.getRowCount();\n        this.totalPages = 1;\n        this.currentPage = 0;\n        this.topDisplayedRowIndex = 0;\n        this.bottomDisplayedRowIndex = this.rowModel.getRowCount() - 1;\n    };\n    __decorate$1i([\n        Autowired('rowModel')\n    ], PaginationProxy.prototype, \"rowModel\", void 0);\n    __decorate$1i([\n        Autowired('eventService')\n    ], PaginationProxy.prototype, \"eventService\", void 0);\n    __decorate$1i([\n        Autowired('gridOptionsWrapper')\n    ], PaginationProxy.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1i([\n        Autowired('selectionController')\n    ], PaginationProxy.prototype, \"selectionController\", void 0);\n    __decorate$1i([\n        Autowired('columnApi')\n    ], PaginationProxy.prototype, \"columnApi\", void 0);\n    __decorate$1i([\n        Autowired('gridApi')\n    ], PaginationProxy.prototype, \"gridApi\", void 0);\n    __decorate$1i([\n        PostConstruct\n    ], PaginationProxy.prototype, \"postConstruct\", null);\n    PaginationProxy = __decorate$1i([\n        Bean('paginationProxy')\n    ], PaginationProxy);\n    return PaginationProxy;\n}(BeanStub));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$S = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1j = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar PaginationAutoPageSizeService = /** @class */ (function (_super) {\n    __extends$S(PaginationAutoPageSizeService, _super);\n    function PaginationAutoPageSizeService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PaginationAutoPageSizeService.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_BODY_HEIGHT_CHANGED, this.onBodyHeightChanged.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_SCROLL_VISIBILITY_CHANGED, this.onScrollVisibilityChanged.bind(this));\n        this.checkPageSize();\n    };\n    PaginationAutoPageSizeService.prototype.notActive = function () {\n        return !this.gridOptionsWrapper.isPaginationAutoPageSize();\n    };\n    PaginationAutoPageSizeService.prototype.onScrollVisibilityChanged = function () {\n        this.checkPageSize();\n    };\n    PaginationAutoPageSizeService.prototype.onBodyHeightChanged = function () {\n        this.checkPageSize();\n    };\n    PaginationAutoPageSizeService.prototype.checkPageSize = function () {\n        if (this.notActive()) {\n            return;\n        }\n        var rowHeight = this.gridOptionsWrapper.getRowHeightAsNumber();\n        var bodyHeight = this.gridPanel.getBodyHeight();\n        if (bodyHeight > 0) {\n            var newPageSize = Math.floor(bodyHeight / rowHeight);\n            this.gridOptionsWrapper.setProperty('paginationPageSize', newPageSize);\n        }\n    };\n    __decorate$1j([\n        Autowired('eventService')\n    ], PaginationAutoPageSizeService.prototype, \"eventService\", void 0);\n    __decorate$1j([\n        Autowired('gridOptionsWrapper')\n    ], PaginationAutoPageSizeService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1j([\n        Autowired('scrollVisibleService')\n    ], PaginationAutoPageSizeService.prototype, \"scrollVisibleService\", void 0);\n    PaginationAutoPageSizeService = __decorate$1j([\n        Bean('paginationAutoPageSizeService')\n    ], PaginationAutoPageSizeService);\n    return PaginationAutoPageSizeService;\n}(BeanStub));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1k = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ValueCache = /** @class */ (function () {\n    function ValueCache() {\n        this.cacheVersion = 0;\n    }\n    ValueCache.prototype.init = function () {\n        this.active = this.gridOptionsWrapper.isValueCache();\n        this.neverExpires = this.gridOptionsWrapper.isValueCacheNeverExpires();\n    };\n    ValueCache.prototype.onDataChanged = function () {\n        if (this.neverExpires) {\n            return;\n        }\n        this.expire();\n    };\n    ValueCache.prototype.expire = function () {\n        this.cacheVersion++;\n    };\n    ValueCache.prototype.setValue = function (rowNode, colId, value) {\n        if (this.active) {\n            if (rowNode.__cacheVersion !== this.cacheVersion) {\n                rowNode.__cacheVersion = this.cacheVersion;\n                rowNode.__cacheData = {};\n            }\n            rowNode.__cacheData[colId] = value;\n        }\n    };\n    ValueCache.prototype.getValue = function (rowNode, colId) {\n        if (!this.active || rowNode.__cacheVersion !== this.cacheVersion) {\n            return undefined;\n        }\n        return rowNode.__cacheData[colId];\n    };\n    __decorate$1k([\n        Autowired('gridOptionsWrapper')\n    ], ValueCache.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1k([\n        PostConstruct\n    ], ValueCache.prototype, \"init\", null);\n    ValueCache = __decorate$1k([\n        Bean('valueCache')\n    ], ValueCache);\n    return ValueCache;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$T = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1l = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ChangeDetectionService = /** @class */ (function (_super) {\n    __extends$T(ChangeDetectionService, _super);\n    function ChangeDetectionService() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ChangeDetectionService.prototype.init = function () {\n        if (this.rowModel.getType() === Constants.ROW_MODEL_TYPE_CLIENT_SIDE) {\n            this.clientSideRowModel = this.rowModel;\n        }\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_CELL_VALUE_CHANGED, this.onCellValueChanged.bind(this));\n    };\n    ChangeDetectionService.prototype.onCellValueChanged = function (event) {\n        // Clipboard service manages its own change detection, so no need to do it here.\n        // The clipboard manages its own as otherwise this would happen once for every cell\n        // that got updated as part of a paste operation, so e.g. if 100 cells in a paste operation,\n        // this doChangeDetection would get called 100 times (once for each cell), instead clipboard\n        // service executes the logic we have here once (in essence batching up all cell changes\n        // into one change detection).\n        if (event.source === Constants.SOURCE_PASTE) {\n            return;\n        }\n        this.doChangeDetection(event.node, event.column);\n    };\n    ChangeDetectionService.prototype.doChangeDetection = function (rowNode, column) {\n        if (this.gridOptionsWrapper.isSuppressChangeDetection()) {\n            return;\n        }\n        // step 1 of change detection is to update the aggregated values\n        if (this.clientSideRowModel && !rowNode.isRowPinned()) {\n            var onlyChangedColumns = this.gridOptionsWrapper.isAggregateOnlyChangedColumns();\n            var changedPath = new ChangedPath(onlyChangedColumns, this.clientSideRowModel.getRootNode());\n            changedPath.addParentNode(rowNode.parent, [column]);\n            this.clientSideRowModel.doAggregate(changedPath);\n        }\n        // step 2 of change detection is to refresh the cells\n        this.rowRenderer.refreshCells();\n    };\n    __decorate$1l([\n        Autowired('gridOptionsWrapper')\n    ], ChangeDetectionService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1l([\n        Autowired('rowModel')\n    ], ChangeDetectionService.prototype, \"rowModel\", void 0);\n    __decorate$1l([\n        Autowired('rowRenderer')\n    ], ChangeDetectionService.prototype, \"rowRenderer\", void 0);\n    __decorate$1l([\n        Autowired('eventService')\n    ], ChangeDetectionService.prototype, \"eventService\", void 0);\n    __decorate$1l([\n        PostConstruct\n    ], ChangeDetectionService.prototype, \"init\", null);\n    ChangeDetectionService = __decorate$1l([\n        Bean('changeDetectionService')\n    ], ChangeDetectionService);\n    return ChangeDetectionService;\n}(BeanStub));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1m = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param$8 = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar AlignedGridsService = /** @class */ (function () {\n    function AlignedGridsService() {\n        // flag to mark if we are consuming. to avoid cyclic events (ie other grid firing back to master\n        // while processing a master event) we mark this if consuming an event, and if we are, then\n        // we don't fire back any events.\n        this.consuming = false;\n        this.events = [];\n    }\n    AlignedGridsService.prototype.setBeans = function (loggerFactory) {\n        this.logger = loggerFactory.create('AlignedGridsService');\n    };\n    AlignedGridsService.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    AlignedGridsService.prototype.init = function () {\n        this.events = [\n            this.eventService.addEventListener(Events.EVENT_COLUMN_MOVED, this.fireColumnEvent.bind(this)),\n            this.eventService.addEventListener(Events.EVENT_COLUMN_VISIBLE, this.fireColumnEvent.bind(this)),\n            this.eventService.addEventListener(Events.EVENT_COLUMN_PINNED, this.fireColumnEvent.bind(this)),\n            this.eventService.addEventListener(Events.EVENT_COLUMN_GROUP_OPENED, this.fireColumnEvent.bind(this)),\n            this.eventService.addEventListener(Events.EVENT_COLUMN_RESIZED, this.fireColumnEvent.bind(this)),\n            this.eventService.addEventListener(Events.EVENT_BODY_SCROLL, this.fireScrollEvent.bind(this))\n        ];\n    };\n    AlignedGridsService.prototype.destroy = function () {\n        if (this.events.length) {\n            this.events.forEach(function (func) { return func(); });\n        }\n        this.events = [];\n    };\n    // common logic across all the fire methods\n    AlignedGridsService.prototype.fireEvent = function (callback) {\n        // if we are already consuming, then we are acting on an event from a master,\n        // so we don't cause a cyclic firing of events\n        if (this.consuming) {\n            return;\n        }\n        // iterate through the aligned grids, and pass each aligned grid service to the callback\n        var otherGrids = this.gridOptionsWrapper.getAlignedGrids();\n        if (otherGrids) {\n            otherGrids.forEach(function (otherGridOptions) {\n                if (otherGridOptions.api) {\n                    var alignedGridService = otherGridOptions.api.__getAlignedGridService();\n                    callback(alignedGridService);\n                }\n            });\n        }\n    };\n    // common logic across all consume methods. very little common logic, however extracting\n    // guarantees consistency across the methods.\n    AlignedGridsService.prototype.onEvent = function (callback) {\n        this.consuming = true;\n        callback();\n        this.consuming = false;\n    };\n    AlignedGridsService.prototype.fireColumnEvent = function (event) {\n        this.fireEvent(function (alignedGridsService) {\n            alignedGridsService.onColumnEvent(event);\n        });\n    };\n    AlignedGridsService.prototype.fireScrollEvent = function (event) {\n        if (event.direction !== 'horizontal') {\n            return;\n        }\n        this.fireEvent(function (alignedGridsService) {\n            alignedGridsService.onScrollEvent(event);\n        });\n    };\n    AlignedGridsService.prototype.onScrollEvent = function (event) {\n        var _this = this;\n        this.onEvent(function () {\n            _this.gridPanel.setHorizontalScrollPosition(event.left);\n        });\n    };\n    AlignedGridsService.prototype.getMasterColumns = function (event) {\n        var result = [];\n        if (event.columns) {\n            event.columns.forEach(function (column) {\n                result.push(column);\n            });\n        }\n        else if (event.column) {\n            result.push(event.column);\n        }\n        return result;\n    };\n    AlignedGridsService.prototype.getColumnIds = function (event) {\n        var result = [];\n        if (event.columns) {\n            event.columns.forEach(function (column) {\n                result.push(column.getColId());\n            });\n        }\n        else if (event.column) {\n            result.push(event.column.getColId());\n        }\n        return result;\n    };\n    AlignedGridsService.prototype.onColumnEvent = function (event) {\n        var _this = this;\n        this.onEvent(function () {\n            switch (event.type) {\n                case Events.EVENT_COLUMN_MOVED:\n                case Events.EVENT_COLUMN_VISIBLE:\n                case Events.EVENT_COLUMN_PINNED:\n                case Events.EVENT_COLUMN_RESIZED:\n                    var colEvent = event;\n                    _this.processColumnEvent(colEvent);\n                    break;\n                case Events.EVENT_COLUMN_GROUP_OPENED:\n                    var groupOpenedEvent = event;\n                    _this.processGroupOpenedEvent(groupOpenedEvent);\n                    break;\n                case Events.EVENT_COLUMN_PIVOT_CHANGED:\n                    // we cannot support pivoting with aligned grids as the columns will be out of sync as the\n                    // grids will have columns created based on the row data of the grid.\n                    console.warn('ag-Grid: pivoting is not supported with aligned grids. ' +\n                        'You can only use one of these features at a time in a grid.');\n                    break;\n            }\n        });\n    };\n    AlignedGridsService.prototype.processGroupOpenedEvent = function (groupOpenedEvent) {\n        // likewise for column group\n        var masterColumnGroup = groupOpenedEvent.columnGroup;\n        var otherColumnGroup;\n        if (masterColumnGroup) {\n            var groupId = masterColumnGroup.getGroupId();\n            otherColumnGroup = this.columnController.getOriginalColumnGroup(groupId);\n        }\n        if (masterColumnGroup && !otherColumnGroup) {\n            return;\n        }\n        this.logger.log('onColumnEvent-> processing ' + groupOpenedEvent + ' expanded = ' + masterColumnGroup.isExpanded());\n        this.columnController.setColumnGroupOpened(otherColumnGroup, masterColumnGroup.isExpanded(), \"alignedGridChanged\");\n    };\n    AlignedGridsService.prototype.processColumnEvent = function (colEvent) {\n        var _this = this;\n        // the column in the event is from the master grid. need to\n        // look up the equivalent from this (other) grid\n        var masterColumn = colEvent.column;\n        var otherColumn;\n        if (masterColumn) {\n            otherColumn = this.columnController.getPrimaryColumn(masterColumn.getColId());\n        }\n        // if event was with respect to a master column, that is not present in this\n        // grid, then we ignore the event\n        if (masterColumn && !otherColumn) {\n            return;\n        }\n        // in time, all the methods below should use the column ids, it's a more generic way\n        // of handling columns, and also allows for single or multi column events\n        var columnIds = this.getColumnIds(colEvent);\n        var masterColumns = this.getMasterColumns(colEvent);\n        switch (colEvent.type) {\n            case Events.EVENT_COLUMN_MOVED:\n                var movedEvent = colEvent;\n                this.logger.log(\"onColumnEvent-> processing \" + colEvent.type + \" toIndex = \" + movedEvent.toIndex);\n                this.columnController.moveColumns(columnIds, movedEvent.toIndex, \"alignedGridChanged\");\n                break;\n            case Events.EVENT_COLUMN_VISIBLE:\n                var visibleEvent = colEvent;\n                this.logger.log(\"onColumnEvent-> processing \" + colEvent.type + \" visible = \" + visibleEvent.visible);\n                this.columnController.setColumnsVisible(columnIds, visibleEvent.visible, \"alignedGridChanged\");\n                break;\n            case Events.EVENT_COLUMN_PINNED:\n                var pinnedEvent = colEvent;\n                this.logger.log(\"onColumnEvent-> processing \" + colEvent.type + \" pinned = \" + pinnedEvent.pinned);\n                this.columnController.setColumnsPinned(columnIds, pinnedEvent.pinned, \"alignedGridChanged\");\n                break;\n            case Events.EVENT_COLUMN_RESIZED:\n                var resizedEvent_1 = colEvent;\n                masterColumns.forEach(function (column) {\n                    _this.logger.log(\"onColumnEvent-> processing \" + colEvent.type + \" actualWidth = \" + column.getActualWidth());\n                    var columnWidths = [{ key: column.getColId(), newWidth: column.getActualWidth() }];\n                    _this.columnController.setColumnWidths(columnWidths, false, resizedEvent_1.finished, \"alignedGridChanged\");\n                });\n                break;\n        }\n        var isVerticalScrollShowing = this.gridPanel.isVerticalScrollShowing();\n        var alignedGrids = this.gridOptionsWrapper.getAlignedGrids();\n        alignedGrids.forEach(function (grid) {\n            grid.api.setAlwaysShowVerticalScroll(isVerticalScrollShowing);\n        });\n    };\n    __decorate$1m([\n        Autowired('gridOptionsWrapper')\n    ], AlignedGridsService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1m([\n        Autowired('columnController')\n    ], AlignedGridsService.prototype, \"columnController\", void 0);\n    __decorate$1m([\n        Autowired('eventService')\n    ], AlignedGridsService.prototype, \"eventService\", void 0);\n    __decorate$1m([\n        __param$8(0, Qualifier('loggerFactory'))\n    ], AlignedGridsService.prototype, \"setBeans\", null);\n    __decorate$1m([\n        PostConstruct\n    ], AlignedGridsService.prototype, \"init\", null);\n    __decorate$1m([\n        PreDestroy\n    ], AlignedGridsService.prototype, \"destroy\", null);\n    AlignedGridsService = __decorate$1m([\n        Bean('alignedGridsService')\n    ], AlignedGridsService);\n    return AlignedGridsService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1n = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AgComponentUtils = /** @class */ (function () {\n    function AgComponentUtils() {\n    }\n    AgComponentUtils.prototype.adaptFunction = function (propertyName, hardcodedJsFunction, componentFromFramework, source) {\n        if (hardcodedJsFunction == null) {\n            return {\n                component: null,\n                componentFromFramework: componentFromFramework,\n                source: source,\n                paramsFromSelector: null\n            };\n        }\n        var metadata = this.componentMetadataProvider.retrieve(propertyName);\n        if (metadata && metadata.functionAdapter) {\n            return {\n                componentFromFramework: componentFromFramework,\n                component: metadata.functionAdapter(hardcodedJsFunction),\n                source: source,\n                paramsFromSelector: null\n            };\n        }\n        return null;\n    };\n    AgComponentUtils.prototype.adaptCellRendererFunction = function (callback) {\n        var Adapter = /** @class */ (function () {\n            function Adapter() {\n            }\n            Adapter.prototype.refresh = function (params) {\n                return false;\n            };\n            Adapter.prototype.getGui = function () {\n                var callbackResult = callback(this.params);\n                var type = typeof callbackResult;\n                if (type === 'string' || type === 'number' || type === 'boolean') {\n                    return _.loadTemplate('<span>' + callbackResult + '</span>');\n                }\n                else {\n                    return callbackResult;\n                }\n            };\n            Adapter.prototype.init = function (params) {\n                this.params = params;\n            };\n            return Adapter;\n        }());\n        return Adapter;\n    };\n    AgComponentUtils.prototype.doesImplementIComponent = function (candidate) {\n        if (!candidate) {\n            return false;\n        }\n        return candidate.prototype && 'getGui' in candidate.prototype;\n    };\n    __decorate$1n([\n        Autowired(\"componentMetadataProvider\")\n    ], AgComponentUtils.prototype, \"componentMetadataProvider\", void 0);\n    AgComponentUtils = __decorate$1n([\n        Bean(\"agComponentUtils\")\n    ], AgComponentUtils);\n    return AgComponentUtils;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1o = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ComponentMetadataProvider = /** @class */ (function () {\n    function ComponentMetadataProvider() {\n    }\n    ComponentMetadataProvider.prototype.postConstruct = function () {\n        this.componentMetaData = {\n            dateComponent: {\n                mandatoryMethodList: ['getDate', 'setDate'],\n                optionalMethodList: ['afterGuiAttached', 'setInputPlaceholder']\n            },\n            detailCellRenderer: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['refresh']\n            },\n            headerComponent: {\n                mandatoryMethodList: [],\n                optionalMethodList: []\n            },\n            headerGroupComponent: {\n                mandatoryMethodList: [],\n                optionalMethodList: []\n            },\n            loadingCellRenderer: {\n                mandatoryMethodList: [],\n                optionalMethodList: []\n            },\n            loadingOverlayComponent: {\n                mandatoryMethodList: [],\n                optionalMethodList: []\n            },\n            noRowsOverlayComponent: {\n                mandatoryMethodList: [],\n                optionalMethodList: []\n            },\n            floatingFilterComponent: {\n                mandatoryMethodList: ['onParentModelChanged'],\n                optionalMethodList: ['afterGuiAttached']\n            },\n            floatingFilterWrapperComponent: {\n                mandatoryMethodList: [],\n                optionalMethodList: []\n            },\n            cellRenderer: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['refresh', 'afterGuiAttached'],\n                functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n            },\n            cellEditor: {\n                mandatoryMethodList: ['getValue'],\n                optionalMethodList: ['isPopup', 'isCancelBeforeStart', 'isCancelAfterEnd', 'focusIn', 'focusOut', 'afterGuiAttached']\n            },\n            innerRenderer: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['afterGuiAttached'],\n                functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n            },\n            fullWidthCellRenderer: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['refresh', 'afterGuiAttached'],\n                functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n            },\n            pinnedRowCellRenderer: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['refresh', 'afterGuiAttached'],\n                functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n            },\n            groupRowInnerRenderer: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['afterGuiAttached'],\n                functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n            },\n            groupRowRenderer: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['afterGuiAttached'],\n                functionAdapter: this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)\n            },\n            filter: {\n                mandatoryMethodList: ['isFilterActive', 'doesFilterPass', 'getModel', 'setModel'],\n                optionalMethodList: ['afterGuiAttached', 'onNewRowsLoaded', 'getModelAsString', 'onFloatingFilterChanged']\n            },\n            filterComponent: {\n                mandatoryMethodList: ['isFilterActive', 'doesFilterPass', 'getModel', 'setModel'],\n                optionalMethodList: ['afterGuiAttached', 'onNewRowsLoaded', 'getModelAsString', 'onFloatingFilterChanged']\n            },\n            statusPanel: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['afterGuiAttached'],\n            },\n            toolPanel: {\n                mandatoryMethodList: [],\n                optionalMethodList: ['refresh', 'afterGuiAttached']\n            },\n            tooltipComponent: {\n                mandatoryMethodList: [],\n                optionalMethodList: []\n            }\n        };\n    };\n    ComponentMetadataProvider.prototype.retrieve = function (name) {\n        return this.componentMetaData[name];\n    };\n    __decorate$1o([\n        Autowired(\"agComponentUtils\")\n    ], ComponentMetadataProvider.prototype, \"agComponentUtils\", void 0);\n    __decorate$1o([\n        PostConstruct\n    ], ComponentMetadataProvider.prototype, \"postConstruct\", null);\n    ComponentMetadataProvider = __decorate$1o([\n        Bean(\"componentMetadataProvider\")\n    ], ComponentMetadataProvider);\n    return ComponentMetadataProvider;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1p = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/** Using the IoC has a slight performance consideration, which is no problem most of the\n * time, unless we are trashing objects - which is the case when scrolling and rowComp\n * and cellComp. So for performance reasons, RowComp and CellComp do not get autowired\n * with the IoC. Instead they get passed this object which is all the beans the RowComp\n * and CellComp need. Not autowiring all the cells gives performance improvement. */\nvar Beans = /** @class */ (function () {\n    function Beans() {\n    }\n    Beans.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    Beans.prototype.postConstruct = function () {\n        this.doingMasterDetail = this.gridOptionsWrapper.isMasterDetail();\n    };\n    __decorate$1p([\n        Autowired('paginationProxy')\n    ], Beans.prototype, \"paginationProxy\", void 0);\n    __decorate$1p([\n        Autowired('context')\n    ], Beans.prototype, \"context\", void 0);\n    __decorate$1p([\n        Autowired('columnApi')\n    ], Beans.prototype, \"columnApi\", void 0);\n    __decorate$1p([\n        Autowired('gridApi')\n    ], Beans.prototype, \"gridApi\", void 0);\n    __decorate$1p([\n        Autowired('gridOptionsWrapper')\n    ], Beans.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1p([\n        Autowired('expressionService')\n    ], Beans.prototype, \"expressionService\", void 0);\n    __decorate$1p([\n        Autowired('rowRenderer')\n    ], Beans.prototype, \"rowRenderer\", void 0);\n    __decorate$1p([\n        Autowired('$compile')\n    ], Beans.prototype, \"$compile\", void 0);\n    __decorate$1p([\n        Autowired('templateService')\n    ], Beans.prototype, \"templateService\", void 0);\n    __decorate$1p([\n        Autowired('valueService')\n    ], Beans.prototype, \"valueService\", void 0);\n    __decorate$1p([\n        Autowired('eventService')\n    ], Beans.prototype, \"eventService\", void 0);\n    __decorate$1p([\n        Autowired('columnController')\n    ], Beans.prototype, \"columnController\", void 0);\n    __decorate$1p([\n        Autowired('columnAnimationService')\n    ], Beans.prototype, \"columnAnimationService\", void 0);\n    __decorate$1p([\n        Optional('rangeController')\n    ], Beans.prototype, \"rangeController\", void 0);\n    __decorate$1p([\n        Autowired('focusController')\n    ], Beans.prototype, \"focusController\", void 0);\n    __decorate$1p([\n        Optional('contextMenuFactory')\n    ], Beans.prototype, \"contextMenuFactory\", void 0);\n    __decorate$1p([\n        Autowired('cellRendererFactory')\n    ], Beans.prototype, \"cellRendererFactory\", void 0);\n    __decorate$1p([\n        Autowired('popupService')\n    ], Beans.prototype, \"popupService\", void 0);\n    __decorate$1p([\n        Autowired('valueFormatterService')\n    ], Beans.prototype, \"valueFormatterService\", void 0);\n    __decorate$1p([\n        Autowired('stylingService')\n    ], Beans.prototype, \"stylingService\", void 0);\n    __decorate$1p([\n        Autowired('columnHoverService')\n    ], Beans.prototype, \"columnHoverService\", void 0);\n    __decorate$1p([\n        Autowired('userComponentFactory')\n    ], Beans.prototype, \"userComponentFactory\", void 0);\n    __decorate$1p([\n        Autowired('animationFrameService')\n    ], Beans.prototype, \"taskQueue\", void 0);\n    __decorate$1p([\n        Autowired('dragAndDropService')\n    ], Beans.prototype, \"dragAndDropService\", void 0);\n    __decorate$1p([\n        Autowired('sortController')\n    ], Beans.prototype, \"sortController\", void 0);\n    __decorate$1p([\n        Autowired('filterManager')\n    ], Beans.prototype, \"filterManager\", void 0);\n    __decorate$1p([\n        Autowired('maxDivHeightScaler')\n    ], Beans.prototype, \"maxDivHeightScaler\", void 0);\n    __decorate$1p([\n        Autowired('frameworkOverrides')\n    ], Beans.prototype, \"frameworkOverrides\", void 0);\n    __decorate$1p([\n        Autowired('detailRowCompCache')\n    ], Beans.prototype, \"detailRowCompCache\", void 0);\n    __decorate$1p([\n        Autowired('cellPositionUtils')\n    ], Beans.prototype, \"cellPositionUtils\", void 0);\n    __decorate$1p([\n        Autowired('rowPositionUtils')\n    ], Beans.prototype, \"rowPositionUtils\", void 0);\n    __decorate$1p([\n        Autowired('selectionController')\n    ], Beans.prototype, \"selectionController\", void 0);\n    __decorate$1p([\n        PostConstruct\n    ], Beans.prototype, \"postConstruct\", null);\n    Beans = __decorate$1p([\n        Bean('beans')\n    ], Beans);\n    return Beans;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1q = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar MAT_GRID_SIZE = 8;\nvar BASE_GRID_SIZE = 4;\nvar BALHAM_GRID_SIZE = 4;\nvar ALPINE_GRID_SIZE = 6;\nvar HARD_CODED_SIZES = {\n    // this item is required for custom themes\n    'ag-theme-custom': {\n        headerHeight: 25,\n        headerCellMinWidth: 24,\n        listItemHeight: BASE_GRID_SIZE * 5,\n        rowHeight: 25,\n        chartMenuPanelWidth: 220\n    },\n    'ag-theme-material': {\n        headerHeight: MAT_GRID_SIZE * 7,\n        headerCellMinWidth: 48,\n        listItemHeight: MAT_GRID_SIZE * 5,\n        rowHeight: MAT_GRID_SIZE * 6,\n        chartMenuPanelWidth: 240\n    },\n    'ag-theme-balham': {\n        headerHeight: BALHAM_GRID_SIZE * 8,\n        headerCellMinWidth: 24,\n        listItemHeight: BALHAM_GRID_SIZE * 7,\n        rowHeight: BALHAM_GRID_SIZE * 7,\n        chartMenuPanelWidth: 220\n    },\n    'ag-theme-alpine': {\n        headerHeight: ALPINE_GRID_SIZE * 8,\n        headerCellMinWidth: 36,\n        listItemHeight: ALPINE_GRID_SIZE * 5,\n        rowHeight: ALPINE_GRID_SIZE * 7,\n        chartMenuPanelWidth: 240\n    }\n};\n/**\n * this object contains a list of Sass variables and an array\n * of CSS styles required to get the correct value.\n * eg. $virtual-item-height requires a structure, so we can get its height.\n * <div class=\"ag-theme-balham\">\n *     <div class=\"ag-virtual-list-container\">\n *         <div class=\"ag-virtual-list-item\"></div>\n *     </div>\n * </div>\n */\nvar SASS_PROPERTY_BUILDER = {\n    headerHeight: ['ag-header-row'],\n    headerCellMinWidth: ['ag-header-cell'],\n    listItemHeight: ['ag-virtual-list-item'],\n    rowHeight: ['ag-row'],\n    chartMenuPanelWidth: ['ag-chart-docked-container']\n};\nvar CALCULATED_SIZES = {};\nvar Environment = /** @class */ (function () {\n    function Environment() {\n    }\n    Environment.prototype.getSassVariable = function (theme, key) {\n        var useTheme = 'ag-theme-' + (theme.match('material') ? 'material' : theme.match('balham') ? 'balham' : theme.match('alpine') ? 'alpine' : 'custom');\n        var defaultValue = HARD_CODED_SIZES[useTheme][key];\n        var calculatedValue = 0;\n        if (!CALCULATED_SIZES[theme]) {\n            CALCULATED_SIZES[theme] = {};\n        }\n        if (CALCULATED_SIZES[theme][key]) {\n            return CALCULATED_SIZES[theme][key];\n        }\n        if (SASS_PROPERTY_BUILDER[key]) {\n            var classList = SASS_PROPERTY_BUILDER[key];\n            var div = document.createElement('div');\n            div.style.position = 'absolute';\n            var el = classList.reduce(function (el, currentClass, idx) {\n                if (idx === 0) {\n                    _.addCssClass(el, theme);\n                }\n                var div = document.createElement('div');\n                div.style.position = 'static';\n                _.addCssClass(div, currentClass);\n                el.appendChild(div);\n                return div;\n            }, div);\n            if (document.body) {\n                document.body.appendChild(div);\n                var sizeName = key.toLowerCase().indexOf('height') !== -1 ? 'height' : 'width';\n                calculatedValue = parseInt(window.getComputedStyle(el)[sizeName], 10);\n                document.body.removeChild(div);\n            }\n        }\n        CALCULATED_SIZES[theme][key] = calculatedValue || defaultValue;\n        return CALCULATED_SIZES[theme][key];\n    };\n    Environment.prototype.isThemeDark = function () {\n        var theme = this.getTheme().theme;\n        return !!theme && theme.indexOf('dark') >= 0;\n    };\n    Environment.prototype.chartMenuPanelWidth = function () {\n        var theme = this.getTheme().themeFamily;\n        return this.getSassVariable(theme, 'chartMenuPanelWidth');\n    };\n    Environment.prototype.getTheme = function () {\n        var reg = /\\bag-(material|(?:theme-([\\w\\-]*)))\\b/;\n        var el = this.eGridDiv;\n        var themeMatch;\n        while (el) {\n            themeMatch = reg.exec(el.className);\n            if (!themeMatch) {\n                el = el.parentElement;\n            }\n            else {\n                break;\n            }\n        }\n        if (!themeMatch) {\n            return {};\n        }\n        var theme = themeMatch[0];\n        var usingOldTheme = themeMatch[2] === undefined;\n        if (usingOldTheme) {\n            var newTheme_1 = theme.replace('ag-', 'ag-theme-');\n            _.doOnce(function () { return console.warn(\"ag-Grid: As of v19 old theme are no longer provided. Please replace \" + theme + \" with \" + newTheme_1 + \".\"); }, 'using-old-theme');\n        }\n        return { theme: theme, el: el, themeFamily: theme.replace(/-dark$/, '') };\n    };\n    __decorate$1q([\n        Autowired('eGridDiv')\n    ], Environment.prototype, \"eGridDiv\", void 0);\n    Environment = __decorate$1q([\n        Bean('environment')\n    ], Environment);\n    return Environment;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1r = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AnimationFrameService = /** @class */ (function () {\n    function AnimationFrameService() {\n        // p1 and p2 are create tasks are to do with row and cell creation.\n        // for them we want to execute according to row order, so we use\n        // TaskItem so we know what index the item is for.\n        this.createTasksP1 = { list: [], sorted: false }; // eg drawing back-ground of rows\n        this.createTasksP2 = { list: [], sorted: false }; // eg cell renderers, adding hover functionality\n        // destroy tasks are to do with row removal. they are done after row creation as the user will need to see new\n        // rows first (as blank is scrolled into view), when we remove the old rows (no longer in view) is not as\n        // important.\n        this.destroyTasks = [];\n        this.ticking = false;\n        // we need to know direction of scroll, to build up rows in the direction of\n        // the scroll. eg if user scrolls down, we extend the rows by building down.\n        this.scrollGoingDown = true;\n        this.lastScrollTop = 0;\n        this.taskCount = 0;\n        this.cancelledTasks = new Set();\n    }\n    AnimationFrameService.prototype.setScrollTop = function (scrollTop) {\n        this.scrollGoingDown = scrollTop > this.lastScrollTop;\n        this.lastScrollTop = scrollTop;\n    };\n    AnimationFrameService.prototype.init = function () {\n        this.useAnimationFrame = !this.gridOptionsWrapper.isSuppressAnimationFrame();\n    };\n    // this method is for our ag-Grid sanity only - if animation frames are turned off,\n    // then no place in the code should be looking to add any work to be done in animation\n    // frames. this stops bugs - where some code is asking for a frame to be executed\n    // when it should not.\n    AnimationFrameService.prototype.verifyAnimationFrameOn = function (methodName) {\n        if (this.useAnimationFrame === false) {\n            console.warn(\"ag-Grid: AnimationFrameService.\" + methodName + \" called but animation frames are off\");\n        }\n    };\n    AnimationFrameService.prototype.createTask = function (task, index, list) {\n        this.verifyAnimationFrameOn(list);\n        var taskItem = { task: task, index: index, createOrder: ++this.taskCount };\n        this.addTaskToList(this[list], taskItem);\n        this.schedule();\n    };\n    AnimationFrameService.prototype.cancelTask = function (task) {\n        this.cancelledTasks.add(task);\n    };\n    AnimationFrameService.prototype.addTaskToList = function (taskList, task) {\n        taskList.list.push(task);\n        taskList.sorted = false;\n    };\n    AnimationFrameService.prototype.sortTaskList = function (taskList) {\n        if (taskList.sorted) {\n            return;\n        }\n        var sortDirection = this.scrollGoingDown ? 1 : -1;\n        // sort first by row index (taking into account scroll direction), then by\n        // order of task creation (always ascending, so cells will render left-to-right)\n        taskList.list.sort(function (a, b) { return a.index !== b.index ? sortDirection * (b.index - a.index) : b.createOrder - a.createOrder; });\n        taskList.sorted = true;\n    };\n    AnimationFrameService.prototype.addDestroyTask = function (task) {\n        this.verifyAnimationFrameOn('createTasksP3');\n        this.destroyTasks.push(task);\n        this.schedule();\n    };\n    AnimationFrameService.prototype.executeFrame = function (millis) {\n        this.verifyAnimationFrameOn('executeFrame');\n        var p1TaskList = this.createTasksP1;\n        var p1Tasks = p1TaskList.list;\n        var p2TaskList = this.createTasksP2;\n        var p2Tasks = p2TaskList.list;\n        var destroyTasks = this.destroyTasks;\n        var frameStart = new Date().getTime();\n        var duration = (new Date().getTime()) - frameStart;\n        // 16ms is 60 fps\n        var noMaxMillis = millis <= 0;\n        while (noMaxMillis || duration < millis) {\n            var task = void 0;\n            if (p1Tasks.length) {\n                this.sortTaskList(p1TaskList);\n                task = p1Tasks.pop().task;\n            }\n            else if (p2Tasks.length) {\n                this.sortTaskList(p2TaskList);\n                task = p2Tasks.pop().task;\n            }\n            else if (destroyTasks.length) {\n                task = destroyTasks.pop();\n            }\n            else {\n                this.cancelledTasks.clear();\n                break;\n            }\n            if (!this.cancelledTasks.has(task)) {\n                task();\n            }\n            duration = (new Date().getTime()) - frameStart;\n        }\n        if (p1Tasks.length || p2Tasks.length || destroyTasks.length) {\n            this.requestFrame();\n        }\n        else {\n            this.stopTicking();\n        }\n    };\n    AnimationFrameService.prototype.stopTicking = function () {\n        this.ticking = false;\n        var event = {\n            type: Events.EVENT_ANIMATION_QUEUE_EMPTY,\n            columnApi: this.gridOptionsWrapper.getColumnApi(),\n            api: this.gridOptionsWrapper.getApi()\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    AnimationFrameService.prototype.flushAllFrames = function () {\n        if (!this.useAnimationFrame) {\n            return;\n        }\n        this.executeFrame(-1);\n    };\n    AnimationFrameService.prototype.schedule = function () {\n        if (!this.useAnimationFrame) {\n            return;\n        }\n        if (!this.ticking) {\n            this.ticking = true;\n            this.requestFrame();\n        }\n    };\n    AnimationFrameService.prototype.requestFrame = function () {\n        // check for the existence of requestAnimationFrame, and if\n        // it's missing, then we polyfill it with setTimeout()\n        var callback = this.executeFrame.bind(this, 60);\n        if (window.requestAnimationFrame) {\n            window.requestAnimationFrame(callback);\n        }\n        else if (window.webkitRequestAnimationFrame) {\n            window.webkitRequestAnimationFrame(callback);\n        }\n        else {\n            window.setTimeout(callback, 0);\n        }\n    };\n    AnimationFrameService.prototype.isQueueEmpty = function () {\n        return !this.ticking;\n    };\n    __decorate$1r([\n        Autowired('gridOptionsWrapper')\n    ], AnimationFrameService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1r([\n        Autowired('eventService')\n    ], AnimationFrameService.prototype, \"eventService\", void 0);\n    __decorate$1r([\n        PostConstruct\n    ], AnimationFrameService.prototype, \"init\", null);\n    AnimationFrameService = __decorate$1r([\n        Bean('animationFrameService')\n    ], AnimationFrameService);\n    return AnimationFrameService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1s = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar NavigationService = /** @class */ (function () {\n    function NavigationService() {\n        this.timeLastPageEventProcessed = 0;\n    }\n    NavigationService.prototype.init = function () {\n        this.scrollWidth = this.gridOptionsWrapper.getScrollbarWidth();\n    };\n    NavigationService.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    NavigationService.prototype.handlePageScrollingKey = function (event) {\n        var key = event.which || event.keyCode;\n        var alt = event.altKey;\n        var ctrl = event.ctrlKey;\n        var currentCell = this.mouseEventService.getCellPositionForEvent(event);\n        if (!currentCell) {\n            return false;\n        }\n        var processed = false;\n        switch (key) {\n            case Constants.KEY_PAGE_HOME:\n            case Constants.KEY_PAGE_END:\n                // handle home and end when ctrl & alt are NOT pressed\n                if (!ctrl && !alt) {\n                    this.onHomeOrEndKey(key);\n                    processed = true;\n                }\n                break;\n            case Constants.KEY_LEFT:\n            case Constants.KEY_RIGHT:\n                // handle left and right when ctrl is pressed only\n                if (ctrl && !alt) {\n                    this.onCtrlLeftOrRight(key, currentCell);\n                    processed = true;\n                }\n                break;\n            case Constants.KEY_UP:\n            case Constants.KEY_DOWN:\n                // handle up and down when ctrl is pressed only\n                if (ctrl && !alt) {\n                    this.onCtrlUpOrDown(key, currentCell);\n                    processed = true;\n                }\n                break;\n            case Constants.KEY_PAGE_DOWN:\n                // handle page up and page down when ctrl & alt are NOT pressed\n                if (!ctrl && !alt) {\n                    this.onPageDown(currentCell);\n                    processed = true;\n                }\n                break;\n            case Constants.KEY_PAGE_UP:\n                // handle page up and page down when ctrl & alt are NOT pressed\n                if (!ctrl && !alt) {\n                    this.onPageUp(currentCell);\n                    processed = true;\n                }\n                break;\n        }\n        if (processed) {\n            event.preventDefault();\n        }\n        return processed;\n    };\n    // the page up/down keys caused a problem, in that if the user\n    // held the page up/down key down, lots of events got generated,\n    // which clogged up the event queue (as they take time to process)\n    // which in turn froze the grid. Logic below makes sure we wait 100ms\n    // between processing the page up/down events, so when user has finger\n    // held down on key, we ignore page up/down events until 100ms has passed,\n    // which effectively empties the queue of page up/down events.\n    NavigationService.prototype.isTimeSinceLastPageEventToRecent = function () {\n        var now = new Date().getTime();\n        var diff = now - this.timeLastPageEventProcessed;\n        return (diff < 100);\n    };\n    NavigationService.prototype.setTimeLastPageEventProcessed = function () {\n        this.timeLastPageEventProcessed = new Date().getTime();\n    };\n    NavigationService.prototype.onPageDown = function (gridCell) {\n        if (this.isTimeSinceLastPageEventToRecent()) {\n            return;\n        }\n        var scrollPosition = this.gridPanel.getVScrollPosition();\n        var pixelsInOnePage = scrollPosition.bottom - scrollPosition.top;\n        if (this.gridPanel.isHorizontalScrollShowing()) {\n            pixelsInOnePage -= this.scrollWidth;\n        }\n        var pagingPixelOffset = this.paginationProxy.getPixelOffset();\n        var currentPageBottomPixel = scrollPosition.top + pixelsInOnePage;\n        var currentPageBottomRow = this.paginationProxy.getRowIndexAtPixel(currentPageBottomPixel + pagingPixelOffset);\n        var scrollIndex = currentPageBottomRow;\n        var currentCellPixel = this.paginationProxy.getRow(gridCell.rowIndex).rowTop;\n        var nextCellPixel = currentCellPixel + pixelsInOnePage - pagingPixelOffset;\n        var focusIndex = this.paginationProxy.getRowIndexAtPixel(nextCellPixel + pagingPixelOffset);\n        var pageLastRow = this.paginationProxy.getPageLastRow();\n        if (focusIndex > pageLastRow) {\n            focusIndex = pageLastRow;\n        }\n        if (scrollIndex > pageLastRow) {\n            scrollIndex = pageLastRow;\n        }\n        this.navigateTo(scrollIndex, 'top', null, focusIndex, gridCell.column);\n        this.setTimeLastPageEventProcessed();\n    };\n    NavigationService.prototype.onPageUp = function (gridCell) {\n        if (this.isTimeSinceLastPageEventToRecent()) {\n            return;\n        }\n        var scrollPosition = this.gridPanel.getVScrollPosition();\n        var pixelsInOnePage = scrollPosition.bottom - scrollPosition.top;\n        if (this.gridPanel.isHorizontalScrollShowing()) {\n            pixelsInOnePage -= this.scrollWidth;\n        }\n        var pagingPixelOffset = this.paginationProxy.getPixelOffset();\n        var currentPageTopPixel = scrollPosition.top;\n        var currentPageTopRow = this.paginationProxy.getRowIndexAtPixel(currentPageTopPixel + pagingPixelOffset);\n        var scrollIndex = currentPageTopRow;\n        var currentRowNode = this.paginationProxy.getRow(gridCell.rowIndex);\n        var nextCellPixel = currentRowNode.rowTop + currentRowNode.rowHeight - pixelsInOnePage - pagingPixelOffset;\n        var focusIndex = this.paginationProxy.getRowIndexAtPixel(nextCellPixel + pagingPixelOffset);\n        var firstRow = this.paginationProxy.getPageFirstRow();\n        if (focusIndex < firstRow) {\n            focusIndex = firstRow;\n        }\n        if (scrollIndex < firstRow) {\n            scrollIndex = firstRow;\n        }\n        this.navigateTo(scrollIndex, 'bottom', null, focusIndex, gridCell.column);\n        this.setTimeLastPageEventProcessed();\n    };\n    // common logic to navigate. takes parameters:\n    // scrollIndex - what row to vertically scroll to\n    // scrollType - what position to put scroll index ie top/bottom\n    // scrollColumn - what column to horizontally scroll to\n    // focusIndex / focusColumn - for page up / down, we want to scroll to one row/column, but focus another\n    NavigationService.prototype.navigateTo = function (scrollIndex, scrollType, scrollColumn, focusIndex, focusColumn) {\n        if (_.exists(scrollColumn)) {\n            this.gridPanel.ensureColumnVisible(scrollColumn);\n        }\n        if (_.exists(scrollIndex)) {\n            this.gridPanel.ensureIndexVisible(scrollIndex, scrollType);\n        }\n        // make sure the cell is rendered, needed if we are to focus\n        this.animationFrameService.flushAllFrames();\n        // if we don't do this, the range will be left on the last cell, which will leave the last focused cell\n        // highlighted.\n        this.focusController.setFocusedCell(focusIndex, focusColumn, null, true);\n        if (this.rangeController) {\n            var cellPosition = { rowIndex: focusIndex, rowPinned: null, column: focusColumn };\n            this.rangeController.setRangeToCell(cellPosition);\n        }\n    };\n    // ctrl + up/down will bring focus to same column, first/last row. no horizontal scrolling.\n    NavigationService.prototype.onCtrlUpOrDown = function (key, gridCell) {\n        var upKey = key === Constants.KEY_UP;\n        var rowIndexToScrollTo = upKey ? 0 : this.paginationProxy.getPageLastRow();\n        this.navigateTo(rowIndexToScrollTo, null, gridCell.column, rowIndexToScrollTo, gridCell.column);\n    };\n    // ctrl + left/right will bring focus to same row, first/last cell. no vertical scrolling.\n    NavigationService.prototype.onCtrlLeftOrRight = function (key, gridCell) {\n        var leftKey = key === Constants.KEY_LEFT;\n        var allColumns = this.columnController.getAllDisplayedColumns();\n        var columnToSelect = leftKey ? allColumns[0] : _.last(allColumns);\n        this.navigateTo(gridCell.rowIndex, null, columnToSelect, gridCell.rowIndex, columnToSelect);\n    };\n    // home brings focus to top left cell, end brings focus to bottom right, grid scrolled to bring\n    // same cell into view (which means either scroll all the way up, or all the way down).\n    NavigationService.prototype.onHomeOrEndKey = function (key) {\n        var homeKey = key === Constants.KEY_PAGE_HOME;\n        var allColumns = this.columnController.getAllDisplayedColumns();\n        var columnToSelect = homeKey ? allColumns[0] : _.last(allColumns);\n        var rowIndexToScrollTo = homeKey ? 0 : this.paginationProxy.getPageLastRow();\n        this.navigateTo(rowIndexToScrollTo, null, columnToSelect, rowIndexToScrollTo, columnToSelect);\n    };\n    __decorate$1s([\n        Autowired('mouseEventService')\n    ], NavigationService.prototype, \"mouseEventService\", void 0);\n    __decorate$1s([\n        Autowired('paginationProxy')\n    ], NavigationService.prototype, \"paginationProxy\", void 0);\n    __decorate$1s([\n        Autowired('focusController')\n    ], NavigationService.prototype, \"focusController\", void 0);\n    __decorate$1s([\n        Autowired('animationFrameService')\n    ], NavigationService.prototype, \"animationFrameService\", void 0);\n    __decorate$1s([\n        Optional('rangeController')\n    ], NavigationService.prototype, \"rangeController\", void 0);\n    __decorate$1s([\n        Autowired('columnController')\n    ], NavigationService.prototype, \"columnController\", void 0);\n    __decorate$1s([\n        Autowired('gridOptionsWrapper')\n    ], NavigationService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1s([\n        PostConstruct\n    ], NavigationService.prototype, \"init\", null);\n    NavigationService = __decorate$1s([\n        Bean('navigationService')\n    ], NavigationService);\n    return NavigationService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$U = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1t = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * This class solves the 'max height' problem, where the user might want to show more data than\n * the max div height actually allows.\n */\nvar MaxDivHeightScaler = /** @class */ (function (_super) {\n    __extends$U(MaxDivHeightScaler, _super);\n    function MaxDivHeightScaler() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // the scrollY position\n        _this.scrollY = 0;\n        // how tall the body is\n        _this.uiBodyHeight = 0;\n        return _this;\n    }\n    MaxDivHeightScaler.prototype.postConstruct = function () {\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_BODY_HEIGHT_CHANGED, this.updateOffset.bind(this));\n        this.scrollBarWidth = this.gridOptionsWrapper.getScrollbarWidth();\n        this.maxDivHeight = _.getMaxDivHeight();\n    };\n    MaxDivHeightScaler.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    MaxDivHeightScaler.prototype.isScaling = function () {\n        return this.scaling;\n    };\n    MaxDivHeightScaler.prototype.getOffset = function () {\n        return this.offset;\n    };\n    MaxDivHeightScaler.prototype.updateOffset = function () {\n        if (!this.scaling) {\n            return;\n        }\n        var newScrollY = this.gridPanel.getVScrollPosition().top;\n        var newBodyHeight = this.getUiBodyHeight();\n        var atLeastOneChanged = newScrollY !== this.scrollY || newBodyHeight !== this.uiBodyHeight;\n        if (atLeastOneChanged) {\n            this.scrollY = newScrollY;\n            this.uiBodyHeight = newBodyHeight;\n            this.calculateOffset();\n        }\n    };\n    MaxDivHeightScaler.prototype.calculateOffset = function () {\n        this.uiContainerHeight = this.maxDivHeight;\n        this.pixelsToShave = this.modelHeight - this.uiContainerHeight;\n        this.maxScrollY = this.uiContainerHeight - this.uiBodyHeight;\n        var scrollPercent = this.scrollY / this.maxScrollY;\n        this.setOffset(scrollPercent * this.pixelsToShave);\n    };\n    MaxDivHeightScaler.prototype.clearOffset = function () {\n        this.uiContainerHeight = this.modelHeight;\n        this.pixelsToShave = 0;\n        this.setOffset(0);\n    };\n    MaxDivHeightScaler.prototype.setOffset = function (newOffset) {\n        // because we are talking pixels, no point in confusing things with half numbers\n        var newOffsetFloor = typeof newOffset === 'number' ? Math.floor(newOffset) : null;\n        if (this.offset === newOffsetFloor) {\n            return;\n        }\n        this.offset = newOffsetFloor;\n        this.eventService.dispatchEvent({ type: Events.EVENT_HEIGHT_SCALE_CHANGED });\n    };\n    MaxDivHeightScaler.prototype.setModelHeight = function (modelHeight) {\n        this.modelHeight = modelHeight;\n        this.scaling = this.maxDivHeight > 0 && modelHeight > this.maxDivHeight;\n        if (this.scaling) {\n            this.calculateOffset();\n        }\n        else {\n            this.clearOffset();\n        }\n    };\n    MaxDivHeightScaler.prototype.getUiContainerHeight = function () {\n        return this.uiContainerHeight;\n    };\n    MaxDivHeightScaler.prototype.getRealPixelPosition = function (modelPixel) {\n        return modelPixel - this.offset;\n    };\n    MaxDivHeightScaler.prototype.getUiBodyHeight = function () {\n        var pos = this.gridPanel.getVScrollPosition();\n        return pos.bottom - pos.top;\n    };\n    MaxDivHeightScaler.prototype.getScrollPositionForPixel = function (rowTop) {\n        if (this.pixelsToShave <= 0) {\n            return rowTop;\n        }\n        var modelMaxScroll = this.modelHeight - this.getUiBodyHeight();\n        var scrollPercent = rowTop / modelMaxScroll;\n        var scrollPixel = this.maxScrollY * scrollPercent;\n        return scrollPixel;\n    };\n    __decorate$1t([\n        Autowired('eventService')\n    ], MaxDivHeightScaler.prototype, \"eventService\", void 0);\n    __decorate$1t([\n        Autowired('gridOptionsWrapper')\n    ], MaxDivHeightScaler.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1t([\n        PostConstruct\n    ], MaxDivHeightScaler.prototype, \"postConstruct\", null);\n    MaxDivHeightScaler = __decorate$1t([\n        Bean('maxDivHeightScaler')\n    ], MaxDivHeightScaler);\n    return MaxDivHeightScaler;\n}(BeanStub));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1u = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar SelectableService = /** @class */ (function () {\n    function SelectableService() {\n    }\n    SelectableService.prototype.init = function () {\n        this.groupSelectsChildren = this.gridOptionsWrapper.isGroupSelectsChildren();\n        this.isRowSelectableFunc = this.gridOptionsWrapper.getIsRowSelectableFunc();\n    };\n    SelectableService.prototype.updateSelectableAfterGrouping = function (rowNode) {\n        if (this.isRowSelectableFunc) {\n            var nextChildrenFunc = function (rowNode) { return rowNode.childrenAfterGroup; };\n            this.recurseDown(rowNode.childrenAfterGroup, nextChildrenFunc);\n        }\n    };\n    SelectableService.prototype.updateSelectableAfterFiltering = function (rowNode) {\n        if (this.isRowSelectableFunc) {\n            var nextChildrenFunc = function (rowNode) { return rowNode.childrenAfterFilter; };\n            this.recurseDown(rowNode.childrenAfterGroup, nextChildrenFunc);\n        }\n    };\n    SelectableService.prototype.recurseDown = function (children, nextChildrenFunc) {\n        var _this = this;\n        children.forEach(function (child) {\n            if (!child.group) {\n                return;\n            } // only interested in groups\n            if (child.hasChildren()) {\n                _this.recurseDown(nextChildrenFunc(child), nextChildrenFunc);\n            }\n            var rowSelectable;\n            if (_this.groupSelectsChildren) {\n                // have this group selectable if at least one direct child is selectable\n                var firstSelectable = _.find(nextChildrenFunc(child), 'selectable', true);\n                rowSelectable = _.exists(firstSelectable);\n            }\n            else {\n                // directly retrieve selectable value from user callback\n                rowSelectable = _this.isRowSelectableFunc ? _this.isRowSelectableFunc(child) : false;\n            }\n            child.setRowSelectable(rowSelectable);\n        });\n    };\n    __decorate$1u([\n        Autowired('gridOptionsWrapper')\n    ], SelectableService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1u([\n        PostConstruct\n    ], SelectableService.prototype, \"init\", null);\n    SelectableService = __decorate$1u([\n        Bean('selectableService')\n    ], SelectableService);\n    return SelectableService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1v = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AutoHeightCalculator = /** @class */ (function () {\n    function AutoHeightCalculator() {\n    }\n    AutoHeightCalculator.prototype.registerGridComp = function (gridPanel) {\n        this.gridPanel = gridPanel;\n    };\n    AutoHeightCalculator.prototype.getPreferredHeightForRow = function (rowNode) {\n        var _this = this;\n        if (!this.eDummyContainer) {\n            this.eDummyContainer = document.createElement('div');\n            // so any styles on row also get applied in dummy, otherwise\n            // the content in dummy may differ to the real\n            _.addCssClass(this.eDummyContainer, 'ag-row ag-row-no-focus');\n        }\n        // we put the dummy into the body container, so it will inherit all the\n        // css styles that the real cells are inheriting\n        var eBodyContainer = this.gridPanel.getCenterContainer();\n        eBodyContainer.appendChild(this.eDummyContainer);\n        var cellComps = [];\n        var autoRowHeightCols = this.columnController.getAllAutoRowHeightCols();\n        var visibleAutoRowHeightCols = autoRowHeightCols.filter(function (col) { return col.isVisible(); });\n        visibleAutoRowHeightCols.forEach(function (col) {\n            var cellComp = new CellComp(_this.$scope, _this.beans, col, rowNode, null, true, false);\n            cellComp.setParentRow(_this.eDummyContainer);\n            cellComps.push(cellComp);\n        });\n        var template = cellComps.map(function (cellComp) { return cellComp.getCreateTemplate(); }).join(' ');\n        this.eDummyContainer.innerHTML = template;\n        // this gets any cellComps that are using components to put the components in\n        cellComps.forEach(function (cellComp) { return cellComp.afterAttached(); });\n        // we should be able to just take the height of the row at this point, however\n        // the row isn't expanding to cover the cell heights, i don't know why, i couldn't\n        // figure it out so instead looking at the individual cells instead\n        var maxCellHeight = 0;\n        for (var i = 0; i < this.eDummyContainer.children.length; i++) {\n            var child = this.eDummyContainer.children[i];\n            if (child.offsetHeight > maxCellHeight) {\n                maxCellHeight = child.offsetHeight;\n            }\n        }\n        // we are finished with the dummy container, so get rid of it\n        eBodyContainer.removeChild(this.eDummyContainer);\n        cellComps.forEach(function (cellComp) {\n            // dunno why we need to detach first, doing it here to be consistent with code in RowComp\n            cellComp.detach();\n            cellComp.destroy();\n        });\n        // in case anything left over from last time\n        _.clearElement(this.eDummyContainer);\n        return maxCellHeight;\n    };\n    __decorate$1v([\n        Autowired('beans')\n    ], AutoHeightCalculator.prototype, \"beans\", void 0);\n    __decorate$1v([\n        Autowired(\"$scope\")\n    ], AutoHeightCalculator.prototype, \"$scope\", void 0);\n    __decorate$1v([\n        Autowired(\"columnController\")\n    ], AutoHeightCalculator.prototype, \"columnController\", void 0);\n    AutoHeightCalculator = __decorate$1v([\n        Bean('autoHeightCalculator')\n    ], AutoHeightCalculator);\n    return AutoHeightCalculator;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$V = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1w = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar PaginationComp = /** @class */ (function (_super) {\n    __extends$V(PaginationComp, _super);\n    function PaginationComp() {\n        var _this = _super.call(this) || this;\n        _this.previousAndFirstButtonsDisabled = false;\n        _this.nextButtonDisabled = false;\n        _this.lastButtonDisabled = false;\n        return _this;\n    }\n    PaginationComp.prototype.postConstruct = function () {\n        var isRtl = this.gridOptionsWrapper.isEnableRtl();\n        this.setTemplate(this.getTemplate());\n        this.btFirst.insertAdjacentElement('afterbegin', _.createIconNoSpan(isRtl ? 'last' : 'first', this.gridOptionsWrapper));\n        this.btPrevious.insertAdjacentElement('afterbegin', _.createIconNoSpan(isRtl ? 'next' : 'previous', this.gridOptionsWrapper));\n        this.btNext.insertAdjacentElement('afterbegin', _.createIconNoSpan(isRtl ? 'previous' : 'next', this.gridOptionsWrapper));\n        this.btLast.insertAdjacentElement('afterbegin', _.createIconNoSpan(isRtl ? 'first' : 'last', this.gridOptionsWrapper));\n        if (this.rowModel.getType() === Constants.ROW_MODEL_TYPE_SERVER_SIDE) {\n            this.serverSideRowModel = this.rowModel;\n        }\n        var isPaging = this.gridOptionsWrapper.isPagination();\n        var paginationPanelEnabled = isPaging && !this.gridOptionsWrapper.isSuppressPaginationPanel();\n        if (!paginationPanelEnabled) {\n            this.setDisplayed(false);\n            return;\n        }\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_PAGINATION_CHANGED, this.onPaginationChanged.bind(this));\n        this.addDestroyableEventListener(this.btFirst, 'click', this.onBtFirst.bind(this));\n        this.addDestroyableEventListener(this.btLast, 'click', this.onBtLast.bind(this));\n        this.addDestroyableEventListener(this.btNext, 'click', this.onBtNext.bind(this));\n        this.addDestroyableEventListener(this.btPrevious, 'click', this.onBtPrevious.bind(this));\n        this.onPaginationChanged();\n    };\n    PaginationComp.prototype.onPaginationChanged = function () {\n        this.enableOrDisableButtons();\n        this.updateRowLabels();\n        this.setCurrentPageLabel();\n        this.setTotalLabels();\n    };\n    PaginationComp.prototype.setCurrentPageLabel = function () {\n        var pagesExist = this.paginationProxy.getTotalPages() > 0;\n        var currentPage = this.paginationProxy.getCurrentPage();\n        var toDisplay = pagesExist ? currentPage + 1 : 0;\n        this.lbCurrent.innerHTML = this.formatNumber(toDisplay);\n    };\n    PaginationComp.prototype.formatNumber = function (value) {\n        var userFunc = this.gridOptionsWrapper.getPaginationNumberFormatterFunc();\n        if (userFunc) {\n            return userFunc({ value: value });\n        }\n        else {\n            return _.formatNumberCommas(value);\n        }\n    };\n    PaginationComp.prototype.getTemplate = function () {\n        var localeTextFunc = this.gridOptionsWrapper.getLocaleTextFunc();\n        var strPage = localeTextFunc('page', 'Page');\n        var strTo = localeTextFunc('to', 'to');\n        var strOf = localeTextFunc('of', 'of');\n        var strFirst = localeTextFunc('first', 'First');\n        var strPrevious = localeTextFunc('previous', 'Previous');\n        var strNext = localeTextFunc('next', 'Next');\n        var strLast = localeTextFunc('last', 'Last');\n        return \"<div class=\\\"ag-paging-panel ag-unselectable\\\">\\n                <span ref=\\\"eSummaryPanel\\\" class=\\\"ag-paging-row-summary-panel\\\">\\n                    <span ref=\\\"lbFirstRowOnPage\\\" class=\\\"ag-paging-row-summary-panel-number\\\"></span>\\n                    \" + strTo + \"\\n                    <span ref=\\\"lbLastRowOnPage\\\" class=\\\"ag-paging-row-summary-panel-number\\\"></span>\\n                    \" + strOf + \"\\n                    <span ref=\\\"lbRecordCount\\\" class=\\\"ag-paging-row-summary-panel-number\\\"></span>\\n                </span>\\n                <span class=\\\"ag-paging-page-summary-panel\\\">\\n                    <div ref=\\\"btFirst\\\" class=\\\"ag-paging-button-wrapper\\\">\\n                        <button type=\\\"button\\\" class=\\\"ag-paging-button\\\">\" + strFirst + \"</button>\\n                    </div>\\n                    <div ref=\\\"btPrevious\\\" class=\\\"ag-paging-button-wrapper\\\">\\n                        <button type=\\\"button\\\" class=\\\"ag-paging-button\\\">\" + strPrevious + \"</button>\\n                    </div>\\n                    <span class=\\\"ag-paging-description\\\">\\n                        \" + strPage + \"\\n                        <span ref=\\\"lbCurrent\\\" class=\\\"ag-paging-number\\\"></span>\\n                        \" + strOf + \"\\n                        <span ref=\\\"lbTotal\\\" class=\\\"ag-paging-number\\\"></span>\\n                    </span>\\n                    <span ref=\\\"lbTotal\\\" class=\\\"ag-paging-number\\\"></span>\\n                    <div ref=\\\"btNext\\\" class=\\\"ag-paging-button-wrapper\\\">\\n                        <button type=\\\"button\\\" class=\\\"ag-paging-button\\\">\" + strNext + \"</button>\\n                    </div>\\n                    <div ref=\\\"btLast\\\" class=\\\"ag-paging-button-wrapper\\\">\\n                        <button type=\\\"button\\\" class=\\\"ag-paging-button\\\">\" + strLast + \"</button>\\n                    </div>\\n                </span>\\n            </div>\";\n    };\n    PaginationComp.prototype.onBtNext = function () {\n        if (!this.nextButtonDisabled) {\n            this.paginationProxy.goToNextPage();\n        }\n    };\n    PaginationComp.prototype.onBtPrevious = function () {\n        if (!this.previousAndFirstButtonsDisabled) {\n            this.paginationProxy.goToPreviousPage();\n        }\n    };\n    PaginationComp.prototype.onBtFirst = function () {\n        if (!this.previousAndFirstButtonsDisabled) {\n            this.paginationProxy.goToFirstPage();\n        }\n    };\n    PaginationComp.prototype.onBtLast = function () {\n        if (!this.lastButtonDisabled) {\n            this.paginationProxy.goToLastPage();\n        }\n    };\n    PaginationComp.prototype.enableOrDisableButtons = function () {\n        var currentPage = this.paginationProxy.getCurrentPage();\n        var maxRowFound = this.paginationProxy.isLastPageFound();\n        var totalPages = this.paginationProxy.getTotalPages();\n        this.previousAndFirstButtonsDisabled = currentPage === 0;\n        _.addOrRemoveCssClass(this.btPrevious, 'ag-disabled', this.previousAndFirstButtonsDisabled);\n        _.addOrRemoveCssClass(this.btFirst, 'ag-disabled', this.previousAndFirstButtonsDisabled);\n        var zeroPagesToDisplay = this.isZeroPagesToDisplay();\n        var onLastPage = maxRowFound && currentPage === (totalPages - 1);\n        this.nextButtonDisabled = onLastPage || zeroPagesToDisplay;\n        _.addOrRemoveCssClass(this.btNext, 'ag-disabled', this.nextButtonDisabled);\n        this.lastButtonDisabled = !maxRowFound || zeroPagesToDisplay || currentPage === (totalPages - 1);\n        _.addOrRemoveCssClass(this.btLast, 'ag-disabled', this.lastButtonDisabled);\n    };\n    PaginationComp.prototype.updateRowLabels = function () {\n        var currentPage = this.paginationProxy.getCurrentPage();\n        var pageSize = this.paginationProxy.getPageSize();\n        var maxRowFound = this.paginationProxy.isLastPageFound();\n        var rowCount = this.paginationProxy.isLastPageFound() ?\n            this.paginationProxy.getMasterRowCount() : null;\n        var startRow;\n        var endRow;\n        if (this.isZeroPagesToDisplay()) {\n            startRow = 0;\n            endRow = 0;\n        }\n        else {\n            startRow = (pageSize * currentPage) + 1;\n            endRow = startRow + pageSize - 1;\n            if (maxRowFound && endRow > rowCount) {\n                endRow = rowCount;\n            }\n        }\n        this.lbFirstRowOnPage.innerHTML = this.formatNumber(startRow);\n        if (this.serverSideRowModel && this.serverSideRowModel.isLoading()) {\n            this.lbLastRowOnPage.innerHTML = '?';\n        }\n        else {\n            this.lbLastRowOnPage.innerHTML = this.formatNumber(endRow);\n        }\n    };\n    PaginationComp.prototype.isZeroPagesToDisplay = function () {\n        var maxRowFound = this.paginationProxy.isLastPageFound();\n        var totalPages = this.paginationProxy.getTotalPages();\n        return maxRowFound && totalPages === 0;\n    };\n    PaginationComp.prototype.setTotalLabels = function () {\n        var lastPageFound = this.paginationProxy.isLastPageFound();\n        var totalPages = this.paginationProxy.getTotalPages();\n        var rowCount = this.paginationProxy.isLastPageFound() ?\n            this.paginationProxy.getMasterRowCount() : null;\n        if (lastPageFound) {\n            this.lbTotal.innerHTML = this.formatNumber(totalPages);\n            this.lbRecordCount.innerHTML = this.formatNumber(rowCount);\n        }\n        else {\n            var moreText = this.gridOptionsWrapper.getLocaleTextFunc()('more', 'more');\n            this.lbTotal.innerHTML = moreText;\n            this.lbRecordCount.innerHTML = moreText;\n        }\n    };\n    __decorate$1w([\n        Autowired('gridOptionsWrapper')\n    ], PaginationComp.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1w([\n        Autowired('eventService')\n    ], PaginationComp.prototype, \"eventService\", void 0);\n    __decorate$1w([\n        Autowired('paginationProxy')\n    ], PaginationComp.prototype, \"paginationProxy\", void 0);\n    __decorate$1w([\n        Autowired('rowRenderer')\n    ], PaginationComp.prototype, \"rowRenderer\", void 0);\n    __decorate$1w([\n        Autowired('rowModel')\n    ], PaginationComp.prototype, \"rowModel\", void 0);\n    __decorate$1w([\n        RefSelector('btFirst')\n    ], PaginationComp.prototype, \"btFirst\", void 0);\n    __decorate$1w([\n        RefSelector('btPrevious')\n    ], PaginationComp.prototype, \"btPrevious\", void 0);\n    __decorate$1w([\n        RefSelector('btNext')\n    ], PaginationComp.prototype, \"btNext\", void 0);\n    __decorate$1w([\n        RefSelector('btLast')\n    ], PaginationComp.prototype, \"btLast\", void 0);\n    __decorate$1w([\n        RefSelector('lbRecordCount')\n    ], PaginationComp.prototype, \"lbRecordCount\", void 0);\n    __decorate$1w([\n        RefSelector('lbFirstRowOnPage')\n    ], PaginationComp.prototype, \"lbFirstRowOnPage\", void 0);\n    __decorate$1w([\n        RefSelector('lbLastRowOnPage')\n    ], PaginationComp.prototype, \"lbLastRowOnPage\", void 0);\n    __decorate$1w([\n        RefSelector('eSummaryPanel')\n    ], PaginationComp.prototype, \"eSummaryPanel\", void 0);\n    __decorate$1w([\n        RefSelector('lbCurrent')\n    ], PaginationComp.prototype, \"lbCurrent\", void 0);\n    __decorate$1w([\n        RefSelector('lbTotal')\n    ], PaginationComp.prototype, \"lbTotal\", void 0);\n    __decorate$1w([\n        PostConstruct\n    ], PaginationComp.prototype, \"postConstruct\", null);\n    return PaginationComp;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1x = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ResizeObserverService = /** @class */ (function () {\n    function ResizeObserverService() {\n    }\n    ResizeObserverService.prototype.observeResize = function (element, callback, debounceDelay) {\n        if (debounceDelay === void 0) { debounceDelay = 50; }\n        // put in variable, so available to usePolyfill() function below\n        var frameworkFactory = this.frameworkOverrides;\n        // this gets fired too often and might cause some relayout issues\n        // so we add a debounce to the callback here to avoid the flashing effect.\n        var debouncedCallback = _.debounce(callback, debounceDelay);\n        var useBrowserResizeObserver = function () {\n            var resizeObserver = new window.ResizeObserver(debouncedCallback);\n            resizeObserver.observe(element);\n            return function () { return resizeObserver.disconnect(); };\n        };\n        var usePolyfill = function () {\n            // initialise to the current width and height, so first call will have no changes\n            var widthLastTime = _.offsetWidth(element);\n            var heightLastTime = _.offsetHeight(element);\n            // when finished, this gets turned to false.\n            var running = true;\n            var periodicallyCheckWidthAndHeight = function () {\n                if (running) {\n                    var newWidth = _.offsetWidth(element);\n                    var newHeight = _.offsetHeight(element);\n                    var changed = newWidth !== widthLastTime || newHeight !== heightLastTime;\n                    if (changed) {\n                        widthLastTime = newWidth;\n                        heightLastTime = newHeight;\n                        callback();\n                    }\n                    frameworkFactory.setTimeout(periodicallyCheckWidthAndHeight, debounceDelay);\n                }\n            };\n            periodicallyCheckWidthAndHeight();\n            // the callback function we return sets running to false\n            return function () { return running = false; };\n        };\n        var suppressResize = this.gridOptionsWrapper.isSuppressBrowserResizeObserver();\n        var resizeObserverExists = !!window.ResizeObserver;\n        if (resizeObserverExists && !suppressResize) {\n            return useBrowserResizeObserver();\n        }\n        else {\n            return usePolyfill();\n        }\n    };\n    __decorate$1x([\n        Autowired('gridOptionsWrapper')\n    ], ResizeObserverService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1x([\n        Autowired('frameworkOverrides')\n    ], ResizeObserverService.prototype, \"frameworkOverrides\", void 0);\n    ResizeObserverService = __decorate$1x([\n        Bean('resizeObserverService')\n    ], ResizeObserverService);\n    return ResizeObserverService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$W = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1y = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar LoadingType;\n(function (LoadingType) {\n    LoadingType[LoadingType[\"Loading\"] = 0] = \"Loading\";\n    LoadingType[LoadingType[\"NoRows\"] = 1] = \"NoRows\";\n})(LoadingType || (LoadingType = {}));\nvar OverlayWrapperComponent = /** @class */ (function (_super) {\n    __extends$W(OverlayWrapperComponent, _super);\n    function OverlayWrapperComponent() {\n        var _this = _super.call(this, OverlayWrapperComponent.TEMPLATE) || this;\n        _this.inProgress = false;\n        _this.destroyRequested = false;\n        return _this;\n    }\n    OverlayWrapperComponent.prototype.postConstruct = function () {\n        this.gridOptionsWrapper.addLayoutElement(this.eOverlayWrapper);\n        this.setDisplayed(false);\n    };\n    OverlayWrapperComponent.prototype.setWrapperTypeClass = function (loadingType) {\n        _.addOrRemoveCssClass(this.eOverlayWrapper, 'ag-overlay-loading-wrapper', loadingType === LoadingType.Loading);\n        _.addOrRemoveCssClass(this.eOverlayWrapper, 'ag-overlay-no-rows-wrapper', loadingType === LoadingType.NoRows);\n    };\n    OverlayWrapperComponent.prototype.showLoadingOverlay = function () {\n        var workItem = this.userComponentFactory.newLoadingOverlayComponent({\n            api: this.gridOptionsWrapper.getApi()\n        });\n        this.showOverlay(workItem, LoadingType.Loading);\n    };\n    OverlayWrapperComponent.prototype.showNoRowsOverlay = function () {\n        var workItem = this.userComponentFactory.newNoRowsOverlayComponent({\n            api: this.gridOptionsWrapper.getApi()\n        });\n        this.showOverlay(workItem, LoadingType.NoRows);\n    };\n    OverlayWrapperComponent.prototype.showOverlay = function (workItem, type) {\n        var _this = this;\n        if (this.inProgress) {\n            return;\n        }\n        this.setWrapperTypeClass(type);\n        this.destroyActiveOverlay();\n        this.inProgress = true;\n        workItem.then(function (comp) {\n            _this.inProgress = false;\n            _this.eOverlayWrapper.appendChild(comp.getGui());\n            _this.activeOverlay = comp;\n            if (_this.destroyRequested) {\n                _this.destroyRequested = false;\n                _this.destroyActiveOverlay();\n            }\n        });\n        this.setDisplayed(true);\n    };\n    OverlayWrapperComponent.prototype.destroyActiveOverlay = function () {\n        if (this.inProgress) {\n            this.destroyRequested = true;\n            return;\n        }\n        if (!this.activeOverlay) {\n            return;\n        }\n        if (this.activeOverlay.destroy) {\n            this.activeOverlay.destroy();\n        }\n        this.activeOverlay = undefined;\n        _.clearElement(this.eOverlayWrapper);\n    };\n    OverlayWrapperComponent.prototype.hideOverlay = function () {\n        this.destroyActiveOverlay();\n        this.setDisplayed(false);\n    };\n    OverlayWrapperComponent.prototype.destroy = function () {\n        this.destroyActiveOverlay();\n        _super.prototype.destroy.call(this);\n    };\n    // wrapping in outer div, and wrapper, is needed to center the loading icon\n    // The idea for centering came from here: http://www.vanseodesign.com/css/vertical-centering/\n    OverlayWrapperComponent.TEMPLATE = \"\\n        <div class=\\\"ag-overlay\\\" aria-hidden=\\\"true\\\">\\n            <div class=\\\"ag-overlay-panel\\\">\\n                <div class=\\\"ag-overlay-wrapper\\\" ref=\\\"eOverlayWrapper\\\"></div>\\n            </div>\\n        </div>\";\n    __decorate$1y([\n        Autowired('gridOptionsWrapper')\n    ], OverlayWrapperComponent.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1y([\n        Autowired('userComponentFactory')\n    ], OverlayWrapperComponent.prototype, \"userComponentFactory\", void 0);\n    __decorate$1y([\n        RefSelector('eOverlayWrapper')\n    ], OverlayWrapperComponent.prototype, \"eOverlayWrapper\", void 0);\n    __decorate$1y([\n        PostConstruct\n    ], OverlayWrapperComponent.prototype, \"postConstruct\", null);\n    return OverlayWrapperComponent;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$X = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1z = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AgGroupComponent = /** @class */ (function (_super) {\n    __extends$X(AgGroupComponent, _super);\n    function AgGroupComponent(params) {\n        if (params === void 0) { params = {}; }\n        var _this = _super.call(this, AgGroupComponent.getTemplate(params)) || this;\n        _this.suppressEnabledCheckbox = true;\n        _this.suppressOpenCloseIcons = false;\n        var title = params.title, enabled = params.enabled, items = params.items, suppressEnabledCheckbox = params.suppressEnabledCheckbox, suppressOpenCloseIcons = params.suppressOpenCloseIcons;\n        _this.title = title;\n        _this.cssIdentifier = params.cssIdentifier || 'default';\n        _this.enabled = enabled != null ? enabled : true;\n        _this.items = items || [];\n        _this.alignItems = params.alignItems || 'center';\n        if (suppressEnabledCheckbox != null) {\n            _this.suppressEnabledCheckbox = suppressEnabledCheckbox;\n        }\n        if (suppressOpenCloseIcons != null) {\n            _this.suppressOpenCloseIcons = suppressOpenCloseIcons;\n        }\n        return _this;\n    }\n    AgGroupComponent.getTemplate = function (params) {\n        var cssIdentifier = params.cssIdentifier || 'default';\n        var direction = params.direction || 'vertical';\n        return \"<div class=\\\"ag-group ag-\" + cssIdentifier + \"-group\\\">\\n            <div class=\\\"ag-group-title-bar ag-\" + cssIdentifier + \"-group-title-bar ag-unselectable\\\" ref=\\\"eTitleBar\\\">\\n                <span class=\\\"ag-group-title-bar-icon ag-\" + cssIdentifier + \"-group-title-bar-icon\\\" ref=\\\"eGroupOpenedIcon\\\"></span>\\n                <span class=\\\"ag-group-title-bar-icon ag-\" + cssIdentifier + \"-group-title-bar-icon\\\" ref=\\\"eGroupClosedIcon\\\"></span>\\n                <span ref=\\\"eTitle\\\" class=\\\"ag-group-title ag-\" + cssIdentifier + \"-group-title\\\"></span>\\n            </div>\\n            <div ref=\\\"eToolbar\\\" class=\\\"ag-group-toolbar ag-\" + cssIdentifier + \"-group-toolbar\\\">\\n                <ag-checkbox ref=\\\"cbGroupEnabled\\\"></ag-checkbox>\\n            </div>\\n            <div ref=\\\"eContainer\\\" class=\\\"ag-group-container ag-group-container-\" + direction + \" ag-\" + cssIdentifier + \"-group-container\\\"></div>\\n        </div>\";\n    };\n    AgGroupComponent.prototype.postConstruct = function () {\n        if (this.items.length) {\n            var initialItems = this.items;\n            this.items = [];\n            this.addItems(initialItems);\n        }\n        var localeTextFunc = this.gridOptionsWrapper.getLocaleTextFunc();\n        this.cbGroupEnabled.setLabel(localeTextFunc('enabled', 'Enabled'));\n        if (this.title) {\n            this.setTitle(this.title);\n        }\n        if (this.enabled) {\n            this.setEnabled(this.enabled);\n        }\n        this.setAlignItems(this.alignItems);\n        this.hideEnabledCheckbox(this.suppressEnabledCheckbox);\n        this.hideOpenCloseIcons(this.suppressOpenCloseIcons);\n        this.setupExpandContract();\n        this.refreshChildDisplay();\n    };\n    AgGroupComponent.prototype.setupExpandContract = function () {\n        var _this = this;\n        this.eGroupClosedIcon.appendChild(_.createIcon('columnSelectClosed', this.gridOptionsWrapper, null));\n        this.eGroupOpenedIcon.appendChild(_.createIcon('columnSelectOpen', this.gridOptionsWrapper, null));\n        this.addDestroyableEventListener(this.eTitleBar, 'click', function () { return _this.toggleGroupExpand(); });\n    };\n    AgGroupComponent.prototype.refreshChildDisplay = function () {\n        var showIcon = !this.suppressOpenCloseIcons;\n        _.setDisplayed(this.eGroupClosedIcon, showIcon && !this.expanded);\n        _.setDisplayed(this.eGroupOpenedIcon, showIcon && this.expanded);\n        _.setDisplayed(this.eToolbar, this.expanded && !this.suppressEnabledCheckbox);\n    };\n    AgGroupComponent.prototype.isExpanded = function () {\n        return this.expanded;\n    };\n    AgGroupComponent.prototype.setAlignItems = function (alignment) {\n        var eGui = this.getGui();\n        if (this.alignItems !== alignment) {\n            _.removeCssClass(eGui, \"ag-group-item-alignment-\" + this.alignItems);\n        }\n        this.alignItems = alignment;\n        var newCls = \"ag-group-item-alignment-\" + this.alignItems;\n        _.addCssClass(eGui, newCls);\n        return this;\n    };\n    AgGroupComponent.prototype.toggleGroupExpand = function (expanded) {\n        if (this.suppressOpenCloseIcons) {\n            this.expanded = true;\n            this.refreshChildDisplay();\n            _.setDisplayed(this.eContainer, true);\n            return this;\n        }\n        expanded = expanded != null ? expanded : !this.expanded;\n        if (this.expanded === expanded) {\n            return this;\n        }\n        this.expanded = expanded;\n        this.refreshChildDisplay();\n        _.setDisplayed(this.eContainer, expanded);\n        if (this.expanded) {\n            var event_1 = {\n                type: 'expanded',\n            };\n            this.dispatchEvent(event_1);\n        }\n        else {\n            var event_2 = {\n                type: 'collapsed',\n            };\n            this.dispatchEvent(event_2);\n        }\n        return this;\n    };\n    AgGroupComponent.prototype.addItems = function (items) {\n        var _this = this;\n        items.forEach(function (item) { return _this.addItem(item); });\n    };\n    AgGroupComponent.prototype.addItem = function (item) {\n        var container = this.eContainer;\n        var el = item instanceof Component ? item.getGui() : item;\n        _.addCssClass(el, 'ag-group-item');\n        _.addCssClass(el, \"ag-\" + this.cssIdentifier + \"-group-item\");\n        container.appendChild(el);\n        this.items.push(el);\n    };\n    AgGroupComponent.prototype.hideItem = function (hide, index) {\n        var itemToHide = this.items[index];\n        _.addOrRemoveCssClass(itemToHide, 'ag-hidden', hide);\n    };\n    AgGroupComponent.prototype.setTitle = function (title) {\n        this.eTitle.innerText = title;\n        return this;\n    };\n    AgGroupComponent.prototype.addCssClassToTitleBar = function (cssClass) {\n        _.addCssClass(this.eTitleBar, cssClass);\n    };\n    AgGroupComponent.prototype.setEnabled = function (enabled, skipToggle) {\n        this.enabled = enabled;\n        this.refreshDisabledStyles();\n        this.toggleGroupExpand(enabled);\n        if (!skipToggle) {\n            this.cbGroupEnabled.setValue(enabled);\n        }\n        return this;\n    };\n    AgGroupComponent.prototype.isEnabled = function () {\n        return this.enabled;\n    };\n    AgGroupComponent.prototype.onEnableChange = function (callbackFn) {\n        var _this = this;\n        this.cbGroupEnabled.onValueChange(function (newSelection) {\n            _this.setEnabled(newSelection, true);\n            callbackFn(newSelection);\n        });\n        return this;\n    };\n    AgGroupComponent.prototype.hideEnabledCheckbox = function (hide) {\n        this.suppressEnabledCheckbox = hide;\n        this.refreshChildDisplay();\n        this.refreshDisabledStyles();\n        return this;\n    };\n    AgGroupComponent.prototype.hideOpenCloseIcons = function (hide) {\n        this.suppressOpenCloseIcons = hide;\n        if (hide) {\n            this.toggleGroupExpand(true);\n        }\n        return this;\n    };\n    AgGroupComponent.prototype.refreshDisabledStyles = function () {\n        _.addOrRemoveCssClass(this.getGui(), 'ag-disabled', !this.enabled);\n        _.addOrRemoveCssClass(this.eTitleBar, 'ag-disabled-group-title-bar', this.suppressEnabledCheckbox && !this.enabled);\n        _.addOrRemoveCssClass(this.eContainer, 'ag-disabled-group-container', !this.enabled);\n    };\n    __decorate$1z([\n        Autowired('gridOptionsWrapper')\n    ], AgGroupComponent.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1z([\n        RefSelector('eTitleBar')\n    ], AgGroupComponent.prototype, \"eTitleBar\", void 0);\n    __decorate$1z([\n        RefSelector('eGroupOpenedIcon')\n    ], AgGroupComponent.prototype, \"eGroupOpenedIcon\", void 0);\n    __decorate$1z([\n        RefSelector('eGroupClosedIcon')\n    ], AgGroupComponent.prototype, \"eGroupClosedIcon\", void 0);\n    __decorate$1z([\n        RefSelector('eToolbar')\n    ], AgGroupComponent.prototype, \"eToolbar\", void 0);\n    __decorate$1z([\n        RefSelector('cbGroupEnabled')\n    ], AgGroupComponent.prototype, \"cbGroupEnabled\", void 0);\n    __decorate$1z([\n        RefSelector('eTitle')\n    ], AgGroupComponent.prototype, \"eTitle\", void 0);\n    __decorate$1z([\n        RefSelector('eContainer')\n    ], AgGroupComponent.prototype, \"eContainer\", void 0);\n    __decorate$1z([\n        PostConstruct\n    ], AgGroupComponent.prototype, \"postConstruct\", null);\n    return AgGroupComponent;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$Y = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1A = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AgPanel = /** @class */ (function (_super) {\n    __extends$Y(AgPanel, _super);\n    function AgPanel(config) {\n        var _this = _super.call(this, AgPanel.getTemplate(config)) || this;\n        _this.closable = true;\n        _this.positioned = false;\n        _this.dragStartPosition = {\n            x: 0,\n            y: 0\n        };\n        _this.position = {\n            x: 0,\n            y: 0\n        };\n        _this.size = {\n            width: undefined,\n            height: undefined\n        };\n        _this.config = config;\n        return _this;\n    }\n    AgPanel.getTemplate = function (config) {\n        var cssIdentifier = (config && config.cssIdentifier) || 'default';\n        return \"<div class=\\\"ag-panel ag-\" + cssIdentifier + \"-panel\\\" tabindex=\\\"-1\\\">\\n            <div ref=\\\"eTitleBar\\\" class=\\\"ag-panel-title-bar ag-\" + cssIdentifier + \"-panel-title-bar ag-unselectable\\\">\\n                <span ref=\\\"eTitle\\\" class=\\\"ag-panel-title-bar-title ag-\" + cssIdentifier + \"-panel-title-bar-title\\\"></span>\\n                <div ref=\\\"eTitleBarButtons\\\" class=\\\"ag-panel-title-bar-buttons ag-\" + cssIdentifier + \"-panel-title-bar-buttons\\\"></div>\\n            </div>\\n            <div ref=\\\"eContentWrapper\\\" class=\\\"ag-panel-content-wrapper ag-\" + cssIdentifier + \"-panel-content-wrapper\\\"></div>\\n        </div>\";\n    };\n    AgPanel.prototype.postConstruct = function () {\n        var _this = this;\n        var _a = this.config, component = _a.component, closable = _a.closable, hideTitleBar = _a.hideTitleBar, title = _a.title, minWidth = _a.minWidth, width = _a.width, minHeight = _a.minHeight, height = _a.height, centered = _a.centered, x = _a.x, y = _a.y;\n        var eGui = this.getGui();\n        if (component) {\n            this.setBodyComponent(component);\n        }\n        if (!hideTitleBar) {\n            if (title) {\n                this.setTitle(title);\n            }\n            this.setClosable(closable != null ? closable : this.closable);\n        }\n        else {\n            _.addCssClass(this.eTitleBar, 'ag-hidden');\n        }\n        this.addDestroyableEventListener(this.eTitleBar, 'mousedown', function (e) {\n            if (eGui.contains(e.relatedTarget) ||\n                eGui.contains(document.activeElement) ||\n                _this.eTitleBarButtons.contains(e.target)) {\n                e.preventDefault();\n                return;\n            }\n            var focusEl = _this.eContentWrapper.querySelector('button, [href], input, select, textarea, [tabindex]');\n            if (focusEl) {\n                focusEl.focus();\n            }\n        });\n        if (this.positioned) {\n            return;\n        }\n        this.minHeight = minHeight != null ? minHeight : 250;\n        this.minWidth = minWidth != null ? minWidth : 250;\n        this.popupParent = this.popupService.getPopupParent();\n        if (width) {\n            this.setWidth(width);\n        }\n        if (height) {\n            this.setHeight(height);\n        }\n        if (this.renderComponent) {\n            this.renderComponent();\n        }\n        if (!width || !height) {\n            this.refreshSize();\n        }\n        if (centered) {\n            this.center();\n        }\n        else if (x || y) {\n            this.offsetElement(x, y);\n        }\n        this.positioned = true;\n        this.eContentWrapper.style.height = '0';\n    };\n    AgPanel.prototype.renderComponent = function () {\n        var _this = this;\n        var eGui = this.getGui();\n        eGui.focus();\n        this.close = function () {\n            eGui.parentElement.removeChild(eGui);\n            _this.destroy();\n        };\n    };\n    AgPanel.prototype.updateDragStartPosition = function (x, y) {\n        this.dragStartPosition = { x: x, y: y };\n    };\n    AgPanel.prototype.calculateMouseMovement = function (params) {\n        var parentRect = this.popupParent.getBoundingClientRect();\n        var e = params.e, isLeft = params.isLeft, isTop = params.isTop, anywhereWithin = params.anywhereWithin, topBuffer = params.topBuffer;\n        var movementX = e.clientX - this.dragStartPosition.x;\n        var movementY = e.clientY - this.dragStartPosition.y;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        // skip if cursor is outside of popupParent horizontally\n        var skipX = (parentRect.left >= e.clientX && this.position.x <= 0 ||\n            parentRect.right <= e.clientX && parentRect.right <= this.position.x + parentRect.left + width);\n        if (!skipX) {\n            if (isLeft) {\n                skipX = (\n                // skip if we are moving to the left and the cursor\n                // is positioned to the right of the left side anchor\n                (movementX < 0 && e.clientX > this.position.x + parentRect.left) ||\n                    // skip if we are moving to the right and the cursor\n                    // is positioned to the left of the dialog\n                    (movementX > 0 && e.clientX < this.position.x + parentRect.left));\n            }\n            else {\n                if (anywhereWithin) {\n                    // if anywhereWithin is true, we allow to move\n                    // as long as the cursor is within the dialog\n                    skipX = ((movementX < 0 && e.clientX > this.position.x + parentRect.left + width) ||\n                        (movementX > 0 && e.clientX < this.position.x + parentRect.left));\n                }\n                else {\n                    skipX = (\n                    // if the movement is bound to the right side of the dialog\n                    // we skip if we are moving to the left and the cursor\n                    // is to the right of the dialog\n                    (movementX < 0 && e.clientX > this.position.x + parentRect.left + width) ||\n                        // or skip if we are moving to the right and the cursor\n                        // is to the left of the right side anchor\n                        (movementX > 0 && e.clientX < this.position.x + parentRect.left + width));\n                }\n            }\n        }\n        movementX = skipX ? 0 : movementX;\n        var skipY = (\n        // skip if cursor is outside of popupParent vertically\n        parentRect.top >= e.clientY && this.position.y <= 0 ||\n            parentRect.bottom <= e.clientY && parentRect.bottom <= this.position.y + parentRect.top + height ||\n            isTop && (\n            // skip if we are moving to towards top and the cursor is\n            // below the top anchor + topBuffer\n            // note: topBuffer is used when moving the dialog using the title bar\n            (movementY < 0 && e.clientY > this.position.y + parentRect.top + (topBuffer || 0)) ||\n                // skip if we are moving to the bottom and the cursor is\n                // above the top anchor\n                (movementY > 0 && e.clientY < this.position.y + parentRect.top)) ||\n            // we are anchored to the bottom of the dialog\n            !isTop && (\n            // skip if we are moving towards the top and the cursor\n            // is below the bottom anchor\n            (movementY < 0 && e.clientY > this.position.y + parentRect.top + height) ||\n                // skip if we are moving towards the bottom and the cursor\n                // is above the bottom anchor\n                (movementY > 0 && e.clientY < this.position.y + parentRect.top + height)));\n        movementY = skipY ? 0 : movementY;\n        return { movementX: movementX, movementY: movementY };\n    };\n    AgPanel.prototype.refreshSize = function () {\n        var _a = this.size, width = _a.width, height = _a.height;\n        if (!width) {\n            this.setWidth(this.getGui().offsetWidth);\n        }\n        if (!height) {\n            this.setHeight(this.getGui().offsetHeight);\n        }\n    };\n    AgPanel.prototype.offsetElement = function (x, y) {\n        if (x === void 0) { x = 0; }\n        if (y === void 0) { y = 0; }\n        var ePopup = this.getGui();\n        this.popupService.positionPopup({\n            ePopup: ePopup,\n            x: x,\n            y: y,\n            minWidth: this.minWidth,\n            minHeight: this.minHeight,\n            keepWithinBounds: true\n        });\n        this.position.x = parseInt(ePopup.style.left, 10);\n        this.position.y = parseInt(ePopup.style.top, 10);\n    };\n    AgPanel.prototype.getHeight = function () {\n        return this.size.height;\n    };\n    AgPanel.prototype.setHeight = function (height) {\n        var eGui = this.getGui();\n        var isPercent = false;\n        if (typeof height === 'string' && height.indexOf('%') !== -1) {\n            _.setFixedHeight(eGui, height);\n            height = _.getAbsoluteHeight(eGui);\n            isPercent = true;\n        }\n        else {\n            height = Math.max(this.minHeight, height);\n            var offsetParent = eGui.offsetParent;\n            if (offsetParent && offsetParent.clientHeight && (height + this.position.y > offsetParent.clientHeight)) {\n                height = offsetParent.clientHeight - this.position.y;\n            }\n        }\n        if (this.size.height === height) {\n            return;\n        }\n        this.size.height = height;\n        if (!isPercent) {\n            _.setFixedHeight(eGui, height);\n        }\n        else {\n            eGui.style.maxHeight = 'unset';\n            eGui.style.minHeight = 'unset';\n        }\n    };\n    AgPanel.prototype.getWidth = function () {\n        return this.size.width;\n    };\n    AgPanel.prototype.setWidth = function (width) {\n        var eGui = this.getGui();\n        var isPercent = false;\n        if (typeof width === 'string' && width.indexOf('%') !== -1) {\n            _.setFixedWidth(eGui, width);\n            width = _.getAbsoluteWidth(eGui);\n            isPercent = true;\n        }\n        else {\n            width = Math.max(this.minWidth, width);\n            var offsetParent = eGui.offsetParent;\n            if (offsetParent && offsetParent.clientWidth && (width + this.position.x > offsetParent.clientWidth)) {\n                width = offsetParent.clientWidth - this.position.x;\n            }\n        }\n        if (this.size.width === width) {\n            return;\n        }\n        this.size.width = width;\n        if (!isPercent) {\n            _.setFixedWidth(eGui, width);\n        }\n        else {\n            eGui.style.maxWidth = 'unset';\n            eGui.style.minWidth = 'unset';\n        }\n    };\n    AgPanel.prototype.center = function () {\n        var eGui = this.getGui();\n        var x = (eGui.offsetParent.clientWidth / 2) - (this.getWidth() / 2);\n        var y = (eGui.offsetParent.clientHeight / 2) - (this.getHeight() / 2);\n        this.offsetElement(x, y);\n    };\n    AgPanel.prototype.setClosable = function (closable) {\n        if (closable !== this.closable) {\n            this.closable = closable;\n        }\n        if (closable) {\n            var closeButtonComp = this.closeButtonComp = new Component(AgPanel.CLOSE_BTN_TEMPLATE);\n            this.getContext().wireBean(closeButtonComp);\n            var eGui = closeButtonComp.getGui();\n            eGui.appendChild(_.addCssClass(_.createIconNoSpan('close', this.gridOptionsWrapper), 'ag-panel-title-bar-button-icon'));\n            this.addTitleBarButton(closeButtonComp);\n            closeButtonComp.addDestroyableEventListener(eGui, 'click', this.onBtClose.bind(this));\n        }\n        else if (this.closeButtonComp) {\n            var eGui = this.closeButtonComp.getGui();\n            eGui.parentElement.removeChild(eGui);\n            this.closeButtonComp.destroy();\n            this.closeButtonComp = undefined;\n        }\n    };\n    AgPanel.prototype.setBodyComponent = function (bodyComponent) {\n        bodyComponent.setParentComponent(this);\n        this.eContentWrapper.appendChild(bodyComponent.getGui());\n    };\n    AgPanel.prototype.addTitleBarButton = function (button, position) {\n        var eTitleBarButtons = this.eTitleBarButtons;\n        var buttons = eTitleBarButtons.children;\n        var len = buttons.length;\n        if (position == null) {\n            position = len;\n        }\n        position = Math.max(0, Math.min(position, len));\n        var eGui = button.getGui();\n        _.addCssClass(eGui, 'ag-panel-title-bar-button');\n        if (position === 0) {\n            eTitleBarButtons.insertAdjacentElement('afterbegin', eGui);\n        }\n        else if (position === len) {\n            eTitleBarButtons.insertAdjacentElement('beforeend', eGui);\n        }\n        else {\n            buttons[position - 1].insertAdjacentElement('afterend', eGui);\n        }\n        button.setParentComponent(this);\n    };\n    AgPanel.prototype.getBodyHeight = function () {\n        return _.getInnerHeight(this.eContentWrapper);\n    };\n    AgPanel.prototype.getBodyWidth = function () {\n        return _.getInnerWidth(this.eContentWrapper);\n    };\n    AgPanel.prototype.setTitle = function (title) {\n        this.eTitle.innerText = title;\n    };\n    // called when user hits the 'x' in the top right\n    AgPanel.prototype.onBtClose = function () {\n        this.close();\n    };\n    AgPanel.prototype.destroy = function () {\n        if (this.closeButtonComp) {\n            this.closeButtonComp.destroy();\n            this.closeButtonComp = undefined;\n        }\n        var eGui = this.getGui();\n        if (eGui && eGui.offsetParent) {\n            this.close();\n        }\n        _super.prototype.destroy.call(this);\n    };\n    AgPanel.CLOSE_BTN_TEMPLATE = \"<div class=\\\"ag-button\\\"></div>\";\n    __decorate$1A([\n        Autowired('popupService')\n    ], AgPanel.prototype, \"popupService\", void 0);\n    __decorate$1A([\n        Autowired('gridOptionsWrapper')\n    ], AgPanel.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1A([\n        RefSelector('eContentWrapper')\n    ], AgPanel.prototype, \"eContentWrapper\", void 0);\n    __decorate$1A([\n        RefSelector('eTitleBar')\n    ], AgPanel.prototype, \"eTitleBar\", void 0);\n    __decorate$1A([\n        RefSelector('eTitleBarButtons')\n    ], AgPanel.prototype, \"eTitleBarButtons\", void 0);\n    __decorate$1A([\n        RefSelector('eTitle')\n    ], AgPanel.prototype, \"eTitle\", void 0);\n    __decorate$1A([\n        PostConstruct\n    ], AgPanel.prototype, \"postConstruct\", null);\n    return AgPanel;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$Z = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1B = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AgDialog = /** @class */ (function (_super) {\n    __extends$Z(AgDialog, _super);\n    function AgDialog(config) {\n        var _this = _super.call(this, config) || this;\n        _this.RESIZE_TEMPLATE = \"\\n        <div class=\\\"ag-resizer-wrapper\\\">\\n            <div ref=\\\"eTopLeftResizer\\\" class=\\\"ag-resizer ag-resizer-topLeft\\\"></div>\\n            <div ref=\\\"eTopResizer\\\" class=\\\"ag-resizer ag-resizer-top\\\"></div>\\n            <div ref=\\\"eTopRightResizer\\\" class=\\\"ag-resizer ag-resizer-topRight\\\"></div>\\n            <div ref=\\\"eRightResizer\\\" class=\\\"ag-resizer ag-resizer-right\\\"></div>\\n            <div ref=\\\"eBottomRightResizer\\\" class=\\\"ag-resizer ag-resizer-bottomRight\\\"></div>\\n            <div ref=\\\"eBottomResizer\\\" class=\\\"ag-resizer ag-resizer-bottom\\\"></div>\\n            <div ref=\\\"eBottomLeftResizer\\\" class=\\\"ag-resizer ag-resizer-bottomLeft\\\"></div>\\n            <div ref=\\\"eLeftResizer\\\" class=\\\"ag-resizer ag-resizer-left\\\"></div>\\n        </div>\\n    \";\n        _this.MAXIMIZE_BTN_TEMPLATE = \"<div class=\\\"ag-dialog-button\\\"></span>\";\n        _this.resizable = {};\n        _this.movable = false;\n        _this.isMoving = false;\n        _this.isMaximizable = false;\n        _this.isMaximized = false;\n        _this.maximizeListeners = [];\n        _this.resizeListenerDestroy = null;\n        _this.isResizing = false;\n        _this.lastPosition = {\n            x: 0,\n            y: 0,\n            width: 0,\n            height: 0\n        };\n        return _this;\n    }\n    AgDialog.prototype.postConstruct = function () {\n        var _this = this;\n        var eGui = this.getGui();\n        var _a = this.config, movable = _a.movable, resizable = _a.resizable, maximizable = _a.maximizable;\n        _.addCssClass(eGui, 'ag-dialog');\n        this.moveElement = this.eTitleBar;\n        _super.prototype.postConstruct.call(this);\n        this.addDestroyableEventListener(eGui, 'focusin', function (e) {\n            if (eGui.contains(e.relatedTarget)) {\n                return;\n            }\n            _this.popupService.bringPopupToFront(eGui);\n        });\n        if (movable) {\n            this.setMovable(movable);\n        }\n        if (maximizable) {\n            this.setMaximizable(maximizable);\n        }\n        this.addResizers();\n        if (resizable) {\n            this.setResizable(resizable);\n        }\n    };\n    AgDialog.prototype.renderComponent = function () {\n        var eGui = this.getGui();\n        var _a = this.config, alwaysOnTop = _a.alwaysOnTop, modal = _a.modal;\n        this.close = this.popupService.addPopup(modal, eGui, true, this.destroy.bind(this), undefined, alwaysOnTop);\n        eGui.focus();\n    };\n    AgDialog.prototype.addResizers = function () {\n        var eGui = this.getGui();\n        if (!eGui) {\n            return;\n        }\n        var parser = new DOMParser();\n        var resizers = parser.parseFromString(this.RESIZE_TEMPLATE, 'text/html').body;\n        eGui.appendChild(resizers.firstChild);\n        this.createMap();\n    };\n    AgDialog.prototype.createMap = function () {\n        var eGui = this.getGui();\n        this.resizerMap = {\n            topLeft: { element: eGui.querySelector('[ref=eTopLeftResizer]') },\n            top: { element: eGui.querySelector('[ref=eTopResizer]') },\n            topRight: { element: eGui.querySelector('[ref=eTopRightResizer]') },\n            right: { element: eGui.querySelector('[ref=eRightResizer]') },\n            bottomRight: { element: eGui.querySelector('[ref=eBottomRightResizer]') },\n            bottom: { element: eGui.querySelector('[ref=eBottomResizer]') },\n            bottomLeft: { element: eGui.querySelector('[ref=eBottomLeftResizer]') },\n            left: { element: eGui.querySelector('[ref=eLeftResizer]') }\n        };\n    };\n    AgDialog.prototype.getResizerElement = function (side) {\n        return this.resizerMap[side].element;\n    };\n    AgDialog.prototype.onResizeStart = function (e) {\n        this.isResizing = true;\n        this.updateDragStartPosition(e.clientX, e.clientY);\n    };\n    AgDialog.prototype.onResize = function (e, side) {\n        if (!this.isResizing) {\n            return;\n        }\n        var isLeft = !!side.match(/left/i);\n        var isRight = !!side.match(/right/i);\n        var isTop = !!side.match(/top/i);\n        var isBottom = !!side.match(/bottom/i);\n        var isHorizontal = isLeft || isRight;\n        var isVertical = isTop || isBottom;\n        var _a = this.calculateMouseMovement({ e: e, isLeft: isLeft, isTop: isTop }), movementX = _a.movementX, movementY = _a.movementY;\n        var offsetLeft = 0;\n        var offsetTop = 0;\n        if (isHorizontal && movementX) {\n            var direction = isLeft ? -1 : 1;\n            var oldWidth = this.getWidth();\n            var newWidth = oldWidth + (movementX * direction);\n            var skipWidth = false;\n            if (isLeft) {\n                offsetLeft = oldWidth - newWidth;\n                if (this.position.x + offsetLeft <= 0 || newWidth <= this.minWidth) {\n                    skipWidth = true;\n                    offsetLeft = 0;\n                }\n            }\n            if (!skipWidth) {\n                this.setWidth(newWidth);\n            }\n        }\n        if (isVertical && movementY) {\n            var direction = isTop ? -1 : 1;\n            var oldHeight = this.getHeight();\n            var newHeight = oldHeight + (movementY * direction);\n            var skipHeight = false;\n            if (isTop) {\n                offsetTop = oldHeight - newHeight;\n                if (this.position.y + offsetTop <= 0 || newHeight <= this.minHeight) {\n                    skipHeight = true;\n                    offsetTop = 0;\n                }\n            }\n            if (!skipHeight) {\n                this.setHeight(newHeight);\n            }\n        }\n        this.updateDragStartPosition(e.clientX, e.clientY);\n        if (offsetLeft || offsetTop) {\n            this.offsetElement(this.position.x + offsetLeft, this.position.y + offsetTop);\n        }\n    };\n    AgDialog.prototype.onResizeEnd = function () {\n        this.isResizing = false;\n        var params = {\n            type: 'resize',\n            api: this.gridOptionsWrapper.getApi(),\n            columnApi: this.gridOptionsWrapper.getColumnApi()\n        };\n        this.dispatchEvent(params);\n    };\n    AgDialog.prototype.onMoveStart = function (e) {\n        this.isMoving = true;\n        this.updateDragStartPosition(e.clientX, e.clientY);\n    };\n    AgDialog.prototype.onMove = function (e) {\n        if (!this.isMoving) {\n            return;\n        }\n        var _a = this.position, x = _a.x, y = _a.y;\n        var _b = this.calculateMouseMovement({\n            e: e,\n            isTop: true,\n            anywhereWithin: true,\n            topBuffer: this.getHeight() - this.getBodyHeight()\n        }), movementX = _b.movementX, movementY = _b.movementY;\n        this.offsetElement(x + movementX, y + movementY);\n        this.updateDragStartPosition(e.clientX, e.clientY);\n    };\n    AgDialog.prototype.onMoveEnd = function () {\n        this.isMoving = false;\n    };\n    AgDialog.prototype.toggleMaximize = function () {\n        if (this.isMaximized) {\n            var _a = this.lastPosition, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n            this.setWidth(width);\n            this.setHeight(height);\n            this.offsetElement(x, y);\n        }\n        else {\n            this.lastPosition.width = this.getWidth();\n            this.lastPosition.height = this.getHeight();\n            this.lastPosition.x = this.position.x;\n            this.lastPosition.y = this.position.y;\n            this.offsetElement(0, 0);\n            this.setHeight('100%');\n            this.setWidth('100%');\n        }\n        this.isMaximized = !this.isMaximized;\n        this.refreshMaximizeIcon();\n    };\n    AgDialog.prototype.refreshMaximizeIcon = function () {\n        _.addOrRemoveCssClass(this.maximizeIcon, 'ag-hidden', this.isMaximized);\n        _.addOrRemoveCssClass(this.minimizeIcon, 'ag-hidden', !this.isMaximized);\n    };\n    AgDialog.prototype.clearMaximizebleListeners = function () {\n        if (this.maximizeListeners.length) {\n            this.maximizeListeners.forEach(function (destroyListener) { return destroyListener(); });\n            this.maximizeListeners.length = 0;\n        }\n        if (this.resizeListenerDestroy) {\n            this.resizeListenerDestroy();\n            this.resizeListenerDestroy = null;\n        }\n    };\n    AgDialog.prototype.destroy = function () {\n        this.setResizable(false);\n        this.setMovable(false);\n        if (this.maximizeButtonComp) {\n            this.maximizeButtonComp.destroy();\n            this.maximizeButtonComp = undefined;\n        }\n        this.clearMaximizebleListeners();\n        _super.prototype.destroy.call(this);\n    };\n    AgDialog.prototype.setResizable = function (resizable) {\n        var _this = this;\n        if (typeof resizable === 'boolean') {\n            resizable = {\n                topLeft: resizable,\n                top: resizable,\n                topRight: resizable,\n                right: resizable,\n                bottomRight: resizable,\n                bottom: resizable,\n                bottomLeft: resizable,\n                left: resizable\n            };\n        }\n        Object.keys(resizable).forEach(function (side) {\n            var r = resizable;\n            var s = side;\n            var val = !!r[s];\n            var el = _this.getResizerElement(s);\n            var params = _this.resizerMap[s].dragSource || {\n                eElement: el,\n                onDragStart: _this.onResizeStart.bind(_this),\n                onDragging: function (e) { return _this.onResize(e, s); },\n                onDragStop: _this.onResizeEnd.bind(_this),\n            };\n            if (!!_this.resizable[s] !== val || (!_this.isAlive() && !val)) {\n                if (val) {\n                    _this.dragService.addDragSource(params);\n                    el.style.pointerEvents = 'all';\n                }\n                else {\n                    _this.dragService.removeDragSource(params);\n                    el.style.pointerEvents = 'none';\n                }\n                _this.resizerMap[s].dragSource = val ? params : undefined;\n            }\n        });\n    };\n    AgDialog.prototype.setMovable = function (movable) {\n        if (movable === this.movable) {\n            return;\n        }\n        this.movable = movable;\n        var params = this.moveElementDragListener || {\n            eElement: this.moveElement,\n            onDragStart: this.onMoveStart.bind(this),\n            onDragging: this.onMove.bind(this),\n            onDragStop: this.onMoveEnd.bind(this)\n        };\n        if (movable) {\n            this.dragService.addDragSource(params);\n            this.moveElementDragListener = params;\n        }\n        else {\n            this.dragService.removeDragSource(params);\n            this.moveElementDragListener = undefined;\n        }\n    };\n    AgDialog.prototype.setMaximizable = function (maximizable) {\n        var _this = this;\n        if (maximizable === false) {\n            this.clearMaximizebleListeners();\n            if (this.maximizeButtonComp) {\n                this.maximizeButtonComp.destroy();\n                this.maximizeButtonComp = this.maximizeIcon = this.minimizeIcon = undefined;\n            }\n            return;\n        }\n        var eTitleBar = this.eTitleBar;\n        if (!eTitleBar || maximizable === this.isMaximizable) {\n            return;\n        }\n        var maximizeButtonComp = this.maximizeButtonComp = new Component(this.MAXIMIZE_BTN_TEMPLATE);\n        this.getContext().wireBean(maximizeButtonComp);\n        var eGui = maximizeButtonComp.getGui();\n        eGui.appendChild(this.maximizeIcon = _.createIconNoSpan('maximize', this.gridOptionsWrapper));\n        _.addCssClass(this.maximizeIcon, 'ag-panel-title-bar-button-icon');\n        eGui.appendChild(this.minimizeIcon = _.createIconNoSpan('minimize', this.gridOptionsWrapper));\n        _.addCssClass(this.minimizeIcon, 'ag-panel-title-bar-button-icon');\n        _.addCssClass(this.minimizeIcon, 'ag-hidden');\n        maximizeButtonComp.addDestroyableEventListener(eGui, 'click', this.toggleMaximize.bind(this));\n        this.addTitleBarButton(maximizeButtonComp, 0);\n        this.maximizeListeners.push(this.addDestroyableEventListener(eTitleBar, 'dblclick', this.toggleMaximize.bind(this)));\n        this.resizeListenerDestroy = this.addDestroyableEventListener(this, 'resize', function () {\n            _this.isMaximized = false;\n            _this.refreshMaximizeIcon();\n        });\n    };\n    __decorate$1B([\n        Autowired('dragService')\n    ], AgDialog.prototype, \"dragService\", void 0);\n    return AgDialog;\n}(AgPanel));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$_ = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar AgInputTextField = /** @class */ (function (_super) {\n    __extends$_(AgInputTextField, _super);\n    function AgInputTextField(config) {\n        var _this = _super.call(this) || this;\n        _this.className = 'ag-text-field';\n        _this.displayTag = 'input';\n        _this.inputType = 'text';\n        _this.setTemplate(_this.TEMPLATE.replace(/%displayField%/g, _this.displayTag));\n        if (config) {\n            _this.config = config;\n        }\n        return _this;\n    }\n    AgInputTextField.prototype.setValue = function (value, silent) {\n        var ret = _super.prototype.setValue.call(this, value, silent);\n        if (this.eInput.value !== value) {\n            this.eInput.value = value;\n        }\n        return ret;\n    };\n    return AgInputTextField;\n}(AgAbstractInputField));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$$ = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar AgInputTextArea = /** @class */ (function (_super) {\n    __extends$$(AgInputTextArea, _super);\n    function AgInputTextArea(config) {\n        var _this = _super.call(this) || this;\n        _this.className = 'ag-text-area';\n        _this.displayTag = 'textarea';\n        _this.inputType = '';\n        _this.setTemplate(_this.TEMPLATE.replace(/%displayField%/g, _this.displayTag));\n        if (config) {\n            _this.config = config;\n        }\n        return _this;\n    }\n    AgInputTextArea.prototype.setValue = function (value, silent) {\n        var ret = _super.prototype.setValue.call(this, value, silent);\n        this.eInput.value = value;\n        return ret;\n    };\n    AgInputTextArea.prototype.setCols = function (cols) {\n        this.eInput.cols = cols;\n        return this;\n    };\n    AgInputTextArea.prototype.setRows = function (rows) {\n        this.eInput.rows = rows;\n        return this;\n    };\n    return AgInputTextArea;\n}(AgAbstractInputField));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$10 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1C = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AgSlider = /** @class */ (function (_super) {\n    __extends$10(AgSlider, _super);\n    function AgSlider() {\n        var _this = _super.call(this, AgSlider.TEMPLATE) || this;\n        _this.labelAlignment = 'top';\n        return _this;\n    }\n    AgSlider.prototype.init = function () {\n        _.addCssClass(this.eSlider.getGui(), 'ag-slider-field');\n    };\n    AgSlider.prototype.onValueChange = function (callbackFn) {\n        var _this = this;\n        var eventChanged = AgAbstractField.EVENT_CHANGED;\n        this.addDestroyableEventListener(this.eText, eventChanged, function () {\n            var textValue = parseFloat(_this.eText.getValue());\n            _this.eSlider.setValue(textValue.toString(), true);\n            callbackFn(textValue || 0);\n        });\n        this.addDestroyableEventListener(this.eSlider, eventChanged, function () {\n            var sliderValue = _this.eSlider.getValue();\n            _this.eText.setValue(sliderValue, true);\n            callbackFn(parseFloat(sliderValue));\n        });\n        return this;\n    };\n    AgSlider.prototype.setSliderWidth = function (width) {\n        this.eSlider.setWidth(width);\n        return this;\n    };\n    AgSlider.prototype.setTextFieldWidth = function (width) {\n        this.eText.setWidth(width);\n        return this;\n    };\n    AgSlider.prototype.setMinValue = function (minValue) {\n        this.eSlider.setMinValue(minValue);\n        this.eText.setMin(minValue);\n        return this;\n    };\n    AgSlider.prototype.setMaxValue = function (maxValue) {\n        this.eSlider.setMaxValue(maxValue);\n        this.eText.setMax(maxValue);\n        return this;\n    };\n    AgSlider.prototype.getValue = function () {\n        return this.eText.getValue();\n    };\n    AgSlider.prototype.setValue = function (value) {\n        if (this.getValue() === value) {\n            return this;\n        }\n        this.eText.setValue(value, true);\n        this.eSlider.setValue(value, true);\n        this.dispatchEvent({ type: AgAbstractField.EVENT_CHANGED });\n        return this;\n    };\n    AgSlider.prototype.setStep = function (step) {\n        this.eSlider.setStep(step);\n        this.eText.setStep(step);\n        return this;\n    };\n    AgSlider.TEMPLATE = \"<div class=\\\"ag-slider\\\">\\n            <label ref=\\\"eLabel\\\"></label>\\n            <div class=\\\"ag-wrapper ag-slider-wrapper\\\">\\n                <ag-input-range ref=\\\"eSlider\\\"></ag-input-range>\\n                <ag-input-number-field ref=\\\"eText\\\"></ag-input-number-field>\\n            </div>\\n        </div>\";\n    __decorate$1C([\n        RefSelector('eLabel')\n    ], AgSlider.prototype, \"eLabel\", void 0);\n    __decorate$1C([\n        RefSelector('eSlider')\n    ], AgSlider.prototype, \"eSlider\", void 0);\n    __decorate$1C([\n        RefSelector('eText')\n    ], AgSlider.prototype, \"eText\", void 0);\n    __decorate$1C([\n        PostConstruct\n    ], AgSlider.prototype, \"init\", null);\n    return AgSlider;\n}(AgAbstractLabel));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$11 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1D = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AgColorPanel = /** @class */ (function (_super) {\n    __extends$11(AgColorPanel, _super);\n    function AgColorPanel(config) {\n        var _this = _super.call(this, AgColorPanel.TEMPLATE) || this;\n        _this.H = 1; // in the [0, 1] range\n        _this.S = 1; // in the [0, 1] range\n        _this.B = 1; // in the [0, 1] range\n        _this.A = 1; // in the [0, 1] range\n        _this.isSpectrumDragging = false;\n        _this.isSpectrumHueDragging = false;\n        _this.isSpectrumAlphaDragging = false;\n        _this.colorChanged = false;\n        _this.picker = config.picker;\n        return _this;\n    }\n    AgColorPanel.prototype.postConstruct = function () {\n        var eGui = this.getGui();\n        this.initRecentColors();\n        this.addDestroyableEventListener(this.spectrumVal, 'mousedown', this.onSpectrumDraggerDown.bind(this));\n        this.addDestroyableEventListener(eGui, 'mousemove', this.onSpectrumDraggerMove.bind(this));\n        this.addDestroyableEventListener(this.spectrumHue, 'mousedown', this.onSpectrumHueDown.bind(this));\n        this.addDestroyableEventListener(eGui, 'mousemove', this.onSpectrumHueMove.bind(this));\n        this.addDestroyableEventListener(this.spectrumAlpha, 'mousedown', this.onSpectrumAlphaDown.bind(this));\n        this.addDestroyableEventListener(eGui, 'mousemove', this.onSpectrumAlphaMove.bind(this));\n        // Listening to `mouseup` on the document on purpose. The user might release the mouse button\n        // outside the UI control. When the mouse returns back to the control's area, the dragging\n        // of the thumb is not expected and seen as a bug.\n        this.addDestroyableEventListener(document, 'mouseup', this.onMouseUp.bind(this));\n        this.addDestroyableEventListener(this.recentColors, 'click', this.onRecentColorClick.bind(this));\n    };\n    AgColorPanel.prototype.refreshSpectrumRect = function () {\n        return this.spectrumValRect = this.spectrumVal.getBoundingClientRect();\n    };\n    AgColorPanel.prototype.refreshHueRect = function () {\n        return this.spectrumHueRect = this.spectrumHue.getBoundingClientRect();\n    };\n    AgColorPanel.prototype.refreshAlphaRect = function () {\n        return this.spectrumAlphaRect = this.spectrumAlpha.getBoundingClientRect();\n    };\n    AgColorPanel.prototype.onSpectrumDraggerDown = function (e) {\n        this.refreshSpectrumRect();\n        this.isSpectrumDragging = true;\n        this.moveDragger(e);\n    };\n    AgColorPanel.prototype.onSpectrumDraggerMove = function (e) {\n        if (this.isSpectrumDragging) {\n            this.moveDragger(e);\n        }\n    };\n    AgColorPanel.prototype.onSpectrumHueDown = function (e) {\n        this.refreshHueRect();\n        this.isSpectrumHueDragging = true;\n        this.moveHueSlider(e);\n    };\n    AgColorPanel.prototype.onSpectrumHueMove = function (e) {\n        if (this.isSpectrumHueDragging) {\n            this.moveHueSlider(e);\n        }\n    };\n    AgColorPanel.prototype.onSpectrumAlphaDown = function (e) {\n        this.refreshAlphaRect();\n        this.isSpectrumAlphaDragging = true;\n        this.moveAlphaSlider(e);\n    };\n    AgColorPanel.prototype.onSpectrumAlphaMove = function (e) {\n        if (this.isSpectrumAlphaDragging) {\n            this.moveAlphaSlider(e);\n        }\n    };\n    AgColorPanel.prototype.onMouseUp = function () {\n        this.isSpectrumDragging = false;\n        this.isSpectrumHueDragging = false;\n        this.isSpectrumAlphaDragging = false;\n    };\n    AgColorPanel.prototype.moveDragger = function (e) {\n        var valRect = this.spectrumValRect;\n        if (valRect) {\n            var x = e.clientX - valRect.left;\n            var y = e.clientY - valRect.top;\n            x = Math.max(x, 0);\n            x = Math.min(x, valRect.width);\n            y = Math.max(y, 0);\n            y = Math.min(y, valRect.height);\n            this.setSpectrumValue(x / valRect.width, 1 - y / valRect.height);\n        }\n    };\n    AgColorPanel.prototype.moveHueSlider = function (e) {\n        var hueRect = this.spectrumHueRect;\n        if (hueRect) {\n            var slider = this.spectrumHueSlider;\n            var sliderRect = slider.getBoundingClientRect();\n            var x = e.clientX - hueRect.left;\n            x = Math.max(x, 0);\n            x = Math.min(x, hueRect.width);\n            this.H = 1 - x / hueRect.width;\n            slider.style.left = (x + sliderRect.width / 2) + 'px';\n            this.update();\n        }\n    };\n    AgColorPanel.prototype.moveAlphaSlider = function (e) {\n        var alphaRect = this.spectrumAlphaRect;\n        if (alphaRect) {\n            var slider = this.spectrumAlphaSlider;\n            var sliderRect = slider.getBoundingClientRect();\n            var x = e.clientX - alphaRect.left;\n            x = Math.max(x, 0);\n            x = Math.min(x, alphaRect.width);\n            this.A = x / alphaRect.width;\n            slider.style.left = (x + sliderRect.width / 2) + 'px';\n            this.update();\n        }\n    };\n    AgColorPanel.prototype.update = function () {\n        var color = Color.fromHSB(this.H * 360, this.S, this.B, this.A);\n        var spectrumColor = Color.fromHSB(this.H * 360, 1, 1);\n        var rgbaColor = color.toRgbaString();\n        // the recent color list needs to know color has actually changed\n        var colorPicker = this.picker;\n        var existingColor = Color.fromString(colorPicker.getValue());\n        if (existingColor.toRgbaString() !== rgbaColor) {\n            this.colorChanged = true;\n        }\n        colorPicker.setValue(rgbaColor);\n        this.spectrumColor.style.backgroundColor = spectrumColor.toRgbaString();\n        this.spectrumDragger.style.backgroundColor = rgbaColor;\n    };\n    /**\n     * @param saturation In the [0, 1] interval.\n     * @param brightness In the [0, 1] interval.\n     */\n    AgColorPanel.prototype.setSpectrumValue = function (saturation, brightness) {\n        var valRect = this.spectrumValRect || this.refreshSpectrumRect();\n        if (valRect) {\n            var dragger = this.spectrumDragger;\n            var draggerRect = dragger.getBoundingClientRect();\n            saturation = Math.max(0, saturation);\n            saturation = Math.min(1, saturation);\n            brightness = Math.max(0, brightness);\n            brightness = Math.min(1, brightness);\n            this.S = saturation;\n            this.B = brightness;\n            dragger.style.left = (saturation * valRect.width - draggerRect.width / 2) + 'px';\n            dragger.style.top = ((1 - brightness) * valRect.height - draggerRect.height / 2) + 'px';\n            this.update();\n        }\n    };\n    AgColorPanel.prototype.initRecentColors = function () {\n        var recentColors = AgColorPanel.recentColors;\n        var innerHtml = recentColors.map(function (color, index) {\n            return \"<div class=\\\"ag-recent-color\\\" id=\" + index + \" style=\\\"background-color: \" + color + \"; width: 15px; height: 15px;\\\" recent-color=\\\"\" + color + \"\\\"></div>\";\n        });\n        this.recentColors.innerHTML = innerHtml.join('');\n    };\n    AgColorPanel.prototype.setValue = function (val) {\n        var color = Color.fromString(val);\n        var _a = color.toHSB(), h = _a[0], s = _a[1], b = _a[2];\n        this.H = (isNaN(h) ? 0 : h) / 360;\n        this.A = color.a;\n        var spectrumHueRect = this.spectrumHueRect || this.refreshHueRect();\n        var spectrumAlphaRect = this.spectrumAlphaRect || this.refreshAlphaRect();\n        this.spectrumHueSlider.style.left = ((this.H - 1) * -spectrumHueRect.width) + \"px\";\n        this.spectrumAlphaSlider.style.left = (this.A * spectrumAlphaRect.width) + \"px\";\n        this.setSpectrumValue(s, b);\n    };\n    AgColorPanel.prototype.onRecentColorClick = function (e) {\n        var target = e.target;\n        if (!_.exists(target.id)) {\n            return;\n        }\n        var id = parseInt(target.id, 10);\n        this.setValue(AgColorPanel.recentColors[id]);\n        this.destroy();\n    };\n    AgColorPanel.prototype.addRecentColor = function () {\n        var color = Color.fromHSB(this.H * 360, this.S, this.B, this.A);\n        var rgbaColor = color.toRgbaString();\n        var recentColors = AgColorPanel.recentColors;\n        if (!this.colorChanged || recentColors[0] === rgbaColor) {\n            return;\n        }\n        // remove duplicate color\n        recentColors = recentColors.filter(function (color) { return color != rgbaColor; });\n        // add color to head\n        recentColors = [rgbaColor].concat(recentColors);\n        // ensure we don't exceed max number of recent colors\n        if (recentColors.length > AgColorPanel.maxRecentColors) {\n            recentColors = recentColors.slice(0, AgColorPanel.maxRecentColors);\n        }\n        AgColorPanel.recentColors = recentColors;\n    };\n    AgColorPanel.prototype.destroy = function () {\n        this.addRecentColor();\n        _super.prototype.destroy.call(this);\n    };\n    AgColorPanel.maxRecentColors = 8;\n    AgColorPanel.recentColors = [];\n    AgColorPanel.TEMPLATE = \"<div class=\\\"ag-color-panel\\\">\\n            <div ref=\\\"spectrumColor\\\" class=\\\"ag-spectrum-color\\\">\\n                <div class=\\\"ag-spectrum-sat ag-spectrum-fill\\\">\\n                    <div ref=\\\"spectrumVal\\\" class=\\\"ag-spectrum-val ag-spectrum-fill\\\">\\n                        <div ref=\\\"spectrumDragger\\\" class=\\\"ag-spectrum-dragger\\\"></div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"ag-spectrum-tools\\\">\\n                <div ref=\\\"spectrumHue\\\" class=\\\"ag-spectrum-hue ag-spectrum-tool\\\">\\n                    <div class=\\\"ag-spectrum-hue-background\\\"></div>\\n                    <div ref=\\\"spectrumHueSlider\\\" class=\\\"ag-spectrum-slider\\\"></div>\\n                </div>\\n                <div ref=\\\"spectrumAlpha\\\" class=\\\"ag-spectrum-alpha ag-spectrum-tool\\\">\\n                    <div class=\\\"ag-spectrum-alpha-background\\\"></div>\\n                    <div ref=\\\"spectrumAlphaSlider\\\" class=\\\"ag-spectrum-slider\\\"></div>\\n                </div>\\n                <div ref=\\\"recentColors\\\" class=\\\"ag-recent-colors\\\"></div>\\n            </div>\\n        </div>\";\n    __decorate$1D([\n        RefSelector('spectrumColor')\n    ], AgColorPanel.prototype, \"spectrumColor\", void 0);\n    __decorate$1D([\n        RefSelector('spectrumVal')\n    ], AgColorPanel.prototype, \"spectrumVal\", void 0);\n    __decorate$1D([\n        RefSelector('spectrumDragger')\n    ], AgColorPanel.prototype, \"spectrumDragger\", void 0);\n    __decorate$1D([\n        RefSelector('spectrumHue')\n    ], AgColorPanel.prototype, \"spectrumHue\", void 0);\n    __decorate$1D([\n        RefSelector('spectrumHueSlider')\n    ], AgColorPanel.prototype, \"spectrumHueSlider\", void 0);\n    __decorate$1D([\n        RefSelector('spectrumAlpha')\n    ], AgColorPanel.prototype, \"spectrumAlpha\", void 0);\n    __decorate$1D([\n        RefSelector('spectrumAlphaSlider')\n    ], AgColorPanel.prototype, \"spectrumAlphaSlider\", void 0);\n    __decorate$1D([\n        RefSelector('recentColors')\n    ], AgColorPanel.prototype, \"recentColors\", void 0);\n    __decorate$1D([\n        PostConstruct\n    ], AgColorPanel.prototype, \"postConstruct\", null);\n    return AgColorPanel;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$12 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1E = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AgPickerField = /** @class */ (function (_super) {\n    __extends$12(AgPickerField, _super);\n    function AgPickerField() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.TEMPLATE = \"<div class=\\\"ag-picker-field\\\" role=\\\"presentation\\\">\\n            <label ref=\\\"eLabel\\\"></label>\\n            <div ref=\\\"eWrapper\\\" class=\\\"ag-wrapper ag-picker-field-wrapper\\\" tabIndex=\\\"-1\\\">\\n                <%displayField% ref=\\\"eDisplayField\\\" class=\\\"ag-picker-field-display\\\"></%displayField%>\\n                <div ref=\\\"eIcon\\\" class=\\\"ag-picker-field-icon\\\"></div>\\n            </div>\\n        </div>\";\n        _this.isDestroyingPicker = false;\n        _this.skipClick = false;\n        return _this;\n    }\n    AgPickerField.prototype.postConstruct = function () {\n        var _this = this;\n        _super.prototype.postConstruct.call(this);\n        var clickHandler = function () {\n            if (_this.skipClick) {\n                _this.skipClick = false;\n                return;\n            }\n            if (_this.isDisabled()) {\n                return;\n            }\n            _this.pickerComponent = _this.showPicker();\n        };\n        var eGui = this.getGui();\n        this.addDestroyableEventListener(eGui, 'mousedown', function (e) {\n            if (!_this.skipClick &&\n                _this.pickerComponent &&\n                _this.pickerComponent.isAlive() &&\n                _.isVisible(_this.pickerComponent.getGui()) &&\n                eGui.contains(e.target)) {\n                _this.skipClick = true;\n            }\n        });\n        this.addDestroyableEventListener(eGui, 'keydown', function (e) {\n            switch (e.keyCode) {\n                case Constants.KEY_UP:\n                case Constants.KEY_DOWN:\n                case Constants.KEY_ENTER:\n                case Constants.KEY_SPACE:\n                    clickHandler();\n                case Constants.KEY_ESCAPE:\n                    e.preventDefault();\n                    break;\n            }\n        });\n        this.addDestroyableEventListener(this.eWrapper, 'click', clickHandler);\n        this.addDestroyableEventListener(this.eLabel, 'click', clickHandler);\n        if (this.pickerIcon) {\n            this.eIcon.appendChild(_.createIconNoSpan(this.pickerIcon, this.gridOptionsWrapper, null));\n        }\n    };\n    AgPickerField.prototype.setInputWidth = function (width) {\n        _.setElementWidth(this.eWrapper, width);\n        return this;\n    };\n    AgPickerField.prototype.getFocusableElement = function () {\n        return this.eWrapper;\n    };\n    __decorate$1E([\n        Autowired('gridOptionsWrapper')\n    ], AgPickerField.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1E([\n        RefSelector('eLabel')\n    ], AgPickerField.prototype, \"eLabel\", void 0);\n    __decorate$1E([\n        RefSelector('eWrapper')\n    ], AgPickerField.prototype, \"eWrapper\", void 0);\n    __decorate$1E([\n        RefSelector('eDisplayField')\n    ], AgPickerField.prototype, \"eDisplayField\", void 0);\n    __decorate$1E([\n        RefSelector('eIcon')\n    ], AgPickerField.prototype, \"eIcon\", void 0);\n    return AgPickerField;\n}(AgAbstractField));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$13 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar AgColorPicker = /** @class */ (function (_super) {\n    __extends$13(AgColorPicker, _super);\n    function AgColorPicker(config) {\n        var _this = _super.call(this) || this;\n        _this.displayTag = 'div';\n        _this.className = 'ag-color-picker';\n        _this.pickerIcon = 'colorPicker';\n        _this.setTemplate(_this.TEMPLATE.replace(/%displayField%/g, _this.displayTag));\n        if (config && config.color) {\n            _this.value = config.color;\n        }\n        return _this;\n    }\n    AgColorPicker.prototype.postConstruct = function () {\n        _super.prototype.postConstruct.call(this);\n        if (this.value) {\n            this.setValue(this.value);\n        }\n    };\n    AgColorPicker.prototype.showPicker = function () {\n        var _this = this;\n        var eGuiRect = this.getGui().getBoundingClientRect();\n        var colorDialog = new AgDialog({\n            closable: false,\n            modal: true,\n            hideTitleBar: true,\n            minWidth: 190,\n            width: 190,\n            height: 250,\n            x: eGuiRect.right - 190,\n            y: eGuiRect.top - 250\n        });\n        this.getContext().wireBean(colorDialog);\n        _.addCssClass(colorDialog.getGui(), 'ag-color-dialog');\n        var colorPanel = new AgColorPanel({\n            picker: this\n        });\n        this.getContext().wireBean(colorPanel);\n        colorPanel.addDestroyFunc(function () {\n            if (colorDialog.isAlive()) {\n                colorDialog.destroy();\n            }\n        });\n        colorDialog.setParentComponent(this);\n        colorDialog.setBodyComponent(colorPanel);\n        colorPanel.setValue(this.getValue());\n        colorDialog.addDestroyFunc(function () {\n            var wasDestroying = _this.isDestroyingPicker;\n            // here we check if the picker was already being\n            // destroyed to avoid a stackoverflow\n            if (!wasDestroying) {\n                _this.isDestroyingPicker = true;\n                if (colorPanel.isAlive()) {\n                    colorPanel.destroy();\n                }\n            }\n            else {\n                _this.isDestroyingPicker = false;\n            }\n            if (_this.isAlive()) {\n                _this.getFocusableElement().focus();\n            }\n        });\n        return colorDialog;\n    };\n    AgColorPicker.prototype.setValue = function (color) {\n        if (this.value === color) {\n            return this;\n        }\n        this.value = color;\n        this.eDisplayField.style.backgroundColor = color;\n        this.dispatchEvent({ type: AgAbstractField.EVENT_CHANGED });\n        return this;\n    };\n    AgColorPicker.prototype.getValue = function () {\n        return this.value;\n    };\n    return AgColorPicker;\n}(AgPickerField));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$14 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar AgInputNumberField = /** @class */ (function (_super) {\n    __extends$14(AgInputNumberField, _super);\n    function AgInputNumberField() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.className = 'ag-number-field';\n        _this.inputType = 'number';\n        return _this;\n    }\n    AgInputNumberField.prototype.postConstruct = function () {\n        var _this = this;\n        _super.prototype.postConstruct.call(this);\n        this.addDestroyableEventListener(this.eInput, 'blur', function () {\n            var floatedValue = parseFloat(_this.eInput.value);\n            var value = isNaN(floatedValue) ? '' : _this.normalizeValue(floatedValue.toString());\n            if (_this.value !== value) {\n                _this.setValue(value);\n            }\n        });\n    };\n    AgInputNumberField.prototype.normalizeValue = function (value) {\n        if (value === '') {\n            return '';\n        }\n        if (this.precision) {\n            value = this.adjustPrecision(value);\n        }\n        var val = parseFloat(value);\n        if (this.min != null && val < this.min) {\n            value = this.min.toString();\n        }\n        else if (this.max != null && val > this.max) {\n            value = this.max.toString();\n        }\n        return value;\n    };\n    AgInputNumberField.prototype.adjustPrecision = function (value) {\n        if (this.precision) {\n            var floatString = parseFloat(value).toFixed(this.precision);\n            value = parseFloat(floatString).toString();\n        }\n        return value;\n    };\n    AgInputNumberField.prototype.setMin = function (min) {\n        if (this.min === min) {\n            return this;\n        }\n        this.min = min;\n        if (this.min != null) {\n            this.eInput.setAttribute('min', min.toString());\n        }\n        else {\n            this.eInput.removeAttribute('min');\n        }\n        return this;\n    };\n    AgInputNumberField.prototype.setMax = function (max) {\n        if (this.max === max) {\n            return this;\n        }\n        this.max = max;\n        if (this.max != null) {\n            this.eInput.setAttribute('max', max.toString());\n        }\n        else {\n            this.eInput.removeAttribute('max');\n        }\n        return this;\n    };\n    AgInputNumberField.prototype.setPrecision = function (precision) {\n        this.precision = precision;\n        return this;\n    };\n    AgInputNumberField.prototype.setStep = function (step) {\n        if (this.step === step) {\n            return this;\n        }\n        this.step = step;\n        if (step != null) {\n            this.eInput.setAttribute('step', step.toString());\n        }\n        else {\n            this.eInput.removeAttribute('step');\n        }\n        return this;\n    };\n    AgInputNumberField.prototype.setValue = function (value, silent) {\n        value = this.adjustPrecision(value);\n        var normalizedValue = this.normalizeValue(value);\n        if (value != normalizedValue) {\n            return this;\n        }\n        return _super.prototype.setValue.call(this, value, silent);\n    };\n    return AgInputNumberField;\n}(AgInputTextField));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$15 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar AgInputRange = /** @class */ (function (_super) {\n    __extends$15(AgInputRange, _super);\n    function AgInputRange(config) {\n        var _this = _super.call(this) || this;\n        _this.className = 'ag-range-field';\n        _this.displayTag = 'input';\n        _this.inputType = 'range';\n        _this.setTemplate(_this.TEMPLATE.replace(/%displayField%/g, _this.displayTag));\n        if (config) {\n            _this.config = config;\n        }\n        return _this;\n    }\n    AgInputRange.prototype.postConstruct = function () {\n        _super.prototype.postConstruct.call(this);\n        var _a = this.config, min = _a.min, max = _a.max, step = _a.step;\n        if (min != null) {\n            this.setMinValue(min);\n        }\n        if (max != null) {\n            this.setMaxValue(max);\n        }\n        this.setStep(step || 1);\n    };\n    AgInputRange.prototype.addInputListeners = function () {\n        var _this = this;\n        var isIE = _.isBrowserIE();\n        var eventName = isIE ? 'change' : 'input';\n        this.addDestroyableEventListener(this.eInput, eventName, function (e) {\n            var value = e.target.value;\n            _this.setValue(value);\n        });\n    };\n    AgInputRange.prototype.setMinValue = function (value) {\n        this.min = value;\n        this.eInput.setAttribute('min', value.toString());\n        return this;\n    };\n    AgInputRange.prototype.setMaxValue = function (value) {\n        this.max = value;\n        this.eInput.setAttribute('max', value.toString());\n        return this;\n    };\n    AgInputRange.prototype.setStep = function (value) {\n        this.step = value;\n        this.eInput.setAttribute('step', value.toString());\n        return this;\n    };\n    AgInputRange.prototype.setValue = function (value, silent) {\n        if (this.min != null) {\n            value = Math.max(parseFloat(value), this.min).toString();\n        }\n        if (this.max != null) {\n            value = Math.min(parseFloat(value), this.max).toString();\n        }\n        var ret = _super.prototype.setValue.call(this, value, silent);\n        this.eInput.value = value;\n        return ret;\n    };\n    return AgInputRange;\n}(AgAbstractInputField));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$16 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1F = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AgList = /** @class */ (function (_super) {\n    __extends$16(AgList, _super);\n    function AgList(cssIdentifier) {\n        if (cssIdentifier === void 0) { cssIdentifier = 'default'; }\n        var _this = _super.call(this, AgList.getTemplate(cssIdentifier)) || this;\n        _this.cssIdentifier = cssIdentifier;\n        _this.options = [];\n        _this.itemEls = [];\n        return _this;\n    }\n    AgList.prototype.init = function () {\n        this.addDestroyableEventListener(this.getGui(), 'keydown', this.handleKeyDown.bind(this));\n    };\n    AgList.getTemplate = function (cssIdentifier) {\n        return \"<div class=\\\"ag-list ag-\" + cssIdentifier + \"-list\\\"></div>\";\n    };\n    AgList.prototype.handleKeyDown = function (e) {\n        var key = e.keyCode;\n        switch (key) {\n            case Constants.KEY_ENTER:\n                if (!this.highlightedEl) {\n                    this.setValue(this.getValue());\n                }\n                else {\n                    var pos = this.itemEls.indexOf(this.highlightedEl);\n                    this.setValueByIndex(pos);\n                }\n                break;\n            case Constants.KEY_DOWN:\n            case Constants.KEY_UP:\n                var isDown = key === Constants.KEY_DOWN;\n                var itemToHighlight = void 0;\n                e.preventDefault();\n                if (!this.highlightedEl) {\n                    itemToHighlight = this.itemEls[isDown ? 0 : this.itemEls.length - 1];\n                }\n                else {\n                    var currentIdx = this.itemEls.indexOf(this.highlightedEl);\n                    var nextPos = currentIdx + (isDown ? 1 : -1);\n                    nextPos = Math.min(Math.max(nextPos, 0), this.itemEls.length - 1);\n                    itemToHighlight = this.itemEls[nextPos];\n                }\n                this.highlightItem(itemToHighlight);\n                break;\n        }\n    };\n    AgList.prototype.addOptions = function (listOptions) {\n        var _this = this;\n        listOptions.forEach(function (listOption) { return _this.addOption(listOption); });\n        return this;\n    };\n    AgList.prototype.addOption = function (listOption) {\n        var value = listOption.value, text = listOption.text;\n        var sanitisedText = _.escape(text === undefined ? value : text);\n        this.options.push({ value: value, text: sanitisedText });\n        this.renderOption(sanitisedText);\n        return this;\n    };\n    AgList.prototype.renderOption = function (innerText) {\n        var _this = this;\n        var itemEl = document.createElement('div');\n        var itemContentEl = document.createElement('span');\n        _.addCssClass(itemEl, 'ag-list-item');\n        _.addCssClass(itemEl, \"ag-\" + this.cssIdentifier + \"-list-item\");\n        itemEl.tabIndex = -1;\n        itemContentEl.innerHTML = innerText;\n        this.itemEls.push(itemEl);\n        this.addDestroyableEventListener(itemEl, 'mouseover', function (e) { return _this.highlightItem(itemEl); });\n        this.addDestroyableEventListener(itemEl, 'mouseleave', function () { return _this.clearHighlighted(); });\n        this.addDestroyableEventListener(itemEl, 'click', function () {\n            var idx = _this.itemEls.indexOf(itemEl);\n            _this.setValueByIndex(idx);\n        });\n        itemEl.appendChild(itemContentEl);\n        this.getGui().appendChild(itemEl);\n    };\n    AgList.prototype.setValue = function (value, silent) {\n        if (this.value === value) {\n            this.fireItemSelected();\n            return this;\n        }\n        if (value == null) {\n            this.reset();\n            return this;\n        }\n        var idx = _.findIndex(this.options, function (option) { return option.value === value; });\n        if (idx !== -1) {\n            var option = this.options[idx];\n            this.value = option.value;\n            this.displayValue = option.text != null ? option.text : option.value;\n            this.highlightItem(this.itemEls[idx]);\n            if (!silent) {\n                this.fireChangeEvent();\n            }\n        }\n        return this;\n    };\n    AgList.prototype.setValueByIndex = function (idx) {\n        return this.setValue(this.options[idx].value);\n    };\n    AgList.prototype.getValue = function () {\n        return this.value;\n    };\n    AgList.prototype.getDisplayValue = function () {\n        return this.displayValue;\n    };\n    AgList.prototype.refreshHighlighted = function () {\n        var _this = this;\n        this.clearHighlighted();\n        var idx = _.findIndex(this.options, function (option) { return option.value === _this.value; });\n        if (idx !== -1) {\n            this.highlightItem(this.itemEls[idx]);\n        }\n    };\n    AgList.prototype.reset = function () {\n        this.value = null;\n        this.displayValue = null;\n        this.clearHighlighted();\n        this.fireChangeEvent();\n    };\n    AgList.prototype.highlightItem = function (el) {\n        if (!el.offsetParent) {\n            return;\n        }\n        _.radioCssClass(el, 'ag-active-item');\n        this.highlightedEl = el;\n        this.highlightedEl.focus();\n    };\n    AgList.prototype.clearHighlighted = function () {\n        if (!this.highlightedEl || !this.highlightedEl.offsetParent) {\n            return;\n        }\n        _.removeCssClass(this.highlightedEl, 'ag-active-item');\n        this.highlightedEl = null;\n    };\n    AgList.prototype.fireChangeEvent = function () {\n        this.dispatchEvent({ type: AgAbstractField.EVENT_CHANGED });\n        this.fireItemSelected();\n    };\n    AgList.prototype.fireItemSelected = function () {\n        this.dispatchEvent({ type: AgList.EVENT_ITEM_SELECTED });\n    };\n    AgList.EVENT_ITEM_SELECTED = 'selectedItem';\n    __decorate$1F([\n        PostConstruct\n    ], AgList.prototype, \"init\", null);\n    return AgList;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$17 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1G = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AgSelect = /** @class */ (function (_super) {\n    __extends$17(AgSelect, _super);\n    function AgSelect(config) {\n        var _this = _super.call(this) || this;\n        _this.displayTag = 'div';\n        _this.className = 'ag-select';\n        _this.pickerIcon = 'smallDown';\n        _this.setTemplate(_this.TEMPLATE.replace(/%displayField%/g, _this.displayTag));\n        return _this;\n    }\n    AgSelect.prototype.init = function () {\n        var _this = this;\n        this.listComponent = new AgList('select');\n        this.getContext().wireBean(this.listComponent);\n        this.listComponent.setParentComponent(this);\n        this.eWrapper.tabIndex = 0;\n        this.listComponent.addDestroyableEventListener(this.listComponent, AgList.EVENT_ITEM_SELECTED, function () { if (_this.hideList) {\n            _this.hideList();\n        } });\n        this.listComponent.addDestroyableEventListener(this.listComponent, AgAbstractField.EVENT_CHANGED, function () {\n            _this.setValue(_this.listComponent.getValue(), false, true);\n            if (_this.hideList) {\n                _this.hideList();\n            }\n        });\n    };\n    AgSelect.prototype.showPicker = function () {\n        var _this = this;\n        var listGui = this.listComponent.getGui();\n        var mouseWheelFunc = this.addDestroyableEventListener(document.body, 'wheel', function (e) {\n            if (!listGui.contains(e.target) && _this.hideList) {\n                _this.hideList();\n            }\n        });\n        var focusOutFunc = this.addDestroyableEventListener(listGui, 'focusout', function (e) {\n            if (!listGui.contains(e.relatedTarget) && _this.hideList) {\n                _this.hideList();\n            }\n        });\n        this.hideList = this.popupService.addPopup(true, listGui, true, function () {\n            _this.hideList = null;\n            focusOutFunc();\n            mouseWheelFunc();\n            if (_this.isAlive()) {\n                _this.getFocusableElement().focus();\n            }\n        });\n        _.setElementWidth(listGui, _.getAbsoluteWidth(this.eWrapper));\n        listGui.style.maxHeight = _.getInnerHeight(this.popupService.getPopupParent()) + 'px';\n        listGui.style.position = 'absolute';\n        this.popupService.positionPopupUnderComponent({\n            type: 'ag-list',\n            eventSource: this.eWrapper,\n            ePopup: listGui,\n            keepWithinBounds: true\n        });\n        this.listComponent.refreshHighlighted();\n        return this.listComponent;\n    };\n    AgSelect.prototype.addOptions = function (options) {\n        var _this = this;\n        options.forEach(function (option) { return _this.addOption(option); });\n        return this;\n    };\n    AgSelect.prototype.addOption = function (option) {\n        this.listComponent.addOption(option);\n        return this;\n    };\n    AgSelect.prototype.setValue = function (value, silent, fromPicker) {\n        if (this.value === value) {\n            return;\n        }\n        if (!fromPicker) {\n            this.listComponent.setValue(value, true);\n        }\n        var newValue = this.listComponent.getValue();\n        if (newValue === this.getValue()) {\n            return;\n        }\n        this.eDisplayField.innerHTML = this.listComponent.getDisplayValue();\n        return _super.prototype.setValue.call(this, value, silent);\n    };\n    AgSelect.prototype.destroy = function () {\n        if (this.hideList) {\n            this.hideList();\n        }\n        this.listComponent.destroy();\n        _super.prototype.destroy.call(this);\n    };\n    __decorate$1G([\n        Autowired('popupService')\n    ], AgSelect.prototype, \"popupService\", void 0);\n    __decorate$1G([\n        PostConstruct\n    ], AgSelect.prototype, \"init\", null);\n    return AgSelect;\n}(AgPickerField));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$18 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1H = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar AgAngleSelect = /** @class */ (function (_super) {\n    __extends$18(AgAngleSelect, _super);\n    function AgAngleSelect() {\n        var _this = _super.call(this, AgAngleSelect.TEMPLATE) || this;\n        _this.radius = 0;\n        _this.offsetX = 0;\n        _this.offsetY = 0;\n        return _this;\n    }\n    AgAngleSelect.prototype.postConstruct = function () {\n        var _this = this;\n        _super.prototype.postConstruct.call(this);\n        this.dragListener = {\n            eElement: this.eParentCircle,\n            dragStartPixels: 0,\n            onDragStart: function (e) {\n                _this.parentCircleRect = _this.eParentCircle.getBoundingClientRect();\n            },\n            onDragging: function (e) { return _this.calculateAngleDrag(e); },\n            onDragStop: function () { }\n        };\n        this.dragService.addDragSource(this.dragListener);\n        this.eAngleValue\n            .setLabel('')\n            .setLabelWidth(5)\n            .setInputWidth(45)\n            .setMin(0)\n            .setMax(360)\n            .setValue(\"\" + this.degrees)\n            .onValueChange(function (value) {\n            if (value == null || value === '') {\n                value = '0';\n            }\n            value = _this.eAngleValue.normalizeValue(value);\n            var floatValue = parseFloat(value);\n            if (floatValue > 180) {\n                floatValue = floatValue - 360;\n            }\n            _this.setValue(floatValue);\n        });\n        this.updateNumberInput();\n        if (_.exists(this.getValue())) {\n            this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString());\n        }\n        this.addDestroyableEventListener(this, AgAbstractField.EVENT_CHANGED, function () {\n            if (_this.eAngleValue.getInputElement().contains(document.activeElement)) {\n                return;\n            }\n            _this.updateNumberInput();\n        });\n    };\n    AgAngleSelect.prototype.updateNumberInput = function () {\n        var normalizedValue = this.normalizeNegativeValue(this.getValue());\n        this.eAngleValue.setValue(normalizedValue.toString());\n    };\n    AgAngleSelect.prototype.positionChildCircle = function (radians) {\n        var rect = this.parentCircleRect || { width: 24, height: 24 };\n        var eChildCircle = this.eChildCircle;\n        var centerX = rect.width / 2;\n        var centerY = rect.height / 2;\n        eChildCircle.style.left = centerX + Math.cos(radians) * 8 + \"px\";\n        eChildCircle.style.top = centerY + Math.sin(radians) * 8 + \"px\";\n    };\n    AgAngleSelect.prototype.calculatePolar = function () {\n        var x = this.offsetX;\n        var y = this.offsetY;\n        var radians = Math.atan2(y, x);\n        this.degrees = this.toDegrees(radians);\n        this.radius = Math.sqrt((x * x) + (y * y));\n        this.positionChildCircle(radians);\n    };\n    AgAngleSelect.prototype.calculateCartesian = function () {\n        var radians = this.toRadians(this.getValue());\n        var radius = this.getRadius();\n        this\n            .setOffsetX(Math.cos(radians) * radius)\n            .setOffsetY(Math.sin(radians) * radius);\n    };\n    AgAngleSelect.prototype.setOffsetX = function (offset) {\n        if (this.offsetX !== offset) {\n            this.offsetX = offset;\n            this.calculatePolar();\n        }\n        return this;\n    };\n    AgAngleSelect.prototype.setOffsetY = function (offset) {\n        if (this.offsetY !== offset) {\n            this.offsetY = offset;\n            this.calculatePolar();\n        }\n        return this;\n    };\n    AgAngleSelect.prototype.calculateAngleDrag = function (e) {\n        var rect = this.parentCircleRect;\n        var centerX = rect.width / 2;\n        var centerY = rect.height / 2;\n        var x = e.clientX - rect.left;\n        var y = e.clientY - rect.top;\n        var dx = x - centerX;\n        var dy = y - centerY;\n        var radians = Math.atan2(dy, dx);\n        this.setValue(radians, true);\n    };\n    AgAngleSelect.prototype.toDegrees = function (radians) {\n        return radians / Math.PI * 180;\n    };\n    AgAngleSelect.prototype.toRadians = function (degrees) {\n        return degrees / 180 * Math.PI;\n    };\n    AgAngleSelect.prototype.normalizeNegativeValue = function (degrees) {\n        return degrees < 0 ? 360 + degrees : degrees;\n    };\n    AgAngleSelect.prototype.normalizeAngle180 = function (radians) {\n        radians %= Math.PI * 2;\n        if (radians < -Math.PI) {\n            radians += Math.PI * 2;\n        }\n        else if (radians >= Math.PI) {\n            radians -= Math.PI * 2;\n        }\n        return radians;\n    };\n    AgAngleSelect.prototype.getRadius = function () {\n        return this.radius;\n    };\n    AgAngleSelect.prototype.setRadius = function (r) {\n        if (this.radius === r) {\n            return this;\n        }\n        this.radius = r;\n        this.calculateCartesian();\n        return this;\n    };\n    AgAngleSelect.prototype.onValueChange = function (callbackFn) {\n        var _this = this;\n        this.addDestroyableEventListener(this, AgAbstractField.EVENT_CHANGED, function () {\n            callbackFn(_this.degrees);\n        });\n        return this;\n    };\n    AgAngleSelect.prototype.getValue = function (radians) {\n        return radians ? this.toRadians(this.degrees) : this.degrees;\n    };\n    AgAngleSelect.prototype.setValue = function (degrees, radians) {\n        var radiansValue;\n        if (!radians) {\n            radiansValue = this.normalizeAngle180(this.toRadians(degrees));\n        }\n        else {\n            radiansValue = degrees;\n        }\n        degrees = this.toDegrees(radiansValue);\n        if (this.degrees !== degrees) {\n            this.degrees = Math.floor(degrees);\n            this.calculateCartesian();\n            this.positionChildCircle(radiansValue);\n            this.dispatchEvent({ type: AgAbstractField.EVENT_CHANGED });\n        }\n        return this;\n    };\n    AgAngleSelect.prototype.setWidth = function (width) {\n        _.setFixedWidth(this.getGui(), width);\n        return this;\n    };\n    AgAngleSelect.prototype.destroy = function () {\n        this.dragService.removeDragSource(this.dragListener);\n        _super.prototype.destroy.call(this);\n    };\n    AgAngleSelect.TEMPLATE = \"<div class=\\\"ag-angle-select\\\">\\n            <label ref=\\\"eLabel\\\"></label>\\n            <div class=\\\"ag-wrapper ag-angle-select-wrapper\\\">\\n                <div ref=\\\"eAngleSelectField\\\" class=\\\"ag-angle-select-field\\\">\\n                    <div ref=\\\"eParentCircle\\\" class=\\\"ag-angle-select-parent-circle\\\">\\n                        <div ref=\\\"eChildCircle\\\" class=\\\"ag-angle-select-child-circle\\\"></div>\\n                    </div>\\n                </div>\\n                <ag-input-number-field ref=\\\"eAngleValue\\\"></ag-input-number-field>\\n            </div>\\n        </div>\";\n    __decorate$1H([\n        RefSelector('eLabel')\n    ], AgAngleSelect.prototype, \"eLabel\", void 0);\n    __decorate$1H([\n        RefSelector('eParentCircle')\n    ], AgAngleSelect.prototype, \"eParentCircle\", void 0);\n    __decorate$1H([\n        RefSelector('eChildCircle')\n    ], AgAngleSelect.prototype, \"eChildCircle\", void 0);\n    __decorate$1H([\n        RefSelector('eAngleValue')\n    ], AgAngleSelect.prototype, \"eAngleValue\", void 0);\n    __decorate$1H([\n        Autowired(\"dragService\")\n    ], AgAngleSelect.prototype, \"dragService\", void 0);\n    return AgAngleSelect;\n}(AgAbstractLabel));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$19 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar AgToggleButton = /** @class */ (function (_super) {\n    __extends$19(AgToggleButton, _super);\n    function AgToggleButton() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.className = 'ag-toggle-button';\n        _this.inputType = 'checkbox';\n        return _this;\n    }\n    AgToggleButton.prototype.setValue = function (value, silent) {\n        _super.prototype.setValue.call(this, value, silent);\n        _.addOrRemoveCssClass(this.getGui(), 'ag-selected', this.getValue());\n        return this;\n    };\n    return AgToggleButton;\n}(AgRadioButton));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1I = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * For Master Detail, it is required to keep components between expanding & collapsing parents.\n * For example a user expands row A (and shows a detail grid for this row), then when row A\n * is closed, we want to keep the detail grid, so next time row A is expanded the detail grid\n * is showed with it's context intact, eg if user sorted in the detail grid, that sort should\n * still be applied after the detail grid is shown for the second time.\n */\nvar DetailRowCompCache = /** @class */ (function () {\n    function DetailRowCompCache() {\n        this.cacheItems = [];\n    }\n    DetailRowCompCache.prototype.postConstruct = function () {\n        this.active = this.gridOptionsWrapper.isKeepDetailRows();\n        this.maxCacheSize = this.gridOptionsWrapper.getKeepDetailRowsCount();\n    };\n    DetailRowCompCache.prototype.addOrDestroy = function (rowNode, pinned, comp) {\n        // only accept detail rows\n        var doNotUseCache = !this.active || !rowNode.detail;\n        if (doNotUseCache) {\n            this.destroyFullWidthRow(comp);\n            return;\n        }\n        var item = this.getCacheItem(rowNode, true);\n        // put the comp in the right location of the item.\n        // we also destroy any previous comp - this should never happen\n        // as the logic outside of this class shouldn't be adding same item to the\n        // cache twice, however we cater for it in case in future releases code\n        // outside of this class is changed and this could happen.\n        switch (pinned) {\n            case Constants.PINNED_LEFT:\n                this.destroyFullWidthRow(item.left);\n                item.left = comp;\n                break;\n            case Constants.PINNED_RIGHT:\n                this.destroyFullWidthRow(item.right);\n                item.right = comp;\n                break;\n            default:\n                this.destroyFullWidthRow(item.center);\n                item.center = comp;\n                break;\n        }\n        this.cacheItems.sort(function (a, b) {\n            return b.lastAccessedTime - a.lastAccessedTime;\n        });\n        this.purgeCache(this.maxCacheSize);\n    };\n    DetailRowCompCache.prototype.getCacheItem = function (rowNode, autoCreate) {\n        if (autoCreate === void 0) { autoCreate = false; }\n        var res;\n        for (var i = 0; i < this.cacheItems.length; i++) {\n            var item = this.cacheItems[i];\n            if (item.rowNode === rowNode) {\n                res = item;\n                break;\n            }\n        }\n        if (!res && autoCreate) {\n            res = {\n                rowNode: rowNode\n            };\n            this.cacheItems.push(res);\n        }\n        if (res) {\n            this.stampCacheItem(res);\n        }\n        return res;\n    };\n    DetailRowCompCache.prototype.stampCacheItem = function (item) {\n        item.lastAccessedTime = new Date().getTime();\n    };\n    DetailRowCompCache.prototype.destroyFullWidthRow = function (comp) {\n        if (comp && comp.destroy) {\n            comp.destroy();\n        }\n    };\n    DetailRowCompCache.prototype.purgeCache = function (startIndex) {\n        // delete all rows past the index of interest\n        for (var i = startIndex; i < this.cacheItems.length; i++) {\n            var item = this.cacheItems[i];\n            this.destroyFullWidthRow(item.center);\n            this.destroyFullWidthRow(item.left);\n            this.destroyFullWidthRow(item.right);\n        }\n        // change the length of the array so it no longer contains the deleted items\n        if (this.cacheItems.length > startIndex) {\n            this.cacheItems.length = startIndex;\n        }\n    };\n    DetailRowCompCache.prototype.get = function (rowNode, pinned) {\n        if (!rowNode.detail) {\n            return undefined;\n        }\n        var item = this.getCacheItem(rowNode);\n        var res;\n        if (item) {\n            switch (pinned) {\n                case Constants.PINNED_LEFT:\n                    if (item.left) {\n                        res = item.left;\n                        item.left = undefined;\n                    }\n                    break;\n                case Constants.PINNED_RIGHT:\n                    if (item.right) {\n                        res = item.right;\n                        item.right = undefined;\n                    }\n                    break;\n                default:\n                    if (item.center) {\n                        res = item.center;\n                        item.center = undefined;\n                    }\n                    break;\n            }\n        }\n        return res;\n    };\n    DetailRowCompCache.prototype.destroy = function () {\n        this.purgeCache(0);\n    };\n    __decorate$1I([\n        Autowired('gridOptionsWrapper')\n    ], DetailRowCompCache.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1I([\n        PostConstruct\n    ], DetailRowCompCache.prototype, \"postConstruct\", null);\n    __decorate$1I([\n        PreDestroy\n    ], DetailRowCompCache.prototype, \"destroy\", null);\n    DetailRowCompCache = __decorate$1I([\n        Bean('detailRowCompCache')\n    ], DetailRowCompCache);\n    return DetailRowCompCache;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1J = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar RowPositionUtils = /** @class */ (function () {\n    function RowPositionUtils() {\n    }\n    RowPositionUtils.prototype.getRowNode = function (gridRow) {\n        switch (gridRow.rowPinned) {\n            case Constants.PINNED_TOP:\n                return this.pinnedRowModel.getPinnedTopRowData()[gridRow.rowIndex];\n            case Constants.PINNED_BOTTOM:\n                return this.pinnedRowModel.getPinnedBottomRowData()[gridRow.rowIndex];\n            default:\n                return this.rowModel.getRow(gridRow.rowIndex);\n        }\n    };\n    RowPositionUtils.prototype.sameRow = function (rowA, rowB) {\n        // if both missing\n        if (!rowA && !rowB) {\n            return true;\n        }\n        // if only one missing\n        if ((rowA && !rowB) || (!rowA && rowB)) {\n            return false;\n        }\n        // otherwise compare (use == to compare rowPinned because it can be null or undefined)\n        return rowA.rowIndex === rowB.rowIndex && rowA.rowPinned == rowB.rowPinned;\n    };\n    // tests if this row selection is before the other row selection\n    RowPositionUtils.prototype.before = function (rowA, rowB) {\n        switch (rowA.rowPinned) {\n            case Constants.PINNED_TOP:\n                // we we are floating top, and other isn't, then we are always before\n                if (rowB.rowPinned !== Constants.PINNED_TOP) {\n                    return true;\n                }\n                break;\n            case Constants.PINNED_BOTTOM:\n                // if we are floating bottom, and the other isn't, then we are never before\n                if (rowB.rowPinned !== Constants.PINNED_BOTTOM) {\n                    return false;\n                }\n                break;\n            default:\n                // if we are not floating, but the other one is floating...\n                if (_.exists(rowB.rowPinned)) {\n                    return rowB.rowPinned !== Constants.PINNED_TOP;\n                }\n                break;\n        }\n        return rowA.rowIndex < rowB.rowIndex;\n    };\n    __decorate$1J([\n        Autowired('rowModel')\n    ], RowPositionUtils.prototype, \"rowModel\", void 0);\n    __decorate$1J([\n        Autowired('pinnedRowModel')\n    ], RowPositionUtils.prototype, \"pinnedRowModel\", void 0);\n    RowPositionUtils = __decorate$1J([\n        Bean('rowPositionUtils')\n    ], RowPositionUtils);\n    return RowPositionUtils;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1K = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar CellPositionUtils = /** @class */ (function () {\n    function CellPositionUtils() {\n    }\n    CellPositionUtils.prototype.createId = function (cellPosition) {\n        var rowIndex = cellPosition.rowIndex, rowPinned = cellPosition.rowPinned, column = cellPosition.column;\n        return this.createIdFromValues(rowIndex, column, rowPinned);\n    };\n    CellPositionUtils.prototype.createIdFromValues = function (rowIndex, column, rowPinned) {\n        return rowIndex + \".\" + (rowPinned == null ? 'null' : rowPinned) + \".\" + column.getId();\n    };\n    CellPositionUtils.prototype.equals = function (cellA, cellB) {\n        var colsMatch = cellA.column === cellB.column;\n        var floatingMatch = cellA.rowPinned === cellB.rowPinned;\n        var indexMatch = cellA.rowIndex === cellB.rowIndex;\n        return colsMatch && floatingMatch && indexMatch;\n    };\n    CellPositionUtils = __decorate$1K([\n        Bean('cellPositionUtils')\n    ], CellPositionUtils);\n    return CellPositionUtils;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1L = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar PinnedRowModel = /** @class */ (function () {\n    function PinnedRowModel() {\n    }\n    PinnedRowModel.prototype.init = function () {\n        this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData());\n        this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData());\n    };\n    PinnedRowModel.prototype.isEmpty = function (floating) {\n        var rows = floating === Constants.PINNED_TOP ? this.pinnedTopRows : this.pinnedBottomRows;\n        return _.missingOrEmpty(rows);\n    };\n    PinnedRowModel.prototype.isRowsToRender = function (floating) {\n        return !this.isEmpty(floating);\n    };\n    PinnedRowModel.prototype.getRowAtPixel = function (pixel, floating) {\n        var rows = floating === Constants.PINNED_TOP ? this.pinnedTopRows : this.pinnedBottomRows;\n        if (_.missingOrEmpty(rows)) {\n            return 0; // this should never happen, just in case, 0 is graceful failure\n        }\n        for (var i = 0; i < rows.length; i++) {\n            var rowNode = rows[i];\n            var rowTopPixel = rowNode.rowTop + rowNode.rowHeight - 1;\n            // only need to range check against the top pixel, as we are going through the list\n            // in order, first row to hit the pixel wins\n            if (rowTopPixel >= pixel) {\n                return i;\n            }\n        }\n        return rows.length - 1;\n    };\n    PinnedRowModel.prototype.setPinnedTopRowData = function (rowData) {\n        this.pinnedTopRows = this.createNodesFromData(rowData, true);\n        var event = {\n            type: Events.EVENT_PINNED_ROW_DATA_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    PinnedRowModel.prototype.setPinnedBottomRowData = function (rowData) {\n        this.pinnedBottomRows = this.createNodesFromData(rowData, false);\n        var event = {\n            type: Events.EVENT_PINNED_ROW_DATA_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    PinnedRowModel.prototype.createNodesFromData = function (allData, isTop) {\n        var _this = this;\n        var rowNodes = [];\n        if (allData) {\n            var nextRowTop_1 = 0;\n            allData.forEach(function (dataItem, index) {\n                var rowNode = new RowNode();\n                _this.context.wireBean(rowNode);\n                rowNode.data = dataItem;\n                rowNode.id = (isTop ? 't' : 'b') + \"-\" + index;\n                rowNode.rowPinned = isTop ? Constants.PINNED_TOP : Constants.PINNED_BOTTOM;\n                rowNode.setRowTop(nextRowTop_1);\n                rowNode.setRowHeight(_this.gridOptionsWrapper.getRowHeightForNode(rowNode).height);\n                rowNode.setRowIndex(index);\n                nextRowTop_1 += rowNode.rowHeight;\n                rowNodes.push(rowNode);\n            });\n        }\n        return rowNodes;\n    };\n    PinnedRowModel.prototype.getPinnedTopRowData = function () {\n        return this.pinnedTopRows;\n    };\n    PinnedRowModel.prototype.getPinnedBottomRowData = function () {\n        return this.pinnedBottomRows;\n    };\n    PinnedRowModel.prototype.getPinnedTopTotalHeight = function () {\n        return this.getTotalHeight(this.pinnedTopRows);\n    };\n    PinnedRowModel.prototype.getPinnedTopRowCount = function () {\n        return this.pinnedTopRows ? this.pinnedTopRows.length : 0;\n    };\n    PinnedRowModel.prototype.getPinnedBottomRowCount = function () {\n        return this.pinnedBottomRows ? this.pinnedBottomRows.length : 0;\n    };\n    PinnedRowModel.prototype.getPinnedTopRow = function (index) {\n        return this.pinnedTopRows[index];\n    };\n    PinnedRowModel.prototype.getPinnedBottomRow = function (index) {\n        return this.pinnedBottomRows[index];\n    };\n    PinnedRowModel.prototype.forEachPinnedTopRow = function (callback) {\n        if (_.missingOrEmpty(this.pinnedTopRows)) {\n            return;\n        }\n        this.pinnedTopRows.forEach(callback);\n    };\n    PinnedRowModel.prototype.forEachPinnedBottomRow = function (callback) {\n        if (_.missingOrEmpty(this.pinnedBottomRows)) {\n            return;\n        }\n        this.pinnedBottomRows.forEach(callback);\n    };\n    PinnedRowModel.prototype.getPinnedBottomTotalHeight = function () {\n        return this.getTotalHeight(this.pinnedBottomRows);\n    };\n    PinnedRowModel.prototype.getTotalHeight = function (rowNodes) {\n        if (!rowNodes || rowNodes.length === 0) {\n            return 0;\n        }\n        else {\n            var lastNode = _.last(rowNodes);\n            return lastNode.rowTop + lastNode.rowHeight;\n        }\n    };\n    __decorate$1L([\n        Autowired('gridOptionsWrapper')\n    ], PinnedRowModel.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1L([\n        Autowired('eventService')\n    ], PinnedRowModel.prototype, \"eventService\", void 0);\n    __decorate$1L([\n        Autowired('context')\n    ], PinnedRowModel.prototype, \"context\", void 0);\n    __decorate$1L([\n        Autowired('columnApi')\n    ], PinnedRowModel.prototype, \"columnApi\", void 0);\n    __decorate$1L([\n        Autowired('gridApi')\n    ], PinnedRowModel.prototype, \"gridApi\", void 0);\n    __decorate$1L([\n        PostConstruct\n    ], PinnedRowModel.prototype, \"init\", null);\n    PinnedRowModel = __decorate$1L([\n        Bean('pinnedRowModel')\n    ], PinnedRowModel);\n    return PinnedRowModel;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$1a = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar UndoRedoAction = /** @class */ (function () {\n    function UndoRedoAction(cellValueChanges) {\n        this.cellValueChanges = cellValueChanges;\n    }\n    return UndoRedoAction;\n}());\nvar FillUndoRedoAction = /** @class */ (function (_super) {\n    __extends$1a(FillUndoRedoAction, _super);\n    function FillUndoRedoAction(cellValueChanges, initialRange, finalRange) {\n        var _this = _super.call(this, cellValueChanges) || this;\n        _this.initialRange = initialRange;\n        _this.finalRange = finalRange;\n        return _this;\n    }\n    return FillUndoRedoAction;\n}(UndoRedoAction));\nvar UndoRedoStack = /** @class */ (function () {\n    function UndoRedoStack(maxStackSize) {\n        this.actionStack = [];\n        this.maxStackSize = maxStackSize ? maxStackSize : UndoRedoStack.DEFAULT_STACK_SIZE;\n        this.actionStack = new Array(this.maxStackSize);\n    }\n    UndoRedoStack.prototype.pop = function () {\n        return this.actionStack.pop();\n    };\n    UndoRedoStack.prototype.push = function (item) {\n        var shouldAddActions = item.cellValueChanges && item.cellValueChanges.length > 0;\n        if (!shouldAddActions) {\n            return;\n        }\n        if (this.actionStack.length === this.maxStackSize) {\n            this.actionStack.shift();\n        }\n        this.actionStack.push(item);\n    };\n    UndoRedoStack.prototype.clear = function () {\n        this.actionStack = [];\n    };\n    UndoRedoStack.DEFAULT_STACK_SIZE = 10;\n    return UndoRedoStack;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1M = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar UndoRedoService = /** @class */ (function () {\n    function UndoRedoService() {\n        var _this = this;\n        this.cellValueChanges = [];\n        this.isCellEditing = false;\n        this.isRowEditing = false;\n        this.isPasting = false;\n        this.isFilling = false;\n        this.events = [];\n        this.onCellValueChanged = function (event) {\n            var shouldCaptureAction = _this.isCellEditing || _this.isRowEditing || _this.isPasting || _this.isFilling;\n            if (!shouldCaptureAction) {\n                return;\n            }\n            var rowPinned = event.rowPinned, rowIndex = event.rowIndex, column = event.column, oldValue = event.oldValue, value = event.value;\n            var cellValueChange = {\n                rowPinned: rowPinned,\n                rowIndex: rowIndex,\n                columnId: column.getColId(),\n                oldValue: oldValue,\n                newValue: value\n            };\n            _this.cellValueChanges.push(cellValueChange);\n        };\n        this.clearStacks = function () {\n            _this.undoStack.clear();\n            _this.redoStack.clear();\n        };\n    }\n    UndoRedoService.prototype.init = function () {\n        if (!this.gridOptionsWrapper.isUndoRedoCellEditing()) {\n            return;\n        }\n        var undoRedoLimit = this.gridOptionsWrapper.getUndoRedoCellEditingLimit();\n        if (undoRedoLimit <= 0) {\n            return;\n        }\n        this.undoStack = new UndoRedoStack(undoRedoLimit);\n        this.redoStack = new UndoRedoStack(undoRedoLimit);\n        this.events = [].concat(this.addRowEditingListeners(), this.addCellEditingListeners(), this.addPasteListeners(), this.addFillListeners(), [\n            this.eventService.addEventListener(Events.EVENT_CELL_VALUE_CHANGED, this.onCellValueChanged),\n            // undo / redo is restricted to actual editing so we clear the stacks when other operations are\n            // performed that change the order of the row / cols.\n            this.eventService.addEventListener(Events.EVENT_MODEL_UPDATED, this.clearStacks),\n            this.eventService.addEventListener(Events.EVENT_COLUMN_PIVOT_MODE_CHANGED, this.clearStacks),\n            this.eventService.addEventListener(Events.EVENT_COLUMN_EVERYTHING_CHANGED, this.clearStacks),\n            this.eventService.addEventListener(Events.EVENT_COLUMN_GROUP_OPENED, this.clearStacks),\n            this.eventService.addEventListener(Events.EVENT_COLUMN_ROW_GROUP_CHANGED, this.clearStacks),\n            this.eventService.addEventListener(Events.EVENT_COLUMN_MOVED, this.clearStacks),\n            this.eventService.addEventListener(Events.EVENT_COLUMN_PINNED, this.clearStacks),\n            this.eventService.addEventListener(Events.EVENT_COLUMN_VISIBLE, this.clearStacks),\n            this.eventService.addEventListener(Events.EVENT_ROW_DRAG_END, this.clearStacks),\n        ]);\n    };\n    UndoRedoService.prototype.destroy = function () {\n        if (this.events.length) {\n            this.events.forEach(function (func) { return func(); });\n            this.events = [];\n        }\n    };\n    UndoRedoService.prototype.undo = function () {\n        if (!this.undoStack) {\n            return;\n        }\n        var undoAction = this.undoStack.pop();\n        if (!undoAction || !undoAction.cellValueChanges) {\n            return;\n        }\n        this.processAction(undoAction, function (cellValueChange) { return cellValueChange.oldValue; });\n        if (undoAction instanceof FillUndoRedoAction) {\n            this.processRangeAndCellFocus(undoAction.cellValueChanges, undoAction.initialRange);\n        }\n        else {\n            this.processRangeAndCellFocus(undoAction.cellValueChanges);\n        }\n        this.redoStack.push(undoAction);\n    };\n    UndoRedoService.prototype.redo = function () {\n        if (!this.redoStack) {\n            return;\n        }\n        var redoAction = this.redoStack.pop();\n        if (!redoAction || !redoAction.cellValueChanges) {\n            return;\n        }\n        this.processAction(redoAction, function (cellValueChange) { return cellValueChange.newValue; });\n        if (redoAction instanceof FillUndoRedoAction) {\n            this.processRangeAndCellFocus(redoAction.cellValueChanges, redoAction.finalRange);\n        }\n        else {\n            this.processRangeAndCellFocus(redoAction.cellValueChanges);\n        }\n        this.undoStack.push(redoAction);\n    };\n    UndoRedoService.prototype.processAction = function (action, valueExtractor) {\n        var _this = this;\n        action.cellValueChanges.forEach(function (cellValueChange) {\n            var rowIndex = cellValueChange.rowIndex, rowPinned = cellValueChange.rowPinned, columnId = cellValueChange.columnId;\n            var rowPosition = { rowIndex: rowIndex, rowPinned: rowPinned };\n            var currentRow = _this.getRowNode(rowPosition);\n            // checks if the row has been filtered out\n            if (currentRow.rowTop == null) {\n                return;\n            }\n            currentRow.setDataValue(columnId, valueExtractor(cellValueChange));\n        });\n    };\n    UndoRedoService.prototype.processRangeAndCellFocus = function (cellValueChanges, range) {\n        if (range) {\n            var startRow = range.startRow;\n            var endRow = range.endRow;\n            var lastFocusedCell_1 = {\n                rowPinned: startRow.rowPinned,\n                rowIndex: startRow.rowIndex,\n                columnId: range.startColumn.getColId()\n            };\n            this.setLastFocusedCell(lastFocusedCell_1);\n            var cellRangeParams = {\n                rowStartIndex: startRow.rowIndex,\n                rowStartPinned: startRow.rowPinned,\n                rowEndIndex: endRow.rowIndex,\n                rowEndPinned: endRow.rowPinned,\n                columnStart: range.startColumn,\n                columns: range.columns\n            };\n            this.gridApi.addCellRange(cellRangeParams);\n            return;\n        }\n        var cellValueChange = cellValueChanges[0];\n        var rowIndex = cellValueChange.rowIndex, rowPinned = cellValueChange.rowPinned;\n        var rowPosition = { rowIndex: rowIndex, rowPinned: rowPinned };\n        var row = this.getRowNode(rowPosition);\n        var lastFocusedCell = {\n            rowPinned: cellValueChange.rowPinned,\n            rowIndex: row.rowIndex,\n            columnId: cellValueChange.columnId\n        };\n        this.setLastFocusedCell(lastFocusedCell);\n    };\n    UndoRedoService.prototype.setLastFocusedCell = function (lastFocusedCell) {\n        var rowIndex = lastFocusedCell.rowIndex, columnId = lastFocusedCell.columnId, rowPinned = lastFocusedCell.rowPinned;\n        this.gridApi.ensureIndexVisible(rowIndex);\n        this.gridApi.ensureColumnVisible(columnId);\n        if (ModuleRegistry.isRegistered(exports.ModuleNames.RangeSelectionModule)) {\n            this.gridApi.clearRangeSelection();\n        }\n        this.focusController.setFocusedCell(rowIndex, columnId, rowPinned, true);\n    };\n    UndoRedoService.prototype.addRowEditingListeners = function () {\n        var _this = this;\n        return [\n            this.eventService.addEventListener(Events.EVENT_ROW_EDITING_STARTED, function () {\n                _this.isRowEditing = true;\n            }),\n            this.eventService.addEventListener(Events.EVENT_ROW_EDITING_STOPPED, function () {\n                var action = new UndoRedoAction(_this.cellValueChanges);\n                _this.pushActionsToUndoStack(action);\n                _this.isRowEditing = false;\n            })\n        ];\n    };\n    UndoRedoService.prototype.addCellEditingListeners = function () {\n        var _this = this;\n        return [\n            this.eventService.addEventListener(Events.EVENT_CELL_EDITING_STARTED, function () {\n                _this.isCellEditing = true;\n            }),\n            this.eventService.addEventListener(Events.EVENT_CELL_EDITING_STOPPED, function () {\n                _this.isCellEditing = false;\n                var shouldPushAction = !_this.isRowEditing && !_this.isPasting && !_this.isFilling;\n                if (shouldPushAction) {\n                    var action = new UndoRedoAction(_this.cellValueChanges);\n                    _this.pushActionsToUndoStack(action);\n                }\n            })\n        ];\n    };\n    UndoRedoService.prototype.addPasteListeners = function () {\n        var _this = this;\n        return [\n            this.eventService.addEventListener(Events.EVENT_PASTE_START, function () {\n                _this.isPasting = true;\n            }),\n            this.eventService.addEventListener(Events.EVENT_PASTE_END, function () {\n                var action = new UndoRedoAction(_this.cellValueChanges);\n                _this.pushActionsToUndoStack(action);\n                _this.isPasting = false;\n            })\n        ];\n    };\n    UndoRedoService.prototype.addFillListeners = function () {\n        var _this = this;\n        return [\n            this.eventService.addEventListener(Events.EVENT_FILL_START, function () {\n                _this.isFilling = true;\n            }),\n            this.eventService.addEventListener(Events.EVENT_FILL_END, function (event) {\n                var action = new FillUndoRedoAction(_this.cellValueChanges, event.initialRange, event.finalRange);\n                _this.pushActionsToUndoStack(action);\n                _this.isFilling = false;\n            })\n        ];\n    };\n    UndoRedoService.prototype.pushActionsToUndoStack = function (action) {\n        this.undoStack.push(action);\n        this.cellValueChanges = [];\n        this.redoStack.clear();\n    };\n    UndoRedoService.prototype.getRowNode = function (gridRow) {\n        switch (gridRow.rowPinned) {\n            case Constants.PINNED_TOP:\n                return this.pinnedRowModel.getPinnedTopRowData()[gridRow.rowIndex];\n            case Constants.PINNED_BOTTOM:\n                return this.pinnedRowModel.getPinnedBottomRowData()[gridRow.rowIndex];\n            default:\n                return this.rowModel.getRow(gridRow.rowIndex);\n        }\n    };\n    __decorate$1M([\n        Autowired('gridOptionsWrapper')\n    ], UndoRedoService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1M([\n        Autowired('focusController')\n    ], UndoRedoService.prototype, \"focusController\", void 0);\n    __decorate$1M([\n        Autowired('eventService')\n    ], UndoRedoService.prototype, \"eventService\", void 0);\n    __decorate$1M([\n        Autowired('gridApi')\n    ], UndoRedoService.prototype, \"gridApi\", void 0);\n    __decorate$1M([\n        Autowired('rowModel')\n    ], UndoRedoService.prototype, \"rowModel\", void 0);\n    __decorate$1M([\n        Autowired('pinnedRowModel')\n    ], UndoRedoService.prototype, \"pinnedRowModel\", void 0);\n    __decorate$1M([\n        PostConstruct\n    ], UndoRedoService.prototype, \"init\", null);\n    __decorate$1M([\n        PreDestroy\n    ], UndoRedoService.prototype, \"destroy\", null);\n    UndoRedoService = __decorate$1M([\n        Bean('undoRedoService')\n    ], UndoRedoService);\n    return UndoRedoService;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar Grid = /** @class */ (function () {\n    function Grid(eGridDiv, gridOptions, params) {\n        if (!eGridDiv) {\n            console.error('ag-Grid: no div element provided to the grid');\n            return;\n        }\n        if (!gridOptions) {\n            console.error('ag-Grid: no gridOptions provided to the grid');\n            return;\n        }\n        var debug = !!gridOptions.debug;\n        this.gridOptions = gridOptions;\n        var registeredModules = this.getRegisteredModules(params);\n        var beanClasses = this.createBeansList(registeredModules);\n        var agStackComponents = this.createAgStackComponentsList(registeredModules);\n        var providedBeanInstances = this.createProvidedBeans(eGridDiv, params);\n        if (!beanClasses) {\n            return;\n        } // happens when no row model found\n        var contextParams = {\n            providedBeanInstances: providedBeanInstances,\n            beanClasses: beanClasses,\n            components: agStackComponents,\n            debug: debug\n        };\n        this.logger = new Logger('ag-Grid', function () { return gridOptions.debug; });\n        var contextLogger = new Logger('Context', function () { return contextParams.debug; });\n        this.context = new Context(contextParams, contextLogger);\n        this.registerModuleUserComponents(registeredModules);\n        var gridCoreClass = (params && params.rootComponent) || GridCore;\n        var gridCore = new gridCoreClass();\n        this.context.wireBean(gridCore);\n        this.setColumnsAndData();\n        this.dispatchGridReadyEvent(gridOptions);\n        var isEnterprise = ModuleRegistry.isRegistered(exports.ModuleNames.EnterpriseCoreModule);\n        this.logger.log(\"initialised successfully, enterprise = \" + isEnterprise);\n    }\n    Grid.prototype.getRegisteredModules = function (params) {\n        var passedViaConstructor = params ? params.modules : null;\n        var registered = ModuleRegistry.getRegisteredModules();\n        var allModules = [];\n        var mapNames = {};\n        // adds to list and removes duplicates\n        function addModule(moduleBased, module) {\n            function addIndividualModule(module) {\n                if (!mapNames[module.moduleName]) {\n                    mapNames[module.moduleName] = true;\n                    allModules.push(module);\n                    ModuleRegistry.register(module, moduleBased);\n                }\n            }\n            addIndividualModule(module);\n            if (module.dependantModules) {\n                module.dependantModules.forEach(addModule.bind(null, moduleBased));\n            }\n        }\n        if (passedViaConstructor) {\n            passedViaConstructor.forEach(addModule.bind(null, true));\n        }\n        if (registered) {\n            registered.forEach(addModule.bind(null, !ModuleRegistry.isPackageBased()));\n        }\n        return allModules;\n    };\n    Grid.prototype.registerModuleUserComponents = function (registeredModules) {\n        var userComponentRegistry = this.context.getBean('userComponentRegistry');\n        var moduleUserComps = this.extractModuleEntity(registeredModules, function (module) { return module.userComponents ? module.userComponents : []; });\n        moduleUserComps.forEach(function (compMeta) {\n            userComponentRegistry.registerDefaultComponent(compMeta.componentName, compMeta.componentClass);\n        });\n    };\n    Grid.prototype.createProvidedBeans = function (eGridDiv, params) {\n        var frameworkOverrides = params ? params.frameworkOverrides : null;\n        if (_.missing(frameworkOverrides)) {\n            frameworkOverrides = new VanillaFrameworkOverrides();\n        }\n        var seed = {\n            gridOptions: this.gridOptions,\n            eGridDiv: eGridDiv,\n            $scope: params ? params.$scope : null,\n            $compile: params ? params.$compile : null,\n            quickFilterOnScope: params ? params.quickFilterOnScope : null,\n            globalEventListener: params ? params.globalEventListener : null,\n            frameworkOverrides: frameworkOverrides\n        };\n        if (params && params.providedBeanInstances) {\n            _.assign(seed, params.providedBeanInstances);\n        }\n        return seed;\n    };\n    Grid.prototype.createAgStackComponentsList = function (registeredModules) {\n        var components = [\n            { componentName: 'AgCheckbox', componentClass: AgCheckbox },\n            { componentName: 'AgRadioButton', componentClass: AgRadioButton },\n            { componentName: 'AgToggleButton', componentClass: AgToggleButton },\n            { componentName: 'AgInputTextField', componentClass: AgInputTextField },\n            { componentName: 'AgInputTextArea', componentClass: AgInputTextArea },\n            { componentName: 'AgInputNumberField', componentClass: AgInputNumberField },\n            { componentName: 'AgInputRange', componentClass: AgInputRange },\n            { componentName: 'AgSelect', componentClass: AgSelect },\n            { componentName: 'AgSlider', componentClass: AgSlider },\n            { componentName: 'AgAngleSelect', componentClass: AgAngleSelect },\n            { componentName: 'AgColorPicker', componentClass: AgColorPicker },\n            { componentName: 'AgGridComp', componentClass: GridPanel },\n            { componentName: 'AgHeaderRoot', componentClass: HeaderRootComp },\n            { componentName: 'AgPagination', componentClass: PaginationComp },\n            { componentName: 'AgOverlayWrapper', componentClass: OverlayWrapperComponent },\n            { componentName: 'AgGroupComponent', componentClass: AgGroupComponent },\n            { componentName: 'AgPanel', componentClass: AgPanel },\n            { componentName: 'AgDialog', componentClass: AgDialog }\n        ];\n        var moduleAgStackComps = this.extractModuleEntity(registeredModules, function (module) { return module.agStackComponents ? module.agStackComponents : []; });\n        components = components.concat(moduleAgStackComps);\n        return components;\n    };\n    Grid.prototype.createBeansList = function (registeredModules) {\n        var rowModelClass = this.getRowModelClass(registeredModules);\n        if (!rowModelClass) {\n            return undefined;\n        }\n        // beans should only contain SERVICES, it should NEVER contain COMPONENTS\n        var beans = [\n            rowModelClass, Beans, RowPositionUtils, CellPositionUtils,\n            PaginationAutoPageSizeService, GridApi, UserComponentRegistry, AgComponentUtils,\n            ComponentMetadataProvider, ResizeObserverService, UserComponentFactory,\n            MaxDivHeightScaler, AutoHeightCalculator, CellRendererFactory, HorizontalResizeService,\n            PinnedRowModel, DragService, DisplayedGroupCreator, EventService, GridOptionsWrapper, PopupService,\n            SelectionController, FilterManager, ColumnController, PaginationProxy, RowRenderer, ExpressionService,\n            ColumnFactory, TemplateService, AlignedGridsService,\n            NavigationService, ValueCache, ValueService, LoggerFactory, ColumnUtils, AutoWidthCalculator,\n            StandardMenuFactory, DragAndDropService, ColumnApi, FocusController, MouseEventService, Environment,\n            CellNavigationService, ValueFormatterService, StylingService, ScrollVisibleService, SortController,\n            ColumnHoverService, ColumnAnimationService, SelectableService, AutoGroupColService,\n            ChangeDetectionService, AnimationFrameService, DetailRowCompCache, UndoRedoService\n        ];\n        var moduleBeans = this.extractModuleEntity(registeredModules, function (module) { return module.beans ? module.beans : []; });\n        beans.push.apply(beans, moduleBeans);\n        // check for duplicates, as different modules could include the same beans that\n        // they depend on, eg ClientSideRowModel in enterprise, and ClientSideRowModel in community\n        var beansNoDuplicates = [];\n        beans.forEach(function (bean) {\n            if (beansNoDuplicates.indexOf(bean) < 0) {\n                beansNoDuplicates.push(bean);\n            }\n        });\n        return beansNoDuplicates;\n    };\n    Grid.prototype.extractModuleEntity = function (moduleEntities, extractor) {\n        return [].concat.apply([], moduleEntities.map(extractor));\n    };\n    Grid.prototype.setColumnsAndData = function () {\n        var gridOptionsWrapper = this.context.getBean('gridOptionsWrapper');\n        var columnController = this.context.getBean('columnController');\n        var columnDefs = gridOptionsWrapper.getColumnDefs();\n        if (_.exists(columnDefs)) {\n            columnController.setColumnDefs(columnDefs, \"gridInitializing\");\n        }\n        var rowModel = this.context.getBean('rowModel');\n        rowModel.start();\n    };\n    Grid.prototype.dispatchGridReadyEvent = function (gridOptions) {\n        var eventService = this.context.getBean('eventService');\n        var readyEvent = {\n            type: Events.EVENT_GRID_READY,\n            api: gridOptions.api,\n            columnApi: gridOptions.columnApi\n        };\n        eventService.dispatchEvent(readyEvent);\n    };\n    Grid.prototype.getRowModelClass = function (registeredModules) {\n        var rowModelType = this.gridOptions.rowModelType;\n        //TODO: temporary measure before 'enterprise' is completely removed (similar handling in gridOptionsWrapper is also required)\n        if (rowModelType === 'enterprise') {\n            console.warn(\"ag-Grid: enterprise rowModel deprecated. Should now be called server side row model instead.\");\n            rowModelType = Constants.ROW_MODEL_TYPE_SERVER_SIDE;\n        }\n        if (rowModelType === 'normal') {\n            console.warn(\"ag-Grid: normal rowModel deprecated. Should now be called client side row model instead.\");\n            rowModelType = Constants.ROW_MODEL_TYPE_CLIENT_SIDE;\n        }\n        // default to client side\n        if (!rowModelType) {\n            rowModelType = Constants.ROW_MODEL_TYPE_CLIENT_SIDE;\n        }\n        var rowModelClasses = {};\n        registeredModules.forEach(function (module) {\n            _.iterateObject(module.rowModels, function (key, value) {\n                rowModelClasses[key] = value;\n            });\n        });\n        var rowModelClass = rowModelClasses[rowModelType];\n        if (_.exists(rowModelClass)) {\n            return rowModelClass;\n        }\n        else {\n            if (rowModelType === Constants.ROW_MODEL_TYPE_INFINITE) {\n                console.error(\"ag-Grid: Row Model \\\"Infinite\\\" not found. Please ensure the \" + exports.ModuleNames.InfiniteRowModelModule + \" is registered.';\");\n            }\n            console.error('ag-Grid: could not find matching row model for rowModelType ' + rowModelType);\n            if (rowModelType === Constants.ROW_MODEL_TYPE_VIEWPORT) {\n                console.error(\"ag-Grid: Row Model \\\"Viewport\\\" not found. Please ensure the ag-Grid Enterprise Module \" + exports.ModuleNames.ViewportRowModelModule + \" is registered.';\");\n            }\n            if (rowModelType === Constants.ROW_MODEL_TYPE_SERVER_SIDE) {\n                console.error(\"ag-Grid: Row Model \\\"Server Side\\\" not found. Please ensure the ag-Grid Enterprise Module \" + exports.ModuleNames.ServerSideRowModelModule + \" is registered.';\");\n            }\n            if (rowModelType === Constants.ROW_MODEL_TYPE_CLIENT_SIDE) {\n                console.error(\"ag-Grid: Row Model \\\"Client Side\\\" not found. Please ensure the \" + exports.ModuleNames.ClientSideRowModelModule + \" is registered.';\");\n            }\n            return undefined;\n        }\n    };\n    Grid.prototype.destroy = function () {\n        this.gridOptions.api.destroy();\n    };\n    return Grid;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nfunction initialiseAgGridWithAngular1(angular) {\n    var angularModule = angular.module(\"agGrid\", []);\n    angularModule.directive(\"agGrid\", function () {\n        return {\n            restrict: \"A\",\n            controller: ['$element', '$scope', '$compile', '$attrs', AngularDirectiveController],\n            scope: true\n        };\n    });\n}\nfunction AngularDirectiveController($element, $scope, $compile, $attrs) {\n    var gridOptions;\n    var quickFilterOnScope;\n    var keyOfGridInScope = $attrs.agGrid;\n    quickFilterOnScope = keyOfGridInScope + '.quickFilterText';\n    gridOptions = $scope.$eval(keyOfGridInScope);\n    if (!gridOptions) {\n        console.warn(\"WARNING - grid options for ag-Grid not found. Please ensure the attribute ag-grid points to a valid object on the scope\");\n        return;\n    }\n    var eGridDiv = $element[0];\n    var gridParams = {\n        $scope: $scope,\n        $compile: $compile,\n        quickFilterOnScope: quickFilterOnScope\n    };\n    var grid = new Grid(eGridDiv, gridOptions, gridParams);\n    $scope.$on(\"$destroy\", function () {\n        grid.destroy();\n        grid = null;\n    });\n}\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar registered = false;\nfunction initialiseAgGridWithWebComponents() {\n    console.warn('ag-grid: initialiseAgGridWithWebComponents is deprecated. Please use the ag-grid-webcomponent dependency instead. ');\n    // only register to WebComponents once\n    if (registered) {\n        return;\n    }\n    registered = true;\n    if (typeof document === 'undefined' || !document.registerElement) {\n        console.error('ag-Grid: unable to find document.registerElement() function, unable to initialise ag-Grid as a Web Component');\n    }\n    // i don't think this type of extension is possible in TypeScript, so back to\n    // plain Javascript to create this object\n    var AgileGridProto = Object.create(HTMLElement.prototype);\n    // wrap each property with a get and set method, so we can track when changes are done\n    ComponentUtil.ALL_PROPERTIES.forEach(function (key) {\n        Object.defineProperty(AgileGridProto, key, {\n            set: function (v) {\n                this.__agGridSetProperty(key, v);\n            },\n            get: function () {\n                return this.__agGridGetProperty(key);\n            },\n            enumerable: true,\n            configurable: true\n        });\n    });\n    var agGridProtoNoType = AgileGridProto;\n    agGridProtoNoType.__agGridSetProperty = function (key, value) {\n        if (!this.__attributes) {\n            this.__attributes = {};\n        }\n        this.__attributes[key] = value;\n        // keeping this consistent with the ng2 onChange, so I can reuse the handling code\n        var changeObject = {};\n        changeObject[key] = { currentValue: value };\n        this.onChange(changeObject);\n    };\n    agGridProtoNoType.onChange = function (changes) {\n        if (this._initialised) {\n            ComponentUtil.processOnChange(changes, this._gridOptions, this.api, this.columnApi);\n        }\n    };\n    agGridProtoNoType.__agGridGetProperty = function (key) {\n        if (!this.__attributes) {\n            this.__attributes = {};\n        }\n        return this.__attributes[key];\n    };\n    agGridProtoNoType.setGridOptions = function (options) {\n        var globalEventListener = this.globalEventListener.bind(this);\n        this._gridOptions = ComponentUtil.copyAttributesToGridOptions(options, this);\n        var gridParams = {\n            globalEventListener: globalEventListener\n        };\n        this._agGrid = new Grid(this, this._gridOptions, gridParams);\n        this.api = options.api;\n        this.columnApi = options.columnApi;\n        this._initialised = true;\n    };\n    // copies all the attributes into this object\n    agGridProtoNoType.createdCallback = function () {\n        for (var i = 0; i < this.attributes.length; i++) {\n            var attribute = this.attributes[i];\n            this.setPropertyFromAttribute(attribute);\n        }\n    };\n    agGridProtoNoType.setPropertyFromAttribute = function (attribute) {\n        var name = toCamelCase(attribute.nodeName);\n        var value = attribute.nodeValue;\n        if (ComponentUtil.ALL_PROPERTIES.indexOf(name) >= 0) {\n            this[name] = value;\n        }\n    };\n    agGridProtoNoType.attachedCallback = function (params) { };\n    agGridProtoNoType.detachedCallback = function (params) { };\n    agGridProtoNoType.attributeChangedCallback = function (attributeName) {\n        var attribute = this.attributes[attributeName];\n        this.setPropertyFromAttribute(attribute);\n    };\n    agGridProtoNoType.globalEventListener = function (eventType, event) {\n        var eventLowerCase = eventType.toLowerCase();\n        var browserEvent = new Event(eventLowerCase);\n        var browserEventNoType = browserEvent;\n        browserEventNoType.agGridDetails = event;\n        this.dispatchEvent(browserEvent);\n        var callbackMethod = 'on' + eventLowerCase;\n        if (typeof this[callbackMethod] === 'function') {\n            this[callbackMethod](browserEvent);\n        }\n    };\n    // finally, register\n    document.registerElement('ag-grid', { prototype: AgileGridProto });\n}\nfunction toCamelCase(myString) {\n    if (typeof myString === 'string') {\n        var result = myString.replace(/-([a-z])/g, function (g) {\n            return g[1].toUpperCase();\n        });\n        return result;\n    }\n    else {\n        return myString;\n    }\n}\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$1b = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1N = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ManagedTabComponent = /** @class */ (function (_super) {\n    __extends$1b(ManagedTabComponent, _super);\n    function ManagedTabComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ManagedTabComponent.prototype.onTabKeyDown = function (e) {\n        e.preventDefault();\n    };\n    ManagedTabComponent.prototype.attachListenersToGui = function () {\n        var _this = this;\n        var eGui = this.getGui();\n        if (!eGui) {\n            return;\n        }\n        if (this.tabListener) {\n            this.tabListener = this.tabListener();\n        }\n        this.tabListener = this.addDestroyableEventListener(eGui, 'keydown', function (e) {\n            if (e.keyCode === Constants.KEY_TAB) {\n                _this.onTabKeyDown(e);\n            }\n        });\n    };\n    __decorate$1N([\n        PostConstruct\n    ], ManagedTabComponent.prototype, \"attachListenersToGui\", null);\n    return ManagedTabComponent;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$1c = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1O = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar TabbedLayout = /** @class */ (function (_super) {\n    __extends$1c(TabbedLayout, _super);\n    function TabbedLayout(params) {\n        var _this = _super.call(this, TabbedLayout.getTemplate(params.cssClass)) || this;\n        _this.items = [];\n        _this.params = params;\n        if (params.items) {\n            params.items.forEach(function (item) { return _this.addItem(item); });\n        }\n        return _this;\n    }\n    TabbedLayout.prototype.init = function () {\n        this.addDestroyableEventListener(this.getGui(), 'keydown', this.handleKeyDown.bind(this));\n    };\n    TabbedLayout.prototype.handleKeyDown = function (e) {\n        switch (e.keyCode) {\n            case Constants.KEY_RIGHT:\n            case Constants.KEY_LEFT:\n                if (!this.eHeader.contains(document.activeElement)) {\n                    return;\n                }\n                var currentPosition = this.items.indexOf(this.activeItem);\n                var nextPosition = e.keyCode === Constants.KEY_RIGHT ? Math.min(currentPosition + 1, this.items.length - 1) : Math.max(currentPosition - 1, 0);\n                if (currentPosition === nextPosition) {\n                    return;\n                }\n                e.preventDefault();\n                var nextItem = this.items[nextPosition];\n                this.showItemWrapper(nextItem);\n                nextItem.eHeaderButton.focus();\n                break;\n            case Constants.KEY_UP:\n            case Constants.KEY_DOWN:\n                e.stopPropagation();\n                break;\n        }\n    };\n    TabbedLayout.prototype.onTabKeyDown = function (e) {\n        _super.prototype.onTabKeyDown.call(this, e);\n        var focusableItems = this.focusController.findFocusableElements(this.eBody, '.ag-set-filter-list *, .ag-menu-list *');\n        var activeElement = document.activeElement;\n        if (this.eHeader.contains(activeElement)) {\n            if (focusableItems.length) {\n                focusableItems[e.shiftKey ? focusableItems.length - 1 : 0].focus();\n            }\n        }\n        else {\n            var focusedPosition = focusableItems.indexOf(activeElement);\n            var nextPosition = e.shiftKey ? focusedPosition - 1 : focusedPosition + 1;\n            if (nextPosition < 0 || nextPosition >= focusableItems.length) {\n                this.activeItem.eHeaderButton.focus();\n                return;\n            }\n            var nextItem = focusableItems[nextPosition];\n            if (nextItem) {\n                nextItem.focus();\n            }\n        }\n    };\n    TabbedLayout.getTemplate = function (cssClass) {\n        return \"<div class=\\\"ag-tabs \" + cssClass + \"\\\">\\n            <div ref=\\\"eHeader\\\" class=\\\"ag-tabs-header \" + (cssClass ? cssClass + \"-header\" : '') + \"\\\"></div>\\n            <div ref=\\\"eBody\\\" class=\\\"ag-tabs-body \" + (cssClass ? cssClass + \"-body\" : '') + \"\\\"></div>\\n        </div>\";\n    };\n    TabbedLayout.prototype.setAfterAttachedParams = function (params) {\n        this.afterAttachedParams = params;\n    };\n    TabbedLayout.prototype.getMinDimensions = function () {\n        var eDummyContainer = this.getGui().cloneNode(true);\n        var eDummyBody = eDummyContainer.querySelector('[ref=\"eBody\"]');\n        // position fixed, so it isn't restricted to the boundaries of the parent\n        eDummyContainer.style.position = 'fixed';\n        // we put the dummy into the body container, so it will inherit all the\n        // css styles that the real cells are inheriting\n        this.getGui().appendChild(eDummyContainer);\n        var minWidth = 0;\n        var minHeight = 0;\n        this.items.forEach(function (itemWrapper) {\n            _.clearElement(eDummyBody);\n            var eClone = itemWrapper.tabbedItem.bodyPromise.resolveNow(null, function (body) { return body.cloneNode(true); });\n            if (eClone == null) {\n                return;\n            }\n            eDummyBody.appendChild(eClone);\n            if (minWidth < eDummyContainer.offsetWidth) {\n                minWidth = eDummyContainer.offsetWidth;\n            }\n            if (minHeight < eDummyContainer.offsetHeight) {\n                minHeight = eDummyContainer.offsetHeight;\n            }\n        });\n        this.getGui().removeChild(eDummyContainer);\n        return { height: minHeight, width: minWidth };\n    };\n    TabbedLayout.prototype.showFirstItem = function () {\n        if (this.items.length > 0) {\n            this.showItemWrapper(this.items[0]);\n        }\n    };\n    TabbedLayout.prototype.addItem = function (item) {\n        var eHeaderButton = document.createElement('span');\n        eHeaderButton.tabIndex = -1;\n        eHeaderButton.appendChild(item.title);\n        _.addCssClass(eHeaderButton, 'ag-tab');\n        this.eHeader.appendChild(eHeaderButton);\n        var wrapper = {\n            tabbedItem: item,\n            eHeaderButton: eHeaderButton\n        };\n        this.items.push(wrapper);\n        eHeaderButton.addEventListener('click', this.showItemWrapper.bind(this, wrapper));\n    };\n    TabbedLayout.prototype.showItem = function (tabbedItem) {\n        var itemWrapper = _.find(this.items, function (wrapper) {\n            return wrapper.tabbedItem === tabbedItem;\n        });\n        if (itemWrapper) {\n            this.showItemWrapper(itemWrapper);\n        }\n    };\n    TabbedLayout.prototype.showItemWrapper = function (wrapper) {\n        var _this = this;\n        if (this.params.onItemClicked) {\n            this.params.onItemClicked({ item: wrapper.tabbedItem });\n        }\n        if (this.activeItem === wrapper) {\n            _.callIfPresent(this.params.onActiveItemClicked);\n            return;\n        }\n        _.clearElement(this.eBody);\n        wrapper.tabbedItem.bodyPromise.then(function (body) {\n            _this.eBody.appendChild(body);\n            body.focus();\n        });\n        if (this.activeItem) {\n            _.removeCssClass(this.activeItem.eHeaderButton, 'ag-tab-selected');\n        }\n        _.addCssClass(wrapper.eHeaderButton, 'ag-tab-selected');\n        this.activeItem = wrapper;\n        if (wrapper.tabbedItem.afterAttachedCallback) {\n            wrapper.tabbedItem.afterAttachedCallback(this.afterAttachedParams);\n        }\n    };\n    __decorate$1O([\n        Autowired('focusController')\n    ], TabbedLayout.prototype, \"focusController\", void 0);\n    __decorate$1O([\n        RefSelector('eHeader')\n    ], TabbedLayout.prototype, \"eHeader\", void 0);\n    __decorate$1O([\n        RefSelector('eBody')\n    ], TabbedLayout.prototype, \"eBody\", void 0);\n    __decorate$1O([\n        PostConstruct\n    ], TabbedLayout.prototype, \"init\", null);\n    return TabbedLayout;\n}(ManagedTabComponent));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nfunction simpleHttpRequest(params) {\n    return new Promise(function (resolve) {\n        var httpRequest = new XMLHttpRequest();\n        httpRequest.open('GET', params.url);\n        httpRequest.send();\n        httpRequest.onreadystatechange = function () {\n            if (httpRequest.readyState == 4 && httpRequest.status == 200) {\n                var httpResponse = JSON.parse(httpRequest.responseText);\n                resolve(httpResponse);\n            }\n        };\n    });\n}\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$1d = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar RowNodeBlock = /** @class */ (function (_super) {\n    __extends$1d(RowNodeBlock, _super);\n    function RowNodeBlock(blockNumber, rowNodeCacheParams) {\n        var _this = _super.call(this) || this;\n        _this.version = 0;\n        _this.state = RowNodeBlock.STATE_DIRTY;\n        _this.rowNodeCacheParams = rowNodeCacheParams;\n        _this.blockNumber = blockNumber;\n        // we don't need to calculate these now, as the inputs don't change,\n        // however it makes the code easier to read if we work them out up front\n        _this.startRow = blockNumber * rowNodeCacheParams.blockSize;\n        _this.endRow = _this.startRow + rowNodeCacheParams.blockSize;\n        return _this;\n    }\n    RowNodeBlock.prototype.isAnyNodeOpen = function (rowCount) {\n        var result = false;\n        this.forEachNodeCallback(function (rowNode) {\n            if (rowNode.expanded) {\n                result = true;\n            }\n        }, rowCount);\n        return result;\n    };\n    RowNodeBlock.prototype.forEachNodeCallback = function (callback, rowCount) {\n        for (var rowIndex = this.startRow; rowIndex < this.endRow; rowIndex++) {\n            // we check against rowCount as this page may be the last one, and if it is, then\n            // the last rows are not part of the set\n            if (rowIndex < rowCount) {\n                var rowNode = this.getRowUsingLocalIndex(rowIndex);\n                callback(rowNode, rowIndex);\n            }\n        }\n    };\n    RowNodeBlock.prototype.forEachNode = function (callback, sequence, rowCount, deep) {\n        this.forEachNodeCallback(function (rowNode) {\n            callback(rowNode, sequence.next());\n            // this will only every happen for server side row model, as infinite\n            // row model doesn't have groups\n            if (deep && rowNode.childrenCache) {\n                rowNode.childrenCache.forEachNodeDeep(callback, sequence);\n            }\n        }, rowCount);\n    };\n    RowNodeBlock.prototype.forEachNodeDeep = function (callback, sequence, rowCount) {\n        this.forEachNode(callback, sequence, rowCount, true);\n    };\n    RowNodeBlock.prototype.forEachNodeShallow = function (callback, sequence, rowCount) {\n        this.forEachNode(callback, sequence, rowCount, false);\n    };\n    RowNodeBlock.prototype.getVersion = function () {\n        return this.version;\n    };\n    RowNodeBlock.prototype.getLastAccessed = function () {\n        return this.lastAccessed;\n    };\n    RowNodeBlock.prototype.getRowUsingLocalIndex = function (rowIndex, dontTouchLastAccessed) {\n        if (dontTouchLastAccessed === void 0) { dontTouchLastAccessed = false; }\n        if (!dontTouchLastAccessed) {\n            this.lastAccessed = this.rowNodeCacheParams.lastAccessedSequence.next();\n        }\n        var localIndex = rowIndex - this.startRow;\n        return this.rowNodes[localIndex];\n    };\n    RowNodeBlock.prototype.init = function (beans) {\n        this.beans = beans;\n        this.createRowNodes();\n    };\n    RowNodeBlock.prototype.getStartRow = function () {\n        return this.startRow;\n    };\n    RowNodeBlock.prototype.getEndRow = function () {\n        return this.endRow;\n    };\n    RowNodeBlock.prototype.getBlockNumber = function () {\n        return this.blockNumber;\n    };\n    RowNodeBlock.prototype.setDirty = function () {\n        // in case any current loads in progress, this will have their results ignored\n        this.version++;\n        this.state = RowNodeBlock.STATE_DIRTY;\n    };\n    RowNodeBlock.prototype.setDirtyAndPurge = function () {\n        this.setDirty();\n        this.rowNodes.forEach(function (rowNode) {\n            rowNode.setData(null);\n        });\n    };\n    RowNodeBlock.prototype.getState = function () {\n        return this.state;\n    };\n    RowNodeBlock.prototype.setRowNode = function (rowIndex, rowNode) {\n        var localIndex = rowIndex - this.startRow;\n        this.rowNodes[localIndex] = rowNode;\n    };\n    RowNodeBlock.prototype.setBlankRowNode = function (rowIndex) {\n        var localIndex = rowIndex - this.startRow;\n        var newRowNode = this.createBlankRowNode(rowIndex);\n        this.rowNodes[localIndex] = newRowNode;\n        return newRowNode;\n    };\n    RowNodeBlock.prototype.setNewData = function (rowIndex, dataItem) {\n        var newRowNode = this.setBlankRowNode(rowIndex);\n        this.setDataAndId(newRowNode, dataItem, this.startRow + rowIndex);\n        return newRowNode;\n    };\n    RowNodeBlock.prototype.createBlankRowNode = function (rowIndex) {\n        var rowNode = new RowNode();\n        this.beans.context.wireBean(rowNode);\n        rowNode.setRowHeight(this.rowNodeCacheParams.rowHeight);\n        return rowNode;\n    };\n    // creates empty row nodes, data is missing as not loaded yet\n    RowNodeBlock.prototype.createRowNodes = function () {\n        this.rowNodes = [];\n        for (var i = 0; i < this.rowNodeCacheParams.blockSize; i++) {\n            var rowIndex = this.startRow + i;\n            var rowNode = this.createBlankRowNode(rowIndex);\n            this.rowNodes.push(rowNode);\n        }\n    };\n    RowNodeBlock.prototype.load = function () {\n        this.state = RowNodeBlock.STATE_LOADING;\n        this.loadFromDatasource();\n    };\n    RowNodeBlock.prototype.pageLoadFailed = function () {\n        this.state = RowNodeBlock.STATE_FAILED;\n        var event = {\n            type: RowNodeBlock.EVENT_LOAD_COMPLETE,\n            success: false,\n            page: this,\n            lastRow: null\n        };\n        this.dispatchEvent(event);\n    };\n    RowNodeBlock.prototype.populateWithRowData = function (rows) {\n        var _this = this;\n        var rowNodesToRefresh = [];\n        this.rowNodes.forEach(function (rowNode, index) {\n            var data = rows[index];\n            if (rowNode.stub) {\n                rowNodesToRefresh.push(rowNode);\n            }\n            _this.setDataAndId(rowNode, data, _this.startRow + index);\n        });\n        if (rowNodesToRefresh.length > 0) {\n            this.beans.rowRenderer.redrawRows(rowNodesToRefresh);\n        }\n    };\n    RowNodeBlock.prototype.destroy = function () {\n        this.rowNodes.forEach(function (rowNode) {\n            if (rowNode.childrenCache) {\n                rowNode.childrenCache.destroy();\n                rowNode.childrenCache = null;\n            }\n            // this is needed, so row render knows to fade out the row, otherwise it\n            // sees row top is present, and thinks the row should be shown. maybe\n            // rowNode should have a flag on whether it is visible???\n            rowNode.clearRowTop();\n        });\n        _super.prototype.destroy.call(this);\n    };\n    RowNodeBlock.prototype.pageLoaded = function (version, rows, lastRow) {\n        // we need to check the version, in case there was an old request\n        // from the server that was sent before we refreshed the cache,\n        // if the load was done as a result of a cache refresh\n        if (version === this.version) {\n            this.state = RowNodeBlock.STATE_LOADED;\n            this.populateWithRowData(rows);\n        }\n        lastRow = _.cleanNumber(lastRow);\n        // check here if lastRow should be set\n        var event = {\n            type: RowNodeBlock.EVENT_LOAD_COMPLETE,\n            success: true,\n            page: this,\n            lastRow: lastRow\n        };\n        this.dispatchEvent(event);\n    };\n    RowNodeBlock.EVENT_LOAD_COMPLETE = 'loadComplete';\n    RowNodeBlock.STATE_DIRTY = 'dirty';\n    RowNodeBlock.STATE_LOADING = 'loading';\n    RowNodeBlock.STATE_LOADED = 'loaded';\n    RowNodeBlock.STATE_FAILED = 'failed';\n    return RowNodeBlock;\n}(BeanStub));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __decorate$1P = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param$9 = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar RowNodeBlockLoader = /** @class */ (function () {\n    function RowNodeBlockLoader(maxConcurrentRequests, blockLoadDebounceMillis) {\n        this.activeBlockLoadsCount = 0;\n        this.blocks = [];\n        this.active = true;\n        this.maxConcurrentRequests = maxConcurrentRequests;\n        if (blockLoadDebounceMillis && blockLoadDebounceMillis > 0) {\n            this.checkBlockToLoadDebounce = _.debounce(this.performCheckBlocksToLoad.bind(this), blockLoadDebounceMillis);\n        }\n    }\n    RowNodeBlockLoader.prototype.setBeans = function (loggerFactory) {\n        this.logger = loggerFactory.create('RowNodeBlockLoader');\n    };\n    RowNodeBlockLoader.prototype.addBlock = function (block) {\n        this.blocks.push(block);\n    };\n    RowNodeBlockLoader.prototype.removeBlock = function (block) {\n        _.removeFromArray(this.blocks, block);\n    };\n    RowNodeBlockLoader.prototype.destroy = function () {\n        this.active = false;\n    };\n    RowNodeBlockLoader.prototype.loadComplete = function () {\n        this.activeBlockLoadsCount--;\n    };\n    RowNodeBlockLoader.prototype.checkBlockToLoad = function () {\n        if (this.checkBlockToLoadDebounce) {\n            this.checkBlockToLoadDebounce();\n        }\n        else {\n            this.performCheckBlocksToLoad();\n        }\n    };\n    RowNodeBlockLoader.prototype.performCheckBlocksToLoad = function () {\n        if (!this.active) {\n            return;\n        }\n        this.printCacheStatus();\n        if (this.activeBlockLoadsCount >= this.maxConcurrentRequests) {\n            this.logger.log(\"checkBlockToLoad: max loads exceeded\");\n            return;\n        }\n        var blockToLoad = null;\n        this.blocks.forEach(function (block) {\n            if (block.getState() === RowNodeBlock.STATE_DIRTY) {\n                blockToLoad = block;\n            }\n        });\n        if (blockToLoad) {\n            blockToLoad.load();\n            this.activeBlockLoadsCount++;\n            this.logger.log(\"checkBlockToLoad: loading page \" + blockToLoad.getBlockNumber());\n            this.printCacheStatus();\n        }\n        else {\n            this.logger.log(\"checkBlockToLoad: no pages to load\");\n        }\n    };\n    RowNodeBlockLoader.prototype.getBlockState = function () {\n        var result = {};\n        this.blocks.forEach(function (block) {\n            var nodeIdPrefix = block.getNodeIdPrefix();\n            var stateItem = {\n                blockNumber: block.getBlockNumber(),\n                startRow: block.getStartRow(),\n                endRow: block.getEndRow(),\n                pageStatus: block.getState()\n            };\n            if (_.exists(nodeIdPrefix)) {\n                result[nodeIdPrefix + block.getBlockNumber()] = stateItem;\n            }\n            else {\n                result[block.getBlockNumber()] = stateItem;\n            }\n        });\n        return result;\n    };\n    RowNodeBlockLoader.prototype.printCacheStatus = function () {\n        if (this.logger.isLogging()) {\n            this.logger.log(\"printCacheStatus: activePageLoadsCount = \" + this.activeBlockLoadsCount + \",\"\n                + (\" blocks = \" + JSON.stringify(this.getBlockState())));\n        }\n    };\n    RowNodeBlockLoader.prototype.isLoading = function () {\n        return this.activeBlockLoadsCount > 0;\n    };\n    __decorate$1P([\n        __param$9(0, Qualifier('loggerFactory'))\n    ], RowNodeBlockLoader.prototype, \"setBeans\", null);\n    return RowNodeBlockLoader;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$1e = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1Q = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar RowNodeCache = /** @class */ (function (_super) {\n    __extends$1e(RowNodeCache, _super);\n    function RowNodeCache(cacheParams) {\n        var _this = _super.call(this) || this;\n        _this.maxRowFound = false;\n        _this.blocks = {};\n        _this.blockCount = 0;\n        _this.virtualRowCount = cacheParams.initialRowCount;\n        _this.cacheParams = cacheParams;\n        return _this;\n    }\n    RowNodeCache.prototype.destroy = function () {\n        var _this = this;\n        this.forEachBlockInOrder(function (block) { return _this.destroyBlock(block); });\n        _super.prototype.destroy.call(this);\n    };\n    RowNodeCache.prototype.init = function () {\n        var _this = this;\n        this.active = true;\n        this.addDestroyFunc(function () { return _this.active = false; });\n    };\n    RowNodeCache.prototype.isActive = function () {\n        return this.active;\n    };\n    RowNodeCache.prototype.getVirtualRowCount = function () {\n        return this.virtualRowCount;\n    };\n    RowNodeCache.prototype.hack_setVirtualRowCount = function (virtualRowCount) {\n        this.virtualRowCount = virtualRowCount;\n    };\n    RowNodeCache.prototype.isMaxRowFound = function () {\n        return this.maxRowFound;\n    };\n    // listener on EVENT_LOAD_COMPLETE\n    RowNodeCache.prototype.onPageLoaded = function (event) {\n        this.cacheParams.rowNodeBlockLoader.loadComplete();\n        this.checkBlockToLoad();\n        // if we are not active, then we ignore all events, otherwise we could end up getting the\n        // grid to refresh even though we are no longer the active cache\n        if (!this.isActive()) {\n            return;\n        }\n        this.logger.log(\"onPageLoaded: page = \" + event.page.getBlockNumber() + \", lastRow = \" + event.lastRow);\n        if (event.success) {\n            this.checkVirtualRowCount(event.page, event.lastRow);\n        }\n    };\n    RowNodeCache.prototype.purgeBlocksIfNeeded = function (blockToExclude) {\n        var _this = this;\n        // put all candidate blocks into a list for sorting\n        var blocksForPurging = [];\n        this.forEachBlockInOrder(function (block) {\n            // we exclude checking for the page just created, as this has yet to be accessed and hence\n            // the lastAccessed stamp will not be updated for the first time yet\n            if (block === blockToExclude) {\n                return;\n            }\n            blocksForPurging.push(block);\n        });\n        // note: need to verify that this sorts items in the right order\n        blocksForPurging.sort(function (a, b) { return b.getLastAccessed() - a.getLastAccessed(); });\n        // we remove (maxBlocksInCache - 1) as we already excluded the 'just created' page.\n        // in other words, after the splice operation below, we have taken out the blocks\n        // we want to keep, which means we are left with blocks that we can potentially purge\n        var maxBlocksProvided = this.cacheParams.maxBlocksInCache > 0;\n        var blocksToKeep = maxBlocksProvided ? this.cacheParams.maxBlocksInCache - 1 : null;\n        var emptyBlocksToKeep = RowNodeCache.MAX_EMPTY_BLOCKS_TO_KEEP - 1;\n        blocksForPurging.forEach(function (block, index) {\n            var purgeBecauseBlockEmpty = block.getState() === RowNodeBlock.STATE_DIRTY && index >= emptyBlocksToKeep;\n            var purgeBecauseCacheFull = maxBlocksProvided ? index >= blocksToKeep : false;\n            if (purgeBecauseBlockEmpty || purgeBecauseCacheFull) {\n                // we never purge blocks if they are open, as purging them would mess up with\n                // our indexes, it would be very messy to restore the purged block to it's\n                // previous state if it had open children (and what if open children of open\n                // children, jeeeesus, just thinking about it freaks me out) so best is have a\n                // rule, if block is open, we never purge.\n                if (block.isAnyNodeOpen(_this.virtualRowCount)) {\n                    return;\n                }\n                // if the block currently has rows been displayed, then don't remove it either.\n                // this can happen if user has maxBlocks=2, and blockSize=5 (thus 10 max rows in cache)\n                // but the screen is showing 20 rows, so at least 4 blocks are needed.\n                if (_this.isBlockCurrentlyDisplayed(block)) {\n                    return;\n                }\n                // at this point, block is not needed, and no open nodes, so burn baby burn\n                _this.removeBlockFromCache(block);\n            }\n        });\n    };\n    RowNodeCache.prototype.isBlockCurrentlyDisplayed = function (block) {\n        var firstViewportRow = this.rowRenderer.getFirstVirtualRenderedRow();\n        var lastViewportRow = this.rowRenderer.getLastVirtualRenderedRow();\n        var firstRowIndex = block.getDisplayIndexStart();\n        var lastRowIndex = block.getDisplayIndexEnd() - 1;\n        // parent closed means the parent node is not expanded, thus these blocks are not visible\n        var parentClosed = firstRowIndex == null || lastRowIndex == null;\n        if (parentClosed) {\n            return false;\n        }\n        var blockBeforeViewport = firstRowIndex > lastViewportRow;\n        var blockAfterViewport = lastRowIndex < firstViewportRow;\n        var blockInsideViewport = !blockBeforeViewport && !blockAfterViewport;\n        return blockInsideViewport;\n    };\n    RowNodeCache.prototype.postCreateBlock = function (newBlock) {\n        newBlock.addEventListener(RowNodeBlock.EVENT_LOAD_COMPLETE, this.onPageLoaded.bind(this));\n        this.setBlock(newBlock.getBlockNumber(), newBlock);\n        this.purgeBlocksIfNeeded(newBlock);\n        this.checkBlockToLoad();\n    };\n    RowNodeCache.prototype.removeBlockFromCache = function (blockToRemove) {\n        if (!blockToRemove) {\n            return;\n        }\n        this.destroyBlock(blockToRemove);\n        // we do not want to remove the 'loaded' event listener, as the\n        // concurrent loads count needs to be updated when the load is complete\n        // if the purged page is in loading state\n    };\n    // gets called after: 1) block loaded 2) block created 3) cache refresh\n    RowNodeCache.prototype.checkBlockToLoad = function () {\n        this.cacheParams.rowNodeBlockLoader.checkBlockToLoad();\n    };\n    RowNodeCache.prototype.checkVirtualRowCount = function (block, lastRow) {\n        // if client provided a last row, we always use it, as it could change between server calls\n        // if user deleted data and then called refresh on the grid.\n        if (typeof lastRow === 'number' && lastRow >= 0) {\n            this.virtualRowCount = lastRow;\n            this.maxRowFound = true;\n            this.onCacheUpdated();\n        }\n        else if (!this.maxRowFound) {\n            // otherwise, see if we need to add some virtual rows\n            var lastRowIndex = (block.getBlockNumber() + 1) * this.cacheParams.blockSize;\n            var lastRowIndexPlusOverflow = lastRowIndex + this.cacheParams.overflowSize;\n            if (this.virtualRowCount < lastRowIndexPlusOverflow) {\n                this.virtualRowCount = lastRowIndexPlusOverflow;\n                this.onCacheUpdated();\n            }\n            else if (this.cacheParams.dynamicRowHeight) {\n                // the only other time is if dynamic row height, as loading rows\n                // will change the height of the block, given the height of the rows\n                // is only known after the row is loaded.\n                this.onCacheUpdated();\n            }\n        }\n    };\n    RowNodeCache.prototype.setVirtualRowCount = function (rowCount, maxRowFound) {\n        this.virtualRowCount = rowCount;\n        // if undefined is passed, we do not set this value, if one of {true,false}\n        // is passed, we do set the value.\n        if (_.exists(maxRowFound)) {\n            this.maxRowFound = maxRowFound;\n        }\n        // if we are still searching, then the row count must not end at the end\n        // of a particular page, otherwise the searching will not pop into the\n        // next page\n        if (!this.maxRowFound) {\n            if (this.virtualRowCount % this.cacheParams.blockSize === 0) {\n                this.virtualRowCount++;\n            }\n        }\n        this.onCacheUpdated();\n    };\n    RowNodeCache.prototype.forEachNodeDeep = function (callback, sequence) {\n        var _this = this;\n        if (sequence === void 0) { sequence = new NumberSequence(); }\n        this.forEachBlockInOrder(function (block) {\n            block.forEachNodeDeep(callback, sequence, _this.virtualRowCount);\n        });\n    };\n    RowNodeCache.prototype.forEachBlockInOrder = function (callback) {\n        var ids = this.getBlockIdsSorted();\n        this.forEachBlockId(ids, callback);\n    };\n    RowNodeCache.prototype.forEachBlockInReverseOrder = function (callback) {\n        var ids = this.getBlockIdsSorted().reverse();\n        this.forEachBlockId(ids, callback);\n    };\n    RowNodeCache.prototype.forEachBlockId = function (ids, callback) {\n        var _this = this;\n        ids.forEach(function (id) {\n            var block = _this.blocks[id];\n            callback(block, id);\n        });\n    };\n    RowNodeCache.prototype.getBlockIdsSorted = function () {\n        // get all page id's as NUMBERS (not strings, as we need to sort as numbers) and in descending order\n        var numberComparator = function (a, b) { return a - b; }; // default comparator for array is string comparison\n        var blockIds = Object.keys(this.blocks).map(function (idStr) { return parseInt(idStr, 10); }).sort(numberComparator);\n        return blockIds;\n    };\n    RowNodeCache.prototype.getBlock = function (blockId) {\n        return this.blocks[blockId];\n    };\n    RowNodeCache.prototype.setBlock = function (id, block) {\n        this.blocks[id] = block;\n        this.blockCount++;\n        this.cacheParams.rowNodeBlockLoader.addBlock(block);\n    };\n    RowNodeCache.prototype.destroyBlock = function (block) {\n        delete this.blocks[block.getBlockNumber()];\n        block.destroy();\n        this.blockCount--;\n        this.cacheParams.rowNodeBlockLoader.removeBlock(block);\n    };\n    // gets called 1) row count changed 2) cache purged 3) items inserted\n    RowNodeCache.prototype.onCacheUpdated = function () {\n        if (this.isActive()) {\n            // if the virtualRowCount is shortened, then it's possible blocks exist that are no longer\n            // in the valid range. so we must remove these. this can happen if user explicitly sets\n            // the virtual row count, or the datasource returns a result and sets lastRow to something\n            // less than virtualRowCount (can happen if user scrolls down, server reduces dataset size).\n            this.destroyAllBlocksPastVirtualRowCount();\n            // this results in both row models (infinite and server side) firing ModelUpdated,\n            // however server side row model also updates the row indexes first\n            var event_1 = {\n                type: RowNodeCache.EVENT_CACHE_UPDATED\n            };\n            this.dispatchEvent(event_1);\n        }\n    };\n    RowNodeCache.prototype.destroyAllBlocksPastVirtualRowCount = function () {\n        var _this = this;\n        var blocksToDestroy = [];\n        this.forEachBlockInOrder(function (block, id) {\n            var startRow = id * _this.cacheParams.blockSize;\n            if (startRow >= _this.virtualRowCount) {\n                blocksToDestroy.push(block);\n            }\n        });\n        if (blocksToDestroy.length > 0) {\n            blocksToDestroy.forEach(function (block) { return _this.destroyBlock(block); });\n        }\n    };\n    RowNodeCache.prototype.purgeCache = function () {\n        var _this = this;\n        this.forEachBlockInOrder(function (block) { return _this.removeBlockFromCache(block); });\n        this.maxRowFound = false;\n        // if zero rows in the cache, we need to get the SSRM to start asking for rows again.\n        // otherwise if set to zero rows last time, and we don't update the row count, then after\n        // the purge there will still be zero rows, meaning the SRRM won't request any rows.\n        // to kick things off, at lest one row needs to be asked for.\n        if (this.virtualRowCount === 0) {\n            this.virtualRowCount = this.cacheParams.initialRowCount;\n        }\n        this.onCacheUpdated();\n    };\n    RowNodeCache.prototype.getRowNodesInRange = function (firstInRange, lastInRange) {\n        var _this = this;\n        var result = [];\n        var lastBlockId = -1;\n        var inActiveRange = false;\n        var numberSequence = new NumberSequence();\n        // if only one node passed, we start the selection at the top\n        if (_.missing(firstInRange)) {\n            inActiveRange = true;\n        }\n        var foundGapInSelection = false;\n        this.forEachBlockInOrder(function (block, id) {\n            if (foundGapInSelection) {\n                return;\n            }\n            if (inActiveRange && (lastBlockId + 1 !== id)) {\n                foundGapInSelection = true;\n                return;\n            }\n            lastBlockId = id;\n            block.forEachNodeShallow(function (rowNode) {\n                var hitFirstOrLast = rowNode === firstInRange || rowNode === lastInRange;\n                if (inActiveRange || hitFirstOrLast) {\n                    result.push(rowNode);\n                }\n                if (hitFirstOrLast) {\n                    inActiveRange = !inActiveRange;\n                }\n            }, numberSequence, _this.virtualRowCount);\n        });\n        // inActiveRange will be still true if we never hit the second rowNode\n        var invalidRange = foundGapInSelection || inActiveRange;\n        return invalidRange ? [] : result;\n    };\n    RowNodeCache.EVENT_CACHE_UPDATED = 'cacheUpdated';\n    // this property says how many empty blocks should be in a cache, eg if scrolls down fast and creates 10\n    // blocks all for loading, the grid will only load the last 2 - it will assume the blocks the user quickly\n    // scrolled over are not needed to be loaded.\n    RowNodeCache.MAX_EMPTY_BLOCKS_TO_KEEP = 2;\n    __decorate$1Q([\n        Autowired('eventService')\n    ], RowNodeCache.prototype, \"eventService\", void 0);\n    __decorate$1Q([\n        Autowired('rowRenderer')\n    ], RowNodeCache.prototype, \"rowRenderer\", void 0);\n    __decorate$1Q([\n        PostConstruct\n    ], RowNodeCache.prototype, \"init\", null);\n    return RowNodeCache;\n}(BeanStub));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar __extends$1f = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1R = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar VirtualList = /** @class */ (function (_super) {\n    __extends$1f(VirtualList, _super);\n    function VirtualList(cssIdentifier) {\n        if (cssIdentifier === void 0) { cssIdentifier = 'default'; }\n        var _this = _super.call(this, VirtualList.getTemplate(cssIdentifier)) || this;\n        _this.cssIdentifier = cssIdentifier;\n        _this.rowsInBodyContainer = {};\n        _this.rowHeight = 20;\n        return _this;\n    }\n    VirtualList.prototype.init = function () {\n        this.eListContainer = this.queryForHtmlElement('.ag-virtual-list-container');\n        this.addScrollListener();\n        this.rowHeight = this.getItemHeight();\n    };\n    VirtualList.getTemplate = function (cssIdentifier) {\n        return /* html */ \"\\n            <div class=\\\"ag-virtual-list-viewport ag-\" + cssIdentifier + \"-virtual-list-viewport\\\">\\n                <div class=\\\"ag-virtual-list-container ag-\" + cssIdentifier + \"-virtual-list-container\\\"></div>\\n            </div>\";\n    };\n    VirtualList.prototype.getItemHeight = function () {\n        return this.gridOptionsWrapper.getListItemHeight();\n    };\n    VirtualList.prototype.ensureIndexVisible = function (index) {\n        var lastRow = this.model.getRowCount();\n        if (typeof index !== 'number' || index < 0 || index >= lastRow) {\n            console.warn('invalid row index for ensureIndexVisible: ' + index);\n            return;\n        }\n        var rowTopPixel = index * this.rowHeight;\n        var rowBottomPixel = rowTopPixel + this.rowHeight;\n        var eGui = this.getGui();\n        var viewportTopPixel = eGui.scrollTop;\n        var viewportHeight = eGui.offsetHeight;\n        var viewportBottomPixel = viewportTopPixel + viewportHeight;\n        var viewportScrolledPastRow = viewportTopPixel > rowTopPixel;\n        var viewportScrolledBeforeRow = viewportBottomPixel < rowBottomPixel;\n        if (viewportScrolledPastRow) {\n            // if row is before, scroll up with row at top\n            eGui.scrollTop = rowTopPixel;\n        }\n        else if (viewportScrolledBeforeRow) {\n            // if row is below, scroll down with row at bottom\n            var newScrollPosition = rowBottomPixel - viewportHeight;\n            eGui.scrollTop = newScrollPosition;\n        }\n    };\n    VirtualList.prototype.setComponentCreator = function (componentCreator) {\n        this.componentCreator = componentCreator;\n    };\n    VirtualList.prototype.getRowHeight = function () {\n        return this.rowHeight;\n    };\n    VirtualList.prototype.getScrollTop = function () {\n        return this.getGui().scrollTop;\n    };\n    VirtualList.prototype.setRowHeight = function (rowHeight) {\n        this.rowHeight = rowHeight;\n        this.refresh();\n    };\n    VirtualList.prototype.refresh = function () {\n        if (_.missing(this.model)) {\n            return;\n        }\n        this.eListContainer.style.height = this.model.getRowCount() * this.rowHeight + \"px\";\n        this.clearVirtualRows();\n        this.drawVirtualRows();\n    };\n    VirtualList.prototype.clearVirtualRows = function () {\n        var rowsToRemove = Object.keys(this.rowsInBodyContainer);\n        this.removeVirtualRows(rowsToRemove);\n    };\n    VirtualList.prototype.drawVirtualRows = function () {\n        var topPixel = this.getGui().scrollTop;\n        var bottomPixel = topPixel + this.getGui().offsetHeight;\n        var firstRow = Math.floor(topPixel / this.rowHeight);\n        var lastRow = Math.floor(bottomPixel / this.rowHeight);\n        this.ensureRowsRendered(firstRow, lastRow);\n    };\n    VirtualList.prototype.ensureRowsRendered = function (start, finish) {\n        // at the end, this array will contain the items we need to remove\n        var rowsToRemove = Object.keys(this.rowsInBodyContainer);\n        // add in new rows\n        for (var rowIndex = start; rowIndex <= finish; rowIndex++) {\n            // see if item already there, and if yes, take it out of the 'to remove' array\n            if (rowsToRemove.indexOf(rowIndex.toString()) >= 0) {\n                rowsToRemove.splice(rowsToRemove.indexOf(rowIndex.toString()), 1);\n                continue;\n            }\n            // check this row actually exists (in case overflow buffer window exceeds real data)\n            if (this.model.getRowCount() > rowIndex) {\n                var value = this.model.getRow(rowIndex);\n                this.insertRow(value, rowIndex);\n            }\n        }\n        // at this point, everything in our 'rowsToRemove' . . .\n        this.removeVirtualRows(rowsToRemove);\n    };\n    // takes array of row id's\n    VirtualList.prototype.removeVirtualRows = function (rowsToRemove) {\n        var _this = this;\n        rowsToRemove.forEach(function (index) {\n            var component = _this.rowsInBodyContainer[index];\n            _this.eListContainer.removeChild(component.eDiv);\n            if (component.rowComponent.destroy) {\n                component.rowComponent.destroy();\n            }\n            delete _this.rowsInBodyContainer[index];\n        });\n    };\n    VirtualList.prototype.insertRow = function (value, rowIndex) {\n        var eDiv = document.createElement('div');\n        _.addCssClass(eDiv, 'ag-virtual-list-item');\n        _.addCssClass(eDiv, \"ag-\" + this.cssIdentifier + \"-virtual-list-item\");\n        eDiv.style.height = this.rowHeight + \"px\";\n        eDiv.style.top = this.rowHeight * rowIndex + \"px\";\n        var rowComponent = this.componentCreator(value);\n        eDiv.appendChild(rowComponent.getGui());\n        this.eListContainer.appendChild(eDiv);\n        this.rowsInBodyContainer[rowIndex] = {\n            rowComponent: rowComponent,\n            eDiv: eDiv\n        };\n    };\n    VirtualList.prototype.addScrollListener = function () {\n        var _this = this;\n        this.addGuiEventListener('scroll', function () { return _this.drawVirtualRows(); });\n    };\n    VirtualList.prototype.setModel = function (model) {\n        this.model = model;\n    };\n    __decorate$1R([\n        Autowired('gridOptionsWrapper')\n    ], VirtualList.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1R([\n        PostConstruct\n    ], VirtualList.prototype, \"init\", null);\n    return VirtualList;\n}(Component));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nfunction defaultGroupComparator(valueA, valueB, nodeA, nodeB, accentedCompare) {\n    if (accentedCompare === void 0) { accentedCompare = false; }\n    console.warn('ag-Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef');\n    var nodeAIsGroup = _.exists(nodeA) && nodeA.group;\n    var nodeBIsGroup = _.exists(nodeB) && nodeB.group;\n    var bothAreGroups = nodeAIsGroup && nodeBIsGroup;\n    var bothAreNormal = !nodeAIsGroup && !nodeBIsGroup;\n    if (bothAreGroups) {\n        return _.defaultComparator(nodeA.key, nodeB.key, accentedCompare);\n    }\n    else if (bothAreNormal) {\n        return _.defaultComparator(valueA, valueB, accentedCompare);\n    }\n    else if (nodeAIsGroup) {\n        return 1;\n    }\n    else {\n        return -1;\n    }\n}\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar BaseComponentWrapper = /** @class */ (function () {\n    function BaseComponentWrapper() {\n    }\n    BaseComponentWrapper.prototype.wrap = function (OriginalConstructor, mandatoryMethodList, optionalMethodList, componentType, componentName) {\n        var _this = this;\n        if (optionalMethodList === void 0) { optionalMethodList = []; }\n        var wrapper = this.createWrapper(OriginalConstructor, componentType, componentName);\n        mandatoryMethodList.forEach((function (methodName) {\n            _this.createMethod(wrapper, methodName, true);\n        }));\n        optionalMethodList.forEach((function (methodName) {\n            _this.createMethod(wrapper, methodName, false);\n        }));\n        return wrapper;\n    };\n    BaseComponentWrapper.prototype.createMethod = function (wrapper, methodName, mandatory) {\n        wrapper.addMethod(methodName, this.createMethodProxy(wrapper, methodName, mandatory));\n    };\n    BaseComponentWrapper.prototype.createMethodProxy = function (wrapper, methodName, mandatory) {\n        return function () {\n            if (wrapper.hasMethod(methodName)) {\n                return wrapper.callMethod(methodName, arguments);\n            }\n            if (mandatory) {\n                console.warn('ag-Grid: Framework component is missing the method ' + methodName + '()');\n            }\n            return null;\n        };\n    };\n    return BaseComponentWrapper;\n}());\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\n(function (ChartType) {\n    ChartType[\"GroupedColumn\"] = \"groupedColumn\";\n    ChartType[\"StackedColumn\"] = \"stackedColumn\";\n    ChartType[\"NormalizedColumn\"] = \"normalizedColumn\";\n    ChartType[\"GroupedBar\"] = \"groupedBar\";\n    ChartType[\"StackedBar\"] = \"stackedBar\";\n    ChartType[\"NormalizedBar\"] = \"normalizedBar\";\n    ChartType[\"Line\"] = \"line\";\n    ChartType[\"Scatter\"] = \"scatter\";\n    ChartType[\"Bubble\"] = \"bubble\";\n    ChartType[\"Pie\"] = \"pie\";\n    ChartType[\"Doughnut\"] = \"doughnut\";\n    ChartType[\"Area\"] = \"area\";\n    ChartType[\"StackedArea\"] = \"stackedArea\";\n    ChartType[\"NormalizedArea\"] = \"normalizedArea\";\n    ChartType[\"Histogram\"] = \"histogram\";\n})(exports.ChartType || (exports.ChartType = {}));\n(function (LegendPosition) {\n    LegendPosition[\"Top\"] = \"top\";\n    LegendPosition[\"Right\"] = \"right\";\n    LegendPosition[\"Bottom\"] = \"bottom\";\n    LegendPosition[\"Left\"] = \"left\";\n})(exports.LegendPosition || (exports.LegendPosition = {}));\n\n/**\n * @ag-grid-community/core - Advanced Data Grid / Data Table supporting Javascript / React / AngularJS / Web Components\n * @version v23.1.0\n * @link http://www.ag-grid.com/\n * @license MIT\n */\nvar globalObj = typeof global === 'undefined' ? {} : global;\nglobalObj.HTMLElement = typeof HTMLElement === 'undefined' ? {} : HTMLElement;\nglobalObj.HTMLButtonElement = typeof HTMLButtonElement === 'undefined' ? {} : HTMLButtonElement;\nglobalObj.HTMLSelectElement = typeof HTMLSelectElement === 'undefined' ? {} : HTMLSelectElement;\nglobalObj.HTMLInputElement = typeof HTMLInputElement === 'undefined' ? {} : HTMLInputElement;\nglobalObj.Node = typeof Node === 'undefined' ? {} : Node;\nglobalObj.MouseEvent = typeof MouseEvent === 'undefined' ? {} : MouseEvent;\n\nvar ClientSideNodeManager = /** @class */ (function () {\n    function ClientSideNodeManager(rootNode, gridOptionsWrapper, context, eventService, columnController, gridApi, columnApi, selectionController) {\n        this.nextId = 0;\n        // when user is provide the id's, we also keep a map of ids to row nodes for convenience\n        this.allNodesMap = {};\n        this.rootNode = rootNode;\n        this.gridOptionsWrapper = gridOptionsWrapper;\n        this.context = context;\n        this.eventService = eventService;\n        this.columnController = columnController;\n        this.gridApi = gridApi;\n        this.columnApi = columnApi;\n        this.selectionController = selectionController;\n        this.rootNode.group = true;\n        this.rootNode.level = -1;\n        this.rootNode.id = ClientSideNodeManager.ROOT_NODE_ID;\n        this.rootNode.allLeafChildren = [];\n        this.rootNode.childrenAfterGroup = [];\n        this.rootNode.childrenAfterSort = [];\n        this.rootNode.childrenAfterFilter = [];\n        // if we make this class a bean, then can annotate postConstruct\n        this.postConstruct();\n    }\n    // @PostConstruct - this is not a bean, so postConstruct called by constructor\n    ClientSideNodeManager.prototype.postConstruct = function () {\n        // func below doesn't have 'this' pointer, so need to pull out these bits\n        this.getNodeChildDetails = this.gridOptionsWrapper.getNodeChildDetailsFunc();\n        this.suppressParentsInRowNodes = this.gridOptionsWrapper.isSuppressParentsInRowNodes();\n        this.doesDataFlower = this.gridOptionsWrapper.getDoesDataFlowerFunc();\n        this.isRowMasterFunc = this.gridOptionsWrapper.getIsRowMasterFunc();\n        this.doingLegacyTreeData = _.exists(this.getNodeChildDetails);\n        this.doingMasterDetail = this.gridOptionsWrapper.isMasterDetail();\n        if (this.getNodeChildDetails) {\n            console.warn(\"ag-Grid: the callback nodeChildDetailsFunc() is now deprecated. The new way of doing\\n                                    tree data in ag-Grid was introduced in v14 (released November 2017). In the next\\n                                    major release of ag-Grid we will be dropping support for the old version of\\n                                    tree data. If you are reading this message, please go to the docs to see how\\n                                    to implement Tree Data without using nodeChildDetailsFunc().\");\n        }\n    };\n    ClientSideNodeManager.prototype.getCopyOfNodesMap = function () {\n        var result = _.cloneObject(this.allNodesMap);\n        return result;\n    };\n    ClientSideNodeManager.prototype.getRowNode = function (id) {\n        return this.allNodesMap[id];\n    };\n    ClientSideNodeManager.prototype.setRowData = function (rowData) {\n        this.rootNode.childrenAfterFilter = null;\n        this.rootNode.childrenAfterGroup = null;\n        this.rootNode.childrenAfterSort = null;\n        this.rootNode.childrenMapped = null;\n        this.nextId = 0;\n        this.allNodesMap = {};\n        if (!rowData) {\n            this.rootNode.allLeafChildren = [];\n            this.rootNode.childrenAfterGroup = [];\n            return;\n        }\n        // kick off recursion\n        // we add rootNode as the parent, however if using ag-grid-enterprise, the grouping stage\n        // sets the parent node on each row (even if we are not grouping). so setting parent node\n        // here is for benefit of ag-grid-community users\n        var result = this.recursiveFunction(rowData, this.rootNode, ClientSideNodeManager.TOP_LEVEL);\n        if (this.doingLegacyTreeData) {\n            this.rootNode.childrenAfterGroup = result;\n            this.setLeafChildren(this.rootNode);\n        }\n        else {\n            this.rootNode.allLeafChildren = result;\n        }\n    };\n    ClientSideNodeManager.prototype.updateRowData = function (rowDataTran, rowNodeOrder) {\n        if (this.isLegacyTreeData()) {\n            return null;\n        }\n        var rowNodeTransaction = {\n            remove: [],\n            update: [],\n            add: []\n        };\n        this.executeAdd(rowDataTran, rowNodeTransaction);\n        this.executeRemove(rowDataTran, rowNodeTransaction);\n        this.executeUpdate(rowDataTran, rowNodeTransaction);\n        if (rowNodeOrder) {\n            _.sortRowNodesByOrder(this.rootNode.allLeafChildren, rowNodeOrder);\n        }\n        return rowNodeTransaction;\n    };\n    ClientSideNodeManager.prototype.executeAdd = function (rowDataTran, rowNodeTransaction) {\n        var _this = this;\n        var add = rowDataTran.add, addIndex = rowDataTran.addIndex;\n        if (!add) {\n            return;\n        }\n        var useIndex = typeof addIndex === 'number' && addIndex >= 0;\n        if (useIndex) {\n            // items get inserted in reverse order for index insertion\n            add.reverse().forEach(function (item) {\n                var newRowNode = _this.addRowNode(item, addIndex);\n                rowNodeTransaction.add.push(newRowNode);\n            });\n        }\n        else {\n            add.forEach(function (item) {\n                var newRowNode = _this.addRowNode(item);\n                rowNodeTransaction.add.push(newRowNode);\n            });\n        }\n    };\n    ClientSideNodeManager.prototype.executeRemove = function (rowDataTran, rowNodeTransaction) {\n        var _this = this;\n        var remove = rowDataTran.remove;\n        if (!remove) {\n            return;\n        }\n        var rowIdsRemoved = {};\n        var anyNodesSelected = false;\n        remove.forEach(function (item) {\n            var rowNode = _this.lookupRowNode(item);\n            if (!rowNode) {\n                return;\n            }\n            if (rowNode.isSelected()) {\n                anyNodesSelected = true;\n            }\n            // do delete - setting 'tailingNodeInSequence = true' to ensure EVENT_SELECTION_CHANGED is not raised for\n            // each row node updated, instead it is raised once by the calling code if any selected nodes exist.\n            rowNode.setSelected(false, false, true);\n            // so row renderer knows to fade row out (and not reposition it)\n            rowNode.clearRowTop();\n            // NOTE: were we could remove from allLeaveChildren, however _.removeFromArray() is expensive, especially\n            // if called multiple times (eg deleting lots of rows) and if allLeafChildren is a large list\n            rowIdsRemoved[rowNode.id] = true;\n            // _.removeFromArray(this.rootNode.allLeafChildren, rowNode);\n            delete _this.allNodesMap[rowNode.id];\n            rowNodeTransaction.remove.push(rowNode);\n        });\n        this.rootNode.allLeafChildren = this.rootNode.allLeafChildren.filter(function (rowNode) { return !rowIdsRemoved[rowNode.id]; });\n        if (anyNodesSelected) {\n            this.selectionController.updateGroupsFromChildrenSelections();\n            var event_1 = {\n                type: Events.EVENT_SELECTION_CHANGED,\n                api: this.gridApi,\n                columnApi: this.columnApi\n            };\n            this.eventService.dispatchEvent(event_1);\n        }\n    };\n    ClientSideNodeManager.prototype.executeUpdate = function (rowDataTran, rowNodeTransaction) {\n        var _this = this;\n        var update = rowDataTran.update;\n        if (!update) {\n            return;\n        }\n        update.forEach(function (item) {\n            var rowNode = _this.lookupRowNode(item);\n            if (!rowNode) {\n                return;\n            }\n            rowNode.updateData(item);\n            rowNodeTransaction.update.push(rowNode);\n        });\n    };\n    ClientSideNodeManager.prototype.addRowNode = function (data, index) {\n        var newNode = this.createNode(data, this.rootNode, ClientSideNodeManager.TOP_LEVEL);\n        if (_.exists(index)) {\n            _.insertIntoArray(this.rootNode.allLeafChildren, newNode, index);\n        }\n        else {\n            this.rootNode.allLeafChildren.push(newNode);\n        }\n        return newNode;\n    };\n    ClientSideNodeManager.prototype.lookupRowNode = function (data) {\n        var rowNodeIdFunc = this.gridOptionsWrapper.getRowNodeIdFunc();\n        var rowNode;\n        if (_.exists(rowNodeIdFunc)) {\n            // find rowNode using id\n            var id = rowNodeIdFunc(data);\n            rowNode = this.allNodesMap[id];\n            if (!rowNode) {\n                console.error(\"ag-Grid: could not find row id=\" + id + \", data item was not found for this id\");\n                return null;\n            }\n        }\n        else {\n            // find rowNode using object references\n            rowNode = _.find(this.rootNode.allLeafChildren, function (rowNode) { return rowNode.data === data; });\n            if (!rowNode) {\n                console.error(\"ag-Grid: could not find data item as object was not found\", data);\n                return null;\n            }\n        }\n        return rowNode;\n    };\n    ClientSideNodeManager.prototype.recursiveFunction = function (rowData, parent, level) {\n        var _this = this;\n        // make sure the rowData is an array and not a string of json - this was a commonly reported problem on the forum\n        if (typeof rowData === 'string') {\n            console.warn('ag-Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first');\n            return;\n        }\n        var rowNodes = [];\n        rowData.forEach(function (dataItem) {\n            var node = _this.createNode(dataItem, parent, level);\n            rowNodes.push(node);\n        });\n        return rowNodes;\n    };\n    ClientSideNodeManager.prototype.createNode = function (dataItem, parent, level) {\n        var node = new RowNode();\n        this.context.wireBean(node);\n        var doingTreeData = this.gridOptionsWrapper.isTreeData();\n        var doingLegacyTreeData = !doingTreeData && _.exists(this.getNodeChildDetails);\n        var nodeChildDetails = doingLegacyTreeData ? this.getNodeChildDetails(dataItem) : null;\n        if (nodeChildDetails && nodeChildDetails.group) {\n            node.group = true;\n            node.childrenAfterGroup = this.recursiveFunction(nodeChildDetails.children, node, level + 1);\n            node.expanded = nodeChildDetails.expanded === true;\n            node.field = nodeChildDetails.field;\n            node.key = nodeChildDetails.key;\n            /** @deprecated is now 'master' */\n            node.canFlower = node.master;\n            // pull out all the leaf children and add to our node\n            this.setLeafChildren(node);\n        }\n        else {\n            node.group = false;\n            if (doingTreeData) {\n                node.master = false;\n                node.expanded = false;\n            }\n            else {\n                // this is the default, for when doing grid data\n                if (this.doesDataFlower) {\n                    node.master = this.doesDataFlower(dataItem);\n                }\n                else if (this.doingMasterDetail) {\n                    // if we are doing master detail, then the\n                    // default is that everything can flower.\n                    if (this.isRowMasterFunc) {\n                        node.master = this.isRowMasterFunc(dataItem);\n                    }\n                    else {\n                        node.master = true;\n                    }\n                }\n                else {\n                    node.master = false;\n                }\n                var rowGroupColumns = this.columnController.getRowGroupColumns();\n                var numRowGroupColumns = rowGroupColumns ? rowGroupColumns.length : 0;\n                // need to take row group into account when determining level\n                var masterRowLevel = level + numRowGroupColumns;\n                node.expanded = node.master ? this.isExpanded(masterRowLevel) : false;\n            }\n        }\n        // support for backwards compatibility, canFlow is now called 'master'\n        node.canFlower = node.master;\n        if (parent && !this.suppressParentsInRowNodes) {\n            node.parent = parent;\n        }\n        node.level = level;\n        node.setDataAndId(dataItem, this.nextId.toString());\n        if (this.allNodesMap[node.id]) {\n            console.warn(\"ag-grid: duplicate node id '\" + node.id + \"' detected from getRowNodeId callback, this could cause issues in your grid.\");\n        }\n        this.allNodesMap[node.id] = node;\n        this.nextId++;\n        return node;\n    };\n    ClientSideNodeManager.prototype.isExpanded = function (level) {\n        var expandByDefault = this.gridOptionsWrapper.getGroupDefaultExpanded();\n        if (expandByDefault === -1) {\n            return true;\n        }\n        else {\n            return level < expandByDefault;\n        }\n    };\n    // this is only used for doing legacy tree data\n    ClientSideNodeManager.prototype.setLeafChildren = function (node) {\n        node.allLeafChildren = [];\n        if (node.childrenAfterGroup) {\n            node.childrenAfterGroup.forEach(function (childAfterGroup) {\n                if (childAfterGroup.group) {\n                    if (childAfterGroup.allLeafChildren) {\n                        childAfterGroup.allLeafChildren.forEach(function (leafChild) { return node.allLeafChildren.push(leafChild); });\n                    }\n                }\n                else {\n                    node.allLeafChildren.push(childAfterGroup);\n                }\n            });\n        }\n    };\n    ClientSideNodeManager.prototype.isLegacyTreeData = function () {\n        var rowsAlreadyGrouped = _.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc());\n        if (rowsAlreadyGrouped) {\n            console.warn('ag-Grid: adding and removing rows is not supported when using nodeChildDetailsFunc, ie it is not ' +\n                'supported for legacy tree data. Please see the docs on the new preferred way of providing tree data that works with delta updates.');\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    ClientSideNodeManager.TOP_LEVEL = 0;\n    ClientSideNodeManager.ROOT_NODE_ID = 'ROOT_NODE_ID';\n    return ClientSideNodeManager;\n}());\n\nvar __decorate$1S = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar RecursionType;\n(function (RecursionType) {\n    RecursionType[RecursionType[\"Normal\"] = 0] = \"Normal\";\n    RecursionType[RecursionType[\"AfterFilter\"] = 1] = \"AfterFilter\";\n    RecursionType[RecursionType[\"AfterFilterAndSort\"] = 2] = \"AfterFilterAndSort\";\n    RecursionType[RecursionType[\"PivotNodes\"] = 3] = \"PivotNodes\";\n})(RecursionType || (RecursionType = {}));\nvar ClientSideRowModel = /** @class */ (function () {\n    function ClientSideRowModel() {\n        this.events = [];\n    }\n    ClientSideRowModel.prototype.init = function () {\n        var refreshEverythingFunc = this.refreshModel.bind(this, { step: Constants.STEP_EVERYTHING });\n        var refreshEverythingAfterColsChangedFunc = this.refreshModel.bind(this, { step: Constants.STEP_EVERYTHING, afterColumnsChanged: true });\n        this.events = [\n            this.eventService.addModalPriorityEventListener(Events.EVENT_COLUMN_EVERYTHING_CHANGED, refreshEverythingAfterColsChangedFunc),\n            this.eventService.addModalPriorityEventListener(Events.EVENT_COLUMN_ROW_GROUP_CHANGED, refreshEverythingFunc),\n            this.eventService.addModalPriorityEventListener(Events.EVENT_COLUMN_VALUE_CHANGED, this.onValueChanged.bind(this)),\n            this.eventService.addModalPriorityEventListener(Events.EVENT_COLUMN_PIVOT_CHANGED, this.refreshModel.bind(this, { step: Constants.STEP_PIVOT })),\n            this.eventService.addModalPriorityEventListener(Events.EVENT_ROW_GROUP_OPENED, this.onRowGroupOpened.bind(this)),\n            this.eventService.addModalPriorityEventListener(Events.EVENT_FILTER_CHANGED, this.onFilterChanged.bind(this)),\n            this.eventService.addModalPriorityEventListener(Events.EVENT_SORT_CHANGED, this.onSortChanged.bind(this)),\n            this.eventService.addModalPriorityEventListener(Events.EVENT_COLUMN_PIVOT_MODE_CHANGED, refreshEverythingFunc)\n        ];\n        this.refreshMapFunc = this.refreshModel.bind(this, {\n            step: Constants.STEP_MAP,\n            keepRenderedRows: true,\n            animate: true\n        });\n        this.gridOptionsWrapper.addEventListener(GridOptionsWrapper.PROP_GROUP_REMOVE_SINGLE_CHILDREN, this.refreshMapFunc);\n        this.gridOptionsWrapper.addEventListener(GridOptionsWrapper.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN, this.refreshMapFunc);\n        this.rootNode = new RowNode();\n        this.nodeManager = new ClientSideNodeManager(this.rootNode, this.gridOptionsWrapper, this.context, this.eventService, this.columnController, this.gridApi, this.columnApi, this.selectionController);\n        this.context.wireBean(this.rootNode);\n    };\n    ClientSideRowModel.prototype.destroy = function () {\n        if (this.events.length) {\n            this.events.forEach(function (func) { return func(); });\n            this.events = [];\n        }\n        this.gridOptionsWrapper.removeEventListener(GridOptionsWrapper.PROP_GROUP_REMOVE_SINGLE_CHILDREN, this.refreshMapFunc);\n        this.gridOptionsWrapper.removeEventListener(GridOptionsWrapper.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN, this.refreshMapFunc);\n    };\n    ClientSideRowModel.prototype.start = function () {\n        var rowData = this.gridOptionsWrapper.getRowData();\n        if (rowData) {\n            this.setRowData(rowData);\n        }\n    };\n    ClientSideRowModel.prototype.ensureRowHeightsValid = function (startPixel, endPixel, startLimitIndex, endLimitIndex) {\n        var atLeastOneChange;\n        var res = false;\n        // we do this multiple times as changing the row heights can also change the first and last rows,\n        // so the first pass can make lots of rows smaller, which means the second pass we end up changing\n        // more rows.\n        do {\n            atLeastOneChange = false;\n            var rowAtStartPixel = this.getRowIndexAtPixel(startPixel);\n            var rowAtEndPixel = this.getRowIndexAtPixel(endPixel);\n            // keep check to current page if doing pagination\n            var firstRow = Math.max(rowAtStartPixel, startLimitIndex);\n            var lastRow = Math.min(rowAtEndPixel, endLimitIndex);\n            for (var rowIndex = firstRow; rowIndex <= lastRow; rowIndex++) {\n                var rowNode = this.getRow(rowIndex);\n                if (rowNode.rowHeightEstimated) {\n                    var rowHeight = this.gridOptionsWrapper.getRowHeightForNode(rowNode);\n                    rowNode.setRowHeight(rowHeight.height);\n                    atLeastOneChange = true;\n                    res = true;\n                }\n            }\n            if (atLeastOneChange) {\n                this.setRowTops();\n            }\n        } while (atLeastOneChange);\n        return res;\n    };\n    ClientSideRowModel.prototype.setRowTops = function () {\n        var nextRowTop = 0;\n        for (var i = 0; i < this.rowsToDisplay.length; i++) {\n            // we don't estimate if doing fullHeight or autoHeight, as all rows get rendered all the time\n            // with these two layouts.\n            var allowEstimate = this.gridOptionsWrapper.getDomLayout() === Constants.DOM_LAYOUT_NORMAL;\n            var rowNode = this.rowsToDisplay[i];\n            if (_.missing(rowNode.rowHeight)) {\n                var rowHeight = this.gridOptionsWrapper.getRowHeightForNode(rowNode, allowEstimate);\n                rowNode.setRowHeight(rowHeight.height, rowHeight.estimated);\n            }\n            rowNode.setRowTop(nextRowTop);\n            rowNode.setRowIndex(i);\n            nextRowTop += rowNode.rowHeight;\n        }\n    };\n    ClientSideRowModel.prototype.resetRowTops = function (rowNode, changedPath) {\n        rowNode.clearRowTop();\n        if (rowNode.hasChildren()) {\n            if (rowNode.childrenAfterGroup) {\n                // if a changedPath is active, it means we are here because of a transaction update or\n                // a change detection. neither of these impacts the open/closed state of groups. so if\n                // a group is not open this time, it was not open last time. so we know all closed groups\n                // already have their top positions cleared. so there is no need to traverse all the way\n                // when changedPath is active and the rowNode is not expanded.\n                var skipChildren = changedPath.isActive() && !rowNode.expanded;\n                if (!skipChildren) {\n                    for (var i = 0; i < rowNode.childrenAfterGroup.length; i++) {\n                        this.resetRowTops(rowNode.childrenAfterGroup[i], changedPath);\n                    }\n                }\n            }\n            if (rowNode.sibling) {\n                rowNode.sibling.clearRowTop();\n            }\n        }\n        if (rowNode.detailNode) {\n            rowNode.detailNode.clearRowTop();\n        }\n    };\n    // returns false if row was moved, otherwise true\n    ClientSideRowModel.prototype.ensureRowsAtPixel = function (rowNodes, pixel, increment) {\n        var _this = this;\n        if (increment === void 0) { increment = 0; }\n        var indexAtPixelNow = this.getRowIndexAtPixel(pixel);\n        var rowNodeAtPixelNow = this.getRow(indexAtPixelNow);\n        if (rowNodeAtPixelNow === rowNodes[0]) {\n            return false;\n        }\n        rowNodes.forEach(function (rowNode) {\n            _.removeFromArray(_this.rootNode.allLeafChildren, rowNode);\n        });\n        rowNodes.forEach(function (rowNode, idx) {\n            _.insertIntoArray(_this.rootNode.allLeafChildren, rowNode, indexAtPixelNow + increment + idx);\n        });\n        this.refreshModel({\n            step: Constants.STEP_EVERYTHING,\n            keepRenderedRows: true,\n            animate: true,\n            keepEditingRows: true\n        });\n        return true;\n    };\n    ClientSideRowModel.prototype.highlightRowAtPixel = function (rowNode, pixel) {\n        var indexAtPixelNow = pixel != null ? this.getRowIndexAtPixel(pixel) : null;\n        var rowNodeAtPixelNow = indexAtPixelNow != null ? this.getRow(indexAtPixelNow) : null;\n        if (!rowNodeAtPixelNow || !rowNode || rowNodeAtPixelNow === rowNode || pixel == null) {\n            if (this.lastHighlightedRow) {\n                this.lastHighlightedRow.setHighlighted(null);\n                this.lastHighlightedRow = null;\n            }\n            return;\n        }\n        var highlight = this.getHighlightPosition(pixel, rowNodeAtPixelNow);\n        if (this.lastHighlightedRow && this.lastHighlightedRow !== rowNodeAtPixelNow) {\n            this.lastHighlightedRow.setHighlighted(null);\n            this.lastHighlightedRow = null;\n        }\n        rowNodeAtPixelNow.setHighlighted(highlight);\n        this.lastHighlightedRow = rowNodeAtPixelNow;\n    };\n    ClientSideRowModel.prototype.getHighlightPosition = function (pixel, rowNode) {\n        if (!rowNode) {\n            var index = this.getRowIndexAtPixel(pixel);\n            rowNode = this.getRow(index || 0);\n            if (!rowNode) {\n                return 'below';\n            }\n        }\n        var rowTop = rowNode.rowTop, rowHeight = rowNode.rowHeight;\n        return pixel - rowTop < rowHeight / 2 ? 'above' : 'below';\n    };\n    ClientSideRowModel.prototype.getLastHighlightedRowNode = function () {\n        return this.lastHighlightedRow;\n    };\n    ClientSideRowModel.prototype.isLastRowFound = function () {\n        return true;\n    };\n    ClientSideRowModel.prototype.getRowCount = function () {\n        if (this.rowsToDisplay) {\n            return this.rowsToDisplay.length;\n        }\n        return 0;\n    };\n    ClientSideRowModel.prototype.getTopLevelRowCount = function () {\n        var showingRootNode = this.rowsToDisplay && this.rowsToDisplay[0] === this.rootNode;\n        if (showingRootNode) {\n            return 1;\n        }\n        return this.rootNode.childrenAfterFilter ? this.rootNode.childrenAfterFilter.length : 0;\n    };\n    ClientSideRowModel.prototype.getTopLevelRowDisplayedIndex = function (topLevelIndex) {\n        var showingRootNode = this.rowsToDisplay && this.rowsToDisplay[0] === this.rootNode;\n        if (showingRootNode) {\n            return topLevelIndex;\n        }\n        var rowNode = this.rootNode.childrenAfterSort[topLevelIndex];\n        if (this.gridOptionsWrapper.isGroupHideOpenParents()) {\n            // if hideOpenParents, and this row open, then this row is now displayed at this index, first child is\n            while (rowNode.expanded && rowNode.childrenAfterSort && rowNode.childrenAfterSort.length > 0) {\n                rowNode = rowNode.childrenAfterSort[0];\n            }\n        }\n        return rowNode.rowIndex;\n    };\n    ClientSideRowModel.prototype.getRowBounds = function (index) {\n        if (_.missing(this.rowsToDisplay)) {\n            return null;\n        }\n        var rowNode = this.rowsToDisplay[index];\n        if (rowNode) {\n            return {\n                rowTop: rowNode.rowTop,\n                rowHeight: rowNode.rowHeight\n            };\n        }\n        return null;\n    };\n    ClientSideRowModel.prototype.onRowGroupOpened = function () {\n        var animate = this.gridOptionsWrapper.isAnimateRows();\n        this.refreshModel({ step: Constants.STEP_MAP, keepRenderedRows: true, animate: animate });\n    };\n    ClientSideRowModel.prototype.onFilterChanged = function (event) {\n        if (event.afterDataChange) {\n            return;\n        }\n        var animate = this.gridOptionsWrapper.isAnimateRows();\n        this.refreshModel({ step: Constants.STEP_FILTER, keepRenderedRows: true, animate: animate });\n    };\n    ClientSideRowModel.prototype.onSortChanged = function () {\n        var animate = this.gridOptionsWrapper.isAnimateRows();\n        this.refreshModel({ step: Constants.STEP_SORT, keepRenderedRows: true, animate: animate, keepEditingRows: true });\n    };\n    ClientSideRowModel.prototype.getType = function () {\n        return Constants.ROW_MODEL_TYPE_CLIENT_SIDE;\n    };\n    ClientSideRowModel.prototype.onValueChanged = function () {\n        if (this.columnController.isPivotActive()) {\n            this.refreshModel({ step: Constants.STEP_PIVOT });\n        }\n        else {\n            this.refreshModel({ step: Constants.STEP_AGGREGATE });\n        }\n    };\n    ClientSideRowModel.prototype.createChangePath = function (rowNodeTransactions) {\n        // for updates, if the row is updated at all, then we re-calc all the values\n        // in that row. we could compare each value to each old value, however if we\n        // did this, we would be calling the valueService twice, once on the old value\n        // and once on the new value. so it's less valueGetter calls if we just assume\n        // each column is different. that way the changedPath is used so that only\n        // the impacted parent rows are recalculated, parents who's children have\n        // not changed are not impacted.\n        var noTransactions = _.missingOrEmpty(rowNodeTransactions);\n        var changedPath = new ChangedPath(false, this.rootNode);\n        if (noTransactions || this.gridOptionsWrapper.isTreeData()) {\n            changedPath.setInactive();\n        }\n        return changedPath;\n    };\n    ClientSideRowModel.prototype.refreshModel = function (params) {\n        // this goes through the pipeline of stages. what's in my head is similar\n        // to the diagram on this page:\n        // http://commons.apache.org/sandbox/commons-pipeline/pipeline_basics.html\n        // however we want to keep the results of each stage, hence we manually call\n        // each step rather than have them chain each other.\n        var _this = this;\n        // fallthrough in below switch is on purpose,\n        // eg if STEP_FILTER, then all steps below this\n        // step get done\n        // let start: number;\n        // console.log('======= start =======');\n        var changedPath = this.createChangePath(params.rowNodeTransactions);\n        switch (params.step) {\n            case Constants.STEP_EVERYTHING:\n                // start = new Date().getTime();\n                this.doRowGrouping(params.groupState, params.rowNodeTransactions, params.rowNodeOrder, changedPath, params.afterColumnsChanged);\n            // console.log('rowGrouping = ' + (new Date().getTime() - start));\n            case Constants.STEP_FILTER:\n                // start = new Date().getTime();\n                this.doFilter(changedPath);\n            // console.log('filter = ' + (new Date().getTime() - start));\n            case Constants.STEP_PIVOT:\n                this.doPivot(changedPath);\n            case Constants.STEP_AGGREGATE: // depends on agg fields\n                // start = new Date().getTime();\n                this.doAggregate(changedPath);\n            // console.log('aggregation = ' + (new Date().getTime() - start));\n            case Constants.STEP_SORT:\n                // start = new Date().getTime();\n                this.doSort(params.rowNodeTransactions, changedPath);\n            // console.log('sort = ' + (new Date().getTime() - start));\n            case Constants.STEP_MAP:\n                // start = new Date().getTime();\n                this.doRowsToDisplay();\n            // console.log('rowsToDisplay = ' + (new Date().getTime() - start));\n        }\n        // set all row tops to null, then set row tops on all visible rows. if we don't\n        // do this, then the algorithm below only sets row tops, old row tops from old rows\n        // will still lie around\n        this.resetRowTops(this.rootNode, changedPath);\n        this.setRowTops();\n        var event = {\n            type: Events.EVENT_MODEL_UPDATED,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            animate: params.animate,\n            keepRenderedRows: params.keepRenderedRows,\n            newData: params.newData,\n            newPage: false\n        };\n        this.eventService.dispatchEvent(event);\n        if (this.$scope) {\n            window.setTimeout(function () {\n                _this.$scope.$apply();\n            }, 0);\n        }\n    };\n    ClientSideRowModel.prototype.isEmpty = function () {\n        var rowsMissing;\n        var doingLegacyTreeData = _.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc());\n        if (doingLegacyTreeData) {\n            rowsMissing = _.missing(this.rootNode.childrenAfterGroup) || this.rootNode.childrenAfterGroup.length === 0;\n        }\n        else {\n            rowsMissing = _.missing(this.rootNode.allLeafChildren) || this.rootNode.allLeafChildren.length === 0;\n        }\n        var empty = _.missing(this.rootNode) || rowsMissing || !this.columnController.isReady();\n        return empty;\n    };\n    ClientSideRowModel.prototype.isRowsToRender = function () {\n        return _.exists(this.rowsToDisplay) && this.rowsToDisplay.length > 0;\n    };\n    ClientSideRowModel.prototype.getNodesInRangeForSelection = function (firstInRange, lastInRange) {\n        // if lastSelectedNode is missing, we start at the first row\n        var firstRowHit = !lastInRange;\n        var lastRowHit = false;\n        var lastRow;\n        var result = [];\n        var groupsSelectChildren = this.gridOptionsWrapper.isGroupSelectsChildren();\n        this.forEachNodeAfterFilterAndSort(function (rowNode) {\n            var lookingForLastRow = firstRowHit && !lastRowHit;\n            // check if we need to flip the select switch\n            if (!firstRowHit) {\n                if (rowNode === lastInRange || rowNode === firstInRange) {\n                    firstRowHit = true;\n                }\n            }\n            var skipThisGroupNode = rowNode.group && groupsSelectChildren;\n            if (!skipThisGroupNode) {\n                var inRange = firstRowHit && !lastRowHit;\n                var childOfLastRow = rowNode.isParentOfNode(lastRow);\n                if (inRange || childOfLastRow) {\n                    result.push(rowNode);\n                }\n            }\n            if (lookingForLastRow) {\n                if (rowNode === lastInRange || rowNode === firstInRange) {\n                    lastRowHit = true;\n                    if (rowNode === lastInRange) {\n                        lastRow = lastInRange;\n                    }\n                    else {\n                        lastRow = firstInRange;\n                    }\n                }\n            }\n        });\n        return result;\n    };\n    ClientSideRowModel.prototype.setDatasource = function (datasource) {\n        console.error('ag-Grid: should never call setDatasource on clientSideRowController');\n    };\n    ClientSideRowModel.prototype.getTopLevelNodes = function () {\n        return this.rootNode ? this.rootNode.childrenAfterGroup : null;\n    };\n    ClientSideRowModel.prototype.getRootNode = function () {\n        return this.rootNode;\n    };\n    ClientSideRowModel.prototype.getRow = function (index) {\n        return this.rowsToDisplay[index];\n    };\n    ClientSideRowModel.prototype.isRowPresent = function (rowNode) {\n        return this.rowsToDisplay.indexOf(rowNode) >= 0;\n    };\n    ClientSideRowModel.prototype.getRowIndexAtPixel = function (pixelToMatch) {\n        if (this.isEmpty()) {\n            return -1;\n        }\n        // do binary search of tree\n        // http://oli.me.uk/2013/06/08/searching-javascript-arrays-with-a-binary-search/\n        var bottomPointer = 0;\n        var topPointer = this.rowsToDisplay.length - 1;\n        // quick check, if the pixel is out of bounds, then return last row\n        if (pixelToMatch <= 0) {\n            // if pixel is less than or equal zero, it's always the first row\n            return 0;\n        }\n        var lastNode = _.last(this.rowsToDisplay);\n        if (lastNode.rowTop <= pixelToMatch) {\n            return this.rowsToDisplay.length - 1;\n        }\n        while (true) {\n            var midPointer = Math.floor((bottomPointer + topPointer) / 2);\n            var currentRowNode = this.rowsToDisplay[midPointer];\n            if (this.isRowInPixel(currentRowNode, pixelToMatch)) {\n                return midPointer;\n            }\n            if (currentRowNode.rowTop < pixelToMatch) {\n                bottomPointer = midPointer + 1;\n            }\n            else if (currentRowNode.rowTop > pixelToMatch) {\n                topPointer = midPointer - 1;\n            }\n        }\n    };\n    ClientSideRowModel.prototype.isRowInPixel = function (rowNode, pixelToMatch) {\n        var topPixel = rowNode.rowTop;\n        var bottomPixel = rowNode.rowTop + rowNode.rowHeight;\n        var pixelInRow = topPixel <= pixelToMatch && bottomPixel > pixelToMatch;\n        return pixelInRow;\n    };\n    ClientSideRowModel.prototype.getCurrentPageHeight = function () {\n        if (this.rowsToDisplay && this.rowsToDisplay.length > 0) {\n            var lastRow = _.last(this.rowsToDisplay);\n            var lastPixel = lastRow.rowTop + lastRow.rowHeight;\n            return lastPixel;\n        }\n        return 0;\n    };\n    ClientSideRowModel.prototype.forEachLeafNode = function (callback) {\n        if (this.rootNode.allLeafChildren) {\n            this.rootNode.allLeafChildren.forEach(function (rowNode, index) { return callback(rowNode, index); });\n        }\n    };\n    ClientSideRowModel.prototype.forEachNode = function (callback) {\n        this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup, callback, RecursionType.Normal, 0);\n    };\n    ClientSideRowModel.prototype.forEachNodeAfterFilter = function (callback) {\n        this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterFilter, callback, RecursionType.AfterFilter, 0);\n    };\n    ClientSideRowModel.prototype.forEachNodeAfterFilterAndSort = function (callback) {\n        this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort, callback, RecursionType.AfterFilterAndSort, 0);\n    };\n    ClientSideRowModel.prototype.forEachPivotNode = function (callback) {\n        this.recursivelyWalkNodesAndCallback([this.rootNode], callback, RecursionType.PivotNodes, 0);\n    };\n    // iterates through each item in memory, and calls the callback function\n    // nodes - the rowNodes to traverse\n    // callback - the user provided callback\n    // recursion type - need this to know what child nodes to recurse, eg if looking at all nodes, or filtered notes etc\n    // index - works similar to the index in forEach in javascript's array function\n    ClientSideRowModel.prototype.recursivelyWalkNodesAndCallback = function (nodes, callback, recursionType, index) {\n        if (!nodes) {\n            return index;\n        }\n        for (var i = 0; i < nodes.length; i++) {\n            var node = nodes[i];\n            callback(node, index++);\n            // go to the next level if it is a group\n            if (node.hasChildren()) {\n                // depending on the recursion type, we pick a difference set of children\n                var nodeChildren = null;\n                switch (recursionType) {\n                    case RecursionType.Normal:\n                        nodeChildren = node.childrenAfterGroup;\n                        break;\n                    case RecursionType.AfterFilter:\n                        nodeChildren = node.childrenAfterFilter;\n                        break;\n                    case RecursionType.AfterFilterAndSort:\n                        nodeChildren = node.childrenAfterSort;\n                        break;\n                    case RecursionType.PivotNodes:\n                        // for pivot, we don't go below leafGroup levels\n                        nodeChildren = !node.leafGroup ? node.childrenAfterSort : null;\n                        break;\n                }\n                if (nodeChildren) {\n                    index = this.recursivelyWalkNodesAndCallback(nodeChildren, callback, recursionType, index);\n                }\n            }\n        }\n        return index;\n    };\n    // it's possible to recompute the aggregate without doing the other parts\n    // + gridApi.recomputeAggregates()\n    ClientSideRowModel.prototype.doAggregate = function (changedPath) {\n        if (this.aggregationStage) {\n            this.aggregationStage.execute({ rowNode: this.rootNode, changedPath: changedPath });\n        }\n    };\n    // + gridApi.expandAll()\n    // + gridApi.collapseAll()\n    ClientSideRowModel.prototype.expandOrCollapseAll = function (expand) {\n        var usingTreeData = this.gridOptionsWrapper.isTreeData();\n        if (this.rootNode) {\n            recursiveExpandOrCollapse(this.rootNode.childrenAfterGroup);\n        }\n        function recursiveExpandOrCollapse(rowNodes) {\n            if (!rowNodes) {\n                return;\n            }\n            rowNodes.forEach(function (rowNode) {\n                var shouldExpandOrCollapse = usingTreeData ? _.exists(rowNode.childrenAfterGroup) : rowNode.group;\n                if (shouldExpandOrCollapse) {\n                    rowNode.expanded = expand;\n                    recursiveExpandOrCollapse(rowNode.childrenAfterGroup);\n                }\n            });\n        }\n        this.refreshModel({ step: Constants.STEP_MAP });\n        var eventSource = expand ? 'expandAll' : 'collapseAll';\n        var event = {\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            type: Events.EVENT_EXPAND_COLLAPSE_ALL,\n            source: eventSource\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ClientSideRowModel.prototype.doSort = function (rowNodeTransactions, changedPath) {\n        this.sortStage.execute({\n            rowNode: this.rootNode,\n            rowNodeTransactions: rowNodeTransactions,\n            changedPath: changedPath\n        });\n    };\n    ClientSideRowModel.prototype.doRowGrouping = function (groupState, rowNodeTransactions, rowNodeOrder, changedPath, afterColumnsChanged) {\n        // grouping is enterprise only, so if service missing, skip the step\n        var doingLegacyTreeData = _.exists(this.gridOptionsWrapper.getNodeChildDetailsFunc());\n        if (doingLegacyTreeData) {\n            return;\n        }\n        if (this.groupStage) {\n            if (rowNodeTransactions) {\n                var merged_1 = {\n                    add: [],\n                    remove: [],\n                    update: []\n                };\n                rowNodeTransactions.forEach(function (tran) {\n                    _.pushAll(merged_1.add, tran.add);\n                    _.pushAll(merged_1.remove, tran.remove);\n                    _.pushAll(merged_1.update, tran.update);\n                });\n                this.groupStage.execute({\n                    rowNode: this.rootNode,\n                    rowNodeTransaction: merged_1,\n                    rowNodeOrder: rowNodeOrder,\n                    changedPath: changedPath\n                });\n            }\n            else {\n                // groups are about to get disposed, so need to deselect any that are selected\n                this.selectionController.removeGroupsFromSelection();\n                this.groupStage.execute({\n                    rowNode: this.rootNode,\n                    changedPath: changedPath,\n                    afterColumnsChanged: afterColumnsChanged\n                });\n                // set open/closed state on groups\n                this.restoreGroupState(groupState);\n            }\n            if (this.gridOptionsWrapper.isGroupSelectsChildren()) {\n                this.selectionController.updateGroupsFromChildrenSelections(changedPath);\n            }\n        }\n        else {\n            this.rootNode.childrenAfterGroup = this.rootNode.allLeafChildren;\n        }\n    };\n    ClientSideRowModel.prototype.restoreGroupState = function (groupState) {\n        if (!groupState) {\n            return;\n        }\n        _.traverseNodesWithKey(this.rootNode.childrenAfterGroup, function (node, key) {\n            // if the group was open last time, then open it this time. however\n            // if was not open last time, then don't touch the group, so the 'groupDefaultExpanded'\n            // setting will take effect.\n            if (typeof groupState[key] === 'boolean') {\n                node.expanded = groupState[key];\n            }\n        });\n    };\n    ClientSideRowModel.prototype.doFilter = function (changedPath) {\n        this.filterStage.execute({ rowNode: this.rootNode, changedPath: changedPath });\n    };\n    ClientSideRowModel.prototype.doPivot = function (changedPath) {\n        if (this.pivotStage) {\n            this.pivotStage.execute({ rowNode: this.rootNode, changedPath: changedPath });\n        }\n    };\n    ClientSideRowModel.prototype.getGroupState = function () {\n        if (!this.rootNode.childrenAfterGroup || !this.gridOptionsWrapper.isRememberGroupStateWhenNewData()) {\n            return null;\n        }\n        var result = {};\n        _.traverseNodesWithKey(this.rootNode.childrenAfterGroup, function (node, key) { return result[key] = node.expanded; });\n        return result;\n    };\n    ClientSideRowModel.prototype.getCopyOfNodesMap = function () {\n        return this.nodeManager.getCopyOfNodesMap();\n    };\n    ClientSideRowModel.prototype.getRowNode = function (id) {\n        return this.nodeManager.getRowNode(id);\n    };\n    // rows: the rows to put into the model\n    ClientSideRowModel.prototype.setRowData = function (rowData) {\n        // no need to invalidate cache, as the cache is stored on the rowNode,\n        // so new rowNodes means the cache is wiped anyway.\n        // remember group state, so we can expand groups that should be expanded\n        var groupState = this.getGroupState();\n        this.nodeManager.setRowData(rowData);\n        // this event kicks off:\n        // - clears selection\n        // - updates filters\n        // - shows 'no rows' overlay if needed\n        var rowDataChangedEvent = {\n            type: Events.EVENT_ROW_DATA_CHANGED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(rowDataChangedEvent);\n        this.refreshModel({\n            step: Constants.STEP_EVERYTHING,\n            groupState: groupState,\n            newData: true\n        });\n    };\n    ClientSideRowModel.prototype.batchUpdateRowData = function (rowDataTransaction, callback) {\n        var _this = this;\n        if (!this.rowDataTransactionBatch) {\n            this.rowDataTransactionBatch = [];\n            var waitMillis = this.gridOptionsWrapper.getAsyncTransactionWaitMillis();\n            window.setTimeout(function () {\n                _this.executeBatchUpdateRowData();\n                _this.rowDataTransactionBatch = null;\n            }, waitMillis);\n        }\n        this.rowDataTransactionBatch.push({ rowDataTransaction: rowDataTransaction, callback: callback });\n    };\n    ClientSideRowModel.prototype.executeBatchUpdateRowData = function () {\n        var _this = this;\n        this.valueCache.onDataChanged();\n        var callbackFuncsBound = [];\n        var rowNodeTrans = [];\n        if (this.rowDataTransactionBatch) {\n            this.rowDataTransactionBatch.forEach(function (tranItem) {\n                var rowNodeTran = _this.nodeManager.updateRowData(tranItem.rowDataTransaction, null);\n                rowNodeTrans.push(rowNodeTran);\n                if (tranItem.callback) {\n                    callbackFuncsBound.push(tranItem.callback.bind(null, rowNodeTran));\n                }\n            });\n        }\n        this.commonUpdateRowData(rowNodeTrans);\n        // do callbacks in next VM turn so it's async\n        if (callbackFuncsBound.length > 0) {\n            window.setTimeout(function () {\n                callbackFuncsBound.forEach(function (func) { return func(); });\n            }, 0);\n        }\n    };\n    ClientSideRowModel.prototype.updateRowData = function (rowDataTran, rowNodeOrder) {\n        this.valueCache.onDataChanged();\n        var rowNodeTran = this.nodeManager.updateRowData(rowDataTran, rowNodeOrder);\n        this.commonUpdateRowData([rowNodeTran], rowNodeOrder);\n        return rowNodeTran;\n    };\n    // common to updateRowData and batchUpdateRowData\n    ClientSideRowModel.prototype.commonUpdateRowData = function (rowNodeTrans, rowNodeOrder) {\n        this.refreshModel({\n            step: Constants.STEP_EVERYTHING,\n            rowNodeTransactions: rowNodeTrans,\n            rowNodeOrder: rowNodeOrder,\n            keepRenderedRows: true,\n            animate: true,\n            keepEditingRows: true\n        });\n        var event = {\n            type: Events.EVENT_ROW_DATA_UPDATED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    ClientSideRowModel.prototype.doRowsToDisplay = function () {\n        this.rowsToDisplay = this.flattenStage.execute({ rowNode: this.rootNode });\n    };\n    ClientSideRowModel.prototype.onRowHeightChanged = function () {\n        this.refreshModel({ step: Constants.STEP_MAP, keepRenderedRows: true, keepEditingRows: true });\n    };\n    ClientSideRowModel.prototype.resetRowHeights = function () {\n        this.forEachNode(function (rowNode) { return rowNode.setRowHeight(null); });\n        this.onRowHeightChanged();\n    };\n    __decorate$1S([\n        Autowired('gridOptionsWrapper')\n    ], ClientSideRowModel.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1S([\n        Autowired('columnController')\n    ], ClientSideRowModel.prototype, \"columnController\", void 0);\n    __decorate$1S([\n        Autowired('filterManager')\n    ], ClientSideRowModel.prototype, \"filterManager\", void 0);\n    __decorate$1S([\n        Autowired('$scope')\n    ], ClientSideRowModel.prototype, \"$scope\", void 0);\n    __decorate$1S([\n        Autowired('selectionController')\n    ], ClientSideRowModel.prototype, \"selectionController\", void 0);\n    __decorate$1S([\n        Autowired('eventService')\n    ], ClientSideRowModel.prototype, \"eventService\", void 0);\n    __decorate$1S([\n        Autowired('context')\n    ], ClientSideRowModel.prototype, \"context\", void 0);\n    __decorate$1S([\n        Autowired('valueService')\n    ], ClientSideRowModel.prototype, \"valueService\", void 0);\n    __decorate$1S([\n        Autowired('valueCache')\n    ], ClientSideRowModel.prototype, \"valueCache\", void 0);\n    __decorate$1S([\n        Autowired('columnApi')\n    ], ClientSideRowModel.prototype, \"columnApi\", void 0);\n    __decorate$1S([\n        Autowired('gridApi')\n    ], ClientSideRowModel.prototype, \"gridApi\", void 0);\n    __decorate$1S([\n        Autowired('filterStage')\n    ], ClientSideRowModel.prototype, \"filterStage\", void 0);\n    __decorate$1S([\n        Autowired('sortStage')\n    ], ClientSideRowModel.prototype, \"sortStage\", void 0);\n    __decorate$1S([\n        Autowired('flattenStage')\n    ], ClientSideRowModel.prototype, \"flattenStage\", void 0);\n    __decorate$1S([\n        Optional('groupStage')\n    ], ClientSideRowModel.prototype, \"groupStage\", void 0);\n    __decorate$1S([\n        Optional('aggregationStage')\n    ], ClientSideRowModel.prototype, \"aggregationStage\", void 0);\n    __decorate$1S([\n        Optional('pivotStage')\n    ], ClientSideRowModel.prototype, \"pivotStage\", void 0);\n    __decorate$1S([\n        PostConstruct\n    ], ClientSideRowModel.prototype, \"init\", null);\n    __decorate$1S([\n        PreDestroy\n    ], ClientSideRowModel.prototype, \"destroy\", null);\n    ClientSideRowModel = __decorate$1S([\n        Bean('rowModel')\n    ], ClientSideRowModel);\n    return ClientSideRowModel;\n}());\n\nvar __decorate$1T = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar FilterStage = /** @class */ (function () {\n    function FilterStage() {\n    }\n    FilterStage.prototype.execute = function (params) {\n        var rowNode = params.rowNode, changedPath = params.changedPath;\n        this.filterService.filter(changedPath);\n        this.selectableService.updateSelectableAfterFiltering(rowNode);\n    };\n    __decorate$1T([\n        Autowired('gridOptionsWrapper')\n    ], FilterStage.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1T([\n        Autowired('selectableService')\n    ], FilterStage.prototype, \"selectableService\", void 0);\n    __decorate$1T([\n        Autowired('filterService')\n    ], FilterStage.prototype, \"filterService\", void 0);\n    FilterStage = __decorate$1T([\n        Bean('filterStage')\n    ], FilterStage);\n    return FilterStage;\n}());\n\nvar __decorate$1U = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar SortStage = /** @class */ (function () {\n    function SortStage() {\n    }\n    SortStage.prototype.execute = function (params) {\n        var sortOptions = this.sortController.getSortForRowController();\n        var sortActive = _.exists(sortOptions) && sortOptions.length > 0;\n        var deltaSort = sortActive\n            && _.exists(params.rowNodeTransactions)\n            // in time we can remove this check, so that delta sort is always\n            // on if transactions are present. it's off for now so that we can\n            // selectively turn it on and test it with some select users before\n            // rolling out to everyone.\n            && this.gridOptionsWrapper.isDeltaSort();\n        // we only need dirty nodes if doing delta sort\n        var dirtyLeafNodes = deltaSort ? this.calculateDirtyNodes(params.rowNodeTransactions) : null;\n        var valueColumns = this.columnController.getValueColumns();\n        var noAggregations = _.missingOrEmpty(valueColumns);\n        this.sortService.sort(sortOptions, sortActive, deltaSort, dirtyLeafNodes, params.changedPath, noAggregations);\n    };\n    SortStage.prototype.calculateDirtyNodes = function (rowNodeTransactions) {\n        var dirtyNodes = {};\n        var addNodesFunc = function (rowNodes) {\n            if (rowNodes) {\n                rowNodes.forEach(function (rowNode) { return dirtyNodes[rowNode.id] = true; });\n            }\n        };\n        // all leaf level nodes in the transaction were impacted\n        rowNodeTransactions.forEach(function (tran) {\n            addNodesFunc(tran.add);\n            addNodesFunc(tran.update);\n            addNodesFunc(tran.remove);\n        });\n        return dirtyNodes;\n    };\n    __decorate$1U([\n        Autowired('gridOptionsWrapper')\n    ], SortStage.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1U([\n        Autowired('sortService')\n    ], SortStage.prototype, \"sortService\", void 0);\n    __decorate$1U([\n        Autowired('sortController')\n    ], SortStage.prototype, \"sortController\", void 0);\n    __decorate$1U([\n        Autowired('columnController')\n    ], SortStage.prototype, \"columnController\", void 0);\n    SortStage = __decorate$1U([\n        Bean('sortStage')\n    ], SortStage);\n    return SortStage;\n}());\n\nvar __decorate$1V = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar FlattenStage = /** @class */ (function () {\n    function FlattenStage() {\n    }\n    FlattenStage.prototype.execute = function (params) {\n        var rootNode = params.rowNode;\n        // even if not doing grouping, we do the mapping, as the client might\n        // of passed in data that already has a grouping in it somewhere\n        var result = [];\n        // putting value into a wrapper so it's passed by reference\n        var nextRowTop = { value: 0 };\n        var skipLeafNodes = this.columnController.isPivotMode();\n        // if we are reducing, and not grouping, then we want to show the root node, as that\n        // is where the pivot values are\n        var showRootNode = skipLeafNodes && rootNode.leafGroup;\n        var topList = showRootNode ? [rootNode] : rootNode.childrenAfterSort;\n        this.recursivelyAddToRowsToDisplay(topList, result, nextRowTop, skipLeafNodes, 0);\n        // we do not want the footer total if the gris is empty\n        var atLeastOneRowPresent = result.length > 0;\n        var includeGroupTotalFooter = !showRootNode\n            // don't show total footer when showRootNode is true (i.e. in pivot mode and no groups)\n            && atLeastOneRowPresent\n            && this.gridOptionsWrapper.isGroupIncludeTotalFooter();\n        if (includeGroupTotalFooter) {\n            this.ensureFooterNodeExists(rootNode);\n            this.addRowNodeToRowsToDisplay(rootNode.sibling, result, nextRowTop, 0);\n        }\n        return result;\n    };\n    FlattenStage.prototype.recursivelyAddToRowsToDisplay = function (rowsToFlatten, result, nextRowTop, skipLeafNodes, uiLevel) {\n        if (_.missingOrEmpty(rowsToFlatten)) {\n            return;\n        }\n        var groupSuppressRow = this.gridOptionsWrapper.isGroupSuppressRow();\n        var hideOpenParents = this.gridOptionsWrapper.isGroupHideOpenParents();\n        // these two are mutually exclusive, so if first set, we don't set the second\n        var groupRemoveSingleChildren = this.gridOptionsWrapper.isGroupRemoveSingleChildren();\n        var groupRemoveLowestSingleChildren = !groupRemoveSingleChildren && this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren();\n        for (var i = 0; i < rowsToFlatten.length; i++) {\n            var rowNode = rowsToFlatten[i];\n            // check all these cases, for working out if this row should be included in the final mapped list\n            var isParent = rowNode.hasChildren();\n            var isGroupSuppressedNode = groupSuppressRow && isParent;\n            var isSkippedLeafNode = skipLeafNodes && !isParent;\n            var isRemovedSingleChildrenGroup = groupRemoveSingleChildren &&\n                isParent &&\n                rowNode.childrenAfterGroup.length === 1;\n            var isRemovedLowestSingleChildrenGroup = groupRemoveLowestSingleChildren &&\n                isParent &&\n                rowNode.leafGroup &&\n                rowNode.childrenAfterGroup.length === 1;\n            // hide open parents means when group is open, we don't show it. we also need to make sure the\n            // group is expandable in the first place (as leaf groups are not expandable if pivot mode is on).\n            // the UI will never allow expanding leaf  groups, however the user might via the API (or menu option 'expand all')\n            var neverAllowToExpand = skipLeafNodes && rowNode.leafGroup;\n            var isHiddenOpenParent = hideOpenParents && rowNode.expanded && (!neverAllowToExpand);\n            var thisRowShouldBeRendered = !isSkippedLeafNode &&\n                !isGroupSuppressedNode &&\n                !isHiddenOpenParent &&\n                !isRemovedSingleChildrenGroup &&\n                !isRemovedLowestSingleChildrenGroup;\n            if (thisRowShouldBeRendered) {\n                this.addRowNodeToRowsToDisplay(rowNode, result, nextRowTop, uiLevel);\n            }\n            // if we are pivoting, we never map below the leaf group\n            if (skipLeafNodes && rowNode.leafGroup) {\n                continue;\n            }\n            if (isParent) {\n                var excludedParent = isRemovedSingleChildrenGroup || isRemovedLowestSingleChildrenGroup;\n                // we traverse the group if it is expended, however we always traverse if the parent node\n                // was removed (as the group will never be opened if it is not displayed, we show the children instead)\n                if (rowNode.expanded || excludedParent) {\n                    // if the parent was excluded, then ui level is that of the parent\n                    var uiLevelForChildren = excludedParent ? uiLevel : uiLevel + 1;\n                    this.recursivelyAddToRowsToDisplay(rowNode.childrenAfterSort, result, nextRowTop, skipLeafNodes, uiLevelForChildren);\n                    // put a footer in if user is looking for it\n                    if (this.gridOptionsWrapper.isGroupIncludeFooter()) {\n                        this.ensureFooterNodeExists(rowNode);\n                        this.addRowNodeToRowsToDisplay(rowNode.sibling, result, nextRowTop, uiLevel);\n                    }\n                }\n            }\n            else if (rowNode.master && rowNode.expanded) {\n                var detailNode = this.createDetailNode(rowNode);\n                this.addRowNodeToRowsToDisplay(detailNode, result, nextRowTop, uiLevel);\n            }\n        }\n    };\n    // duplicated method, it's also in floatingRowModel\n    FlattenStage.prototype.addRowNodeToRowsToDisplay = function (rowNode, result, nextRowTop, uiLevel) {\n        var isGroupMultiAutoColumn = this.gridOptionsWrapper.isGroupMultiAutoColumn();\n        result.push(rowNode);\n        rowNode.setUiLevel(isGroupMultiAutoColumn ? 0 : uiLevel);\n    };\n    FlattenStage.prototype.ensureFooterNodeExists = function (groupNode) {\n        // only create footer node once, otherwise we have daemons and\n        // the animate screws up with the daemons hanging around\n        if (_.exists(groupNode.sibling)) {\n            return;\n        }\n        var footerNode = new RowNode();\n        this.context.wireBean(footerNode);\n        Object.keys(groupNode).forEach(function (key) {\n            footerNode[key] = groupNode[key];\n        });\n        footerNode.footer = true;\n        footerNode.rowTop = null;\n        footerNode.oldRowTop = null;\n        if (_.exists(footerNode.id)) {\n            footerNode.id = 'rowGroupFooter_' + footerNode.id;\n        }\n        // get both header and footer to reference each other as siblings. this is never undone,\n        // only overwritten. so if a group is expanded, then contracted, it will have a ghost\n        // sibling - but that's fine, as we can ignore this if the header is contracted.\n        footerNode.sibling = groupNode;\n        groupNode.sibling = footerNode;\n    };\n    FlattenStage.prototype.createDetailNode = function (masterNode) {\n        if (_.exists(masterNode.detailNode)) {\n            return masterNode.detailNode;\n        }\n        var detailNode = new RowNode();\n        this.context.wireBean(detailNode);\n        detailNode.detail = true;\n        detailNode.selectable = false;\n        // flower was renamed to 'detail', but keeping for backwards compatibility\n        detailNode.flower = detailNode.detail;\n        detailNode.parent = masterNode;\n        if (_.exists(masterNode.id)) {\n            detailNode.id = 'detail_' + masterNode.id;\n        }\n        detailNode.data = masterNode.data;\n        detailNode.level = masterNode.level + 1;\n        masterNode.detailNode = detailNode;\n        masterNode.childFlower = masterNode.detailNode; // for backwards compatibility\n        return detailNode;\n    };\n    __decorate$1V([\n        Autowired('gridOptionsWrapper')\n    ], FlattenStage.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1V([\n        Autowired('selectionController')\n    ], FlattenStage.prototype, \"selectionController\", void 0);\n    __decorate$1V([\n        Autowired('eventService')\n    ], FlattenStage.prototype, \"eventService\", void 0);\n    __decorate$1V([\n        Autowired('context')\n    ], FlattenStage.prototype, \"context\", void 0);\n    __decorate$1V([\n        Autowired('columnController')\n    ], FlattenStage.prototype, \"columnController\", void 0);\n    FlattenStage = __decorate$1V([\n        Bean('flattenStage')\n    ], FlattenStage);\n    return FlattenStage;\n}());\n\nvar __decorate$1W = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar SortService = /** @class */ (function () {\n    function SortService() {\n    }\n    SortService.prototype.init = function () {\n        this.postSortFunc = this.gridOptionsWrapper.getPostSortFunc();\n    };\n    SortService.prototype.sort = function (sortOptions, sortActive, deltaSort, dirtyLeafNodes, changedPath, noAggregations) {\n        var _this = this;\n        var callback = function (rowNode) {\n            // we clear out the 'pull down open parents' first, as the values mix up the sorting\n            _this.pullDownGroupDataForHideOpenParents(rowNode.childrenAfterFilter, true);\n            // Javascript sort is non deterministic when all the array items are equals, ie Comparator always returns 0,\n            // so to ensure the array keeps its order, add an additional sorting condition manually, in this case we\n            // are going to inspect the original array position. This is what sortedRowNodes is for.\n            if (sortActive) {\n                var sortedRowNodes = deltaSort ?\n                    _this.doDeltaSort(rowNode, sortOptions, dirtyLeafNodes, changedPath, noAggregations)\n                    : _this.doFullSort(rowNode, sortOptions);\n                rowNode.childrenAfterSort = sortedRowNodes.map(function (sorted) { return sorted.rowNode; });\n            }\n            else {\n                rowNode.childrenAfterSort = rowNode.childrenAfterFilter.slice(0);\n            }\n            _this.updateChildIndexes(rowNode);\n            if (_this.postSortFunc) {\n                _this.postSortFunc(rowNode.childrenAfterSort);\n            }\n        };\n        changedPath.forEachChangedNodeDepthFirst(callback);\n        this.updateGroupDataForHiddenOpenParents(changedPath);\n    };\n    SortService.prototype.doFullSort = function (rowNode, sortOptions) {\n        var sortedRowNodes = rowNode.childrenAfterFilter\n            .map(this.mapNodeToSortedNode.bind(this));\n        sortedRowNodes.sort(this.compareRowNodes.bind(this, sortOptions));\n        return sortedRowNodes;\n    };\n    SortService.prototype.mapNodeToSortedNode = function (rowNode, pos) {\n        return { currentPos: pos, rowNode: rowNode };\n    };\n    SortService.prototype.doDeltaSort = function (rowNode, sortOptions, dirtyLeafNodes, changedPath, noAggregations) {\n        // clean nodes will be a list of all row nodes that remain in the set\n        // and ordered. we start with the old sorted set and take out any nodes\n        // that were removed or changed (but not added, added doesn't make sense,\n        // if a node was added, there is no way it could be here from last time).\n        var cleanNodes = rowNode.childrenAfterSort\n            .filter(function (rowNode) {\n            // take out all nodes that were changed as part of the current transaction.\n            // a changed node could a) be in a different sort position or b) may\n            // no longer be in this set as the changed node may not pass filtering,\n            // or be in a different group.\n            var passesDirtyNodesCheck = !dirtyLeafNodes[rowNode.id];\n            // also remove group nodes in the changed path, as they can have different aggregate\n            // values which could impact the sort order.\n            // note: changed path is not active if a) no value columns or b) no transactions. it is never\n            // (b) in deltaSort as we only do deltaSort for transactions. for (a) if no value columns, then\n            // there is no value in the group that could of changed (ie no aggregate values)\n            var passesChangedPathCheck = noAggregations || changedPath.canSkip(rowNode);\n            return passesDirtyNodesCheck && passesChangedPathCheck;\n        })\n            .map(this.mapNodeToSortedNode.bind(this));\n        // for fast access below, we map them\n        var cleanNodesMapped = {};\n        cleanNodes.forEach(function (sortedRowNode) { return cleanNodesMapped[sortedRowNode.rowNode.id] = sortedRowNode.rowNode; });\n        // these are all nodes that need to be placed\n        var changedNodes = rowNode.childrenAfterFilter\n            // ignore nodes in the clean list\n            .filter(function (rowNode) { return !cleanNodesMapped[rowNode.id]; })\n            .map(this.mapNodeToSortedNode.bind(this));\n        // sort changed nodes. note that we don't need to sort cleanNodes as they are\n        // already sorted from last time.\n        changedNodes.sort(this.compareRowNodes.bind(this, sortOptions));\n        if (changedNodes.length === 0) {\n            return cleanNodes;\n        }\n        else if (cleanNodes.length === 0) {\n            return changedNodes;\n        }\n        else {\n            return this.mergeSortedArrays(sortOptions, cleanNodes, changedNodes);\n        }\n    };\n    // Merge two sorted arrays into each other\n    SortService.prototype.mergeSortedArrays = function (sortOptions, arr1, arr2) {\n        var res = [];\n        var i = 0;\n        var j = 0;\n        // Traverse both array, adding them in order\n        while (i < arr1.length && j < arr2.length) {\n            // Check if current element of first\n            // array is smaller than current element\n            // of second array. If yes, store first\n            // array element and increment first array\n            // index. Otherwise do same with second array\n            var compareResult = this.compareRowNodes(sortOptions, arr1[i], arr2[j]);\n            if (compareResult < 0) {\n                res.push(arr1[i++]);\n            }\n            else {\n                res.push(arr2[j++]);\n            }\n        }\n        // add remaining from arr1\n        while (i < arr1.length) {\n            res.push(arr1[i++]);\n        }\n        // add remaining from arr2\n        while (j < arr2.length) {\n            res.push(arr2[j++]);\n        }\n        return res;\n    };\n    SortService.prototype.compareRowNodes = function (sortOptions, sortedNodeA, sortedNodeB) {\n        var nodeA = sortedNodeA.rowNode;\n        var nodeB = sortedNodeB.rowNode;\n        // Iterate columns, return the first that doesn't match\n        for (var i = 0, len = sortOptions.length; i < len; i++) {\n            var sortOption = sortOptions[i];\n            // let compared = compare(nodeA, nodeB, sortOption.column, sortOption.inverter === -1);\n            var isInverted = sortOption.inverter === -1;\n            var valueA = this.getValue(nodeA, sortOption.column);\n            var valueB = this.getValue(nodeB, sortOption.column);\n            var comparatorResult = void 0;\n            if (sortOption.column.getColDef().comparator) {\n                //if comparator provided, use it\n                comparatorResult = sortOption.column.getColDef().comparator(valueA, valueB, nodeA, nodeB, isInverted);\n            }\n            else {\n                //otherwise do our own comparison\n                comparatorResult = _.defaultComparator(valueA, valueB, this.gridOptionsWrapper.isAccentedSort());\n            }\n            if (comparatorResult !== 0) {\n                return comparatorResult * sortOption.inverter;\n            }\n        }\n        // All matched, we make is so that the original sort order is kept:\n        return sortedNodeA.currentPos - sortedNodeB.currentPos;\n    };\n    SortService.prototype.getValue = function (nodeA, column) {\n        return this.valueService.getValue(column, nodeA);\n    };\n    SortService.prototype.updateChildIndexes = function (rowNode) {\n        if (_.missing(rowNode.childrenAfterSort)) {\n            return;\n        }\n        var listToSort = rowNode.childrenAfterSort;\n        for (var i = 0; i < listToSort.length; i++) {\n            var child = listToSort[i];\n            var firstChild = i === 0;\n            var lastChild = i === rowNode.childrenAfterSort.length - 1;\n            child.setFirstChild(firstChild);\n            child.setLastChild(lastChild);\n            child.setChildIndex(i);\n        }\n    };\n    SortService.prototype.updateGroupDataForHiddenOpenParents = function (changedPath) {\n        var _this = this;\n        if (!this.gridOptionsWrapper.isGroupHideOpenParents()) {\n            return;\n        }\n        // recurse breadth first over group nodes after sort to 'pull down' group data to child groups\n        var callback = function (rowNode) {\n            _this.pullDownGroupDataForHideOpenParents(rowNode.childrenAfterSort, false);\n            rowNode.childrenAfterSort.forEach(function (child) {\n                if (child.hasChildren()) {\n                    callback(child);\n                }\n            });\n        };\n        changedPath.executeFromRootNode(function (rowNode) { return callback(rowNode); });\n    };\n    SortService.prototype.pullDownGroupDataForHideOpenParents = function (rowNodes, clearOperation) {\n        var _this = this;\n        if (_.missing(rowNodes)) {\n            return;\n        }\n        if (!this.gridOptionsWrapper.isGroupHideOpenParents()) {\n            return;\n        }\n        rowNodes.forEach(function (childRowNode) {\n            var groupDisplayCols = _this.columnController.getGroupDisplayColumns();\n            groupDisplayCols.forEach(function (groupDisplayCol) {\n                var showRowGroup = groupDisplayCol.getColDef().showRowGroup;\n                if (typeof showRowGroup !== 'string') {\n                    console.error('ag-Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup');\n                    return;\n                }\n                var displayingGroupKey = showRowGroup;\n                var rowGroupColumn = _this.columnController.getPrimaryColumn(displayingGroupKey);\n                var thisRowNodeMatches = rowGroupColumn === childRowNode.rowGroupColumn;\n                if (thisRowNodeMatches) {\n                    return;\n                }\n                if (clearOperation) {\n                    // if doing a clear operation, we clear down the value for every possible group column\n                    childRowNode.setGroupValue(groupDisplayCol.getId(), null);\n                }\n                else {\n                    // if doing a set operation, we set only where the pull down is to occur\n                    var parentToStealFrom = childRowNode.getFirstChildOfFirstChild(rowGroupColumn);\n                    if (parentToStealFrom) {\n                        childRowNode.setGroupValue(groupDisplayCol.getId(), parentToStealFrom.key);\n                    }\n                }\n            });\n        });\n    };\n    __decorate$1W([\n        Autowired('sortController')\n    ], SortService.prototype, \"sortController\", void 0);\n    __decorate$1W([\n        Autowired('columnController')\n    ], SortService.prototype, \"columnController\", void 0);\n    __decorate$1W([\n        Autowired('valueService')\n    ], SortService.prototype, \"valueService\", void 0);\n    __decorate$1W([\n        Autowired('gridOptionsWrapper')\n    ], SortService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1W([\n        PostConstruct\n    ], SortService.prototype, \"init\", null);\n    SortService = __decorate$1W([\n        Bean('sortService')\n    ], SortService);\n    return SortService;\n}());\n\nvar __decorate$1X = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar FilterService = /** @class */ (function () {\n    function FilterService() {\n    }\n    FilterService.prototype.postConstruct = function () {\n        this.doingTreeData = this.gridOptionsWrapper.isTreeData();\n    };\n    FilterService.prototype.filter = function (changedPath) {\n        var filterActive = this.filterManager.isAnyFilterPresent();\n        this.filterNodes(filterActive, changedPath);\n    };\n    FilterService.prototype.filterNodes = function (filterActive, changedPath) {\n        var _this = this;\n        var filterCallback = function (rowNode, includeChildNodes) {\n            // recursively get all children that are groups to also filter\n            if (rowNode.hasChildren()) {\n                // result of filter for this node. when filtering tree data, includeChildNodes = true when parent passes\n                if (filterActive && !includeChildNodes) {\n                    rowNode.childrenAfterFilter = rowNode.childrenAfterGroup.filter(function (childNode) {\n                        // a group is included in the result if it has any children of it's own.\n                        // by this stage, the child groups are already filtered\n                        var passBecauseChildren = childNode.childrenAfterFilter && childNode.childrenAfterFilter.length > 0;\n                        // both leaf level nodes and tree data nodes have data. these get added if\n                        // the data passes the filter\n                        var passBecauseDataPasses = childNode.data && _this.filterManager.doesRowPassFilter(childNode);\n                        // note - tree data nodes pass either if a) they pass themselves or b) any children of that node pass\n                        return passBecauseChildren || passBecauseDataPasses;\n                    });\n                }\n                else {\n                    // if not filtering, the result is the original list\n                    rowNode.childrenAfterFilter = rowNode.childrenAfterGroup;\n                }\n                _this.setAllChildrenCount(rowNode);\n            }\n            else {\n                rowNode.childrenAfterFilter = rowNode.childrenAfterGroup;\n                rowNode.setAllChildrenCount(null);\n            }\n        };\n        if (this.doingTreeDataFiltering()) {\n            var treeDataDepthFirstFilter_1 = function (rowNode, alreadyFoundInParent) {\n                // tree data filter traverses the hierarchy depth first and includes child nodes if parent passes\n                // filter, and parent nodes will be include if any children exist.\n                if (rowNode.childrenAfterGroup) {\n                    for (var i = 0; i < rowNode.childrenAfterGroup.length; i++) {\n                        var childNode = rowNode.childrenAfterGroup[i];\n                        // first check if current node passes filter before invoking child nodes\n                        var foundInParent = alreadyFoundInParent || _this.filterManager.doesRowPassFilter(childNode);\n                        if (childNode.childrenAfterGroup) {\n                            treeDataDepthFirstFilter_1(rowNode.childrenAfterGroup[i], foundInParent);\n                        }\n                        else {\n                            filterCallback(childNode, foundInParent);\n                        }\n                    }\n                }\n                filterCallback(rowNode, alreadyFoundInParent);\n            };\n            var treeDataFilterCallback = function (rowNode) { return treeDataDepthFirstFilter_1(rowNode, false); };\n            changedPath.executeFromRootNode(treeDataFilterCallback);\n        }\n        else {\n            var defaultFilterCallback = function (rowNode) { return filterCallback(rowNode, false); };\n            changedPath.forEachChangedNodeDepthFirst(defaultFilterCallback, true);\n        }\n    };\n    FilterService.prototype.setAllChildrenCountTreeData = function (rowNode) {\n        // for tree data, we include all children, groups and leafs\n        var allChildrenCount = 0;\n        rowNode.childrenAfterFilter.forEach(function (child) {\n            // include child itself\n            allChildrenCount++;\n            // include children of children\n            allChildrenCount += child.allChildrenCount;\n        });\n        rowNode.setAllChildrenCount(allChildrenCount);\n    };\n    FilterService.prototype.setAllChildrenCountGridGrouping = function (rowNode) {\n        // for grid data, we only count the leafs\n        var allChildrenCount = 0;\n        rowNode.childrenAfterFilter.forEach(function (child) {\n            if (child.group) {\n                allChildrenCount += child.allChildrenCount;\n            }\n            else {\n                allChildrenCount++;\n            }\n        });\n        rowNode.setAllChildrenCount(allChildrenCount);\n    };\n    FilterService.prototype.setAllChildrenCount = function (rowNode) {\n        if (this.doingTreeData) {\n            this.setAllChildrenCountTreeData(rowNode);\n        }\n        else {\n            this.setAllChildrenCountGridGrouping(rowNode);\n        }\n    };\n    FilterService.prototype.doingTreeDataFiltering = function () {\n        return this.gridOptionsWrapper.isTreeData() && !this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering();\n    };\n    __decorate$1X([\n        Autowired('filterManager')\n    ], FilterService.prototype, \"filterManager\", void 0);\n    __decorate$1X([\n        Autowired('gridOptionsWrapper')\n    ], FilterService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1X([\n        PostConstruct\n    ], FilterService.prototype, \"postConstruct\", null);\n    FilterService = __decorate$1X([\n        Bean(\"filterService\")\n    ], FilterService);\n    return FilterService;\n}());\n\nvar __decorate$1Y = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ImmutableService = /** @class */ (function () {\n    function ImmutableService() {\n    }\n    ImmutableService.prototype.postConstruct = function () {\n        if (this.rowModel.getType() === Constants.ROW_MODEL_TYPE_CLIENT_SIDE) {\n            this.clientSideRowModel = this.rowModel;\n        }\n    };\n    // converts the setRowData() command to a transaction\n    ImmutableService.prototype.createTransactionForRowData = function (data) {\n        if (_.missing(this.clientSideRowModel)) {\n            console.error('ag-Grid: ImmutableService only works with ClientSideRowModel');\n            return;\n        }\n        var getRowNodeIdFunc = this.gridOptionsWrapper.getRowNodeIdFunc();\n        if (!getRowNodeIdFunc || _.missing(getRowNodeIdFunc)) {\n            console.error('ag-Grid: ImmutableService requires getRowNodeId() callback to be implemented, your row data need IDs!');\n            return;\n        }\n        // convert the data into a transaction object by working out adds, removes and updates\n        var transaction = {\n            remove: [],\n            update: [],\n            add: []\n        };\n        var existingNodesMap = this.clientSideRowModel.getCopyOfNodesMap();\n        var suppressSortOrder = this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder();\n        var orderMap = suppressSortOrder ? null : {};\n        if (_.exists(data)) {\n            // split all the new data in the following:\n            // if new, push to 'add'\n            // if update, push to 'update'\n            // if not changed, do not include in the transaction\n            data.forEach(function (dataItem, index) {\n                var id = getRowNodeIdFunc(dataItem);\n                var existingNode = existingNodesMap[id];\n                if (orderMap) {\n                    orderMap[id] = index;\n                }\n                if (existingNode) {\n                    var dataHasChanged = existingNode.data !== dataItem;\n                    if (dataHasChanged) {\n                        transaction.update.push(dataItem);\n                    }\n                    // otherwise, if data not changed, we just don't include it anywhere, as it's not a delta\n                    // remove from list, so we know the item is not to be removed\n                    existingNodesMap[id] = undefined;\n                }\n                else {\n                    transaction.add.push(dataItem);\n                }\n            });\n        }\n        // at this point, all rows that are left, should be removed\n        _.iterateObject(existingNodesMap, function (id, rowNode) {\n            if (rowNode) {\n                transaction.remove.push(rowNode.data);\n            }\n        });\n        return [transaction, orderMap];\n    };\n    __decorate$1Y([\n        Autowired('rowModel')\n    ], ImmutableService.prototype, \"rowModel\", void 0);\n    __decorate$1Y([\n        Autowired('gridOptionsWrapper')\n    ], ImmutableService.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1Y([\n        PostConstruct\n    ], ImmutableService.prototype, \"postConstruct\", null);\n    ImmutableService = __decorate$1Y([\n        Bean('immutableService')\n    ], ImmutableService);\n    return ImmutableService;\n}());\n\nvar ClientSideRowModelModule = {\n    moduleName: exports.ModuleNames.ClientSideRowModelModule,\n    beans: [FilterStage, SortStage, FlattenStage, SortService, FilterService, ImmutableService],\n    rowModels: { clientSide: ClientSideRowModel }\n};\n\nvar __extends$1g = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1Z = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar InfiniteBlock = /** @class */ (function (_super) {\n    __extends$1g(InfiniteBlock, _super);\n    function InfiniteBlock(pageNumber, params) {\n        var _this = _super.call(this, pageNumber, params) || this;\n        _this.cacheParams = params;\n        return _this;\n    }\n    InfiniteBlock.prototype.getDisplayIndexStart = function () {\n        return this.getBlockNumber() * this.cacheParams.blockSize;\n    };\n    // this is an estimate, as the last block will probably only be partially full. however\n    // this method is used to know if this block is been rendered, before destroying, so\n    // and this estimate works in that use case.\n    InfiniteBlock.prototype.getDisplayIndexEnd = function () {\n        return this.getDisplayIndexStart() + this.cacheParams.blockSize;\n    };\n    InfiniteBlock.prototype.createBlankRowNode = function (rowIndex) {\n        var rowNode = _super.prototype.createBlankRowNode.call(this, rowIndex);\n        rowNode.uiLevel = 0;\n        this.setIndexAndTopOnRowNode(rowNode, rowIndex);\n        return rowNode;\n    };\n    InfiniteBlock.prototype.setDataAndId = function (rowNode, data, index) {\n        if (_.exists(data)) {\n            // this means if the user is not providing id's we just use the\n            // index for the row. this will allow selection to work (that is based\n            // on index) as long user is not inserting or deleting rows,\n            // or wanting to keep selection between server side sorting or filtering\n            rowNode.setDataAndId(data, index.toString());\n        }\n        else {\n            rowNode.setDataAndId(undefined, undefined);\n        }\n    };\n    InfiniteBlock.prototype.setRowNode = function (rowIndex, rowNode) {\n        _super.prototype.setRowNode.call(this, rowIndex, rowNode);\n        this.setIndexAndTopOnRowNode(rowNode, rowIndex);\n    };\n    InfiniteBlock.prototype.init = function () {\n        _super.prototype.init.call(this, {\n            context: this.getContext(),\n            rowRenderer: this.rowRenderer\n        });\n    };\n    InfiniteBlock.prototype.getNodeIdPrefix = function () {\n        return null;\n    };\n    InfiniteBlock.prototype.getRow = function (displayIndex) {\n        return this.getRowUsingLocalIndex(displayIndex);\n    };\n    InfiniteBlock.prototype.setIndexAndTopOnRowNode = function (rowNode, rowIndex) {\n        rowNode.setRowIndex(rowIndex);\n        rowNode.rowTop = this.cacheParams.rowHeight * rowIndex;\n    };\n    InfiniteBlock.prototype.loadFromDatasource = function () {\n        var _this = this;\n        // PROBLEM . . . . when the user sets sort via colDef.sort, then this code\n        // is executing before the sort is set up, so server is not getting the sort\n        // model. need to change with regards order - so the server side request is\n        // AFTER thus it gets the right sort model.\n        var params = {\n            startRow: this.getStartRow(),\n            endRow: this.getEndRow(),\n            successCallback: this.pageLoaded.bind(this, this.getVersion()),\n            failCallback: this.pageLoadFailed.bind(this),\n            sortModel: this.cacheParams.sortModel,\n            filterModel: this.cacheParams.filterModel,\n            context: this.gridOptionsWrapper.getContext()\n        };\n        if (_.missing(this.cacheParams.datasource.getRows)) {\n            console.warn(\"ag-Grid: datasource is missing getRows method\");\n            return;\n        }\n        // put in timeout, to force result to be async\n        window.setTimeout(function () {\n            _this.cacheParams.datasource.getRows(params);\n        }, 0);\n    };\n    __decorate$1Z([\n        Autowired('gridOptionsWrapper')\n    ], InfiniteBlock.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1Z([\n        Autowired('rowRenderer')\n    ], InfiniteBlock.prototype, \"rowRenderer\", void 0);\n    __decorate$1Z([\n        PostConstruct\n    ], InfiniteBlock.prototype, \"init\", null);\n    return InfiniteBlock;\n}(RowNodeBlock));\n\nvar __extends$1h = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1_ = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param$a = (undefined && undefined.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar InfiniteCache = /** @class */ (function (_super) {\n    __extends$1h(InfiniteCache, _super);\n    function InfiniteCache(params) {\n        return _super.call(this, params) || this;\n    }\n    InfiniteCache.prototype.setBeans = function (loggerFactory) {\n        this.logger = loggerFactory.create('InfiniteCache');\n    };\n    InfiniteCache.prototype.moveItemsDown = function (block, moveFromIndex, moveCount) {\n        var startRow = block.getStartRow();\n        var endRow = block.getEndRow();\n        var indexOfLastRowToMove = moveFromIndex + moveCount;\n        // all rows need to be moved down below the insertion index\n        for (var currentRowIndex = endRow - 1; currentRowIndex >= startRow; currentRowIndex--) {\n            // don't move rows at or before the insertion index\n            if (currentRowIndex < indexOfLastRowToMove) {\n                continue;\n            }\n            var indexOfNodeWeWant = currentRowIndex - moveCount;\n            var nodeForThisIndex = this.getRow(indexOfNodeWeWant, true);\n            if (nodeForThisIndex) {\n                block.setRowNode(currentRowIndex, nodeForThisIndex);\n            }\n            else {\n                block.setBlankRowNode(currentRowIndex);\n                block.setDirty();\n            }\n        }\n    };\n    InfiniteCache.prototype.insertItems = function (block, indexToInsert, items) {\n        var pageStartRow = block.getStartRow();\n        var pageEndRow = block.getEndRow();\n        var newRowNodes = [];\n        // next stage is insert the rows into this page, if applicable\n        for (var index = 0; index < items.length; index++) {\n            var rowIndex = indexToInsert + index;\n            var currentRowInThisPage = rowIndex >= pageStartRow && rowIndex < pageEndRow;\n            if (currentRowInThisPage) {\n                var dataItem = items[index];\n                var newRowNode = block.setNewData(rowIndex, dataItem);\n                newRowNodes.push(newRowNode);\n            }\n        }\n        return newRowNodes;\n    };\n    InfiniteCache.prototype.insertItemsAtIndex = function (indexToInsert, items) {\n        // get all page id's as NUMBERS (not strings, as we need to sort as numbers) and in descending order\n        var _this = this;\n        var newNodes = [];\n        this.forEachBlockInReverseOrder(function (block) {\n            var pageEndRow = block.getEndRow();\n            // if the insertion is after this page, then this page is not impacted\n            if (pageEndRow <= indexToInsert) {\n                return;\n            }\n            _this.moveItemsDown(block, indexToInsert, items.length);\n            var newNodesThisPage = _this.insertItems(block, indexToInsert, items);\n            newNodesThisPage.forEach(function (rowNode) { return newNodes.push(rowNode); });\n        });\n        if (this.isMaxRowFound()) {\n            this.hack_setVirtualRowCount(this.getVirtualRowCount() + items.length);\n        }\n        this.onCacheUpdated();\n        var event = {\n            type: Events.EVENT_ROW_DATA_UPDATED,\n            api: this.gridApi,\n            columnApi: this.columnApi\n        };\n        this.eventService.dispatchEvent(event);\n    };\n    // the rowRenderer will not pass dontCreatePage, meaning when rendering the grid,\n    // it will want new pages in the cache as it asks for rows. only when we are inserting /\n    // removing rows via the api is dontCreatePage set, where we move rows between the pages.\n    InfiniteCache.prototype.getRow = function (rowIndex, dontCreatePage) {\n        if (dontCreatePage === void 0) { dontCreatePage = false; }\n        var blockId = Math.floor(rowIndex / this.cacheParams.blockSize);\n        var block = this.getBlock(blockId);\n        if (!block) {\n            if (dontCreatePage) {\n                return null;\n            }\n            else {\n                block = this.createBlock(blockId);\n            }\n        }\n        return block.getRow(rowIndex);\n    };\n    InfiniteCache.prototype.createBlock = function (blockNumber) {\n        var newBlock = new InfiniteBlock(blockNumber, this.cacheParams);\n        this.getContext().wireBean(newBlock);\n        this.postCreateBlock(newBlock);\n        return newBlock;\n    };\n    // we have this on infinite row model only, not server side row model,\n    // because for server side, it would leave the children in inconsistent\n    // state - eg if a node had children, but after the refresh it had data\n    // for a different row, then the children would be with the wrong row node.\n    InfiniteCache.prototype.refreshCache = function () {\n        this.forEachBlockInOrder(function (block) { return block.setDirty(); });\n        this.checkBlockToLoad();\n    };\n    __decorate$1_([\n        Autowired('columnApi')\n    ], InfiniteCache.prototype, \"columnApi\", void 0);\n    __decorate$1_([\n        Autowired('gridApi')\n    ], InfiniteCache.prototype, \"gridApi\", void 0);\n    __decorate$1_([\n        __param$a(0, Qualifier('loggerFactory'))\n    ], InfiniteCache.prototype, \"setBeans\", null);\n    return InfiniteCache;\n}(RowNodeCache));\n\nvar __extends$1i = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1$ = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar InfiniteRowModel = /** @class */ (function (_super) {\n    __extends$1i(InfiniteRowModel, _super);\n    function InfiniteRowModel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    InfiniteRowModel.prototype.getRowBounds = function (index) {\n        return {\n            rowHeight: this.rowHeight,\n            rowTop: this.rowHeight * index\n        };\n    };\n    // we don't implement as lazy row heights is not supported in this row model\n    InfiniteRowModel.prototype.ensureRowHeightsValid = function (startPixel, endPixel, startLimitIndex, endLimitIndex) {\n        return false;\n    };\n    InfiniteRowModel.prototype.init = function () {\n        var _this = this;\n        if (!this.gridOptionsWrapper.isRowModelInfinite()) {\n            return;\n        }\n        this.rowHeight = this.gridOptionsWrapper.getRowHeightAsNumber();\n        this.addEventListeners();\n        this.addDestroyFunc(function () { return _this.destroyCache(); });\n    };\n    InfiniteRowModel.prototype.start = function () {\n        this.setDatasource(this.gridOptionsWrapper.getDatasource());\n    };\n    InfiniteRowModel.prototype.destroyDatasource = function () {\n        if (this.datasource) {\n            if (this.datasource.destroy) {\n                this.datasource.destroy();\n            }\n            this.rowRenderer.datasourceChanged();\n            this.datasource = null;\n        }\n    };\n    InfiniteRowModel.prototype.isLastRowFound = function () {\n        return this.infiniteCache ? this.infiniteCache.isMaxRowFound() : false;\n    };\n    InfiniteRowModel.prototype.addEventListeners = function () {\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_FILTER_CHANGED, this.onFilterChanged.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_SORT_CHANGED, this.onSortChanged.bind(this));\n        this.addDestroyableEventListener(this.eventService, Events.EVENT_COLUMN_EVERYTHING_CHANGED, this.onColumnEverything.bind(this));\n    };\n    InfiniteRowModel.prototype.onFilterChanged = function () {\n        this.reset();\n    };\n    InfiniteRowModel.prototype.onSortChanged = function () {\n        this.reset();\n    };\n    InfiniteRowModel.prototype.onColumnEverything = function () {\n        var resetRequired;\n        // if cache params, we require reset only if sort model has changed. we don't need to check\n        // for filter model, as the filter manager will fire an event when columns change that result\n        // in the filter changing.\n        if (this.cacheParams) {\n            resetRequired = this.isSortModelDifferent();\n        }\n        else {\n            // if no cacheParams, means first time creating the cache, so always create one\n            resetRequired = true;\n        }\n        if (resetRequired) {\n            this.reset();\n        }\n    };\n    InfiniteRowModel.prototype.isSortModelDifferent = function () {\n        return !_.jsonEquals(this.cacheParams.sortModel, this.sortController.getSortModel());\n    };\n    InfiniteRowModel.prototype.getType = function () {\n        return Constants.ROW_MODEL_TYPE_INFINITE;\n    };\n    InfiniteRowModel.prototype.setDatasource = function (datasource) {\n        this.destroyDatasource();\n        this.datasource = datasource;\n        // only reset if we have a valid datasource to working with\n        if (datasource) {\n            this.checkForDeprecated();\n            this.reset();\n        }\n    };\n    InfiniteRowModel.prototype.checkForDeprecated = function () {\n        var ds = this.datasource;\n        // the number of concurrent loads we are allowed to the server\n        if (_.exists(ds.maxConcurrentRequests)) {\n            console.error('ag-Grid: since version 5.1.x, maxConcurrentRequests is replaced with grid property maxConcurrentDatasourceRequests');\n        }\n        if (_.exists(ds.maxPagesInCache)) {\n            console.error('ag-Grid: since version 5.1.x, maxPagesInCache is replaced with grid property maxPagesInPaginationCache');\n        }\n        if (_.exists(ds.overflowSize)) {\n            console.error('ag-Grid: since version 5.1.x, overflowSize is replaced with grid property paginationOverflowSize');\n        }\n        if (_.exists(ds.blockSize)) {\n            console.error('ag-Grid: since version 5.1.x, pageSize/blockSize is replaced with grid property infinitePageSize');\n        }\n    };\n    InfiniteRowModel.prototype.isEmpty = function () {\n        return _.missing(this.infiniteCache);\n    };\n    InfiniteRowModel.prototype.isRowsToRender = function () {\n        return _.exists(this.infiniteCache);\n    };\n    InfiniteRowModel.prototype.getNodesInRangeForSelection = function (firstInRange, lastInRange) {\n        return this.infiniteCache ? this.infiniteCache.getRowNodesInRange(firstInRange, lastInRange) : [];\n    };\n    InfiniteRowModel.prototype.reset = function () {\n        // important to return here, as the user could be setting filter or sort before\n        // data-source is set\n        if (_.missing(this.datasource)) {\n            return;\n        }\n        // if user is providing id's, then this means we can keep the selection between datasource hits,\n        // as the rows will keep their unique id's even if, for example, server side sorting or filtering\n        // is done.\n        var userGeneratingIds = _.exists(this.gridOptionsWrapper.getRowNodeIdFunc());\n        if (!userGeneratingIds) {\n            this.selectionController.reset();\n        }\n        this.resetCache();\n        var event = this.createModelUpdatedEvent();\n        this.eventService.dispatchEvent(event);\n    };\n    InfiniteRowModel.prototype.createModelUpdatedEvent = function () {\n        return {\n            type: Events.EVENT_MODEL_UPDATED,\n            api: this.gridApi,\n            columnApi: this.columnApi,\n            // not sure if these should all be false - noticed if after implementing,\n            // maybe they should be true?\n            newPage: false,\n            newData: false,\n            keepRenderedRows: false,\n            animate: false\n        };\n    };\n    InfiniteRowModel.prototype.resetCache = function () {\n        // if not first time creating a cache, need to destroy the old one\n        this.destroyCache();\n        var maxConcurrentRequests = this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();\n        var blockLoadDebounceMillis = this.gridOptionsWrapper.getBlockLoadDebounceMillis();\n        // there is a bi-directional dependency between the loader and the cache,\n        // so we create loader here, and then pass dependencies in setDependencies() method later\n        this.rowNodeBlockLoader = new RowNodeBlockLoader(maxConcurrentRequests, blockLoadDebounceMillis);\n        this.getContext().wireBean(this.rowNodeBlockLoader);\n        this.cacheParams = {\n            // the user provided datasource\n            datasource: this.datasource,\n            // sort and filter model\n            filterModel: this.filterManager.getFilterModel(),\n            sortModel: this.sortController.getSortModel(),\n            rowNodeBlockLoader: this.rowNodeBlockLoader,\n            // properties - this way we take a snapshot of them, so if user changes any, they will be\n            // used next time we create a new cache, which is generally after a filter or sort change,\n            // or a new datasource is set\n            maxConcurrentRequests: maxConcurrentRequests,\n            overflowSize: this.gridOptionsWrapper.getCacheOverflowSize(),\n            initialRowCount: this.gridOptionsWrapper.getInfiniteInitialRowCount(),\n            maxBlocksInCache: this.gridOptionsWrapper.getMaxBlocksInCache(),\n            blockSize: this.gridOptionsWrapper.getCacheBlockSize(),\n            rowHeight: this.gridOptionsWrapper.getRowHeightAsNumber(),\n            // the cache could create this, however it is also used by the pages, so handy to create it\n            // here as the settings are also passed to the pages\n            lastAccessedSequence: new NumberSequence()\n        };\n        // set defaults\n        if (!this.cacheParams.maxConcurrentRequests || !(this.cacheParams.maxConcurrentRequests >= 1)) {\n            this.cacheParams.maxConcurrentRequests = 2;\n        }\n        // page size needs to be 1 or greater. having it at 1 would be silly, as you would be hitting the\n        // server for one page at a time. so the default if not specified is 100.\n        if (!this.cacheParams.blockSize || !(this.cacheParams.blockSize >= 1)) {\n            this.cacheParams.blockSize = 100;\n        }\n        // if user doesn't give initial rows to display, we assume one\n        if (!(this.cacheParams.initialRowCount >= 1)) {\n            this.cacheParams.initialRowCount = 1;\n        }\n        // if user doesn't provide overflow, we use default overflow of 1, so user can scroll past\n        // the current page and request first row of next page\n        if (!(this.cacheParams.overflowSize >= 1)) {\n            this.cacheParams.overflowSize = 1;\n        }\n        this.infiniteCache = new InfiniteCache(this.cacheParams);\n        this.getContext().wireBean(this.infiniteCache);\n        this.infiniteCache.addEventListener(RowNodeCache.EVENT_CACHE_UPDATED, this.onCacheUpdated.bind(this));\n    };\n    InfiniteRowModel.prototype.destroyCache = function () {\n        if (this.infiniteCache) {\n            this.infiniteCache.destroy();\n            this.infiniteCache = null;\n        }\n        if (this.rowNodeBlockLoader) {\n            this.rowNodeBlockLoader.destroy();\n            this.rowNodeBlockLoader = null;\n        }\n    };\n    InfiniteRowModel.prototype.onCacheUpdated = function () {\n        var event = this.createModelUpdatedEvent();\n        this.eventService.dispatchEvent(event);\n    };\n    InfiniteRowModel.prototype.getRow = function (rowIndex) {\n        return this.infiniteCache ? this.infiniteCache.getRow(rowIndex) : null;\n    };\n    InfiniteRowModel.prototype.getRowNode = function (id) {\n        var result = null;\n        this.forEachNode(function (rowNode) {\n            if (rowNode.id === id) {\n                result = rowNode;\n            }\n        });\n        return result;\n    };\n    InfiniteRowModel.prototype.forEachNode = function (callback) {\n        if (this.infiniteCache) {\n            this.infiniteCache.forEachNodeDeep(callback, new NumberSequence());\n        }\n    };\n    InfiniteRowModel.prototype.getCurrentPageHeight = function () {\n        return this.getRowCount() * this.rowHeight;\n    };\n    InfiniteRowModel.prototype.getTopLevelRowCount = function () {\n        return this.getRowCount();\n    };\n    InfiniteRowModel.prototype.getTopLevelRowDisplayedIndex = function (topLevelIndex) {\n        return topLevelIndex;\n    };\n    InfiniteRowModel.prototype.getRowIndexAtPixel = function (pixel) {\n        if (this.rowHeight !== 0) { // avoid divide by zero error\n            var rowIndexForPixel = Math.floor(pixel / this.rowHeight);\n            var lastRowIndex = this.getRowCount() - 1;\n            if (rowIndexForPixel > lastRowIndex) {\n                return lastRowIndex;\n            }\n            else {\n                return rowIndexForPixel;\n            }\n        }\n        else {\n            return 0;\n        }\n    };\n    InfiniteRowModel.prototype.getRowCount = function () {\n        return this.infiniteCache ? this.infiniteCache.getVirtualRowCount() : 0;\n    };\n    InfiniteRowModel.prototype.updateRowData = function (transaction) {\n        if (_.exists(transaction.remove) || _.exists(transaction.update)) {\n            console.warn('ag-Grid: updateRowData for InfiniteRowModel does not support remove or update, only add');\n            return;\n        }\n        if (_.missing(transaction.addIndex)) {\n            console.warn('ag-Grid: updateRowData for InfiniteRowModel requires add and addIndex to be set');\n            return;\n        }\n        if (this.infiniteCache) {\n            this.infiniteCache.insertItemsAtIndex(transaction.addIndex, transaction.add);\n        }\n    };\n    InfiniteRowModel.prototype.isRowPresent = function (rowNode) {\n        return false;\n    };\n    InfiniteRowModel.prototype.refreshCache = function () {\n        if (this.infiniteCache) {\n            this.infiniteCache.refreshCache();\n        }\n    };\n    InfiniteRowModel.prototype.purgeCache = function () {\n        if (this.infiniteCache) {\n            this.infiniteCache.purgeCache();\n        }\n    };\n    InfiniteRowModel.prototype.getVirtualRowCount = function () {\n        if (this.infiniteCache) {\n            return this.infiniteCache.getVirtualRowCount();\n        }\n        else {\n            return null;\n        }\n    };\n    InfiniteRowModel.prototype.isMaxRowFound = function () {\n        if (this.infiniteCache) {\n            return this.infiniteCache.isMaxRowFound();\n        }\n    };\n    InfiniteRowModel.prototype.setVirtualRowCount = function (rowCount, maxRowFound) {\n        if (this.infiniteCache) {\n            this.infiniteCache.setVirtualRowCount(rowCount, maxRowFound);\n        }\n    };\n    InfiniteRowModel.prototype.getBlockState = function () {\n        if (this.rowNodeBlockLoader) {\n            return this.rowNodeBlockLoader.getBlockState();\n        }\n        else {\n            return null;\n        }\n    };\n    __decorate$1$([\n        Autowired('gridOptionsWrapper')\n    ], InfiniteRowModel.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$1$([\n        Autowired('filterManager')\n    ], InfiniteRowModel.prototype, \"filterManager\", void 0);\n    __decorate$1$([\n        Autowired('sortController')\n    ], InfiniteRowModel.prototype, \"sortController\", void 0);\n    __decorate$1$([\n        Autowired('selectionController')\n    ], InfiniteRowModel.prototype, \"selectionController\", void 0);\n    __decorate$1$([\n        Autowired('eventService')\n    ], InfiniteRowModel.prototype, \"eventService\", void 0);\n    __decorate$1$([\n        Autowired('gridApi')\n    ], InfiniteRowModel.prototype, \"gridApi\", void 0);\n    __decorate$1$([\n        Autowired('columnApi')\n    ], InfiniteRowModel.prototype, \"columnApi\", void 0);\n    __decorate$1$([\n        Autowired('rowRenderer')\n    ], InfiniteRowModel.prototype, \"rowRenderer\", void 0);\n    __decorate$1$([\n        PostConstruct\n    ], InfiniteRowModel.prototype, \"init\", null);\n    __decorate$1$([\n        PreDestroy\n    ], InfiniteRowModel.prototype, \"destroyDatasource\", null);\n    InfiniteRowModel = __decorate$1$([\n        Bean('rowModel')\n    ], InfiniteRowModel);\n    return InfiniteRowModel;\n}(BeanStub));\n\nvar InfiniteRowModelModule = {\n    moduleName: exports.ModuleNames.InfiniteRowModelModule,\n    rowModels: { 'infinite': InfiniteRowModel }\n};\n\nvar __decorate$20 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar BaseGridSerializingSession = /** @class */ (function () {\n    function BaseGridSerializingSession(config) {\n        var columnController = config.columnController, valueService = config.valueService, gridOptionsWrapper = config.gridOptionsWrapper, processCellCallback = config.processCellCallback, processHeaderCallback = config.processHeaderCallback, processGroupHeaderCallback = config.processGroupHeaderCallback, processRowGroupCallback = config.processRowGroupCallback;\n        this.columnController = columnController;\n        this.valueService = valueService;\n        this.gridOptionsWrapper = gridOptionsWrapper;\n        this.processCellCallback = processCellCallback;\n        this.processHeaderCallback = processHeaderCallback;\n        this.processGroupHeaderCallback = processGroupHeaderCallback;\n        this.processRowGroupCallback = processRowGroupCallback;\n    }\n    BaseGridSerializingSession.prototype.prepare = function (columnsToExport) {\n        this.firstGroupColumn = _.find(columnsToExport, function (col) { return !!col.getColDef().showRowGroup; });\n    };\n    BaseGridSerializingSession.prototype.extractHeaderValue = function (column) {\n        var value = this.getHeaderName(this.processHeaderCallback, column);\n        return value != null ? value : '';\n    };\n    BaseGridSerializingSession.prototype.extractRowCellValue = function (column, index, type, node) {\n        // we render the group summary text e.g. \"-> Parent -> Child\"...\n        var renderGroupSummaryCell = \n        // on group rows\n        node && node.group\n            && (\n            // in the first group column if groups appear in regular grid cells\n            column === this.firstGroupColumn\n                // or the first cell in the row, if we're doing full width rows\n                || (index === 0 && this.gridOptionsWrapper.isGroupUseEntireRow(this.columnController.isPivotMode())));\n        var valueForCell;\n        if (renderGroupSummaryCell) {\n            valueForCell = this.createValueForGroupNode(node);\n        }\n        else {\n            valueForCell = this.valueService.getValue(column, node);\n        }\n        var value = this.processCell(node, column, valueForCell, this.processCellCallback, type);\n        return value != null ? value : '';\n    };\n    BaseGridSerializingSession.prototype.getHeaderName = function (callback, column) {\n        if (callback) {\n            return callback({\n                column: column,\n                api: this.gridOptionsWrapper.getApi(),\n                columnApi: this.gridOptionsWrapper.getColumnApi(),\n                context: this.gridOptionsWrapper.getContext()\n            });\n        }\n        else {\n            return this.columnController.getDisplayNameForColumn(column, 'csv', true);\n        }\n    };\n    BaseGridSerializingSession.prototype.createValueForGroupNode = function (node) {\n        if (this.processRowGroupCallback) {\n            return this.processRowGroupCallback({\n                node: node,\n                api: this.gridOptionsWrapper.getApi(),\n                columnApi: this.gridOptionsWrapper.getColumnApi(),\n                context: this.gridOptionsWrapper.getContext(),\n            });\n        }\n        var keys = [node.key];\n        while (node.parent) {\n            node = node.parent;\n            keys.push(node.key);\n        }\n        return keys.reverse().join(' -> ');\n    };\n    BaseGridSerializingSession.prototype.processCell = function (rowNode, column, value, processCellCallback, type) {\n        if (processCellCallback) {\n            return processCellCallback({\n                column: column,\n                node: rowNode,\n                value: value,\n                api: this.gridOptionsWrapper.getApi(),\n                columnApi: this.gridOptionsWrapper.getColumnApi(),\n                context: this.gridOptionsWrapper.getContext(),\n                type: type\n            });\n        }\n        else {\n            return value;\n        }\n    };\n    return BaseGridSerializingSession;\n}());\nvar GridSerializer = /** @class */ (function () {\n    function GridSerializer() {\n    }\n    GridSerializer.prototype.serialize = function (gridSerializingSession, params) {\n        if (params === void 0) { params = {}; }\n        var rowSkipper = params.shouldRowBeSkipped || (function () { return false; });\n        var api = this.gridOptionsWrapper.getApi();\n        var columnApi = this.gridOptionsWrapper.getColumnApi();\n        var skipSingleChildrenGroup = this.gridOptionsWrapper.isGroupRemoveSingleChildren();\n        var skipLowestSingleChildrenGroup = this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren();\n        var context = this.gridOptionsWrapper.getContext();\n        // when in pivot mode, we always render cols on screen, never 'all columns'\n        var isPivotMode = this.columnController.isPivotMode();\n        var rowModelNormal = this.rowModel.getType() === Constants.ROW_MODEL_TYPE_CLIENT_SIDE;\n        var onlySelectedNonStandardModel = !rowModelNormal && params.onlySelected;\n        var columnsToExport = [];\n        if (_.existsAndNotEmpty(params.columnKeys)) {\n            columnsToExport = this.columnController.getGridColumns(params.columnKeys);\n        }\n        else if (params.allColumns && !isPivotMode) {\n            // add auto group column for tree data\n            columnsToExport = this.gridOptionsWrapper.isTreeData() ?\n                this.columnController.getGridColumns([Constants.GROUP_AUTO_COLUMN_ID]) : [];\n            columnsToExport = columnsToExport.concat(this.columnController.getAllPrimaryColumns() || []);\n        }\n        else {\n            columnsToExport = this.columnController.getAllDisplayedColumns();\n        }\n        if (params.customHeader) {\n            gridSerializingSession.addCustomContent(params.customHeader);\n        }\n        gridSerializingSession.prepare(columnsToExport);\n        // first pass, put in the header names of the cols\n        if (params.columnGroups) {\n            var groupInstanceIdCreator = new GroupInstanceIdCreator();\n            var displayedGroups = this.displayedGroupCreator.createDisplayedGroups(columnsToExport, this.columnController.getGridBalancedTree(), groupInstanceIdCreator, null);\n            this.recursivelyAddHeaderGroups(displayedGroups, gridSerializingSession, params.processGroupHeaderCallback);\n        }\n        if (!params.skipHeader) {\n            var gridRowIterator_1 = gridSerializingSession.onNewHeaderRow();\n            columnsToExport.forEach(function (column, index) {\n                gridRowIterator_1.onColumn(column, index, undefined);\n            });\n        }\n        this.pinnedRowModel.forEachPinnedTopRow(processRow);\n        if (isPivotMode) {\n            if (this.rowModel.forEachPivotNode) {\n                this.rowModel.forEachPivotNode(processRow);\n            }\n            else {\n                //Must be enterprise, so we can just loop through all the nodes\n                this.rowModel.forEachNode(processRow);\n            }\n        }\n        else {\n            // onlySelectedAllPages: user doing pagination and wants selected items from\n            // other pages, so cannot use the standard row model as it won't have rows from\n            // other pages.\n            // onlySelectedNonStandardModel: if user wants selected in non standard row model\n            // (eg viewport) then again rowmodel cannot be used, so need to use selected instead.\n            if (params.onlySelectedAllPages || onlySelectedNonStandardModel) {\n                var selectedNodes = this.selectionController.getSelectedNodes();\n                selectedNodes.forEach(function (node) {\n                    processRow(node);\n                });\n            }\n            else {\n                // here is everything else - including standard row model and selected. we don't use\n                // the selection model even when just using selected, so that the result is the order\n                // of the rows appearing on the screen.\n                if (rowModelNormal) {\n                    this.rowModel.forEachNodeAfterFilterAndSort(processRow);\n                }\n                else {\n                    this.rowModel.forEachNode(processRow);\n                }\n            }\n        }\n        this.pinnedRowModel.forEachPinnedBottomRow(processRow);\n        if (params.customFooter) {\n            gridSerializingSession.addCustomContent(params.customFooter);\n        }\n        function processRow(node) {\n            var shouldSkipLowestGroup = skipLowestSingleChildrenGroup && node.leafGroup;\n            var shouldSkipCurrentGroup = node.allChildrenCount === 1 && (skipSingleChildrenGroup || shouldSkipLowestGroup);\n            if (node.group && (params.skipGroups || shouldSkipCurrentGroup)) {\n                return;\n            }\n            if (params.skipFooters && node.footer) {\n                return;\n            }\n            if (params.onlySelected && !node.isSelected()) {\n                return;\n            }\n            if (params.skipPinnedTop && node.rowPinned === 'top') {\n                return;\n            }\n            if (params.skipPinnedBottom && node.rowPinned === 'bottom') {\n                return;\n            }\n            // if we are in pivotMode, then the grid will show the root node only\n            // if it's not a leaf group\n            var nodeIsRootNode = node.level === -1;\n            if (nodeIsRootNode && !node.leafGroup) {\n                return;\n            }\n            var shouldRowBeSkipped = rowSkipper({ node: node, api: api, context: context });\n            if (shouldRowBeSkipped) {\n                return;\n            }\n            var rowAccumulator = gridSerializingSession.onNewBodyRow();\n            columnsToExport.forEach(function (column, index) {\n                rowAccumulator.onColumn(column, index, node);\n            });\n            if (params.getCustomContentBelowRow) {\n                var content = params.getCustomContentBelowRow({ node: node, api: api, columnApi: columnApi, context: context });\n                if (content) {\n                    gridSerializingSession.addCustomContent(content);\n                }\n            }\n        }\n        return gridSerializingSession.parse();\n    };\n    GridSerializer.prototype.recursivelyAddHeaderGroups = function (displayedGroups, gridSerializingSession, processGroupHeaderCallback) {\n        var directChildrenHeaderGroups = [];\n        displayedGroups.forEach(function (columnGroupChild) {\n            var columnGroup = columnGroupChild;\n            if (!columnGroup.getChildren) {\n                return;\n            }\n            columnGroup.getChildren().forEach(function (it) { return directChildrenHeaderGroups.push(it); });\n        });\n        if (displayedGroups.length > 0 && displayedGroups[0] instanceof ColumnGroup) {\n            this.doAddHeaderHeader(gridSerializingSession, displayedGroups, processGroupHeaderCallback);\n        }\n        if (directChildrenHeaderGroups && directChildrenHeaderGroups.length > 0) {\n            this.recursivelyAddHeaderGroups(directChildrenHeaderGroups, gridSerializingSession, processGroupHeaderCallback);\n        }\n    };\n    GridSerializer.prototype.doAddHeaderHeader = function (gridSerializingSession, displayedGroups, processGroupHeaderCallback) {\n        var _this = this;\n        var gridRowIterator = gridSerializingSession.onNewHeaderGroupingRow();\n        var columnIndex = 0;\n        displayedGroups.forEach(function (columnGroupChild) {\n            var columnGroup = columnGroupChild;\n            var name;\n            if (processGroupHeaderCallback) {\n                name = processGroupHeaderCallback({\n                    columnGroup: columnGroup,\n                    api: _this.gridOptionsWrapper.getApi(),\n                    columnApi: _this.gridOptionsWrapper.getColumnApi(),\n                    context: _this.gridOptionsWrapper.getContext()\n                });\n            }\n            else {\n                name = _this.columnController.getDisplayNameForColumnGroup(columnGroup, 'header');\n            }\n            gridRowIterator.onColumn(name || '', columnIndex++, columnGroup.getLeafColumns().length - 1);\n        });\n    };\n    __decorate$20([\n        Autowired('displayedGroupCreator')\n    ], GridSerializer.prototype, \"displayedGroupCreator\", void 0);\n    __decorate$20([\n        Autowired('columnController')\n    ], GridSerializer.prototype, \"columnController\", void 0);\n    __decorate$20([\n        Autowired('rowModel')\n    ], GridSerializer.prototype, \"rowModel\", void 0);\n    __decorate$20([\n        Autowired('pinnedRowModel')\n    ], GridSerializer.prototype, \"pinnedRowModel\", void 0);\n    __decorate$20([\n        Autowired('selectionController')\n    ], GridSerializer.prototype, \"selectionController\", void 0);\n    __decorate$20([\n        Autowired('columnFactory')\n    ], GridSerializer.prototype, \"columnFactory\", void 0);\n    __decorate$20([\n        Autowired('gridOptionsWrapper')\n    ], GridSerializer.prototype, \"gridOptionsWrapper\", void 0);\n    GridSerializer = __decorate$20([\n        Bean(\"gridSerializer\")\n    ], GridSerializer);\n    return GridSerializer;\n}());\nvar RowType;\n(function (RowType) {\n    RowType[RowType[\"HEADER_GROUPING\"] = 0] = \"HEADER_GROUPING\";\n    RowType[RowType[\"HEADER\"] = 1] = \"HEADER\";\n    RowType[RowType[\"BODY\"] = 2] = \"BODY\";\n})(RowType || (RowType = {}));\n\nvar __extends$1j = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$21 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar LINE_SEPARATOR = '\\r\\n';\nvar CsvSerializingSession = /** @class */ (function (_super) {\n    __extends$1j(CsvSerializingSession, _super);\n    function CsvSerializingSession(config) {\n        var _this = _super.call(this, config) || this;\n        _this.isFirstLine = true;\n        _this.result = '';\n        var suppressQuotes = config.suppressQuotes, columnSeparator = config.columnSeparator;\n        _this.suppressQuotes = suppressQuotes;\n        _this.columnSeparator = columnSeparator;\n        return _this;\n    }\n    CsvSerializingSession.prototype.addCustomContent = function (content) {\n        var _this = this;\n        if (!content) {\n            return;\n        }\n        if (typeof content === 'string') {\n            // we used to require the customFooter to be prefixed with a newline but no longer do,\n            // so only add the newline if the user has not supplied one\n            if (!/^\\s*\\n/.test(content)) {\n                this.beginNewLine();\n            }\n            // replace whatever newlines are supplied with the style we're using\n            content = content.replace(/\\r?\\n/g, LINE_SEPARATOR);\n            this.result += content;\n        }\n        else {\n            content.forEach(function (row) {\n                _this.beginNewLine();\n                row.forEach(function (cell, index) {\n                    if (index !== 0) {\n                        _this.result += _this.columnSeparator;\n                    }\n                    _this.result += _this.putInQuotes(cell.data.value || '');\n                    if (cell.mergeAcross) {\n                        _this.appendEmptyCells(cell.mergeAcross);\n                    }\n                });\n            });\n        }\n    };\n    CsvSerializingSession.prototype.onNewHeaderGroupingRow = function () {\n        this.beginNewLine();\n        return {\n            onColumn: this.onNewHeaderGroupingRowColumn.bind(this)\n        };\n    };\n    CsvSerializingSession.prototype.onNewHeaderGroupingRowColumn = function (header, index, span) {\n        if (index != 0) {\n            this.result += this.columnSeparator;\n        }\n        this.result += this.putInQuotes(header);\n        this.appendEmptyCells(span);\n    };\n    CsvSerializingSession.prototype.appendEmptyCells = function (count) {\n        for (var i = 1; i <= count; i++) {\n            this.result += this.columnSeparator + this.putInQuotes(\"\");\n        }\n    };\n    CsvSerializingSession.prototype.onNewHeaderRow = function () {\n        this.beginNewLine();\n        return {\n            onColumn: this.onNewHeaderRowColumn.bind(this)\n        };\n    };\n    CsvSerializingSession.prototype.onNewHeaderRowColumn = function (column, index, node) {\n        if (index != 0) {\n            this.result += this.columnSeparator;\n        }\n        this.result += this.putInQuotes(this.extractHeaderValue(column));\n    };\n    CsvSerializingSession.prototype.onNewBodyRow = function () {\n        this.beginNewLine();\n        return {\n            onColumn: this.onNewBodyRowColumn.bind(this)\n        };\n    };\n    CsvSerializingSession.prototype.onNewBodyRowColumn = function (column, index, node) {\n        if (index != 0) {\n            this.result += this.columnSeparator;\n        }\n        this.result += this.putInQuotes(this.extractRowCellValue(column, index, Constants.EXPORT_TYPE_CSV, node));\n    };\n    CsvSerializingSession.prototype.putInQuotes = function (value) {\n        if (this.suppressQuotes) {\n            return value;\n        }\n        if (value === null || value === undefined) {\n            return '\"\"';\n        }\n        var stringValue;\n        if (typeof value === 'string') {\n            stringValue = value;\n        }\n        else if (typeof value.toString === 'function') {\n            stringValue = value.toString();\n        }\n        else {\n            console.warn('unknown value type during csv conversion');\n            stringValue = '';\n        }\n        // replace each \" with \"\" (ie two sets of double quotes is how to do double quotes in csv)\n        var valueEscaped = stringValue.replace(/\"/g, \"\\\"\\\"\");\n        return '\"' + valueEscaped + '\"';\n    };\n    CsvSerializingSession.prototype.parse = function () {\n        return this.result;\n    };\n    CsvSerializingSession.prototype.beginNewLine = function () {\n        if (!this.isFirstLine) {\n            this.result += LINE_SEPARATOR;\n        }\n        this.isFirstLine = false;\n    };\n    return CsvSerializingSession;\n}(BaseGridSerializingSession));\nvar BaseCreator = /** @class */ (function () {\n    function BaseCreator() {\n    }\n    BaseCreator.prototype.setBeans = function (beans) {\n        this.beans = beans;\n    };\n    BaseCreator.prototype.export = function (userParams) {\n        if (this.isExportSuppressed()) {\n            console.warn(\"ag-grid: Export cancelled. Export is not allowed as per your configuration.\");\n            return '';\n        }\n        var _a = this.getMergedParamsAndData(userParams), mergedParams = _a.mergedParams, data = _a.data;\n        var fileNamePresent = mergedParams && mergedParams.fileName && mergedParams.fileName.length !== 0;\n        var fileName = fileNamePresent ? mergedParams.fileName : this.getDefaultFileName();\n        if (fileName.indexOf(\".\") === -1) {\n            fileName = fileName + \".\" + this.getDefaultFileExtension();\n        }\n        this.beans.downloader.download(fileName, this.packageFile(data));\n        return data;\n    };\n    BaseCreator.prototype.getData = function (params) {\n        return this.getMergedParamsAndData(params).data;\n    };\n    BaseCreator.prototype.getMergedParamsAndData = function (userParams) {\n        var mergedParams = this.mergeDefaultParams(userParams);\n        var data = this.beans.gridSerializer.serialize(this.createSerializingSession(mergedParams), mergedParams);\n        return { mergedParams: mergedParams, data: data };\n    };\n    BaseCreator.prototype.mergeDefaultParams = function (userParams) {\n        var baseParams = this.beans.gridOptionsWrapper.getDefaultExportParams();\n        var params = {};\n        _.assign(params, baseParams);\n        _.assign(params, userParams);\n        return params;\n    };\n    BaseCreator.prototype.packageFile = function (data) {\n        return new Blob([\"\\ufeff\", data], {\n            type: window.navigator.msSaveOrOpenBlob ? this.getMimeType() : 'octet/stream'\n        });\n    };\n    return BaseCreator;\n}());\nvar CsvCreator = /** @class */ (function (_super) {\n    __extends$1j(CsvCreator, _super);\n    function CsvCreator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CsvCreator.prototype.postConstruct = function () {\n        this.setBeans({\n            downloader: this.downloader,\n            gridSerializer: this.gridSerializer,\n            gridOptionsWrapper: this.gridOptionsWrapper\n        });\n    };\n    CsvCreator.prototype.exportDataAsCsv = function (params) {\n        return this.export(params);\n    };\n    CsvCreator.prototype.getDataAsCsv = function (params) {\n        return this.getData(params);\n    };\n    CsvCreator.prototype.getMimeType = function () {\n        return 'text/csv;charset=utf-8;';\n    };\n    CsvCreator.prototype.getDefaultFileName = function () {\n        return 'export.csv';\n    };\n    CsvCreator.prototype.getDefaultFileExtension = function () {\n        return 'csv';\n    };\n    CsvCreator.prototype.createSerializingSession = function (params) {\n        var _a = this, columnController = _a.columnController, valueService = _a.valueService, gridOptionsWrapper = _a.gridOptionsWrapper;\n        var processCellCallback = params.processCellCallback, processHeaderCallback = params.processHeaderCallback, processGroupHeaderCallback = params.processGroupHeaderCallback, processRowGroupCallback = params.processRowGroupCallback, suppressQuotes = params.suppressQuotes, columnSeparator = params.columnSeparator;\n        return new CsvSerializingSession({\n            columnController: columnController,\n            valueService: valueService,\n            gridOptionsWrapper: gridOptionsWrapper,\n            processCellCallback: processCellCallback || undefined,\n            processHeaderCallback: processHeaderCallback || undefined,\n            processGroupHeaderCallback: processGroupHeaderCallback || undefined,\n            processRowGroupCallback: processRowGroupCallback || undefined,\n            suppressQuotes: suppressQuotes || false,\n            columnSeparator: columnSeparator || ','\n        });\n    };\n    CsvCreator.prototype.isExportSuppressed = function () {\n        return this.gridOptionsWrapper.isSuppressCsvExport();\n    };\n    __decorate$21([\n        Autowired('columnController')\n    ], CsvCreator.prototype, \"columnController\", void 0);\n    __decorate$21([\n        Autowired('valueService')\n    ], CsvCreator.prototype, \"valueService\", void 0);\n    __decorate$21([\n        Autowired('downloader')\n    ], CsvCreator.prototype, \"downloader\", void 0);\n    __decorate$21([\n        Autowired('gridSerializer')\n    ], CsvCreator.prototype, \"gridSerializer\", void 0);\n    __decorate$21([\n        Autowired('gridOptionsWrapper')\n    ], CsvCreator.prototype, \"gridOptionsWrapper\", void 0);\n    __decorate$21([\n        PostConstruct\n    ], CsvCreator.prototype, \"postConstruct\", null);\n    CsvCreator = __decorate$21([\n        Bean('csvCreator')\n    ], CsvCreator);\n    return CsvCreator;\n}(BaseCreator));\n\nvar __decorate$22 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar Downloader = /** @class */ (function () {\n    function Downloader() {\n    }\n    Downloader.prototype.download = function (fileName, content) {\n        // Internet Explorer\n        if (window.navigator.msSaveOrOpenBlob) {\n            window.navigator.msSaveOrOpenBlob(content, fileName);\n        }\n        else {\n            // Other Browsers\n            var element = document.createElement(\"a\");\n            var url_1 = window.URL.createObjectURL(content);\n            element.setAttribute(\"href\", url_1);\n            element.setAttribute(\"download\", fileName);\n            element.style.display = \"none\";\n            document.body.appendChild(element);\n            element.dispatchEvent(new MouseEvent('click', {\n                bubbles: false,\n                cancelable: true,\n                view: window\n            }));\n            document.body.removeChild(element);\n            window.setTimeout(function () {\n                window.URL.revokeObjectURL(url_1);\n            }, 0);\n        }\n    };\n    Downloader = __decorate$22([\n        Bean(\"downloader\")\n    ], Downloader);\n    return Downloader;\n}());\n\nvar __decorate$23 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar LINE_SEPARATOR$1 = '\\r\\n';\nvar XmlFactory = /** @class */ (function () {\n    function XmlFactory() {\n    }\n    XmlFactory.prototype.createHeader = function (headerElement) {\n        if (headerElement === void 0) { headerElement = {}; }\n        var headerStart = '<?';\n        var headerEnd = '?>';\n        var keys = ['version'];\n        if (!headerElement.version) {\n            headerElement.version = \"1.0\";\n        }\n        if (headerElement.encoding) {\n            keys.push('encoding');\n        }\n        if (headerElement.standalone) {\n            keys.push('standalone');\n        }\n        var att = keys.map(function (key) { return key + \"=\\\"\" + headerElement[key] + \"\\\"\"; }).join(' ');\n        return headerStart + \"xml \" + att + \" \" + headerEnd;\n    };\n    XmlFactory.prototype.createXml = function (xmlElement, booleanTransformer) {\n        var _this = this;\n        var props = '';\n        if (xmlElement.properties) {\n            if (xmlElement.properties.prefixedAttributes) {\n                xmlElement.properties.prefixedAttributes.forEach(function (prefixedSet) {\n                    Object.keys(prefixedSet.map).forEach(function (key) {\n                        props += _this.returnAttributeIfPopulated(prefixedSet.prefix + key, prefixedSet.map[key], booleanTransformer);\n                    });\n                });\n            }\n            if (xmlElement.properties.rawMap) {\n                Object.keys(xmlElement.properties.rawMap).forEach(function (key) {\n                    props += _this.returnAttributeIfPopulated(key, xmlElement.properties.rawMap[key], booleanTransformer);\n                });\n            }\n        }\n        var result = '<' + xmlElement.name + props;\n        if (!xmlElement.children && xmlElement.textNode == null) {\n            return result + '/>' + LINE_SEPARATOR$1;\n        }\n        if (xmlElement.textNode != null) {\n            return result + '>' + xmlElement.textNode + '</' + xmlElement.name + '>' + LINE_SEPARATOR$1;\n        }\n        result += '>' + LINE_SEPARATOR$1;\n        if (xmlElement.children) {\n            xmlElement.children.forEach(function (it) {\n                result += _this.createXml(it, booleanTransformer);\n            });\n        }\n        return result + '</' + xmlElement.name + '>' + LINE_SEPARATOR$1;\n    };\n    XmlFactory.prototype.returnAttributeIfPopulated = function (key, value, booleanTransformer) {\n        if (!value && value !== '' && value !== 0) {\n            return '';\n        }\n        var xmlValue = value;\n        if ((typeof (value) === 'boolean')) {\n            if (booleanTransformer) {\n                xmlValue = booleanTransformer(value);\n            }\n        }\n        return \" \" + key + \"=\\\"\" + xmlValue + \"\\\"\";\n    };\n    XmlFactory = __decorate$23([\n        Bean('xmlFactory')\n    ], XmlFactory);\n    return XmlFactory;\n}());\n\nvar __decorate$24 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// table for crc calculation\n// from: https://referencesource.microsoft.com/#System/sys/System/IO/compression/Crc32Helper.cs,3b31978c7d7f7246,references\nvar crcTable = [\n    0, 1996959894, -301047508, -1727442502, 124634137, 1886057615, -379345611, -1637575261, 249268274,\n    2044508324, -522852066, -1747789432, 162941995, 2125561021, -407360249, -1866523247, 498536548,\n    1789927666, -205950648, -2067906082, 450548861, 1843258603, -187386543, -2083289657, 325883990,\n    1684777152, -43845254, -1973040660, 335633487, 1661365465, -99664541, -1928851979, 997073096,\n    1281953886, -715111964, -1570279054, 1006888145, 1258607687, -770865667, -1526024853, 901097722,\n    1119000684, -608450090, -1396901568, 853044451, 1172266101, -589951537, -1412350631, 651767980,\n    1373503546, -925412992, -1076862698, 565507253, 1454621731, -809855591, -1195530993, 671266974,\n    1594198024, -972236366, -1324619484, 795835527, 1483230225, -1050600021, -1234817731, 1994146192,\n    31158534, -1731059524, -271249366, 1907459465, 112637215, -1614814043, -390540237, 2013776290,\n    251722036, -1777751922, -519137256, 2137656763, 141376813, -1855689577, -429695999, 1802195444,\n    476864866, -2056965928, -228458418, 1812370925, 453092731, -2113342271, -183516073, 1706088902,\n    314042704, -1950435094, -54949764, 1658658271, 366619977, -1932296973, -69972891, 1303535960,\n    984961486, -1547960204, -725929758, 1256170817, 1037604311, -1529756563, -740887301, 1131014506,\n    879679996, -1385723834, -631195440, 1141124467, 855842277, -1442165665, -586318647, 1342533948,\n    654459306, -1106571248, -921952122, 1466479909, 544179635, -1184443383, -832445281, 1591671054,\n    702138776, -1328506846, -942167884, 1504918807, 783551873, -1212326853, -1061524307, -306674912,\n    -1698712650, 62317068, 1957810842, -355121351, -1647151185, 81470997, 1943803523, -480048366,\n    -1805370492, 225274430, 2053790376, -468791541, -1828061283, 167816743, 2097651377, -267414716,\n    -2029476910, 503444072, 1762050814, -144550051, -2140837941, 426522225, 1852507879, -19653770,\n    -1982649376, 282753626, 1742555852, -105259153, -1900089351, 397917763, 1622183637, -690576408,\n    -1580100738, 953729732, 1340076626, -776247311, -1497606297, 1068828381, 1219638859, -670225446,\n    -1358292148, 906185462, 1090812512, -547295293, -1469587627, 829329135, 1181335161, -882789492,\n    -1134132454, 628085408, 1382605366, -871598187, -1156888829, 570562233, 1426400815, -977650754,\n    -1296233688, 733239954, 1555261956, -1026031705, -1244606671, 752459403, 1541320221, -1687895376,\n    -328994266, 1969922972, 40735498, -1677130071, -351390145, 1913087877, 83908371, -1782625662,\n    -491226604, 2075208622, 213261112, -1831694693, -438977011, 2094854071, 198958881, -2032938284,\n    -237706686, 1759359992, 534414190, -2118248755, -155638181, 1873836001, 414664567, -2012718362,\n    -15766928, 1711684554, 285281116, -1889165569, -127750551, 1634467795, 376229701, -1609899400,\n    -686959890, 1308918612, 956543938, -1486412191, -799009033, 1231636301, 1047427035, -1362007478,\n    -640263460, 1088359270, 936918000, -1447252397, -558129467, 1202900863, 817233897, -1111625188,\n    -893730166, 1404277552, 615818150, -1160759803, -841546093, 1423857449, 601450431, -1285129682,\n    -1000256840, 1567103746, 711928724, -1274298825, -1022587231, 1510334235, 755167117\n];\nvar ZipContainer = /** @class */ (function () {\n    function ZipContainer() {\n        var _this = this;\n        this.folders = [];\n        this.files = [];\n        this.addFolder = function (path) {\n            _this.folders.push({\n                path: path,\n                created: new Date()\n            });\n        };\n    }\n    ZipContainer.prototype.addFolders = function (paths) {\n        paths.forEach(this.addFolder);\n    };\n    ZipContainer.prototype.addFile = function (path, content) {\n        this.files.push({\n            path: path,\n            created: new Date(),\n            content: content\n        });\n    };\n    ZipContainer.prototype.clearStream = function () {\n        this.folders = [];\n        this.files = [];\n    };\n    ZipContainer.prototype.getContent = function (mimeType) {\n        if (mimeType === void 0) { mimeType = 'application/zip'; }\n        var textOutput = this.buildFileStream();\n        var uInt8Output = this.buildUint8Array(textOutput);\n        this.clearStream();\n        return new Blob([uInt8Output], { type: mimeType });\n    };\n    ZipContainer.prototype.buildFileStream = function (fData) {\n        if (fData === void 0) { fData = ''; }\n        var totalFiles = this.folders.concat(this.files);\n        var len = totalFiles.length;\n        var foData = '';\n        var lL = 0;\n        var cL = 0;\n        for (var _i = 0, totalFiles_1 = totalFiles; _i < totalFiles_1.length; _i++) {\n            var currentFile = totalFiles_1[_i];\n            var _a = this.getHeader(currentFile, lL), fileHeader = _a.fileHeader, folderHeader = _a.folderHeader, content = _a.content;\n            lL += fileHeader.length + content.length;\n            cL += folderHeader.length;\n            fData += fileHeader + content;\n            foData += folderHeader;\n        }\n        var foEnd = this.buildFolderEnd(len, cL, lL);\n        return fData + foData + foEnd;\n    };\n    ZipContainer.prototype.getHeader = function (currentFile, offset) {\n        var content = currentFile.content, path = currentFile.path, created = currentFile.created;\n        var utf8_encode = _.utf8_encode, decToHex = _.decToHex;\n        var utfPath = utf8_encode(path);\n        var isUTF8 = utfPath !== path;\n        var time = this.convertTime(created);\n        var dt = this.convertDate(created);\n        var extraFields = '';\n        if (isUTF8) {\n            var uExtraFieldPath = decToHex(1, 1) + decToHex(this.getFromCrc32Table(utfPath), 4) + utfPath;\n            extraFields = \"\\x75\\x70\" + decToHex(uExtraFieldPath.length, 2) + uExtraFieldPath;\n        }\n        var header = '\\x0A\\x00' +\n            (isUTF8 ? '\\x00\\x08' : '\\x00\\x00') +\n            '\\x00\\x00' +\n            decToHex(time, 2) + // last modified time\n            decToHex(dt, 2) + // last modified date\n            decToHex(content ? this.getFromCrc32Table(content) : 0, 4) +\n            decToHex(content ? content.length : 0, 4) + // compressed size\n            decToHex(content ? content.length : 0, 4) + // uncompressed size\n            decToHex(utfPath.length, 2) + // file name length\n            decToHex(extraFields.length, 2); // extra field length\n        var fileHeader = 'PK\\x03\\x04' + header + utfPath + extraFields;\n        var folderHeader = 'PK\\x01\\x02' + // central header\n            '\\x14\\x00' +\n            header + // file header\n            '\\x00\\x00' +\n            '\\x00\\x00' +\n            '\\x00\\x00' +\n            (content ? '\\x00\\x00\\x00\\x00' : '\\x10\\x00\\x00\\x00') + // external file attributes\n            decToHex(offset, 4) + // relative offset of local header\n            utfPath + // file name\n            extraFields; // extra field\n        return { fileHeader: fileHeader, folderHeader: folderHeader, content: content || '' };\n    };\n    ZipContainer.prototype.buildFolderEnd = function (tLen, cLen, lLen) {\n        var decToHex = _.decToHex;\n        return 'PK\\x05\\x06' + // central folder end\n            '\\x00\\x00' +\n            '\\x00\\x00' +\n            decToHex(tLen, 2) + // total number of entries in the central folder\n            decToHex(tLen, 2) + // total number of entries in the central folder\n            decToHex(cLen, 4) + // size of the central folder\n            decToHex(lLen, 4) + // central folder start offset\n            '\\x00\\x00';\n    };\n    ZipContainer.prototype.buildUint8Array = function (content) {\n        var uint8 = new Uint8Array(content.length);\n        for (var i = 0; i < uint8.length; i++) {\n            uint8[i] = content.charCodeAt(i);\n        }\n        return uint8;\n    };\n    ZipContainer.prototype.getFromCrc32Table = function (content, crc) {\n        if (crc === void 0) { crc = 0; }\n        if (!content.length) {\n            return 0;\n        }\n        crc ^= (-1);\n        var j = 0;\n        var k = 0;\n        var l = 0;\n        for (var i = 0; i < content.length; i++) {\n            j = content.charCodeAt(i);\n            k = (crc ^ j) & 0xFF;\n            l = crcTable[k];\n            crc = (crc >>> 8) ^ l;\n        }\n        return crc ^ (-1);\n    };\n    ZipContainer.prototype.convertTime = function (date) {\n        var time = date.getHours();\n        time <<= 6;\n        time = time | date.getMinutes();\n        time <<= 5;\n        time = time | date.getSeconds() / 2;\n        return time;\n    };\n    ZipContainer.prototype.convertDate = function (date) {\n        var dt = date.getFullYear() - 1980;\n        dt <<= 4;\n        dt = dt | (date.getMonth() + 1);\n        dt <<= 5;\n        dt = dt | date.getDate();\n        return dt;\n    };\n    ZipContainer = __decorate$24([\n        Bean('zipContainer')\n    ], ZipContainer);\n    return ZipContainer;\n}());\n\nvar CsvExportModule = {\n    moduleName: exports.ModuleNames.CsvExportModule,\n    beans: [CsvCreator, Downloader, XmlFactory, GridSerializer, ZipContainer]\n};\n\nModuleRegistry.register(ClientSideRowModelModule, false);\r\nModuleRegistry.register(InfiniteRowModelModule, false);\r\nModuleRegistry.register(CsvExportModule, false);\n\nexports.AgAbstractField = AgAbstractField;\nexports.AgAngleSelect = AgAngleSelect;\nexports.AgCheckbox = AgCheckbox;\nexports.AgColorPicker = AgColorPicker;\nexports.AgDialog = AgDialog;\nexports.AgGroupComponent = AgGroupComponent;\nexports.AgInputNumberField = AgInputNumberField;\nexports.AgInputRange = AgInputRange;\nexports.AgInputTextArea = AgInputTextArea;\nexports.AgInputTextField = AgInputTextField;\nexports.AgPanel = AgPanel;\nexports.AgRadioButton = AgRadioButton;\nexports.AgSelect = AgSelect;\nexports.AgSlider = AgSlider;\nexports.AgToggleButton = AgToggleButton;\nexports.AlignedGridsService = AlignedGridsService;\nexports.AnimateShowChangeCellRenderer = AnimateShowChangeCellRenderer;\nexports.AnimateSlideCellRenderer = AnimateSlideCellRenderer;\nexports.AutoWidthCalculator = AutoWidthCalculator;\nexports.Autowired = Autowired;\nexports.BaseComponentWrapper = BaseComponentWrapper;\nexports.Bean = Bean;\nexports.BeanStub = BeanStub;\nexports.BodyDropPivotTarget = BodyDropPivotTarget;\nexports.BodyDropTarget = BodyDropTarget;\nexports.CellComp = CellComp;\nexports.CellNavigationService = CellNavigationService;\nexports.CellPositionUtils = CellPositionUtils;\nexports.CellRendererFactory = CellRendererFactory;\nexports.ChangedPath = ChangedPath;\nexports.CheckboxSelectionComponent = CheckboxSelectionComponent;\nexports.ColDefUtil = ColDefUtil;\nexports.Color = Color;\nexports.Column = Column;\nexports.ColumnApi = ColumnApi;\nexports.ColumnController = ColumnController;\nexports.ColumnFactory = ColumnFactory;\nexports.ColumnGroup = ColumnGroup;\nexports.ColumnKeyCreator = ColumnKeyCreator;\nexports.ColumnUtils = ColumnUtils;\nexports.Component = Component;\nexports.ComponentUtil = ComponentUtil;\nexports.Constants = Constants;\nexports.Context = Context;\nexports.CssClassApplier = CssClassApplier;\nexports.DateFilter = DateFilter;\nexports.DisplayedGroupCreator = DisplayedGroupCreator;\nexports.DragAndDropService = DragAndDropService;\nexports.DragService = DragService;\nexports.Environment = Environment;\nexports.EventService = EventService;\nexports.Events = Events;\nexports.ExpressionService = ExpressionService;\nexports.FilterManager = FilterManager;\nexports.FocusController = FocusController;\nexports.Grid = Grid;\nexports.GridApi = GridApi;\nexports.GridCore = GridCore;\nexports.GridOptionsWrapper = GridOptionsWrapper;\nexports.GridPanel = GridPanel;\nexports.GroupCellRenderer = GroupCellRenderer;\nexports.GroupInstanceIdCreator = GroupInstanceIdCreator;\nexports.HeaderContainer = HeaderContainer;\nexports.HeaderRootComp = HeaderRootComp;\nexports.HeaderRowComp = HeaderRowComp;\nexports.HorizontalResizeService = HorizontalResizeService;\nexports.LargeTextCellEditor = LargeTextCellEditor;\nexports.Listener = Listener;\nexports.Logger = Logger;\nexports.LoggerFactory = LoggerFactory;\nexports.ManagedTabComponent = ManagedTabComponent;\nexports.ModuleRegistry = ModuleRegistry;\nexports.MouseEventService = MouseEventService;\nexports.MoveColumnController = MoveColumnController;\nexports.NumberFilter = NumberFilter;\nexports.NumberSequence = NumberSequence;\nexports.Optional = Optional;\nexports.OriginalColumnGroup = OriginalColumnGroup;\nexports.PaginationProxy = PaginationProxy;\nexports.PinnedRowModel = PinnedRowModel;\nexports.PopupComponent = PopupComponent;\nexports.PopupEditorWrapper = PopupEditorWrapper;\nexports.PopupSelectCellEditor = PopupSelectCellEditor;\nexports.PopupService = PopupService;\nexports.PopupTextCellEditor = PopupTextCellEditor;\nexports.PostConstruct = PostConstruct;\nexports.PreConstruct = PreConstruct;\nexports.PreDestroy = PreDestroy;\nexports.Promise = Promise;\nexports.PropertyKeys = PropertyKeys;\nexports.ProvidedFilter = ProvidedFilter;\nexports.Qualifier = Qualifier;\nexports.QuerySelector = QuerySelector;\nexports.RefSelector = RefSelector;\nexports.ResizeObserverService = ResizeObserverService;\nexports.RowComp = RowComp;\nexports.RowNode = RowNode;\nexports.RowNodeBlock = RowNodeBlock;\nexports.RowNodeBlockLoader = RowNodeBlockLoader;\nexports.RowNodeCache = RowNodeCache;\nexports.RowPositionUtils = RowPositionUtils;\nexports.RowRenderer = RowRenderer;\nexports.ScalarFilter = ScalarFilter;\nexports.ScrollVisibleService = ScrollVisibleService;\nexports.SelectCellEditor = SelectCellEditor;\nexports.SelectableService = SelectableService;\nexports.SelectionController = SelectionController;\nexports.SetLeftFeature = SetLeftFeature;\nexports.SimpleFilter = SimpleFilter;\nexports.SortController = SortController;\nexports.StandardMenuFactory = StandardMenuFactory;\nexports.StylingService = StylingService;\nexports.TabbedLayout = TabbedLayout;\nexports.TemplateService = TemplateService;\nexports.TextCellEditor = TextCellEditor;\nexports.TextFilter = TextFilter;\nexports.Timer = Timer;\nexports.TooltipFeature = TooltipFeature;\nexports.TouchListener = TouchListener;\nexports.UserComponentFactory = UserComponentFactory;\nexports.UserComponentRegistry = UserComponentRegistry;\nexports.ValueCache = ValueCache;\nexports.ValueFormatterService = ValueFormatterService;\nexports.ValueService = ValueService;\nexports.VanillaFrameworkOverrides = VanillaFrameworkOverrides;\nexports.VirtualList = VirtualList;\nexports._ = _;\nexports.defaultGroupComparator = defaultGroupComparator;\nexports.initialiseAgGridWithAngular1 = initialiseAgGridWithAngular1;\nexports.initialiseAgGridWithWebComponents = initialiseAgGridWithWebComponents;\nexports.simpleHttpRequest = simpleHttpRequest;\nexports.stringToArray = stringToArray;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { AgGridModule } from 'ag-grid-angular';\r\n\r\nimport { CommonModule } from '@angular/common';\r\nimport { COMPONENTS } from './components';\r\nimport { MaterialModule } from '../material/material.module';\r\nimport { CONTAINERS } from './containers';\r\nimport { Route, RouterModule } from '@angular/router';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { GridDemoComponent } from './containers/grid-demo/grid-demo.component';\r\n\r\nconst route: Route[] = [\r\n  {\r\n    path: '',\r\n    component: GridDemoComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [...CONTAINERS, ...COMPONENTS],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    MaterialModule,\r\n    RouterModule.forChild(route),\r\n    AgGridModule.withComponents([]),\r\n  ],\r\n})\r\nexport class AgGridDemoModule {}\r\n","export const COMPONENTS = [];\r\n","import { Component } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-grid-demo',\r\n  template: `\r\n    <ag-grid-angular\r\n      fxLayout=\"column\"\r\n      fxFlex\r\n      class=\"ag-theme-material\"\r\n      [rowData]=\"rowData\"\r\n      [defaultColDef]=\"defaultColDef\"\r\n      [columnDefs]=\"columnDefs\"\r\n      [paginationAutoPageSize]=\"true\"\r\n      [pagination]=\"true\"\r\n      (gridReady)=\"onGridReady($event)\"\r\n    >\r\n    </ag-grid-angular>\r\n  `,\r\n  styleUrls: ['./grid-demo.component.scss'],\r\n})\r\nexport class GridDemoComponent {\r\n  defaultColDef = {\r\n    flex: 1,\r\n    minWidth: 100,\r\n    enableValue: true,\r\n    sortable: true,\r\n    filter: true,\r\n  };\r\n  columnDefs = [\r\n    { field: 'athlete' },\r\n    {\r\n      field: 'age',\r\n      maxWidth: 120,\r\n    },\r\n    { field: 'country' },\r\n    {\r\n      field: 'year',\r\n      maxWidth: 120,\r\n    },\r\n    { field: 'sport' },\r\n    { field: 'gold' },\r\n    { field: 'silver' },\r\n    { field: 'bronze' },\r\n    { field: 'total' },\r\n  ];\r\n\r\n  private gridApi;\r\n  private gridColumnApi;\r\n  rowData: any[];\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  onGridReady(params) {\r\n    this.gridApi = params.api;\r\n    this.gridColumnApi = params.columnApi;\r\n\r\n    this.http\r\n      .get(\r\n        'https://raw.githubusercontent.com/ag-grid/ag-grid/master/grid-packages/ag-grid-docs/src/olympicWinners.json'\r\n      )\r\n      .subscribe((data: any[]) => {\r\n        this.rowData = data;\r\n      });\r\n  }\r\n}\r\n","import { GridDemoComponent } from './grid-demo/grid-demo.component';\r\n\r\nexport const CONTAINERS = [GridDemoComponent];\r\n"]}